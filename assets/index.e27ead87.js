var lme=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var hSt=lme((cu,Dl)=>{function AQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const cme=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};cme();var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ume(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var M4={},y1={exports:{}},yu={},T={exports:{}},ji={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=Symbol.for("react.element"),fme=Symbol.for("react.portal"),dme=Symbol.for("react.fragment"),hme=Symbol.for("react.strict_mode"),pme=Symbol.for("react.profiler"),gme=Symbol.for("react.provider"),vme=Symbol.for("react.context"),mme=Symbol.for("react.forward_ref"),yme=Symbol.for("react.suspense"),bme=Symbol.for("react.memo"),xme=Symbol.for("react.lazy"),mG=Symbol.iterator;function wme(t){return t===null||typeof t!="object"?null:(t=mG&&t[mG]||t["@@iterator"],typeof t=="function"?t:null)}var DQ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NQ=Object.assign,RQ={};function g2(t,e,n){this.props=t,this.context=e,this.refs=RQ,this.updater=n||DQ}g2.prototype.isReactComponent={};g2.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};g2.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IQ(){}IQ.prototype=g2.prototype;function gF(t,e,n){this.props=t,this.context=e,this.refs=RQ,this.updater=n||DQ}var vF=gF.prototype=new IQ;vF.constructor=gF;NQ(vF,g2.prototype);vF.isPureReactComponent=!0;var yG=Array.isArray,$Q=Object.prototype.hasOwnProperty,mF={current:null},LQ={key:!0,ref:!0,__self:!0,__source:!0};function FQ(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)$Q.call(e,r)&&!LQ.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uE,type:t,key:o,ref:s,props:i,_owner:mF.current}}function Cme(t,e){return{$$typeof:uE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yF(t){return typeof t=="object"&&t!==null&&t.$$typeof===uE}function Sme(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bG=/\/+/g;function nR(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sme(""+t.key):e.toString(36)}function hO(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case uE:case fme:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+nR(s,0):r,yG(i)?(n="",t!=null&&(n=t.replace(bG,"$&/")+"/"),hO(i,e,n,"",function(c){return c})):i!=null&&(yF(i)&&(i=Cme(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(bG,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",yG(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+nR(o,a);s+=hO(o,e,n,l,i)}else if(l=wme(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+nR(o,a++),s+=hO(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function kT(t,e,n){if(t==null)return t;var r=[],i=0;return hO(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Eme(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rc={current:null},pO={transition:null},_me={ReactCurrentDispatcher:rc,ReactCurrentBatchConfig:pO,ReactCurrentOwner:mF};ji.Children={map:kT,forEach:function(t,e,n){kT(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kT(t,function(){e++}),e},toArray:function(t){return kT(t,function(e){return e})||[]},only:function(t){if(!yF(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ji.Component=g2;ji.Fragment=dme;ji.Profiler=pme;ji.PureComponent=gF;ji.StrictMode=hme;ji.Suspense=yme;ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_me;ji.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NQ({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=mF.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$Q.call(e,l)&&!LQ.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uE,type:t.type,key:i,ref:o,props:r,_owner:s}};ji.createContext=function(t){return t={$$typeof:vme,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gme,_context:t},t.Consumer=t};ji.createElement=FQ;ji.createFactory=function(t){var e=FQ.bind(null,t);return e.type=t,e};ji.createRef=function(){return{current:null}};ji.forwardRef=function(t){return{$$typeof:mme,render:t}};ji.isValidElement=yF;ji.lazy=function(t){return{$$typeof:xme,_payload:{_status:-1,_result:t},_init:Eme}};ji.memo=function(t,e){return{$$typeof:bme,type:t,compare:e===void 0?null:e}};ji.startTransition=function(t){var e=pO.transition;pO.transition={};try{t()}finally{pO.transition=e}};ji.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ji.useCallback=function(t,e){return rc.current.useCallback(t,e)};ji.useContext=function(t){return rc.current.useContext(t)};ji.useDebugValue=function(){};ji.useDeferredValue=function(t){return rc.current.useDeferredValue(t)};ji.useEffect=function(t,e){return rc.current.useEffect(t,e)};ji.useId=function(){return rc.current.useId()};ji.useImperativeHandle=function(t,e,n){return rc.current.useImperativeHandle(t,e,n)};ji.useInsertionEffect=function(t,e){return rc.current.useInsertionEffect(t,e)};ji.useLayoutEffect=function(t,e){return rc.current.useLayoutEffect(t,e)};ji.useMemo=function(t,e){return rc.current.useMemo(t,e)};ji.useReducer=function(t,e,n){return rc.current.useReducer(t,e,n)};ji.useRef=function(t){return rc.current.useRef(t)};ji.useState=function(t){return rc.current.useState(t)};ji.useSyncExternalStore=function(t,e,n){return rc.current.useSyncExternalStore(t,e,n)};ji.useTransition=function(){return rc.current.useTransition()};ji.version="18.2.0";(function(t){t.exports=ji})(T);const dt=kQ(T.exports),Tme=AQ({__proto__:null,default:dt},[T.exports]);var zQ={exports:{}},GQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ue){var ce=Y.length;Y.push(ue);e:for(;0<ce;){var se=ce-1>>>1,fe=Y[se];if(0<i(fe,ue))Y[se]=ue,Y[ce]=fe,ce=se;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ue=Y[0],ce=Y.pop();if(ce!==ue){Y[0]=ce;e:for(var se=0,fe=Y.length,me=fe>>>1;se<me;){var K=2*(se+1)-1,le=Y[K],Ne=K+1,Re=Y[Ne];if(0>i(le,ce))Ne<fe&&0>i(Re,le)?(Y[se]=Re,Y[Ne]=ce,se=Ne):(Y[se]=le,Y[K]=ce,se=K);else if(Ne<fe&&0>i(Re,ce))Y[se]=Re,Y[Ne]=ce,se=Ne;else break e}}return ue}function i(Y,ue){var ce=Y.sortIndex-ue.sortIndex;return ce!==0?ce:Y.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Y){for(var ue=n(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=Y)r(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=n(c)}}function E(Y){if(g=!1,C(Y),!p)if(n(l)!==null)p=!0,H(_);else{var ue=n(c);ue!==null&&te(E,ue.startTime-Y)}}function _(Y,ue){p=!1,g&&(g=!1,y(k),k=-1),h=!0;var ce=d;try{for(C(ue),f=n(l);f!==null&&(!(f.expirationTime>ue)||Y&&!N());){var se=f.callback;if(typeof se=="function"){f.callback=null,d=f.priorityLevel;var fe=se(f.expirationTime<=ue);ue=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),C(ue)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var K=n(c);K!==null&&te(E,K.startTime-ue),me=!1}return me}finally{f=null,d=ce,h=!1}}var w=!1,M=null,k=-1,I=5,A=-1;function N(){return!(t.unstable_now()-A<I)}function $(){if(M!==null){var Y=t.unstable_now();A=Y;var ue=!0;try{ue=M(!0,Y)}finally{ue?L():(w=!1,M=null)}}else w=!1}var L;if(typeof b=="function")L=function(){b($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=$,L=function(){j.postMessage(null)}}else L=function(){m($,0)};function H(Y){M=Y,w||(w=!0,L())}function te(Y,ue){k=m(function(){Y(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,H(_))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(d){case 1:case 2:case 3:var ue=3;break;default:ue=d}var ce=d;d=ue;try{return Y()}finally{d=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=d;d=Y;try{return ue()}finally{d=ce}},t.unstable_scheduleCallback=function(Y,ue,ce){var se=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?se+ce:se):ce=se,Y){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ce+fe,Y={id:u++,callback:ue,priorityLevel:Y,startTime:ce,expirationTime:fe,sortIndex:-1},ce>se?(Y.sortIndex=ce,e(c,Y),n(l)===null&&Y===n(c)&&(g?(y(k),k=-1):g=!0,te(E,ce-se))):(Y.sortIndex=fe,e(l,Y),p||h||(p=!0,H(_))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ue=d;return function(){var ce=d;d=ue;try{return Y.apply(this,arguments)}finally{d=ce}}}})(GQ);(function(t){t.exports=GQ})(zQ);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BQ=T.exports,hu=zQ.exports;function xn(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jQ=new Set,xC={};function U0(t,e){b1(t,e),b1(t+"Capture",e)}function b1(t,e){for(xC[t]=e,t=0;t<e.length;t++)jQ.add(e[t])}var $p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A4=Object.prototype.hasOwnProperty,Pme=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xG={},wG={};function Ome(t){return A4.call(wG,t)?!0:A4.call(xG,t)?!1:Pme.test(t)?wG[t]=!0:(xG[t]=!0,!1)}function Mme(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ame(t,e,n,r){if(e===null||typeof e>"u"||Mme(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ic(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vl[t]=new ic(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vl[e]=new ic(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vl[t]=new ic(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vl[t]=new ic(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vl[t]=new ic(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vl[t]=new ic(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vl[t]=new ic(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vl[t]=new ic(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vl[t]=new ic(t,5,!1,t.toLowerCase(),null,!1,!1)});var bF=/[\-:]([a-z])/g;function xF(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bF,xF);vl[e]=new ic(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bF,xF);vl[e]=new ic(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bF,xF);vl[e]=new ic(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vl[t]=new ic(t,1,!1,t.toLowerCase(),null,!1,!1)});vl.xlinkHref=new ic("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vl[t]=new ic(t,1,!1,t.toLowerCase(),null,!0,!0)});function wF(t,e,n,r){var i=vl.hasOwnProperty(e)?vl[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ame(e,n,i,r)&&(n=null),r||i===null?Ome(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yp=BQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,DT=Symbol.for("react.element"),Ib=Symbol.for("react.portal"),$b=Symbol.for("react.fragment"),CF=Symbol.for("react.strict_mode"),k4=Symbol.for("react.profiler"),VQ=Symbol.for("react.provider"),UQ=Symbol.for("react.context"),SF=Symbol.for("react.forward_ref"),D4=Symbol.for("react.suspense"),N4=Symbol.for("react.suspense_list"),EF=Symbol.for("react.memo"),Ug=Symbol.for("react.lazy"),HQ=Symbol.for("react.offscreen"),CG=Symbol.iterator;function wx(t){return t===null||typeof t!="object"?null:(t=CG&&t[CG]||t["@@iterator"],typeof t=="function"?t:null)}var js=Object.assign,rR;function pw(t){if(rR===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rR=e&&e[1]||""}return`
`+rR+t}var iR=!1;function oR(t,e){if(!t||iR)return"";iR=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{iR=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pw(t):""}function kme(t){switch(t.tag){case 5:return pw(t.type);case 16:return pw("Lazy");case 13:return pw("Suspense");case 19:return pw("SuspenseList");case 0:case 2:case 15:return t=oR(t.type,!1),t;case 11:return t=oR(t.type.render,!1),t;case 1:return t=oR(t.type,!0),t;default:return""}}function R4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $b:return"Fragment";case Ib:return"Portal";case k4:return"Profiler";case CF:return"StrictMode";case D4:return"Suspense";case N4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UQ:return(t.displayName||"Context")+".Consumer";case VQ:return(t._context.displayName||"Context")+".Provider";case SF:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case EF:return e=t.displayName||null,e!==null?e:R4(t.type)||"Memo";case Ug:e=t._payload,t=t._init;try{return R4(t(e))}catch{}}return null}function Dme(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R4(e);case 8:return e===CF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Av(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WQ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nme(t){var e=WQ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function NT(t){t._valueTracker||(t._valueTracker=Nme(t))}function YQ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WQ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tM(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function I4(t,e){var n=e.checked;return js({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function SG(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Av(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qQ(t,e){e=e.checked,e!=null&&wF(t,"checked",e,!1)}function $4(t,e){qQ(t,e);var n=Av(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?L4(t,e.type,n):e.hasOwnProperty("defaultValue")&&L4(t,e.type,Av(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function EG(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function L4(t,e,n){(e!=="number"||tM(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gw=Array.isArray;function r1(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Av(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function F4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xn(91));return js({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _G(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(xn(92));if(gw(n)){if(1<n.length)throw Error(xn(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Av(n)}}function XQ(t,e){var n=Av(e.value),r=Av(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TG(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KQ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KQ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var RT,ZQ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(RT=RT||document.createElement("div"),RT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=RT.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wC(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $w={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rme=["Webkit","ms","Moz","O"];Object.keys($w).forEach(function(t){Rme.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$w[e]=$w[t]})});function QQ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$w.hasOwnProperty(t)&&$w[t]?(""+e).trim():e+"px"}function JQ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QQ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ime=js({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G4(t,e){if(e){if(Ime[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xn(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xn(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xn(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xn(62))}}function B4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j4=null;function _F(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V4=null,i1=null,o1=null;function PG(t){if(t=hE(t)){if(typeof V4!="function")throw Error(xn(280));var e=t.stateNode;e&&(e=ok(e),V4(t.stateNode,t.type,e))}}function eJ(t){i1?o1?o1.push(t):o1=[t]:i1=t}function tJ(){if(i1){var t=i1,e=o1;if(o1=i1=null,PG(t),e)for(t=0;t<e.length;t++)PG(e[t])}}function nJ(t,e){return t(e)}function rJ(){}var sR=!1;function iJ(t,e,n){if(sR)return t(e,n);sR=!0;try{return nJ(t,e,n)}finally{sR=!1,(i1!==null||o1!==null)&&(rJ(),tJ())}}function CC(t,e){var n=t.stateNode;if(n===null)return null;var r=ok(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(xn(231,e,typeof n));return n}var U4=!1;if($p)try{var Cx={};Object.defineProperty(Cx,"passive",{get:function(){U4=!0}}),window.addEventListener("test",Cx,Cx),window.removeEventListener("test",Cx,Cx)}catch{U4=!1}function $me(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lw=!1,nM=null,rM=!1,H4=null,Lme={onError:function(t){Lw=!0,nM=t}};function Fme(t,e,n,r,i,o,s,a,l){Lw=!1,nM=null,$me.apply(Lme,arguments)}function zme(t,e,n,r,i,o,s,a,l){if(Fme.apply(this,arguments),Lw){if(Lw){var c=nM;Lw=!1,nM=null}else throw Error(xn(198));rM||(rM=!0,H4=c)}}function H0(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oJ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function OG(t){if(H0(t)!==t)throw Error(xn(188))}function Gme(t){var e=t.alternate;if(!e){if(e=H0(t),e===null)throw Error(xn(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return OG(i),t;if(o===r)return OG(i),e;o=o.sibling}throw Error(xn(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(xn(189))}}if(n.alternate!==r)throw Error(xn(190))}if(n.tag!==3)throw Error(xn(188));return n.stateNode.current===n?t:e}function sJ(t){return t=Gme(t),t!==null?aJ(t):null}function aJ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aJ(t);if(e!==null)return e;t=t.sibling}return null}var lJ=hu.unstable_scheduleCallback,MG=hu.unstable_cancelCallback,Bme=hu.unstable_shouldYield,jme=hu.unstable_requestPaint,sa=hu.unstable_now,Vme=hu.unstable_getCurrentPriorityLevel,TF=hu.unstable_ImmediatePriority,cJ=hu.unstable_UserBlockingPriority,iM=hu.unstable_NormalPriority,Ume=hu.unstable_LowPriority,uJ=hu.unstable_IdlePriority,tk=null,th=null;function Hme(t){if(th&&typeof th.onCommitFiberRoot=="function")try{th.onCommitFiberRoot(tk,t,void 0,(t.current.flags&128)===128)}catch{}}var Qf=Math.clz32?Math.clz32:qme,Wme=Math.log,Yme=Math.LN2;function qme(t){return t>>>=0,t===0?32:31-(Wme(t)/Yme|0)|0}var IT=64,$T=4194304;function vw(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oM(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vw(a):(o&=s,o!==0&&(r=vw(o)))}else s=n&~i,s!==0?r=vw(s):o!==0&&(r=vw(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qf(e),i=1<<n,r|=t[n],e&=~i;return r}function Xme(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kme(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Qf(o),a=1<<s,l=i[s];l===-1?((a&n)===0||(a&r)!==0)&&(i[s]=Xme(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function W4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fJ(){var t=IT;return IT<<=1,(IT&4194240)===0&&(IT=64),t}function aR(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fE(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qf(e),t[e]=n}function Zme(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qf(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function PF(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qf(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $o=0;function dJ(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var hJ,OF,pJ,gJ,vJ,Y4=!1,LT=[],bv=null,xv=null,wv=null,SC=new Map,EC=new Map,Zg=[],Qme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AG(t,e){switch(t){case"focusin":case"focusout":bv=null;break;case"dragenter":case"dragleave":xv=null;break;case"mouseover":case"mouseout":wv=null;break;case"pointerover":case"pointerout":SC.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":EC.delete(e.pointerId)}}function Sx(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hE(e),e!==null&&OF(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jme(t,e,n,r,i){switch(e){case"focusin":return bv=Sx(bv,t,e,n,r,i),!0;case"dragenter":return xv=Sx(xv,t,e,n,r,i),!0;case"mouseover":return wv=Sx(wv,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return SC.set(o,Sx(SC.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,EC.set(o,Sx(EC.get(o)||null,t,e,n,r,i)),!0}return!1}function mJ(t){var e=r0(t.target);if(e!==null){var n=H0(e);if(n!==null){if(e=n.tag,e===13){if(e=oJ(n),e!==null){t.blockedOn=e,vJ(t.priority,function(){pJ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gO(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=q4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);j4=r,n.target.dispatchEvent(r),j4=null}else return e=hE(n),e!==null&&OF(e),t.blockedOn=n,!1;e.shift()}return!0}function kG(t,e,n){gO(t)&&n.delete(e)}function e0e(){Y4=!1,bv!==null&&gO(bv)&&(bv=null),xv!==null&&gO(xv)&&(xv=null),wv!==null&&gO(wv)&&(wv=null),SC.forEach(kG),EC.forEach(kG)}function Ex(t,e){t.blockedOn===e&&(t.blockedOn=null,Y4||(Y4=!0,hu.unstable_scheduleCallback(hu.unstable_NormalPriority,e0e)))}function _C(t){function e(i){return Ex(i,t)}if(0<LT.length){Ex(LT[0],t);for(var n=1;n<LT.length;n++){var r=LT[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bv!==null&&Ex(bv,t),xv!==null&&Ex(xv,t),wv!==null&&Ex(wv,t),SC.forEach(e),EC.forEach(e),n=0;n<Zg.length;n++)r=Zg[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zg.length&&(n=Zg[0],n.blockedOn===null);)mJ(n),n.blockedOn===null&&Zg.shift()}var s1=Yp.ReactCurrentBatchConfig,sM=!0;function t0e(t,e,n,r){var i=$o,o=s1.transition;s1.transition=null;try{$o=1,MF(t,e,n,r)}finally{$o=i,s1.transition=o}}function n0e(t,e,n,r){var i=$o,o=s1.transition;s1.transition=null;try{$o=4,MF(t,e,n,r)}finally{$o=i,s1.transition=o}}function MF(t,e,n,r){if(sM){var i=q4(t,e,n,r);if(i===null)mR(t,e,r,aM,n),AG(t,r);else if(Jme(i,t,e,n,r))r.stopPropagation();else if(AG(t,r),e&4&&-1<Qme.indexOf(t)){for(;i!==null;){var o=hE(i);if(o!==null&&hJ(o),o=q4(t,e,n,r),o===null&&mR(t,e,r,aM,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else mR(t,e,r,null,n)}}var aM=null;function q4(t,e,n,r){if(aM=null,t=_F(r),t=r0(t),t!==null)if(e=H0(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oJ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aM=t,null}function yJ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vme()){case TF:return 1;case cJ:return 4;case iM:case Ume:return 16;case uJ:return 536870912;default:return 16}default:return 16}}var rv=null,AF=null,vO=null;function bJ(){if(vO)return vO;var t,e=AF,n=e.length,r,i="value"in rv?rv.value:rv.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return vO=i.slice(t,1<r?1-r:void 0)}function mO(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function FT(){return!0}function DG(){return!1}function bu(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?FT:DG,this.isPropagationStopped=DG,this}return js(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=FT)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=FT)},persist:function(){},isPersistent:FT}),e}var v2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kF=bu(v2),dE=js({},v2,{view:0,detail:0}),r0e=bu(dE),lR,cR,_x,nk=js({},dE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DF,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_x&&(_x&&t.type==="mousemove"?(lR=t.screenX-_x.screenX,cR=t.screenY-_x.screenY):cR=lR=0,_x=t),lR)},movementY:function(t){return"movementY"in t?t.movementY:cR}}),NG=bu(nk),i0e=js({},nk,{dataTransfer:0}),o0e=bu(i0e),s0e=js({},dE,{relatedTarget:0}),uR=bu(s0e),a0e=js({},v2,{animationName:0,elapsedTime:0,pseudoElement:0}),l0e=bu(a0e),c0e=js({},v2,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u0e=bu(c0e),f0e=js({},v2,{data:0}),RG=bu(f0e),d0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g0e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p0e[t])?!!e[t]:!1}function DF(){return g0e}var v0e=js({},dE,{key:function(t){if(t.key){var e=d0e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mO(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?h0e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DF,charCode:function(t){return t.type==="keypress"?mO(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mO(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m0e=bu(v0e),y0e=js({},nk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IG=bu(y0e),b0e=js({},dE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DF}),x0e=bu(b0e),w0e=js({},v2,{propertyName:0,elapsedTime:0,pseudoElement:0}),C0e=bu(w0e),S0e=js({},nk,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E0e=bu(S0e),_0e=[9,13,27,32],NF=$p&&"CompositionEvent"in window,Fw=null;$p&&"documentMode"in document&&(Fw=document.documentMode);var T0e=$p&&"TextEvent"in window&&!Fw,xJ=$p&&(!NF||Fw&&8<Fw&&11>=Fw),$G=String.fromCharCode(32),LG=!1;function wJ(t,e){switch(t){case"keyup":return _0e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CJ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lb=!1;function P0e(t,e){switch(t){case"compositionend":return CJ(e);case"keypress":return e.which!==32?null:(LG=!0,$G);case"textInput":return t=e.data,t===$G&&LG?null:t;default:return null}}function O0e(t,e){if(Lb)return t==="compositionend"||!NF&&wJ(t,e)?(t=bJ(),vO=AF=rv=null,Lb=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xJ&&e.locale!=="ko"?null:e.data;default:return null}}var M0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FG(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M0e[t.type]:e==="textarea"}function SJ(t,e,n,r){eJ(r),e=lM(e,"onChange"),0<e.length&&(n=new kF("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zw=null,TC=null;function A0e(t){RJ(t,0)}function rk(t){var e=Gb(t);if(YQ(e))return t}function k0e(t,e){if(t==="change")return e}var EJ=!1;if($p){var fR;if($p){var dR="oninput"in document;if(!dR){var zG=document.createElement("div");zG.setAttribute("oninput","return;"),dR=typeof zG.oninput=="function"}fR=dR}else fR=!1;EJ=fR&&(!document.documentMode||9<document.documentMode)}function GG(){zw&&(zw.detachEvent("onpropertychange",_J),TC=zw=null)}function _J(t){if(t.propertyName==="value"&&rk(TC)){var e=[];SJ(e,TC,t,_F(t)),iJ(A0e,e)}}function D0e(t,e,n){t==="focusin"?(GG(),zw=e,TC=n,zw.attachEvent("onpropertychange",_J)):t==="focusout"&&GG()}function N0e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rk(TC)}function R0e(t,e){if(t==="click")return rk(e)}function I0e(t,e){if(t==="input"||t==="change")return rk(e)}function $0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var td=typeof Object.is=="function"?Object.is:$0e;function PC(t,e){if(td(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!A4.call(e,i)||!td(t[i],e[i]))return!1}return!0}function BG(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jG(t,e){var n=BG(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BG(n)}}function TJ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TJ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PJ(){for(var t=window,e=tM();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tM(t.document)}return e}function RF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L0e(t){var e=PJ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TJ(n.ownerDocument.documentElement,n)){if(r!==null&&RF(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=jG(n,o);var s=jG(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F0e=$p&&"documentMode"in document&&11>=document.documentMode,Fb=null,X4=null,Gw=null,K4=!1;function VG(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;K4||Fb==null||Fb!==tM(r)||(r=Fb,"selectionStart"in r&&RF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gw&&PC(Gw,r)||(Gw=r,r=lM(X4,"onSelect"),0<r.length&&(e=new kF("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fb)))}function zT(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zb={animationend:zT("Animation","AnimationEnd"),animationiteration:zT("Animation","AnimationIteration"),animationstart:zT("Animation","AnimationStart"),transitionend:zT("Transition","TransitionEnd")},hR={},OJ={};$p&&(OJ=document.createElement("div").style,"AnimationEvent"in window||(delete zb.animationend.animation,delete zb.animationiteration.animation,delete zb.animationstart.animation),"TransitionEvent"in window||delete zb.transitionend.transition);function ik(t){if(hR[t])return hR[t];if(!zb[t])return t;var e=zb[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OJ)return hR[t]=e[n];return t}var MJ=ik("animationend"),AJ=ik("animationiteration"),kJ=ik("animationstart"),DJ=ik("transitionend"),NJ=new Map,UG="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yv(t,e){NJ.set(t,e),U0(e,[t])}for(var pR=0;pR<UG.length;pR++){var gR=UG[pR],z0e=gR.toLowerCase(),G0e=gR[0].toUpperCase()+gR.slice(1);Yv(z0e,"on"+G0e)}Yv(MJ,"onAnimationEnd");Yv(AJ,"onAnimationIteration");Yv(kJ,"onAnimationStart");Yv("dblclick","onDoubleClick");Yv("focusin","onFocus");Yv("focusout","onBlur");Yv(DJ,"onTransitionEnd");b1("onMouseEnter",["mouseout","mouseover"]);b1("onMouseLeave",["mouseout","mouseover"]);b1("onPointerEnter",["pointerout","pointerover"]);b1("onPointerLeave",["pointerout","pointerover"]);U0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));U0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));U0("onBeforeInput",["compositionend","keypress","textInput","paste"]);U0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));U0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));U0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(mw));function HG(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zme(r,e,void 0,t),t.currentTarget=null}function RJ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;HG(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;HG(i,a,c),o=l}}}if(rM)throw t=H4,rM=!1,H4=null,t}function as(t,e){var n=e[t6];n===void 0&&(n=e[t6]=new Set);var r=t+"__bubble";n.has(r)||(IJ(e,t,2,!1),n.add(r))}function vR(t,e,n){var r=0;e&&(r|=4),IJ(n,t,r,e)}var GT="_reactListening"+Math.random().toString(36).slice(2);function OC(t){if(!t[GT]){t[GT]=!0,jQ.forEach(function(n){n!=="selectionchange"&&(B0e.has(n)||vR(n,!1,t),vR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[GT]||(e[GT]=!0,vR("selectionchange",!1,e))}}function IJ(t,e,n,r){switch(yJ(e)){case 1:var i=t0e;break;case 4:i=n0e;break;default:i=MF}n=i.bind(null,e,n,t),i=void 0,!U4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mR(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=r0(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}iJ(function(){var c=o,u=_F(n),f=[];e:{var d=NJ.get(t);if(d!==void 0){var h=kF,p=t;switch(t){case"keypress":if(mO(n)===0)break e;case"keydown":case"keyup":h=m0e;break;case"focusin":p="focus",h=uR;break;case"focusout":p="blur",h=uR;break;case"beforeblur":case"afterblur":h=uR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=NG;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=o0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=x0e;break;case MJ:case AJ:case kJ:h=l0e;break;case DJ:h=C0e;break;case"scroll":h=r0e;break;case"wheel":h=E0e;break;case"copy":case"cut":case"paste":h=u0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=IG}var g=(e&4)!==0,m=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var b=c,C;b!==null;){C=b;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,y!==null&&(E=CC(b,y),E!=null&&g.push(MC(b,E,C)))),m)break;b=b.return}0<g.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:g}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==j4&&(p=n.relatedTarget||n.fromElement)&&(r0(p)||p[Lp]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?r0(p):null,p!==null&&(m=H0(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=NG,E="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=IG,E="onPointerLeave",y="onPointerEnter",b="pointer"),m=h==null?d:Gb(h),C=p==null?d:Gb(p),d=new g(E,b+"leave",h,n,u),d.target=m,d.relatedTarget=C,E=null,r0(u)===c&&(g=new g(y,b+"enter",p,n,u),g.target=C,g.relatedTarget=m,E=g),m=E,h&&p)t:{for(g=h,y=p,b=0,C=g;C;C=Wy(C))b++;for(C=0,E=y;E;E=Wy(E))C++;for(;0<b-C;)g=Wy(g),b--;for(;0<C-b;)y=Wy(y),C--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Wy(g),y=Wy(y)}g=null}else g=null;h!==null&&WG(f,d,h,g,!1),p!==null&&m!==null&&WG(f,m,p,g,!0)}}e:{if(d=c?Gb(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var _=k0e;else if(FG(d))if(EJ)_=I0e;else{_=N0e;var w=D0e}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=R0e);if(_&&(_=_(t,c))){SJ(f,_,n,u);break e}w&&w(t,d,c),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&L4(d,"number",d.value)}switch(w=c?Gb(c):window,t){case"focusin":(FG(w)||w.contentEditable==="true")&&(Fb=w,X4=c,Gw=null);break;case"focusout":Gw=X4=Fb=null;break;case"mousedown":K4=!0;break;case"contextmenu":case"mouseup":case"dragend":K4=!1,VG(f,n,u);break;case"selectionchange":if(F0e)break;case"keydown":case"keyup":VG(f,n,u)}var M;if(NF)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lb?wJ(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(xJ&&n.locale!=="ko"&&(Lb||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lb&&(M=bJ()):(rv=u,AF="value"in rv?rv.value:rv.textContent,Lb=!0)),w=lM(c,k),0<w.length&&(k=new RG(k,t,null,n,u),f.push({event:k,listeners:w}),M?k.data=M:(M=CJ(n),M!==null&&(k.data=M)))),(M=T0e?P0e(t,n):O0e(t,n))&&(c=lM(c,"onBeforeInput"),0<c.length&&(u=new RG("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=M))}RJ(f,e)})}function MC(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lM(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=CC(t,n),o!=null&&r.unshift(MC(t,o,i)),o=CC(t,e),o!=null&&r.push(MC(t,o,i))),t=t.return}return r}function Wy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WG(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=CC(n,o),l!=null&&s.unshift(MC(n,l,a))):i||(l=CC(n,o),l!=null&&s.push(MC(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var j0e=/\r\n?/g,V0e=/\u0000|\uFFFD/g;function YG(t){return(typeof t=="string"?t:""+t).replace(j0e,`
`).replace(V0e,"")}function BT(t,e,n){if(e=YG(e),YG(t)!==e&&n)throw Error(xn(425))}function cM(){}var Z4=null,Q4=null;function J4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e6=typeof setTimeout=="function"?setTimeout:void 0,U0e=typeof clearTimeout=="function"?clearTimeout:void 0,qG=typeof Promise=="function"?Promise:void 0,H0e=typeof queueMicrotask=="function"?queueMicrotask:typeof qG<"u"?function(t){return qG.resolve(null).then(t).catch(W0e)}:e6;function W0e(t){setTimeout(function(){throw t})}function yR(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_C(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_C(e)}function Cv(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XG(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var m2=Math.random().toString(36).slice(2),qd="__reactFiber$"+m2,AC="__reactProps$"+m2,Lp="__reactContainer$"+m2,t6="__reactEvents$"+m2,Y0e="__reactListeners$"+m2,q0e="__reactHandles$"+m2;function r0(t){var e=t[qd];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lp]||n[qd]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XG(t);t!==null;){if(n=t[qd])return n;t=XG(t)}return e}t=n,n=t.parentNode}return null}function hE(t){return t=t[qd]||t[Lp],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gb(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xn(33))}function ok(t){return t[AC]||null}var n6=[],Bb=-1;function qv(t){return{current:t}}function ps(t){0>Bb||(t.current=n6[Bb],n6[Bb]=null,Bb--)}function ns(t,e){Bb++,n6[Bb]=t.current,t.current=e}var kv={},Il=qv(kv),Pc=qv(!1),C0=kv;function x1(t,e){var n=t.type.contextTypes;if(!n)return kv;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Oc(t){return t=t.childContextTypes,t!=null}function uM(){ps(Pc),ps(Il)}function KG(t,e,n){if(Il.current!==kv)throw Error(xn(168));ns(Il,e),ns(Pc,n)}function $J(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(xn(108,Dme(t)||"Unknown",i));return js({},n,r)}function fM(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kv,C0=Il.current,ns(Il,t),ns(Pc,Pc.current),!0}function ZG(t,e,n){var r=t.stateNode;if(!r)throw Error(xn(169));n?(t=$J(t,e,C0),r.__reactInternalMemoizedMergedChildContext=t,ps(Pc),ps(Il),ns(Il,t)):ps(Pc),ns(Pc,n)}var gp=null,sk=!1,bR=!1;function LJ(t){gp===null?gp=[t]:gp.push(t)}function X0e(t){sk=!0,LJ(t)}function Xv(){if(!bR&&gp!==null){bR=!0;var t=0,e=$o;try{var n=gp;for($o=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gp=null,sk=!1}catch(i){throw gp!==null&&(gp=gp.slice(t+1)),lJ(TF,Xv),i}finally{$o=e,bR=!1}}return null}var jb=[],Vb=0,dM=null,hM=0,ef=[],tf=0,S0=null,xp=1,wp="";function Wm(t,e){jb[Vb++]=hM,jb[Vb++]=dM,dM=t,hM=e}function FJ(t,e,n){ef[tf++]=xp,ef[tf++]=wp,ef[tf++]=S0,S0=t;var r=xp;t=wp;var i=32-Qf(r)-1;r&=~(1<<i),n+=1;var o=32-Qf(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,xp=1<<32-Qf(e)+i|n<<i|r,wp=o+t}else xp=1<<o|n<<i|r,wp=t}function IF(t){t.return!==null&&(Wm(t,1),FJ(t,1,0))}function $F(t){for(;t===dM;)dM=jb[--Vb],jb[Vb]=null,hM=jb[--Vb],jb[Vb]=null;for(;t===S0;)S0=ef[--tf],ef[tf]=null,wp=ef[--tf],ef[tf]=null,xp=ef[--tf],ef[tf]=null}var uu=null,au=null,Ps=!1,Hf=null;function zJ(t,e){var n=of(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QG(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,uu=t,au=Cv(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,uu=t,au=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=S0!==null?{id:xp,overflow:wp}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=of(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,uu=t,au=null,!0):!1;default:return!1}}function r6(t){return(t.mode&1)!==0&&(t.flags&128)===0}function i6(t){if(Ps){var e=au;if(e){var n=e;if(!QG(t,e)){if(r6(t))throw Error(xn(418));e=Cv(n.nextSibling);var r=uu;e&&QG(t,e)?zJ(r,n):(t.flags=t.flags&-4097|2,Ps=!1,uu=t)}}else{if(r6(t))throw Error(xn(418));t.flags=t.flags&-4097|2,Ps=!1,uu=t}}}function JG(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;uu=t}function jT(t){if(t!==uu)return!1;if(!Ps)return JG(t),Ps=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!J4(t.type,t.memoizedProps)),e&&(e=au)){if(r6(t))throw GJ(),Error(xn(418));for(;e;)zJ(t,e),e=Cv(e.nextSibling)}if(JG(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xn(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){au=Cv(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}au=null}}else au=uu?Cv(t.stateNode.nextSibling):null;return!0}function GJ(){for(var t=au;t;)t=Cv(t.nextSibling)}function w1(){au=uu=null,Ps=!1}function LF(t){Hf===null?Hf=[t]:Hf.push(t)}var K0e=Yp.ReactCurrentBatchConfig;function jf(t,e){if(t&&t.defaultProps){e=js({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pM=qv(null),gM=null,Ub=null,FF=null;function zF(){FF=Ub=gM=null}function GF(t){var e=pM.current;ps(pM),t._currentValue=e}function o6(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function a1(t,e){gM=t,FF=Ub=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Tc=!0),t.firstContext=null)}function uf(t){var e=t._currentValue;if(FF!==t)if(t={context:t,memoizedValue:e,next:null},Ub===null){if(gM===null)throw Error(xn(308));Ub=t,gM.dependencies={lanes:0,firstContext:t}}else Ub=Ub.next=t;return e}var i0=null;function BF(t){i0===null?i0=[t]:i0.push(t)}function BJ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,BF(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fp(t,r)}function Fp(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hg=!1;function jF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jJ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ap(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sv(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(uo&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fp(t,n)}return i=r.interleaved,i===null?(e.next=e,BF(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fp(t,n)}function yO(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PF(t,n)}}function eB(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vM(t,e,n,r){var i=t.updateQueue;Hg=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=js({},f,d);break e;case 2:Hg=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_0|=s,t.lanes=s,t.memoizedState=f}}function tB(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(xn(191,i));i.call(r)}}}var VJ=new BQ.Component().refs;function s6(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:js({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ak={isMounted:function(t){return(t=t._reactInternals)?H0(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jl(),i=_v(t),o=Ap(r,i);o.payload=e,n!=null&&(o.callback=n),e=Sv(t,o,i),e!==null&&(Jf(e,t,i,r),yO(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jl(),i=_v(t),o=Ap(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Sv(t,o,i),e!==null&&(Jf(e,t,i,r),yO(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jl(),r=_v(t),i=Ap(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sv(t,i,r),e!==null&&(Jf(e,t,r,n),yO(e,t,r))}};function nB(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!PC(n,r)||!PC(i,o):!0}function UJ(t,e,n){var r=!1,i=kv,o=e.contextType;return typeof o=="object"&&o!==null?o=uf(o):(i=Oc(e)?C0:Il.current,r=e.contextTypes,o=(r=r!=null)?x1(t,i):kv),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ak,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function rB(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ak.enqueueReplaceState(e,e.state,null)}function a6(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=VJ,jF(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=uf(o):(o=Oc(e)?C0:Il.current,i.context=x1(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(s6(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ak.enqueueReplaceState(i,i.state,null),vM(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tx(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xn(309));var r=n.stateNode}if(!r)throw Error(xn(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===VJ&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(xn(284));if(!n._owner)throw Error(xn(290,t))}return t}function VT(t,e){throw t=Object.prototype.toString.call(e),Error(xn(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iB(t){var e=t._init;return e(t._payload)}function HJ(t){function e(y,b){if(t){var C=y.deletions;C===null?(y.deletions=[b],y.flags|=16):C.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Tv(y,b),y.index=0,y.sibling=null,y}function o(y,b,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<b?(y.flags|=2,b):C):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,C,E){return b===null||b.tag!==6?(b=TR(C,y.mode,E),b.return=y,b):(b=i(b,C),b.return=y,b)}function l(y,b,C,E){var _=C.type;return _===$b?u(y,b,C.props.children,E,C.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ug&&iB(_)===b.type)?(E=i(b,C.props),E.ref=Tx(y,b,C),E.return=y,E):(E=EO(C.type,C.key,C.props,null,y.mode,E),E.ref=Tx(y,b,C),E.return=y,E)}function c(y,b,C,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=PR(C,y.mode,E),b.return=y,b):(b=i(b,C.children||[]),b.return=y,b)}function u(y,b,C,E,_){return b===null||b.tag!==7?(b=v0(C,y.mode,E,_),b.return=y,b):(b=i(b,C),b.return=y,b)}function f(y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=TR(""+b,y.mode,C),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case DT:return C=EO(b.type,b.key,b.props,null,y.mode,C),C.ref=Tx(y,null,b),C.return=y,C;case Ib:return b=PR(b,y.mode,C),b.return=y,b;case Ug:var E=b._init;return f(y,E(b._payload),C)}if(gw(b)||wx(b))return b=v0(b,y.mode,C,null),b.return=y,b;VT(y,b)}return null}function d(y,b,C,E){var _=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return _!==null?null:a(y,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case DT:return C.key===_?l(y,b,C,E):null;case Ib:return C.key===_?c(y,b,C,E):null;case Ug:return _=C._init,d(y,b,_(C._payload),E)}if(gw(C)||wx(C))return _!==null?null:u(y,b,C,E,null);VT(y,C)}return null}function h(y,b,C,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(C)||null,a(b,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case DT:return y=y.get(E.key===null?C:E.key)||null,l(b,y,E,_);case Ib:return y=y.get(E.key===null?C:E.key)||null,c(b,y,E,_);case Ug:var w=E._init;return h(y,b,C,w(E._payload),_)}if(gw(E)||wx(E))return y=y.get(C)||null,u(b,y,E,_,null);VT(b,E)}return null}function p(y,b,C,E){for(var _=null,w=null,M=b,k=b=0,I=null;M!==null&&k<C.length;k++){M.index>k?(I=M,M=null):I=M.sibling;var A=d(y,M,C[k],E);if(A===null){M===null&&(M=I);break}t&&M&&A.alternate===null&&e(y,M),b=o(A,b,k),w===null?_=A:w.sibling=A,w=A,M=I}if(k===C.length)return n(y,M),Ps&&Wm(y,k),_;if(M===null){for(;k<C.length;k++)M=f(y,C[k],E),M!==null&&(b=o(M,b,k),w===null?_=M:w.sibling=M,w=M);return Ps&&Wm(y,k),_}for(M=r(y,M);k<C.length;k++)I=h(M,y,k,C[k],E),I!==null&&(t&&I.alternate!==null&&M.delete(I.key===null?k:I.key),b=o(I,b,k),w===null?_=I:w.sibling=I,w=I);return t&&M.forEach(function(N){return e(y,N)}),Ps&&Wm(y,k),_}function g(y,b,C,E){var _=wx(C);if(typeof _!="function")throw Error(xn(150));if(C=_.call(C),C==null)throw Error(xn(151));for(var w=_=null,M=b,k=b=0,I=null,A=C.next();M!==null&&!A.done;k++,A=C.next()){M.index>k?(I=M,M=null):I=M.sibling;var N=d(y,M,A.value,E);if(N===null){M===null&&(M=I);break}t&&M&&N.alternate===null&&e(y,M),b=o(N,b,k),w===null?_=N:w.sibling=N,w=N,M=I}if(A.done)return n(y,M),Ps&&Wm(y,k),_;if(M===null){for(;!A.done;k++,A=C.next())A=f(y,A.value,E),A!==null&&(b=o(A,b,k),w===null?_=A:w.sibling=A,w=A);return Ps&&Wm(y,k),_}for(M=r(y,M);!A.done;k++,A=C.next())A=h(M,y,k,A.value,E),A!==null&&(t&&A.alternate!==null&&M.delete(A.key===null?k:A.key),b=o(A,b,k),w===null?_=A:w.sibling=A,w=A);return t&&M.forEach(function($){return e(y,$)}),Ps&&Wm(y,k),_}function m(y,b,C,E){if(typeof C=="object"&&C!==null&&C.type===$b&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case DT:e:{for(var _=C.key,w=b;w!==null;){if(w.key===_){if(_=C.type,_===$b){if(w.tag===7){n(y,w.sibling),b=i(w,C.props.children),b.return=y,y=b;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ug&&iB(_)===w.type){n(y,w.sibling),b=i(w,C.props),b.ref=Tx(y,w,C),b.return=y,y=b;break e}n(y,w);break}else e(y,w);w=w.sibling}C.type===$b?(b=v0(C.props.children,y.mode,E,C.key),b.return=y,y=b):(E=EO(C.type,C.key,C.props,null,y.mode,E),E.ref=Tx(y,b,C),E.return=y,y=E)}return s(y);case Ib:e:{for(w=C.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(y,b.sibling),b=i(b,C.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=PR(C,y.mode,E),b.return=y,y=b}return s(y);case Ug:return w=C._init,m(y,b,w(C._payload),E)}if(gw(C))return p(y,b,C,E);if(wx(C))return g(y,b,C,E);VT(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,C),b.return=y,y=b):(n(y,b),b=TR(C,y.mode,E),b.return=y,y=b),s(y)):n(y,b)}return m}var C1=HJ(!0),WJ=HJ(!1),pE={},nh=qv(pE),kC=qv(pE),DC=qv(pE);function o0(t){if(t===pE)throw Error(xn(174));return t}function VF(t,e){switch(ns(DC,e),ns(kC,t),ns(nh,pE),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:z4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=z4(e,t)}ps(nh),ns(nh,e)}function S1(){ps(nh),ps(kC),ps(DC)}function YJ(t){o0(DC.current);var e=o0(nh.current),n=z4(e,t.type);e!==n&&(ns(kC,t),ns(nh,n))}function UF(t){kC.current===t&&(ps(nh),ps(kC))}var Ls=qv(0);function mM(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xR=[];function HF(){for(var t=0;t<xR.length;t++)xR[t]._workInProgressVersionPrimary=null;xR.length=0}var bO=Yp.ReactCurrentDispatcher,wR=Yp.ReactCurrentBatchConfig,E0=0,Bs=null,Ma=null,Ua=null,yM=!1,Bw=!1,NC=0,Z0e=0;function Tl(){throw Error(xn(321))}function WF(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!td(t[n],e[n]))return!1;return!0}function YF(t,e,n,r,i,o){if(E0=o,Bs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bO.current=t===null||t.memoizedState===null?tye:nye,t=n(r,i),Bw){o=0;do{if(Bw=!1,NC=0,25<=o)throw Error(xn(301));o+=1,Ua=Ma=null,e.updateQueue=null,bO.current=rye,t=n(r,i)}while(Bw)}if(bO.current=bM,e=Ma!==null&&Ma.next!==null,E0=0,Ua=Ma=Bs=null,yM=!1,e)throw Error(xn(300));return t}function qF(){var t=NC!==0;return NC=0,t}function Hd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ua===null?Bs.memoizedState=Ua=t:Ua=Ua.next=t,Ua}function ff(){if(Ma===null){var t=Bs.alternate;t=t!==null?t.memoizedState:null}else t=Ma.next;var e=Ua===null?Bs.memoizedState:Ua.next;if(e!==null)Ua=e,Ma=t;else{if(t===null)throw Error(xn(310));Ma=t,t={memoizedState:Ma.memoizedState,baseState:Ma.baseState,baseQueue:Ma.baseQueue,queue:Ma.queue,next:null},Ua===null?Bs.memoizedState=Ua=t:Ua=Ua.next=t}return Ua}function RC(t,e){return typeof e=="function"?e(t):e}function CR(t){var e=ff(),n=e.queue;if(n===null)throw Error(xn(311));n.lastRenderedReducer=t;var r=Ma,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((E0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Bs.lanes|=u,_0|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,td(r,e.memoizedState)||(Tc=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Bs.lanes|=o,_0|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function SR(t){var e=ff(),n=e.queue;if(n===null)throw Error(xn(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);td(o,e.memoizedState)||(Tc=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function qJ(){}function XJ(t,e){var n=Bs,r=ff(),i=e(),o=!td(r.memoizedState,i);if(o&&(r.memoizedState=i,Tc=!0),r=r.queue,XF(QJ.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ua!==null&&Ua.memoizedState.tag&1){if(n.flags|=2048,IC(9,ZJ.bind(null,n,r,i,e),void 0,null),qa===null)throw Error(xn(349));(E0&30)!==0||KJ(n,e,i)}return i}function KJ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bs.updateQueue,e===null?(e={lastEffect:null,stores:null},Bs.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZJ(t,e,n,r){e.value=n,e.getSnapshot=r,JJ(e)&&eee(t)}function QJ(t,e,n){return n(function(){JJ(e)&&eee(t)})}function JJ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!td(t,n)}catch{return!0}}function eee(t){var e=Fp(t,1);e!==null&&Jf(e,t,1,-1)}function oB(t){var e=Hd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:RC,lastRenderedState:t},e.queue=t,t=t.dispatch=eye.bind(null,Bs,t),[e.memoizedState,t]}function IC(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bs.updateQueue,e===null?(e={lastEffect:null,stores:null},Bs.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tee(){return ff().memoizedState}function xO(t,e,n,r){var i=Hd();Bs.flags|=t,i.memoizedState=IC(1|e,n,void 0,r===void 0?null:r)}function lk(t,e,n,r){var i=ff();r=r===void 0?null:r;var o=void 0;if(Ma!==null){var s=Ma.memoizedState;if(o=s.destroy,r!==null&&WF(r,s.deps)){i.memoizedState=IC(e,n,o,r);return}}Bs.flags|=t,i.memoizedState=IC(1|e,n,o,r)}function sB(t,e){return xO(8390656,8,t,e)}function XF(t,e){return lk(2048,8,t,e)}function nee(t,e){return lk(4,2,t,e)}function ree(t,e){return lk(4,4,t,e)}function iee(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oee(t,e,n){return n=n!=null?n.concat([t]):null,lk(4,4,iee.bind(null,e,t),n)}function KF(){}function see(t,e){var n=ff();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&WF(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aee(t,e){var n=ff();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&WF(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lee(t,e,n){return(E0&21)===0?(t.baseState&&(t.baseState=!1,Tc=!0),t.memoizedState=n):(td(n,e)||(n=fJ(),Bs.lanes|=n,_0|=n,t.baseState=!0),e)}function Q0e(t,e){var n=$o;$o=n!==0&&4>n?n:4,t(!0);var r=wR.transition;wR.transition={};try{t(!1),e()}finally{$o=n,wR.transition=r}}function cee(){return ff().memoizedState}function J0e(t,e,n){var r=_v(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uee(t))fee(e,n);else if(n=BJ(t,e,n,r),n!==null){var i=Jl();Jf(n,t,r,i),dee(n,e,r)}}function eye(t,e,n){var r=_v(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uee(t))fee(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,td(a,s)){var l=e.interleaved;l===null?(i.next=i,BF(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BJ(t,e,i,r),n!==null&&(i=Jl(),Jf(n,t,r,i),dee(n,e,r))}}function uee(t){var e=t.alternate;return t===Bs||e!==null&&e===Bs}function fee(t,e){Bw=yM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dee(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PF(t,n)}}var bM={readContext:uf,useCallback:Tl,useContext:Tl,useEffect:Tl,useImperativeHandle:Tl,useInsertionEffect:Tl,useLayoutEffect:Tl,useMemo:Tl,useReducer:Tl,useRef:Tl,useState:Tl,useDebugValue:Tl,useDeferredValue:Tl,useTransition:Tl,useMutableSource:Tl,useSyncExternalStore:Tl,useId:Tl,unstable_isNewReconciler:!1},tye={readContext:uf,useCallback:function(t,e){return Hd().memoizedState=[t,e===void 0?null:e],t},useContext:uf,useEffect:sB,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xO(4194308,4,iee.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xO(4194308,4,t,e)},useInsertionEffect:function(t,e){return xO(4,2,t,e)},useMemo:function(t,e){var n=Hd();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hd();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=J0e.bind(null,Bs,t),[r.memoizedState,t]},useRef:function(t){var e=Hd();return t={current:t},e.memoizedState=t},useState:oB,useDebugValue:KF,useDeferredValue:function(t){return Hd().memoizedState=t},useTransition:function(){var t=oB(!1),e=t[0];return t=Q0e.bind(null,t[1]),Hd().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bs,i=Hd();if(Ps){if(n===void 0)throw Error(xn(407));n=n()}else{if(n=e(),qa===null)throw Error(xn(349));(E0&30)!==0||KJ(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,sB(QJ.bind(null,r,o,t),[t]),r.flags|=2048,IC(9,ZJ.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Hd(),e=qa.identifierPrefix;if(Ps){var n=wp,r=xp;n=(r&~(1<<32-Qf(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=NC++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z0e++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nye={readContext:uf,useCallback:see,useContext:uf,useEffect:XF,useImperativeHandle:oee,useInsertionEffect:nee,useLayoutEffect:ree,useMemo:aee,useReducer:CR,useRef:tee,useState:function(){return CR(RC)},useDebugValue:KF,useDeferredValue:function(t){var e=ff();return lee(e,Ma.memoizedState,t)},useTransition:function(){var t=CR(RC)[0],e=ff().memoizedState;return[t,e]},useMutableSource:qJ,useSyncExternalStore:XJ,useId:cee,unstable_isNewReconciler:!1},rye={readContext:uf,useCallback:see,useContext:uf,useEffect:XF,useImperativeHandle:oee,useInsertionEffect:nee,useLayoutEffect:ree,useMemo:aee,useReducer:SR,useRef:tee,useState:function(){return SR(RC)},useDebugValue:KF,useDeferredValue:function(t){var e=ff();return Ma===null?e.memoizedState=t:lee(e,Ma.memoizedState,t)},useTransition:function(){var t=SR(RC)[0],e=ff().memoizedState;return[t,e]},useMutableSource:qJ,useSyncExternalStore:XJ,useId:cee,unstable_isNewReconciler:!1};function E1(t,e){try{var n="",r=e;do n+=kme(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ER(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function l6(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iye=typeof WeakMap=="function"?WeakMap:Map;function hee(t,e,n){n=Ap(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wM||(wM=!0,y6=r),l6(t,e)},n}function pee(t,e,n){n=Ap(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){l6(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){l6(t,e),typeof r!="function"&&(Ev===null?Ev=new Set([this]):Ev.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function aB(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iye;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yye.bind(null,t,e,n),e.then(t,t))}function lB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cB(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ap(-1,1),e.tag=2,Sv(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var oye=Yp.ReactCurrentOwner,Tc=!1;function Yl(t,e,n,r){e.child=t===null?WJ(e,null,n,r):C1(e,t.child,n,r)}function uB(t,e,n,r,i){n=n.render;var o=e.ref;return a1(e,i),r=YF(t,e,n,r,o,i),n=qF(),t!==null&&!Tc?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zp(t,e,i)):(Ps&&n&&IF(e),e.flags|=1,Yl(t,e,r,i),e.child)}function fB(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!i5(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gee(t,e,o,r,i)):(t=EO(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:PC,n(s,r)&&t.ref===e.ref)return zp(t,e,i)}return e.flags|=1,t=Tv(o,r),t.ref=e.ref,t.return=e,e.child=t}function gee(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(PC(o,r)&&t.ref===e.ref)if(Tc=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Tc=!0);else return e.lanes=t.lanes,zp(t,e,i)}return c6(t,e,n,r,i)}function vee(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ns(Wb,eu),eu|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ns(Wb,eu),eu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ns(Wb,eu),eu|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ns(Wb,eu),eu|=r;return Yl(t,e,i,n),e.child}function mee(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function c6(t,e,n,r,i){var o=Oc(n)?C0:Il.current;return o=x1(e,o),a1(e,i),n=YF(t,e,n,r,o,i),r=qF(),t!==null&&!Tc?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zp(t,e,i)):(Ps&&r&&IF(e),e.flags|=1,Yl(t,e,n,i),e.child)}function dB(t,e,n,r,i){if(Oc(n)){var o=!0;fM(e)}else o=!1;if(a1(e,i),e.stateNode===null)wO(t,e),UJ(e,n,r),a6(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=uf(c):(c=Oc(n)?C0:Il.current,c=x1(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rB(e,s,r,c),Hg=!1;var d=e.memoizedState;s.state=d,vM(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Pc.current||Hg?(typeof u=="function"&&(s6(e,n,u,r),l=e.memoizedState),(a=Hg||nB(e,n,a,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jJ(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jf(e.type,a),s.props=c,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=uf(l):(l=Oc(n)?C0:Il.current,l=x1(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&rB(e,s,r,l),Hg=!1,d=e.memoizedState,s.state=d,vM(e,r,s,i);var p=e.memoizedState;a!==f||d!==p||Pc.current||Hg?(typeof h=="function"&&(s6(e,n,h,r),p=e.memoizedState),(c=Hg||nB(e,n,c,r,d,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return u6(t,e,n,r,o,i)}function u6(t,e,n,r,i,o){mee(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ZG(e,n,!1),zp(t,e,o);r=e.stateNode,oye.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=C1(e,t.child,null,o),e.child=C1(e,null,a,o)):Yl(t,e,a,o),e.memoizedState=r.state,i&&ZG(e,n,!0),e.child}function yee(t){var e=t.stateNode;e.pendingContext?KG(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KG(t,e.context,!1),VF(t,e.containerInfo)}function hB(t,e,n,r,i){return w1(),LF(i),e.flags|=256,Yl(t,e,n,r),e.child}var f6={dehydrated:null,treeContext:null,retryLane:0};function d6(t){return{baseLanes:t,cachePool:null,transitions:null}}function bee(t,e,n){var r=e.pendingProps,i=Ls.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ns(Ls,i&1),t===null)return i6(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fk(s,r,0,null),t=v0(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=d6(n),e.memoizedState=f6,t):ZF(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sye(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Tv(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Tv(a,o):(o=v0(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?d6(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=f6,r}return o=t.child,t=o.sibling,r=Tv(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ZF(t,e){return e=fk({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function UT(t,e,n,r){return r!==null&&LF(r),C1(e,t.child,null,n),t=ZF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sye(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ER(Error(xn(422))),UT(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fk({mode:"visible",children:r.children},i,0,null),o=v0(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&C1(e,t.child,null,s),e.child.memoizedState=d6(s),e.memoizedState=f6,o);if((e.mode&1)===0)return UT(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(xn(419)),r=ER(o,r,void 0),UT(t,e,s,r)}if(a=(s&t.childLanes)!==0,Tc||a){if(r=qa,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fp(t,i),Jf(r,t,i,-1))}return r5(),r=ER(Error(xn(421))),UT(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bye.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,au=Cv(i.nextSibling),uu=e,Ps=!0,Hf=null,t!==null&&(ef[tf++]=xp,ef[tf++]=wp,ef[tf++]=S0,xp=t.id,wp=t.overflow,S0=e),e=ZF(e,r.children),e.flags|=4096,e)}function pB(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),o6(t.return,e,n)}function _R(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xee(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Yl(t,e,r.children,n),r=Ls.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pB(t,n,e);else if(t.tag===19)pB(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ns(Ls,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mM(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_R(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mM(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_R(e,!0,n,null,o);break;case"together":_R(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wO(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zp(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_0|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(xn(153));if(e.child!==null){for(t=e.child,n=Tv(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tv(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aye(t,e,n){switch(e.tag){case 3:yee(e),w1();break;case 5:YJ(e);break;case 1:Oc(e.type)&&fM(e);break;case 4:VF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ns(pM,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ns(Ls,Ls.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?bee(t,e,n):(ns(Ls,Ls.current&1),t=zp(t,e,n),t!==null?t.sibling:null);ns(Ls,Ls.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return xee(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ns(Ls,Ls.current),r)break;return null;case 22:case 23:return e.lanes=0,vee(t,e,n)}return zp(t,e,n)}var wee,h6,Cee,See;wee=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h6=function(){};Cee=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,o0(nh.current);var o=null;switch(n){case"input":i=I4(t,i),r=I4(t,r),o=[];break;case"select":i=js({},i,{value:void 0}),r=js({},r,{value:void 0}),o=[];break;case"textarea":i=F4(t,i),r=F4(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cM)}G4(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xC.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xC.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&as("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};See=function(t,e,n,r){n!==r&&(e.flags|=4)};function Px(t,e){if(!Ps)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pl(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lye(t,e,n){var r=e.pendingProps;switch($F(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pl(e),null;case 1:return Oc(e.type)&&uM(),Pl(e),null;case 3:return r=e.stateNode,S1(),ps(Pc),ps(Il),HF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jT(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Hf!==null&&(w6(Hf),Hf=null))),h6(t,e),Pl(e),null;case 5:UF(e);var i=o0(DC.current);if(n=e.type,t!==null&&e.stateNode!=null)Cee(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(xn(166));return Pl(e),null}if(t=o0(nh.current),jT(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qd]=e,r[AC]=o,t=(e.mode&1)!==0,n){case"dialog":as("cancel",r),as("close",r);break;case"iframe":case"object":case"embed":as("load",r);break;case"video":case"audio":for(i=0;i<mw.length;i++)as(mw[i],r);break;case"source":as("error",r);break;case"img":case"image":case"link":as("error",r),as("load",r);break;case"details":as("toggle",r);break;case"input":SG(r,o),as("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},as("invalid",r);break;case"textarea":_G(r,o),as("invalid",r)}G4(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&BT(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&BT(r.textContent,a,t),i=["children",""+a]):xC.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&as("scroll",r)}switch(n){case"input":NT(r),EG(r,o,!0);break;case"textarea":NT(r),TG(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cM)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KQ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qd]=e,t[AC]=r,wee(t,e,!1,!1),e.stateNode=t;e:{switch(s=B4(n,r),n){case"dialog":as("cancel",t),as("close",t),i=r;break;case"iframe":case"object":case"embed":as("load",t),i=r;break;case"video":case"audio":for(i=0;i<mw.length;i++)as(mw[i],t);i=r;break;case"source":as("error",t),i=r;break;case"img":case"image":case"link":as("error",t),as("load",t),i=r;break;case"details":as("toggle",t),i=r;break;case"input":SG(t,r),i=I4(t,r),as("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=js({},r,{value:void 0}),as("invalid",t);break;case"textarea":_G(t,r),i=F4(t,r),as("invalid",t);break;default:i=r}G4(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?JQ(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZQ(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wC(t,l):typeof l=="number"&&wC(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xC.hasOwnProperty(o)?l!=null&&o==="onScroll"&&as("scroll",t):l!=null&&wF(t,o,l,s))}switch(n){case"input":NT(t),EG(t,r,!1);break;case"textarea":NT(t),TG(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Av(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?r1(t,!!r.multiple,o,!1):r.defaultValue!=null&&r1(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pl(e),null;case 6:if(t&&e.stateNode!=null)See(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(xn(166));if(n=o0(DC.current),o0(nh.current),jT(e)){if(r=e.stateNode,n=e.memoizedProps,r[qd]=e,(o=r.nodeValue!==n)&&(t=uu,t!==null))switch(t.tag){case 3:BT(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&BT(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qd]=e,e.stateNode=r}return Pl(e),null;case 13:if(ps(Ls),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ps&&au!==null&&(e.mode&1)!==0&&(e.flags&128)===0)GJ(),w1(),e.flags|=98560,o=!1;else if(o=jT(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(xn(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xn(317));o[qd]=e}else w1(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Pl(e),o=!1}else Hf!==null&&(w6(Hf),Hf=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ls.current&1)!==0?ka===0&&(ka=3):r5())),e.updateQueue!==null&&(e.flags|=4),Pl(e),null);case 4:return S1(),h6(t,e),t===null&&OC(e.stateNode.containerInfo),Pl(e),null;case 10:return GF(e.type._context),Pl(e),null;case 17:return Oc(e.type)&&uM(),Pl(e),null;case 19:if(ps(Ls),o=e.memoizedState,o===null)return Pl(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Px(o,!1);else{if(ka!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=mM(t),s!==null){for(e.flags|=128,Px(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ns(Ls,Ls.current&1|2),e.child}t=t.sibling}o.tail!==null&&sa()>_1&&(e.flags|=128,r=!0,Px(o,!1),e.lanes=4194304)}else{if(!r)if(t=mM(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Px(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ps)return Pl(e),null}else 2*sa()-o.renderingStartTime>_1&&n!==1073741824&&(e.flags|=128,r=!0,Px(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=sa(),e.sibling=null,n=Ls.current,ns(Ls,r?n&1|2:n&1),e):(Pl(e),null);case 22:case 23:return n5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(eu&1073741824)!==0&&(Pl(e),e.subtreeFlags&6&&(e.flags|=8192)):Pl(e),null;case 24:return null;case 25:return null}throw Error(xn(156,e.tag))}function cye(t,e){switch($F(e),e.tag){case 1:return Oc(e.type)&&uM(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return S1(),ps(Pc),ps(Il),HF(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return UF(e),null;case 13:if(ps(Ls),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xn(340));w1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ps(Ls),null;case 4:return S1(),null;case 10:return GF(e.type._context),null;case 22:case 23:return n5(),null;case 24:return null;default:return null}}var HT=!1,Al=!1,uye=typeof WeakSet=="function"?WeakSet:Set,ir=null;function Hb(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ks(t,e,r)}else n.current=null}function p6(t,e,n){try{n()}catch(r){Ks(t,e,r)}}var gB=!1;function fye(t,e){if(Z4=sM,t=PJ(),RF(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Q4={focusedElem:t,selectionRange:n},sM=!1,ir=e;ir!==null;)if(e=ir,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ir=t;else for(;ir!==null;){e=ir;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:jf(e.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xn(163))}}catch(E){Ks(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ir=t;break}ir=e.return}return p=gB,gB=!1,p}function jw(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&p6(e,n,o)}i=i.next}while(i!==r)}}function ck(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function g6(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Eee(t){var e=t.alternate;e!==null&&(t.alternate=null,Eee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qd],delete e[AC],delete e[t6],delete e[Y0e],delete e[q0e])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _ee(t){return t.tag===5||t.tag===3||t.tag===4}function vB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_ee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v6(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cM));else if(r!==4&&(t=t.child,t!==null))for(v6(t,e,n),t=t.sibling;t!==null;)v6(t,e,n),t=t.sibling}function m6(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(m6(t,e,n),t=t.sibling;t!==null;)m6(t,e,n),t=t.sibling}var sl=null,Vf=!1;function Lg(t,e,n){for(n=n.child;n!==null;)Tee(t,e,n),n=n.sibling}function Tee(t,e,n){if(th&&typeof th.onCommitFiberUnmount=="function")try{th.onCommitFiberUnmount(tk,n)}catch{}switch(n.tag){case 5:Al||Hb(n,e);case 6:var r=sl,i=Vf;sl=null,Lg(t,e,n),sl=r,Vf=i,sl!==null&&(Vf?(t=sl,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:sl!==null&&(Vf?(t=sl,n=n.stateNode,t.nodeType===8?yR(t.parentNode,n):t.nodeType===1&&yR(t,n),_C(t)):yR(sl,n.stateNode));break;case 4:r=sl,i=Vf,sl=n.stateNode.containerInfo,Vf=!0,Lg(t,e,n),sl=r,Vf=i;break;case 0:case 11:case 14:case 15:if(!Al&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&p6(n,e,s),i=i.next}while(i!==r)}Lg(t,e,n);break;case 1:if(!Al&&(Hb(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ks(n,e,a)}Lg(t,e,n);break;case 21:Lg(t,e,n);break;case 22:n.mode&1?(Al=(r=Al)||n.memoizedState!==null,Lg(t,e,n),Al=r):Lg(t,e,n);break;default:Lg(t,e,n)}}function mB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uye),e.forEach(function(r){var i=xye.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rf(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:sl=a.stateNode,Vf=!1;break e;case 3:sl=a.stateNode.containerInfo,Vf=!0;break e;case 4:sl=a.stateNode.containerInfo,Vf=!0;break e}a=a.return}if(sl===null)throw Error(xn(160));Tee(o,s,i),sl=null,Vf=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ks(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pee(e,t),e=e.sibling}function Pee(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rf(e,t),Fd(t),r&4){try{jw(3,t,t.return),ck(3,t)}catch(g){Ks(t,t.return,g)}try{jw(5,t,t.return)}catch(g){Ks(t,t.return,g)}}break;case 1:Rf(e,t),Fd(t),r&512&&n!==null&&Hb(n,n.return);break;case 5:if(Rf(e,t),Fd(t),r&512&&n!==null&&Hb(n,n.return),t.flags&32){var i=t.stateNode;try{wC(i,"")}catch(g){Ks(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qQ(i,o),B4(a,s);var c=B4(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?JQ(i,f):u==="dangerouslySetInnerHTML"?ZQ(i,f):u==="children"?wC(i,f):wF(i,u,f,c)}switch(a){case"input":$4(i,o);break;case"textarea":XQ(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?r1(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?r1(i,!!o.multiple,o.defaultValue,!0):r1(i,!!o.multiple,o.multiple?[]:"",!1))}i[AC]=o}catch(g){Ks(t,t.return,g)}}break;case 6:if(Rf(e,t),Fd(t),r&4){if(t.stateNode===null)throw Error(xn(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Ks(t,t.return,g)}}break;case 3:if(Rf(e,t),Fd(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_C(e.containerInfo)}catch(g){Ks(t,t.return,g)}break;case 4:Rf(e,t),Fd(t);break;case 13:Rf(e,t),Fd(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(e5=sa())),r&4&&mB(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Al=(c=Al)||u,Rf(e,t),Al=c):Rf(e,t),Fd(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&(t.mode&1)!==0)for(ir=t,u=t.child;u!==null;){for(f=ir=u;ir!==null;){switch(d=ir,h=d.child,d.tag){case 0:case 11:case 14:case 15:jw(4,d,d.return);break;case 1:Hb(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Ks(r,n,g)}}break;case 5:Hb(d,d.return);break;case 22:if(d.memoizedState!==null){bB(f);continue}}h!==null?(h.return=d,ir=h):bB(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QQ("display",s))}catch(g){Ks(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ks(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rf(e,t),Fd(t),r&4&&mB(t);break;case 21:break;default:Rf(e,t),Fd(t)}}function Fd(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_ee(n)){var r=n;break e}n=n.return}throw Error(xn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wC(i,""),r.flags&=-33);var o=vB(t);m6(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=vB(t);v6(t,a,s);break;default:throw Error(xn(161))}}catch(l){Ks(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dye(t,e,n){ir=t,Oee(t)}function Oee(t,e,n){for(var r=(t.mode&1)!==0;ir!==null;){var i=ir,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||HT;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Al;a=HT;var c=Al;if(HT=s,(Al=l)&&!c)for(ir=i;ir!==null;)s=ir,l=s.child,s.tag===22&&s.memoizedState!==null?xB(i):l!==null?(l.return=s,ir=l):xB(i);for(;o!==null;)ir=o,Oee(o),o=o.sibling;ir=i,HT=a,Al=c}yB(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ir=o):yB(t)}}function yB(t){for(;ir!==null;){var e=ir;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Al||ck(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Al)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jf(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tB(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tB(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&_C(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xn(163))}Al||e.flags&512&&g6(e)}catch(d){Ks(e,e.return,d)}}if(e===t){ir=null;break}if(n=e.sibling,n!==null){n.return=e.return,ir=n;break}ir=e.return}}function bB(t){for(;ir!==null;){var e=ir;if(e===t){ir=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ir=n;break}ir=e.return}}function xB(t){for(;ir!==null;){var e=ir;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ck(4,e)}catch(l){Ks(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ks(e,i,l)}}var o=e.return;try{g6(e)}catch(l){Ks(e,o,l)}break;case 5:var s=e.return;try{g6(e)}catch(l){Ks(e,s,l)}}}catch(l){Ks(e,e.return,l)}if(e===t){ir=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ir=a;break}ir=e.return}}var hye=Math.ceil,xM=Yp.ReactCurrentDispatcher,QF=Yp.ReactCurrentOwner,af=Yp.ReactCurrentBatchConfig,uo=0,qa=null,ba=null,hl=0,eu=0,Wb=qv(0),ka=0,$C=null,_0=0,uk=0,JF=0,Vw=null,Sc=null,e5=0,_1=1/0,dp=null,wM=!1,y6=null,Ev=null,WT=!1,iv=null,CM=0,Uw=0,b6=null,CO=-1,SO=0;function Jl(){return(uo&6)!==0?sa():CO!==-1?CO:CO=sa()}function _v(t){return(t.mode&1)===0?1:(uo&2)!==0&&hl!==0?hl&-hl:K0e.transition!==null?(SO===0&&(SO=fJ()),SO):(t=$o,t!==0||(t=window.event,t=t===void 0?16:yJ(t.type)),t)}function Jf(t,e,n,r){if(50<Uw)throw Uw=0,b6=null,Error(xn(185));fE(t,n,r),((uo&2)===0||t!==qa)&&(t===qa&&((uo&2)===0&&(uk|=n),ka===4&&Qg(t,hl)),Mc(t,r),n===1&&uo===0&&(e.mode&1)===0&&(_1=sa()+500,sk&&Xv()))}function Mc(t,e){var n=t.callbackNode;Kme(t,e);var r=oM(t,t===qa?hl:0);if(r===0)n!==null&&MG(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MG(n),e===1)t.tag===0?X0e(wB.bind(null,t)):LJ(wB.bind(null,t)),H0e(function(){(uo&6)===0&&Xv()}),n=null;else{switch(dJ(r)){case 1:n=TF;break;case 4:n=cJ;break;case 16:n=iM;break;case 536870912:n=uJ;break;default:n=iM}n=$ee(n,Mee.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mee(t,e){if(CO=-1,SO=0,(uo&6)!==0)throw Error(xn(327));var n=t.callbackNode;if(l1()&&t.callbackNode!==n)return null;var r=oM(t,t===qa?hl:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=SM(t,r);else{e=r;var i=uo;uo|=2;var o=kee();(qa!==t||hl!==e)&&(dp=null,_1=sa()+500,g0(t,e));do try{vye();break}catch(a){Aee(t,a)}while(1);zF(),xM.current=o,uo=i,ba!==null?e=0:(qa=null,hl=0,e=ka)}if(e!==0){if(e===2&&(i=W4(t),i!==0&&(r=i,e=x6(t,i))),e===1)throw n=$C,g0(t,0),Qg(t,r),Mc(t,sa()),n;if(e===6)Qg(t,r);else{if(i=t.current.alternate,(r&30)===0&&!pye(i)&&(e=SM(t,r),e===2&&(o=W4(t),o!==0&&(r=o,e=x6(t,o))),e===1))throw n=$C,g0(t,0),Qg(t,r),Mc(t,sa()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(xn(345));case 2:Ym(t,Sc,dp);break;case 3:if(Qg(t,r),(r&130023424)===r&&(e=e5+500-sa(),10<e)){if(oM(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=e6(Ym.bind(null,t,Sc,dp),e);break}Ym(t,Sc,dp);break;case 4:if(Qg(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Qf(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=sa()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hye(r/1960))-r,10<r){t.timeoutHandle=e6(Ym.bind(null,t,Sc,dp),r);break}Ym(t,Sc,dp);break;case 5:Ym(t,Sc,dp);break;default:throw Error(xn(329))}}}return Mc(t,sa()),t.callbackNode===n?Mee.bind(null,t):null}function x6(t,e){var n=Vw;return t.current.memoizedState.isDehydrated&&(g0(t,e).flags|=256),t=SM(t,e),t!==2&&(e=Sc,Sc=n,e!==null&&w6(e)),t}function w6(t){Sc===null?Sc=t:Sc.push.apply(Sc,t)}function pye(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!td(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qg(t,e){for(e&=~JF,e&=~uk,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qf(e),r=1<<n;t[n]=-1,e&=~r}}function wB(t){if((uo&6)!==0)throw Error(xn(327));l1();var e=oM(t,0);if((e&1)===0)return Mc(t,sa()),null;var n=SM(t,e);if(t.tag!==0&&n===2){var r=W4(t);r!==0&&(e=r,n=x6(t,r))}if(n===1)throw n=$C,g0(t,0),Qg(t,e),Mc(t,sa()),n;if(n===6)throw Error(xn(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ym(t,Sc,dp),Mc(t,sa()),null}function t5(t,e){var n=uo;uo|=1;try{return t(e)}finally{uo=n,uo===0&&(_1=sa()+500,sk&&Xv())}}function T0(t){iv!==null&&iv.tag===0&&(uo&6)===0&&l1();var e=uo;uo|=1;var n=af.transition,r=$o;try{if(af.transition=null,$o=1,t)return t()}finally{$o=r,af.transition=n,uo=e,(uo&6)===0&&Xv()}}function n5(){eu=Wb.current,ps(Wb)}function g0(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U0e(n)),ba!==null)for(n=ba.return;n!==null;){var r=n;switch($F(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uM();break;case 3:S1(),ps(Pc),ps(Il),HF();break;case 5:UF(r);break;case 4:S1();break;case 13:ps(Ls);break;case 19:ps(Ls);break;case 10:GF(r.type._context);break;case 22:case 23:n5()}n=n.return}if(qa=t,ba=t=Tv(t.current,null),hl=eu=e,ka=0,$C=null,JF=uk=_0=0,Sc=Vw=null,i0!==null){for(e=0;e<i0.length;e++)if(n=i0[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}i0=null}return t}function Aee(t,e){do{var n=ba;try{if(zF(),bO.current=bM,yM){for(var r=Bs.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yM=!1}if(E0=0,Ua=Ma=Bs=null,Bw=!1,NC=0,QF.current=null,n===null||n.return===null){ka=1,$C=e,ba=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=hl,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if((u.mode&1)===0&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=lB(s);if(h!==null){h.flags&=-257,cB(h,s,a,o,e),h.mode&1&&aB(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if((e&1)===0){aB(o,c,e),r5();break e}l=Error(xn(426))}}else if(Ps&&a.mode&1){var m=lB(s);if(m!==null){(m.flags&65536)===0&&(m.flags|=256),cB(m,s,a,o,e),LF(E1(l,a));break e}}o=l=E1(l,a),ka!==4&&(ka=2),Vw===null?Vw=[o]:Vw.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=hee(o,l,e);eB(o,y);break e;case 1:a=l;var b=o.type,C=o.stateNode;if((o.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ev===null||!Ev.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=pee(o,a,e);eB(o,E);break e}}o=o.return}while(o!==null)}Nee(n)}catch(_){e=_,ba===n&&n!==null&&(ba=n=n.return);continue}break}while(1)}function kee(){var t=xM.current;return xM.current=bM,t===null?bM:t}function r5(){(ka===0||ka===3||ka===2)&&(ka=4),qa===null||(_0&268435455)===0&&(uk&268435455)===0||Qg(qa,hl)}function SM(t,e){var n=uo;uo|=2;var r=kee();(qa!==t||hl!==e)&&(dp=null,g0(t,e));do try{gye();break}catch(i){Aee(t,i)}while(1);if(zF(),uo=n,xM.current=r,ba!==null)throw Error(xn(261));return qa=null,hl=0,ka}function gye(){for(;ba!==null;)Dee(ba)}function vye(){for(;ba!==null&&!Bme();)Dee(ba)}function Dee(t){var e=Iee(t.alternate,t,eu);t.memoizedProps=t.pendingProps,e===null?Nee(t):ba=e,QF.current=null}function Nee(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=lye(n,e,eu),n!==null){ba=n;return}}else{if(n=cye(n,e),n!==null){n.flags&=32767,ba=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ka=6,ba=null;return}}if(e=e.sibling,e!==null){ba=e;return}ba=e=t}while(e!==null);ka===0&&(ka=5)}function Ym(t,e,n){var r=$o,i=af.transition;try{af.transition=null,$o=1,mye(t,e,n,r)}finally{af.transition=i,$o=r}return null}function mye(t,e,n,r){do l1();while(iv!==null);if((uo&6)!==0)throw Error(xn(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(xn(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Zme(t,o),t===qa&&(ba=qa=null,hl=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||WT||(WT=!0,$ee(iM,function(){return l1(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=af.transition,af.transition=null;var s=$o;$o=1;var a=uo;uo|=4,QF.current=null,fye(t,n),Pee(n,t),L0e(Q4),sM=!!Z4,Q4=Z4=null,t.current=n,dye(n),jme(),uo=a,$o=s,af.transition=o}else t.current=n;if(WT&&(WT=!1,iv=t,CM=i),o=t.pendingLanes,o===0&&(Ev=null),Hme(n.stateNode),Mc(t,sa()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wM)throw wM=!1,t=y6,y6=null,t;return(CM&1)!==0&&t.tag!==0&&l1(),o=t.pendingLanes,(o&1)!==0?t===b6?Uw++:(Uw=0,b6=t):Uw=0,Xv(),null}function l1(){if(iv!==null){var t=dJ(CM),e=af.transition,n=$o;try{if(af.transition=null,$o=16>t?16:t,iv===null)var r=!1;else{if(t=iv,iv=null,CM=0,(uo&6)!==0)throw Error(xn(331));var i=uo;for(uo|=4,ir=t.current;ir!==null;){var o=ir,s=o.child;if((ir.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ir=c;ir!==null;){var u=ir;switch(u.tag){case 0:case 11:case 15:jw(8,u,o)}var f=u.child;if(f!==null)f.return=u,ir=f;else for(;ir!==null;){u=ir;var d=u.sibling,h=u.return;if(Eee(u),u===c){ir=null;break}if(d!==null){d.return=h,ir=d;break}ir=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}ir=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,ir=s;else e:for(;ir!==null;){if(o=ir,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:jw(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ir=y;break e}ir=o.return}}var b=t.current;for(ir=b;ir!==null;){s=ir;var C=s.child;if((s.subtreeFlags&2064)!==0&&C!==null)C.return=s,ir=C;else e:for(s=b;ir!==null;){if(a=ir,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:ck(9,a)}}catch(_){Ks(a,a.return,_)}if(a===s){ir=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ir=E;break e}ir=a.return}}if(uo=i,Xv(),th&&typeof th.onPostCommitFiberRoot=="function")try{th.onPostCommitFiberRoot(tk,t)}catch{}r=!0}return r}finally{$o=n,af.transition=e}}return!1}function CB(t,e,n){e=E1(n,e),e=hee(t,e,1),t=Sv(t,e,1),e=Jl(),t!==null&&(fE(t,1,e),Mc(t,e))}function Ks(t,e,n){if(t.tag===3)CB(t,t,n);else for(;e!==null;){if(e.tag===3){CB(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ev===null||!Ev.has(r))){t=E1(n,t),t=pee(e,t,1),e=Sv(e,t,1),t=Jl(),e!==null&&(fE(e,1,t),Mc(e,t));break}}e=e.return}}function yye(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jl(),t.pingedLanes|=t.suspendedLanes&n,qa===t&&(hl&n)===n&&(ka===4||ka===3&&(hl&130023424)===hl&&500>sa()-e5?g0(t,0):JF|=n),Mc(t,e)}function Ree(t,e){e===0&&((t.mode&1)===0?e=1:(e=$T,$T<<=1,($T&130023424)===0&&($T=4194304)));var n=Jl();t=Fp(t,e),t!==null&&(fE(t,e,n),Mc(t,n))}function bye(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ree(t,n)}function xye(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(xn(314))}r!==null&&r.delete(e),Ree(t,n)}var Iee;Iee=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pc.current)Tc=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Tc=!1,aye(t,e,n);Tc=(t.flags&131072)!==0}else Tc=!1,Ps&&(e.flags&1048576)!==0&&FJ(e,hM,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wO(t,e),t=e.pendingProps;var i=x1(e,Il.current);a1(e,n),i=YF(null,e,r,t,i,n);var o=qF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oc(r)?(o=!0,fM(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jF(e),i.updater=ak,e.stateNode=i,i._reactInternals=e,a6(e,r,t,n),e=u6(null,e,r,!0,o,n)):(e.tag=0,Ps&&o&&IF(e),Yl(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wO(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Cye(r),t=jf(r,t),i){case 0:e=c6(null,e,r,t,n);break e;case 1:e=dB(null,e,r,t,n);break e;case 11:e=uB(null,e,r,t,n);break e;case 14:e=fB(null,e,r,jf(r.type,t),n);break e}throw Error(xn(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jf(r,i),c6(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jf(r,i),dB(t,e,r,i,n);case 3:e:{if(yee(e),t===null)throw Error(xn(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jJ(t,e),vM(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=E1(Error(xn(423)),e),e=hB(t,e,r,n,i);break e}else if(r!==i){i=E1(Error(xn(424)),e),e=hB(t,e,r,n,i);break e}else for(au=Cv(e.stateNode.containerInfo.firstChild),uu=e,Ps=!0,Hf=null,n=WJ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(w1(),r===i){e=zp(t,e,n);break e}Yl(t,e,r,n)}e=e.child}return e;case 5:return YJ(e),t===null&&i6(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,J4(r,i)?s=null:o!==null&&J4(r,o)&&(e.flags|=32),mee(t,e),Yl(t,e,s,n),e.child;case 6:return t===null&&i6(e),null;case 13:return bee(t,e,n);case 4:return VF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=C1(e,null,r,n):Yl(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jf(r,i),uB(t,e,r,i,n);case 7:return Yl(t,e,e.pendingProps,n),e.child;case 8:return Yl(t,e,e.pendingProps.children,n),e.child;case 12:return Yl(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ns(pM,r._currentValue),r._currentValue=s,o!==null)if(td(o.value,s)){if(o.children===i.children&&!Pc.current){e=zp(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ap(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),o6(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(xn(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),o6(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Yl(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,a1(e,n),i=uf(i),r=r(i),e.flags|=1,Yl(t,e,r,n),e.child;case 14:return r=e.type,i=jf(r,e.pendingProps),i=jf(r.type,i),fB(t,e,r,i,n);case 15:return gee(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jf(r,i),wO(t,e),e.tag=1,Oc(r)?(t=!0,fM(e)):t=!1,a1(e,n),UJ(e,r,i),a6(e,r,i,n),u6(null,e,r,!0,t,n);case 19:return xee(t,e,n);case 22:return vee(t,e,n)}throw Error(xn(156,e.tag))};function $ee(t,e){return lJ(t,e)}function wye(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function of(t,e,n,r){return new wye(t,e,n,r)}function i5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cye(t){if(typeof t=="function")return i5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===SF)return 11;if(t===EF)return 14}return 2}function Tv(t,e){var n=t.alternate;return n===null?(n=of(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function EO(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")i5(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case $b:return v0(n.children,i,o,e);case CF:s=8,i|=8;break;case k4:return t=of(12,n,e,i|2),t.elementType=k4,t.lanes=o,t;case D4:return t=of(13,n,e,i),t.elementType=D4,t.lanes=o,t;case N4:return t=of(19,n,e,i),t.elementType=N4,t.lanes=o,t;case HQ:return fk(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VQ:s=10;break e;case UQ:s=9;break e;case SF:s=11;break e;case EF:s=14;break e;case Ug:s=16,r=null;break e}throw Error(xn(130,t==null?t:typeof t,""))}return e=of(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function v0(t,e,n,r){return t=of(7,t,r,e),t.lanes=n,t}function fk(t,e,n,r){return t=of(22,t,r,e),t.elementType=HQ,t.lanes=n,t.stateNode={isHidden:!1},t}function TR(t,e,n){return t=of(6,t,null,e),t.lanes=n,t}function PR(t,e,n){return e=of(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sye(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aR(0),this.expirationTimes=aR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aR(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o5(t,e,n,r,i,o,s,a,l){return t=new Sye(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=of(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jF(o),t}function Eye(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ib,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lee(t){if(!t)return kv;t=t._reactInternals;e:{if(H0(t)!==t||t.tag!==1)throw Error(xn(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oc(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xn(171))}if(t.tag===1){var n=t.type;if(Oc(n))return $J(t,n,e)}return e}function Fee(t,e,n,r,i,o,s,a,l){return t=o5(n,r,!0,t,i,o,s,a,l),t.context=Lee(null),n=t.current,r=Jl(),i=_v(n),o=Ap(r,i),o.callback=e!=null?e:null,Sv(n,o,i),t.current.lanes=i,fE(t,i,r),Mc(t,r),t}function dk(t,e,n,r){var i=e.current,o=Jl(),s=_v(i);return n=Lee(n),e.context===null?e.context=n:e.pendingContext=n,e=Ap(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sv(i,e,s),t!==null&&(Jf(t,i,s,o),yO(t,i,s)),s}function EM(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function s5(t,e){SB(t,e),(t=t.alternate)&&SB(t,e)}function _ye(){return null}var zee=typeof reportError=="function"?reportError:function(t){console.error(t)};function a5(t){this._internalRoot=t}hk.prototype.render=a5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xn(409));dk(t,e,null,null)};hk.prototype.unmount=a5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;T0(function(){dk(null,t,null,null)}),e[Lp]=null}};function hk(t){this._internalRoot=t}hk.prototype.unstable_scheduleHydration=function(t){if(t){var e=gJ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zg.length&&e!==0&&e<Zg[n].priority;n++);Zg.splice(n,0,t),n===0&&mJ(t)}};function l5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EB(){}function Tye(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=EM(s);o.call(c)}}var s=Fee(e,r,t,0,null,!1,!1,"",EB);return t._reactRootContainer=s,t[Lp]=s.current,OC(t.nodeType===8?t.parentNode:t),T0(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=EM(l);a.call(c)}}var l=o5(t,0,!1,null,null,!1,!1,"",EB);return t._reactRootContainer=l,t[Lp]=l.current,OC(t.nodeType===8?t.parentNode:t),T0(function(){dk(e,l,n,r)}),l}function gk(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=EM(s);a.call(l)}}dk(e,s,t,i)}else s=Tye(n,e,t,i,r);return EM(s)}hJ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vw(e.pendingLanes);n!==0&&(PF(e,n|1),Mc(e,sa()),(uo&6)===0&&(_1=sa()+500,Xv()))}break;case 13:T0(function(){var r=Fp(t,1);if(r!==null){var i=Jl();Jf(r,t,1,i)}}),s5(t,1)}};OF=function(t){if(t.tag===13){var e=Fp(t,134217728);if(e!==null){var n=Jl();Jf(e,t,134217728,n)}s5(t,134217728)}};pJ=function(t){if(t.tag===13){var e=_v(t),n=Fp(t,e);if(n!==null){var r=Jl();Jf(n,t,e,r)}s5(t,e)}};gJ=function(){return $o};vJ=function(t,e){var n=$o;try{return $o=t,e()}finally{$o=n}};V4=function(t,e,n){switch(e){case"input":if($4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ok(r);if(!i)throw Error(xn(90));YQ(r),$4(r,i)}}}break;case"textarea":XQ(t,n);break;case"select":e=n.value,e!=null&&r1(t,!!n.multiple,e,!1)}};nJ=t5;rJ=T0;var Pye={usingClientEntryPoint:!1,Events:[hE,Gb,ok,eJ,tJ,t5]},Ox={findFiberByHostInstance:r0,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Oye={bundleType:Ox.bundleType,version:Ox.version,rendererPackageName:Ox.rendererPackageName,rendererConfig:Ox.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yp.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sJ(t),t===null?null:t.stateNode},findFiberByHostInstance:Ox.findFiberByHostInstance||_ye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var YT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!YT.isDisabled&&YT.supportsFiber)try{tk=YT.inject(Oye),th=YT}catch{}}yu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pye;yu.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l5(e))throw Error(xn(200));return Eye(t,e,null,n)};yu.createRoot=function(t,e){if(!l5(t))throw Error(xn(299));var n=!1,r="",i=zee;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o5(t,1,!1,null,null,n,!1,r,i),t[Lp]=e.current,OC(t.nodeType===8?t.parentNode:t),new a5(e)};yu.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xn(188)):(t=Object.keys(t).join(","),Error(xn(268,t)));return t=sJ(e),t=t===null?null:t.stateNode,t};yu.flushSync=function(t){return T0(t)};yu.hydrate=function(t,e,n){if(!pk(e))throw Error(xn(200));return gk(null,t,e,!0,n)};yu.hydrateRoot=function(t,e,n){if(!l5(t))throw Error(xn(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=zee;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Fee(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Lp]=e.current,OC(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hk(e)};yu.render=function(t,e,n){if(!pk(e))throw Error(xn(200));return gk(null,t,e,!1,n)};yu.unmountComponentAtNode=function(t){if(!pk(t))throw Error(xn(40));return t._reactRootContainer?(T0(function(){gk(null,null,t,!1,function(){t._reactRootContainer=null,t[Lp]=null})}),!0):!1};yu.unstable_batchedUpdates=t5;yu.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pk(n))throw Error(xn(200));if(t==null||t._reactInternals===void 0)throw Error(xn(38));return gk(t,e,n,!1,r)};yu.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=yu})(y1);const fu=kQ(y1.exports),Mye=AQ({__proto__:null,default:fu},[y1.exports]);var _B=y1.exports;M4.createRoot=_B.createRoot,M4.hydrateRoot=_B.hydrateRoot;function Lt(){return Lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lt.apply(this,arguments)}var s0;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(s0||(s0={}));var TB=function(t){return t},PB="beforeunload",Aye="popstate";function kye(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function o(){var M=r.location,k=M.pathname,I=M.search,A=M.hash,N=i.state||{};return[N.idx,TB({pathname:k,search:I,hash:A,state:N.usr||null,key:N.key||"default"})]}var s=null;function a(){if(s)h.call(s),s=null;else{var M=s0.Pop,k=o(),I=k[0],A=k[1];if(h.length){if(I!=null){var N=u-I;N&&(s={action:M,location:A,retry:function(){_(N*-1)}},_(N))}}else b(M)}}r.addEventListener(Aye,a);var l=s0.Pop,c=o(),u=c[0],f=c[1],d=MB(),h=MB();u==null&&(u=0,i.replaceState(Lt({},i.state,{idx:u}),""));function p(M){return typeof M=="string"?M:Nye(M)}function g(M,k){return k===void 0&&(k=null),TB(Lt({pathname:f.pathname,hash:"",search:""},typeof M=="string"?vk(M):M,{state:k,key:Dye()}))}function m(M,k){return[{usr:M.state,key:M.key,idx:k},p(M)]}function y(M,k,I){return!h.length||(h.call({action:M,location:k,retry:I}),!1)}function b(M){l=M;var k=o();u=k[0],f=k[1],d.call({action:l,location:f})}function C(M,k){var I=s0.Push,A=g(M,k);function N(){C(M,k)}if(y(I,A,N)){var $=m(A,u+1),L=$[0],B=$[1];try{i.pushState(L,"",B)}catch{r.location.assign(B)}b(I)}}function E(M,k){var I=s0.Replace,A=g(M,k);function N(){E(M,k)}if(y(I,A,N)){var $=m(A,u),L=$[0],B=$[1];i.replaceState(L,"",B),b(I)}}function _(M){i.go(M)}var w={get action(){return l},get location(){return f},createHref:p,push:C,replace:E,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(k){return d.push(k)},block:function(k){var I=h.push(k);return h.length===1&&r.addEventListener(PB,OB),function(){I(),h.length||r.removeEventListener(PB,OB)}}};return w}function OB(t){t.preventDefault(),t.returnValue=""}function MB(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function Dye(){return Math.random().toString(36).substr(2,8)}function Nye(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function vk(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Rye=T.exports.createContext(null),c5=T.exports.createContext(null),Gee=T.exports.createContext({outlet:null,matches:[]});function Dv(t,e){if(!t)throw new Error(e)}function Iye(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vk(e):e,i=jee(r.pathname||"/",n);if(i==null)return null;let o=Bee(t);$ye(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=Hye(o[a],i);return s}function Bee(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||Dv(!1),s.relativePath=s.relativePath.slice(r.length));let a=c1([r,s.relativePath]),l=n.concat(s);i.children&&i.children.length>0&&(i.index===!0&&Dv(!1),Bee(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:Vye(a,i.index),routesMeta:l})}),e}function $ye(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Uye(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lye=/^:\w+$/,Fye=3,zye=2,Gye=1,Bye=10,jye=-2,AB=t=>t==="*";function Vye(t,e){let n=t.split("/"),r=n.length;return n.some(AB)&&(r+=jye),e&&(r+=zye),n.filter(i=>!AB(i)).reduce((i,o)=>i+(Lye.test(o)?Fye:o===""?Gye:Bye),r)}function Uye(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Hye(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Wye({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let f=a.route;o.push({params:r,pathname:c1([i,u.pathname]),pathnameBase:Vee(c1([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=c1([i,u.pathnameBase]))}return o}function Wye(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Yye(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{if(u==="*"){let d=a[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=qye(a[f]||""),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Yye(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function qye(t,e){try{return decodeURIComponent(t)}catch{return t}}function jee(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const c1=t=>t.join("/").replace(/\/\/+/g,"/"),Vee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function u5(){return T.exports.useContext(c5)!=null}function Xye(){return u5()||Dv(!1),T.exports.useContext(c5).location}function Kye(t,e){u5()||Dv(!1);let{matches:n}=T.exports.useContext(Gee),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let s=Xye(),a;if(e){var l;let d=typeof e=="string"?vk(e):e;o==="/"||((l=d.pathname)==null?void 0:l.startsWith(o))||Dv(!1),a=d}else a=s;let c=a.pathname||"/",u=o==="/"?c:c.slice(o.length)||"/",f=Iye(t,{pathname:u});return Zye(f&&f.map(d=>Object.assign({},d,{params:Object.assign({},i,d.params),pathname:c1([o,d.pathname]),pathnameBase:d.pathnameBase==="/"?o:c1([o,d.pathnameBase])})),n)}function Zye(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>T.exports.createElement(Gee.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function Uee(t){Dv(!1)}function Qye(t){let{basename:e="/",children:n=null,location:r,navigationType:i=s0.Pop,navigator:o,static:s=!1}=t;u5()&&Dv(!1);let a=Vee(e),l=T.exports.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=vk(r));let{pathname:c="/",search:u="",hash:f="",state:d=null,key:h="default"}=r,p=T.exports.useMemo(()=>{let g=jee(c,a);return g==null?null:{pathname:g,search:u,hash:f,state:d,key:h}},[a,c,u,f,d,h]);return p==null?null:T.exports.createElement(Rye.Provider,{value:l},T.exports.createElement(c5.Provider,{children:n,value:{location:p,navigationType:i}}))}function Jye(t){let{children:e,location:n}=t;return Kye(C6(e),n)}function C6(t){let e=[];return T.exports.Children.forEach(t,n=>{if(!T.exports.isValidElement(n))return;if(n.type===T.exports.Fragment){e.push.apply(e,C6(n.props.children));return}n.type!==Uee&&Dv(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=C6(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ebe(t){let{basename:e,children:n,window:r}=t,i=T.exports.useRef();i.current==null&&(i.current=kye({window:r}));let o=i.current,[s,a]=T.exports.useState({action:o.action,location:o.location});return T.exports.useLayoutEffect(()=>o.listen(a),[o]),T.exports.createElement(Qye,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}var Xf="named",Hee="name",mk="unmanaged",f5="optional",yk="inject",LC="multi_inject",Wee="inversify:tagged",Yee="inversify:tagged_props",S6="inversify:paramtypes",tbe="design:paramtypes",Hw="post_construct";function nbe(){return[yk,LC,Hee,mk,Xf,f5]}var kB=nbe(),ll={Request:"Request",Singleton:"Singleton",Transient:"Transient"},al={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},Cp={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},rbe=0;function gE(){return rbe++}var ibe=function(){function t(e,n){this.id=gE(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=al.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===ll.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}(),obe="Cannot apply @injectable decorator multiple times.",sbe="Metadata key was used more than once in a parameter:",Mx="NULL argument",DB="Key Not Found",abe="Ambiguous match found for serviceIdentifier:",lbe="Could not unbind serviceIdentifier:",cbe="No matching bindings found for serviceIdentifier:",ube="Missing required @injectable annotation in:",fbe="Missing required @inject or @multiInject annotation in:",dbe=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},hbe="Circular dependency found:",pbe="Invalid binding type:",gbe="No snapshot available to restore.",vbe="Invalid return type in middleware. Middleware must return!",mbe="Value provided to function binding must be a function!",ybe="The toSelf function can only be applied when a constructor is used as service identifier",bbe="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",xbe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")},wbe="Invalid Container constructor argument. Container options must be an object.",Cbe="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",Sbe="Invalid Container option. Auto bind injectable must be a boolean",Ebe="Invalid Container option. Skip base check must be a boolean",_be="Cannot apply @postConstruct decorator multiple times in the same class",Tbe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},Pbe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency "+("in one of the '"+t[0]+"' bindings. Please investigate bindings with")+("service identifier '"+t[1]+"'.")},Obe="Maximum call stack size exceeded",Mbe=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata(S6,e),r=Reflect.getMetadata(Wee,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata(Yee,e)||[];return n},t}(),_O={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function qee(t){return t instanceof RangeError||t.message===Obe}function FC(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}function NB(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=bk(o.implementationType)),r=r+`
 `+s,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function Xee(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:Xee(t.parentRequest,e)}function Abe(t){function e(r,i){i===void 0&&(i=[]);var o=FC(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function Kee(t){t.childRequests.forEach(function(e){if(Xee(e,e.serviceIdentifier)){var n=Abe(e);throw new Error(hbe+" "+n)}else Kee(e)})}function kbe(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}function bk(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}var Zee=function(){function t(e){this.id=gE(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}(),nd=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===Xf?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}(),Dbe=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();function xk(t,e,n,r){var i=Wee;Qee(i,t,e,r,n)}function d5(t,e,n){var r=Yee;Qee(r,t.constructor,e,n)}function Qee(t,e,n,r,i){var o={},s=typeof i=="number",a=i!==void 0&&s?i.toString():n;if(s&&n!==void 0)throw new Error(bbe);Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var l=o[a];if(!Array.isArray(l))l=[];else for(var c=0,u=l;c<u.length;c++){var f=u[c];if(f.key===r.key)throw new Error(sbe+" "+f.key.toString())}l.push(r),o[a]=l,Reflect.defineMetadata(t,o,e)}function RB(t,e){Reflect.decorate(t,e)}function Nbe(t,e){return function(n,r){e(n,r,t)}}function Rbe(t,e,n){typeof n=="number"?RB([Nbe(n,t)],e):typeof n=="string"?Reflect.decorate([t],e,n):RB([t],e)}var Ibe=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();function hr(t){return function(e,n,r){if(t===void 0)throw new Error(dbe(e.name));var i=new nd(yk,t);typeof r=="number"?xk(e,n,r,i):d5(e,n,i)}}var $be=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}(),wk=function(){function t(e,n,r,i){this.id=gE(),this.type=e,this.serviceIdentifier=r,this.name=new $be(n||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new nd(Xf,i):i instanceof nd&&(o=i),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(LC)},t.prototype.matchesArray=function(e){return this.matchesTag(LC)(e)},t.prototype.isNamed=function(){return this.hasTag(Xf)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return kB.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(f5)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===Xf})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return kB.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(Xf)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===r)return!0}return!1}},t}(),_M=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function Lbe(t,e){var n=bk(e),r=Jee(t,n,e,!1);return r}function Jee(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var s=ube+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,l=Object.keys(a),c=n.length===0&&l.length>0,u=l.length>n.length,f=c||u?l.length:n.length,d=zbe(r,e,o,a,f),h=ete(t,n),p=_M(_M([],d),h);return p}function Fbe(t,e,n,r,i){var o=i[t.toString()]||[],s=nte(o),a=s.unmanaged!==!0,l=r[t],c=s.inject||s.multiInject;if(l=c||l,l instanceof Ibe&&(l=l.unwrap()),a){var u=l===Object,f=l===Function,d=l===void 0,h=u||f||d;if(!e&&h){var p=fbe+" argument "+t+" in class "+n+".";throw new Error(p)}var g=new wk(Cp.ConstructorArgument,s.targetName,l);return g.metadata=o,g}return null}function zbe(t,e,n,r,i){for(var o=[],s=0;s<i;s++){var a=s,l=Fbe(a,t,e,n,r);l!==null&&o.push(l)}return o}function ete(t,e){for(var n=t.getPropertiesMetadata(e),r=[],i=Object.keys(n),o=0,s=i;o<s.length;o++){var a=s[o],l=n[a],c=nte(n[a]),u=c.targetName||a,f=c.inject||c.multiInject,d=new wk(Cp.ClassProperty,u,f);d.metadata=l,r.push(d)}var h=Object.getPrototypeOf(e.prototype).constructor;if(h!==Object){var p=ete(t,h);r=_M(_M([],r),p)}return r}function tte(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=bk(n),i=Jee(t,r,n,!0),o=i.map(function(l){return l.metadata.filter(function(c){return c.key===mk})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:tte(t,n)}else return 0}function nte(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[yk],multiInject:e[LC],targetName:e[Hee],unmanaged:e[mk]}}var h5=function(){function t(e,n,r,i,o){this.id=gE(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();function E6(t){return t._bindingDictionary}function Gbe(t,e,n,r,i,o){var s=t?LC:yk,a=new nd(s,n),l=new wk(e,r,n,a);if(i!==void 0){var c=new nd(i,o);l.metadata.push(c)}return l}function IB(t,e,n,r,i){var o=zC(n.container,i.serviceIdentifier),s=[];return o.length===_O.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=zC(n.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var l=new h5(a.serviceIdentifier,n,r,a,i);return a.constraint(l)}),Bbe(i.serviceIdentifier,s,i,n.container),s}function Bbe(t,e,n,r){switch(e.length){case _O.NoBindingsAvailable:if(n.isOptional())return e;var i=FC(t),o=cbe;throw o+=kbe(i,n),o+=NB(r,i,zC),new Error(o);case _O.OnlyOneBindingAvailable:if(!n.isArray())return e;case _O.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=FC(t),o=abe+" "+i;throw o+=NB(r,i,zC),new Error(o)}}function rte(t,e,n,r,i,o){var s,a;if(i===null){s=IB(t,e,r,null,o),a=new h5(n,r,null,s,o);var l=new Dbe(r,a);r.addPlan(l)}else s=IB(t,e,r,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(c){var u=null;if(o.isArray())u=a.addChildRequest(c.serviceIdentifier,c,o);else{if(c.cache)return;u=a}if(c.type===al.Instance&&c.implementationType!==null){var f=Lbe(t,c.implementationType);if(!r.container.options.skipBaseClassChecks){var d=tte(t,c.implementationType);if(f.length<d){var h=xbe(bk(c.implementationType));throw new Error(h)}}f.forEach(function(p){rte(t,!1,p.serviceIdentifier,r,u,p)})}})}function zC(t,e){var n=[],r=E6(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=zC(t.parent,e)),n}function jbe(t,e,n,r,i,o,s,a){a===void 0&&(a=!1);var l=new Zee(e),c=Gbe(n,r,i,"",o,s);try{return rte(t,a,i,l,null,c),l}catch(u){throw qee(u)&&l.plan&&Kee(l.plan.rootRequest),u}}function Vbe(t,e,n,r){var i=new wk(Cp.Variable,"",e,new nd(n,r)),o=new Zee(t),s=new h5(e,o,null,[],i);return s}var Ube=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};function Hbe(t,e,n){var r=e.filter(function(o){return o.target!==null&&o.target.type===Cp.ClassProperty}),i=r.map(n);return r.forEach(function(o,s){var a="";a=o.target.name.value();var l=i[s];t[a]=l}),t}function Wbe(t,e){return new(t.bind.apply(t,Ube([void 0],e)))}function Ybe(t,e){if(Reflect.hasMetadata(Hw,t)){var n=Reflect.getMetadata(Hw,t);try{e[n.value]()}catch(r){throw new Error(Tbe(t.name,r.message))}}}function qbe(t,e,n){var r=null;if(e.length>0){var i=e.filter(function(s){return s.target!==null&&s.target.type===Cp.ConstructorArgument}),o=i.map(n);r=Wbe(t,o),r=Hbe(r,e,n)}else r=new t;return Ybe(t,r),r}var OR=function(t,e,n){try{return n()}catch(r){throw qee(r)?new Error(Pbe(t,e.toString())):r}},_6=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(f){var d=_6(t);return d(f)});var s=null;if(e.target.isOptional()&&n.length===0)return;var a=n[0],l=a.scope===ll.Singleton,c=a.scope===ll.Request;if(l&&a.activated)return a.cache;if(c&&t!==null&&t.has(a.id))return t.get(a.id);if(a.type===al.ConstantValue)s=a.cache,a.activated=!0;else if(a.type===al.Function)s=a.cache,a.activated=!0;else if(a.type===al.Constructor)s=a.implementationType;else if(a.type===al.DynamicValue&&a.dynamicValue!==null)s=OR("toDynamicValue",a.serviceIdentifier,function(){return a.dynamicValue(e.parentContext)});else if(a.type===al.Factory&&a.factory!==null)s=OR("toFactory",a.serviceIdentifier,function(){return a.factory(e.parentContext)});else if(a.type===al.Provider&&a.provider!==null)s=OR("toProvider",a.serviceIdentifier,function(){return a.provider(e.parentContext)});else if(a.type===al.Instance&&a.implementationType!==null)s=qbe(a.implementationType,r,_6(t));else{var u=FC(e.serviceIdentifier);throw new Error(pbe+" "+u)}return typeof a.onActivation=="function"&&(s=a.onActivation(e.parentContext,s)),l&&(a.cache=s,a.activated=!0),c&&t!==null&&!t.has(a.id)&&t.set(a.id,s),s}};function Xbe(t){var e=_6(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}var fp=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:fp(n,e):!1},yw=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new nd(t,e),n}},qT=yw(Xf),MR=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}},p5=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new ol(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=qT(e),new ol(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new ol(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=yw(e)(n),new ol(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return MR(e)(n.parentRequest)},new ol(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return qT(e)(n.parentRequest)},new ol(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return yw(e)(n)(r.parentRequest)},new ol(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return fp(n,MR(e))},new ol(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return!fp(n,MR(e))},new ol(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return fp(n,qT(e))},new ol(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return!fp(n,qT(e))},new ol(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return fp(r,yw(e)(n))},new ol(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return!fp(r,yw(e)(n))},new ol(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return fp(n,e)},new ol(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return!fp(n,e)},new ol(this._binding)},t}(),ol=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new p5(this._binding)},t}(),Jg=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new p5(this._binding),this._bindingOnSyntax=new ol(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),Kbe=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=ll.Request,new Jg(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=ll.Singleton,new Jg(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=ll.Transient,new Jg(this._binding)},t}(),$B=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new p5(this._binding),this._bindingOnSyntax=new ol(this._binding),this._bindingInSyntax=new Kbe(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t}(),Zbe=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=al.Instance,this._binding.implementationType=e,new $B(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+ybe);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=al.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=ll.Singleton,new Jg(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=al.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new $B(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=al.Constructor,this._binding.implementationType=e,this._binding.scope=ll.Singleton,new Jg(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=al.Factory,this._binding.factory=e,this._binding.scope=ll.Singleton,new Jg(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(mbe);var n=this.toConstantValue(e);return this._binding.type=al.Function,this._binding.scope=ll.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=al.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=ll.Singleton,new Jg(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=al.Provider,this._binding.provider=e,this._binding.scope=ll.Singleton,new Jg(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}(),Qbe=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}(),LB=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error(Mx);if(n==null)throw new Error(Mx);var r=this._map.get(e);r!==void 0?(r.push(n),this._map.set(e,r)):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error(Mx);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(DB)},t.prototype.remove=function(e){if(e==null)throw new Error(Mx);if(!this._map.delete(e))throw new Error(DB)},t.prototype.removeByCondition=function(e){var n=this;this._map.forEach(function(r,i){var o=r.filter(function(s){return!e(s)});o.length>0?n._map.set(i,o):n._map.delete(i)})},t.prototype.hasKey=function(e){if(e==null)throw new Error(Mx);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,i.clone())})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t}(),Jbe=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},e1e=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},t1e=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ck=function(){function t(e){this._appliedMiddleware=[];var n=e||{};if(typeof n!="object")throw new Error(""+wbe);if(n.defaultScope===void 0)n.defaultScope=ll.Transient;else if(n.defaultScope!==ll.Singleton&&n.defaultScope!==ll.Transient&&n.defaultScope!==ll.Request)throw new Error(""+Cbe);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+Sbe);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+Ebe);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=gE(),this._bindingDictionary=new LB,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new Mbe}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,s=t1e([e,n],r).map(function(c){return E6(c)}),a=E6(o);function l(c,u){c.traverse(function(f,d){d.forEach(function(h){u.add(h.serviceIdentifier,h.clone())})})}return s.forEach(function(c){l(c,a)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=r(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Jbe(this,void 0,void 0,function(){var r,i,o,s,a;return e1e(this,function(l){switch(l.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,l.label=1;case 1:return i<o.length?(s=o[i],a=r(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(o){return function(s){return s.moduleId===o}};n.forEach(function(o){var s=i(o.id);e._bindingDictionary.removeByCondition(s)})},t.prototype.bind=function(e){var n=this.options.defaultScope||ll.Transient,r=new ibe(e,n);return this._bindingDictionary.add(e,r),new Zbe(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(lbe+" "+FC(e))}},t.prototype.unbindAll=function(){this._bindingDictionary=new LB},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,Xf,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=Vbe(this,e,n,r);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(Qbe.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(gbe);this._bindingDictionary=e.bindings,this._middleware=e.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._appliedMiddleware=this._appliedMiddleware.concat(e);var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){return this._get(!1,!1,Cp.Variable,e)},t.prototype.getTagged=function(e,n,r){return this._get(!1,!1,Cp.Variable,e,n,r)},t.prototype.getNamed=function(e,n){return this.getTagged(e,Xf,n)},t.prototype.getAll=function(e){return this._get(!0,!0,Cp.Variable,e)},t.prototype.getAllTagged=function(e,n,r){return this._get(!1,!0,Cp.Variable,e,n,r)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,Xf,n)},t.prototype.resolve=function(e){var n=this.createChild();return n.bind(e).toSelf(),this._appliedMiddleware.forEach(function(r){n.applyMiddleware(r)}),n.get(e)},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(a,l){a._binding.moduleId=l},r=function(a){return function(l){var c=e.bind.bind(e),u=c(l);return n(u,a),u}},i=function(a){return function(l){var c=e.unbind.bind(e);c(l)}},o=function(a){return function(l){var c=e.isBound.bind(e);return c(l)}},s=function(a){return function(l){var c=e.rebind.bind(e),u=c(l);return n(u,a),u}};return function(a){return{bindFunction:r(a),isboundFunction:o(),rebindFunction:s(a),unbindFunction:i()}}},t.prototype._get=function(e,n,r,i,o,s){var a=null,l={avoidConstraints:e,contextInterceptor:function(c){return c},isMultiInject:n,key:o,serviceIdentifier:i,targetType:r,value:s};if(this._middleware){if(a=this._middleware(l),a==null)throw new Error(vbe)}else a=this._planAndResolve()(l);return a},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=jbe(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=Xbe(r);return i}},t}();function Ki(){return function(t){if(Reflect.hasOwnMetadata(S6,t))throw new Error(obe);var e=Reflect.getMetadata(tbe,t)||[];return Reflect.defineMetadata(S6,e,t),t}}function rd(t){return function(e,n,r){var i=new nd(Xf,t);typeof r=="number"?xk(e,n,r,i):d5(e,n,i)}}function n1e(){return function(t,e,n){var r=new nd(f5,!0);typeof n=="number"?xk(t,e,n,r):d5(t,e,r)}}function r1e(){return function(t,e,n){var r=new nd(mk,!0);xk(t,e,n,r)}}function rs(){return function(t,e,n){var r=new nd(Hw,e);if(Reflect.hasOwnMetadata(Hw,t.constructor))throw new Error(_be);Reflect.defineMetadata(Hw,r,t.constructor)}}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){i1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pv=function(e){return typeof e}:Pv=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function vE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sk(t,e,n){return e&&zB(t.prototype,e),n&&zB(t,n),t}function i1e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o1e(t){return s1e(t)||a1e(t)||l1e(t)||c1e()}function s1e(t){if(Array.isArray(t))return T6(t)}function a1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l1e(t,e){if(!!t){if(typeof t=="string")return T6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T6(t,e)}}function T6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var GB;(function(t){(function(e){var n=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect>"u"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,s){return function(a,l){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:l}),s&&s(a,l)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,l=!s&&!a,c={create:s?function(){return Z(Object.create(null))}:a?function(){return Z({__proto__:null})}:function(){return Z({})},has:l?function(J,xe){return n.call(J,xe)}:function(J,xe){return xe in J},get:l?function(J,xe){return n.call(J,xe)?J[xe]:void 0}:function(J,xe){return J[xe]}},u=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ct(),h=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ln(),p=!f&&typeof WeakMap=="function"?WeakMap:bn(),g=new p;function m(J,xe,Se,ze){if(se(Se)){if(!tt(J))throw new TypeError;if(!bt(xe))throw new TypeError;return A(J,xe)}else{if(!tt(J))throw new TypeError;if(!K(xe))throw new TypeError;if(!K(ze)&&!se(ze)&&!fe(ze))throw new TypeError;return fe(ze)&&(ze=void 0),Se=$e(Se),N(J,xe,Se,ze)}}e("decorate",m);function y(J,xe){function Se(ze,ot){if(!K(ze))throw new TypeError;if(!se(ot)&&!X(ot))throw new TypeError;te(J,xe,ze,ot)}return Se}e("metadata",y);function b(J,xe,Se,ze){if(!K(Se))throw new TypeError;return se(ze)||(ze=$e(ze)),te(J,xe,Se,ze)}e("defineMetadata",b);function C(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),L(J,xe,Se)}e("hasMetadata",C);function E(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),B(J,xe,Se)}e("hasOwnMetadata",E);function _(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),j(J,xe,Se)}e("getMetadata",_);function w(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),H(J,xe,Se)}e("getOwnMetadata",w);function M(J,xe){if(!K(J))throw new TypeError;return se(xe)||(xe=$e(xe)),Y(J,xe)}e("getMetadataKeys",M);function k(J,xe){if(!K(J))throw new TypeError;return se(xe)||(xe=$e(xe)),ue(J,xe)}e("getOwnMetadataKeys",k);function I(J,xe,Se){if(!K(xe))throw new TypeError;se(Se)||(Se=$e(Se));var ze=$(xe,Se,!1);if(se(ze)||!ze.delete(J))return!1;if(ze.size>0)return!0;var ot=g.get(xe);return ot.delete(Se),ot.size>0||g.delete(xe),!0}e("deleteMetadata",I);function A(J,xe){for(var Se=J.length-1;Se>=0;--Se){var ze=J[Se],ot=ze(xe);if(!se(ot)&&!fe(ot)){if(!bt(ot))throw new TypeError;xe=ot}}return xe}function N(J,xe,Se,ze){for(var ot=J.length-1;ot>=0;--ot){var yn=J[ot],xt=yn(xe,Se,ze);if(!se(xt)&&!fe(xt)){if(!K(xt))throw new TypeError;ze=xt}}return ze}function $(J,xe,Se){var ze=g.get(J);if(se(ze)){if(!Se)return;ze=new d,g.set(J,ze)}var ot=ze.get(xe);if(se(ot)){if(!Se)return;ot=new d,ze.set(xe,ot)}return ot}function L(J,xe,Se){var ze=B(J,xe,Se);if(ze)return!0;var ot=$t(xe);return fe(ot)?!1:L(J,ot,Se)}function B(J,xe,Se){var ze=$(xe,Se,!1);return se(ze)?!1:Re(ze.has(J))}function j(J,xe,Se){var ze=B(J,xe,Se);if(ze)return H(J,xe,Se);var ot=$t(xe);if(!fe(ot))return j(J,ot,Se)}function H(J,xe,Se){var ze=$(xe,Se,!1);if(!se(ze))return ze.get(J)}function te(J,xe,Se,ze){var ot=$(Se,ze,!0);ot.set(J,xe)}function Y(J,xe){var Se=ue(J,xe),ze=$t(J);if(ze===null)return Se;var ot=Y(ze,xe);if(ot.length<=0)return Se;if(Se.length<=0)return ot;for(var yn=new h,xt=[],It=0,qe=Se;It<qe.length;It++){var Tt=qe[It],Dt=yn.has(Tt);Dt||(yn.add(Tt),xt.push(Tt))}for(var _n=0,lr=ot;_n<lr.length;_n++){var Tt=lr[_n],Dt=yn.has(Tt);Dt||(yn.add(Tt),xt.push(Tt))}return xt}function ue(J,xe){var Se=[],ze=$(J,xe,!1);if(se(ze))return Se;for(var ot=ze.keys(),yn=ne(ot),xt=0;;){var It=je(yn);if(!It)return Se.length=xt,Se;var qe=ke(It);try{Se[xt]=qe}catch(Tt){try{Ve(yn)}finally{throw Tt}}xt++}}function ce(J){if(J===null)return 1;switch(typeof J){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return J===null?1:6;default:return 6}}function se(J){return J===void 0}function fe(J){return J===null}function me(J){return typeof J=="symbol"}function K(J){return typeof J=="object"?J!==null:typeof J=="function"}function le(J,xe){switch(ce(J)){case 0:return J;case 1:return J;case 2:return J;case 3:return J;case 4:return J;case 5:return J}var Se=xe===3?"string":xe===5?"number":"default",ze=ve(J,i);if(ze!==void 0){var ot=ze.call(J,Se);if(K(ot))throw new TypeError;return ot}return Ne(J,Se==="default"?"number":Se)}function Ne(J,xe){if(xe==="string"){var Se=J.toString;if(Pt(Se)){var ze=Se.call(J);if(!K(ze))return ze}var ot=J.valueOf;if(Pt(ot)){var ze=ot.call(J);if(!K(ze))return ze}}else{var ot=J.valueOf;if(Pt(ot)){var ze=ot.call(J);if(!K(ze))return ze}var yn=J.toString;if(Pt(yn)){var ze=yn.call(J);if(!K(ze))return ze}}throw new TypeError}function Re(J){return!!J}function Je(J){return""+J}function $e(J){var xe=le(J,3);return me(xe)?xe:Je(xe)}function tt(J){return Array.isArray?Array.isArray(J):J instanceof Object?J instanceof Array:Object.prototype.toString.call(J)==="[object Array]"}function Pt(J){return typeof J=="function"}function bt(J){return typeof J=="function"}function X(J){switch(ce(J)){case 3:return!0;case 4:return!0;default:return!1}}function ve(J,xe){var Se=J[xe];if(Se!=null){if(!Pt(Se))throw new TypeError;return Se}}function ne(J){var xe=ve(J,o);if(!Pt(xe))throw new TypeError;var Se=xe.call(J);if(!K(Se))throw new TypeError;return Se}function ke(J){return J.value}function je(J){var xe=J.next();return xe.done?!1:xe}function Ve(J){var xe=J.return;xe&&xe.call(J)}function $t(J){var xe=Object.getPrototypeOf(J);if(typeof J!="function"||J===u||xe!==u)return xe;var Se=J.prototype,ze=Se&&Object.getPrototypeOf(Se);if(ze==null||ze===Object.prototype)return xe;var ot=ze.constructor;return typeof ot!="function"||ot===J?xe:ot}function Ct(){var J={},xe=[],Se=function(){function xt(It,qe,Tt){this._index=0,this._keys=It,this._values=qe,this._selector=Tt}return xt.prototype["@@iterator"]=function(){return this},xt.prototype[o]=function(){return this},xt.prototype.next=function(){var It=this._index;if(It>=0&&It<this._keys.length){var qe=this._selector(this._keys[It],this._values[It]);return It+1>=this._keys.length?(this._index=-1,this._keys=xe,this._values=xe):this._index++,{value:qe,done:!1}}return{value:void 0,done:!0}},xt.prototype.throw=function(It){throw this._index>=0&&(this._index=-1,this._keys=xe,this._values=xe),It},xt.prototype.return=function(It){return this._index>=0&&(this._index=-1,this._keys=xe,this._values=xe),{value:It,done:!0}},xt}();return function(){function xt(){this._keys=[],this._values=[],this._cacheKey=J,this._cacheIndex=-2}return Object.defineProperty(xt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),xt.prototype.has=function(It){return this._find(It,!1)>=0},xt.prototype.get=function(It){var qe=this._find(It,!1);return qe>=0?this._values[qe]:void 0},xt.prototype.set=function(It,qe){var Tt=this._find(It,!0);return this._values[Tt]=qe,this},xt.prototype.delete=function(It){var qe=this._find(It,!1);if(qe>=0){for(var Tt=this._keys.length,Dt=qe+1;Dt<Tt;Dt++)this._keys[Dt-1]=this._keys[Dt],this._values[Dt-1]=this._values[Dt];return this._keys.length--,this._values.length--,It===this._cacheKey&&(this._cacheKey=J,this._cacheIndex=-2),!0}return!1},xt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=J,this._cacheIndex=-2},xt.prototype.keys=function(){return new Se(this._keys,this._values,ze)},xt.prototype.values=function(){return new Se(this._keys,this._values,ot)},xt.prototype.entries=function(){return new Se(this._keys,this._values,yn)},xt.prototype["@@iterator"]=function(){return this.entries()},xt.prototype[o]=function(){return this.entries()},xt.prototype._find=function(It,qe){return this._cacheKey!==It&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=It)),this._cacheIndex<0&&qe&&(this._cacheIndex=this._keys.length,this._keys.push(It),this._values.push(void 0)),this._cacheIndex},xt}();function ze(xt,It){return xt}function ot(xt,It){return It}function yn(xt,It){return[xt,It]}}function ln(){return function(){function J(){this._map=new d}return Object.defineProperty(J.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),J.prototype.has=function(xe){return this._map.has(xe)},J.prototype.add=function(xe){return this._map.set(xe,xe),this},J.prototype.delete=function(xe){return this._map.delete(xe)},J.prototype.clear=function(){this._map.clear()},J.prototype.keys=function(){return this._map.keys()},J.prototype.values=function(){return this._map.values()},J.prototype.entries=function(){return this._map.entries()},J.prototype["@@iterator"]=function(){return this.keys()},J.prototype[o]=function(){return this.keys()},J}()}function bn(){var J=16,xe=c.create(),Se=ze();return function(){function qe(){this._key=ze()}return qe.prototype.has=function(Tt){var Dt=ot(Tt,!1);return Dt!==void 0?c.has(Dt,this._key):!1},qe.prototype.get=function(Tt){var Dt=ot(Tt,!1);return Dt!==void 0?c.get(Dt,this._key):void 0},qe.prototype.set=function(Tt,Dt){var _n=ot(Tt,!0);return _n[this._key]=Dt,this},qe.prototype.delete=function(Tt){var Dt=ot(Tt,!1);return Dt!==void 0?delete Dt[this._key]:!1},qe.prototype.clear=function(){this._key=ze()},qe}();function ze(){var qe;do qe="@@WeakMap@@"+It();while(c.has(xe,qe));return xe[qe]=!0,qe}function ot(qe,Tt){if(!n.call(qe,Se)){if(!Tt)return;Object.defineProperty(qe,Se,{value:c.create()})}return qe[Se]}function yn(qe,Tt){for(var Dt=0;Dt<Tt;++Dt)qe[Dt]=Math.random()*255|0;return qe}function xt(qe){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(qe)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(qe)):yn(new Uint8Array(qe),qe):yn(new Array(qe),qe)}function It(){var qe=xt(J);qe[6]=qe[6]&79|64,qe[8]=qe[8]&191|128;for(var Tt="",Dt=0;Dt<J;++Dt){var _n=qe[Dt];(Dt===4||Dt===6||Dt===8)&&(Tt+="-"),_n<16&&(Tt+="0"),Tt+=_n.toString(16).toLowerCase()}return Tt}}function Z(J){return J.__=void 0,delete J.__,J}})})(GB||(GB={}));var yo;(function(t){t.defineToken=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{multiple:!0};return new t.DefinedToken(i,o)};var e=function i(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vE(this,i),this.prototype={},this.name=void 0,this.multiple=void 0,this.symbol=void 0;var a=s.multiple,l=a===void 0?!1:a;this.name=o,this.symbol=Symbol(this.name),this.multiple=l};t.DefinedToken=e;function n(i){return!!i&&Pv(i)==="object"&&"id"in i&&"registry"in i}t.isModule=n;var r;(function(i){i.singleton="singleton",i.transient="transient"})(r=t.Lifecycle||(t.Lifecycle={})),t.ClassOptionSymbol=Symbol("SyringeClassOptionSymbol"),t.DefaultOption={lifecycle:r.transient}})(yo||(yo={}));var Ha;(function(t){function e(a){return a instanceof Array?a:a!==void 0?[a]:[]}t.maybeArrayToArray=e;function n(a){return!!(a&&typeof a=="function"&&"prototype"in a)}t.isClass=n;function r(a){return!!(a&&Pv(a)==="object"&&"symbol"in a&&"multiple"in a)}t.isDefinedToken=r;function i(a){return!!(a&&Pv(a)==="object"&&"token"in a)}t.isInjectOption=i;function o(a){return!!(a&&Pv(a)==="object"&&"token"in a&&"named"in a)}t.isNamedToken=o;function s(a){return t.isDefinedToken(a)&&a.multiple}t.isMultipleEnabled=s})(Ha||(Ha={}));function u1e(t){return t.inSingletonScope()}function f1e(t){return t.inTransientScope()}function XT(t,e){return e.lifecycle===yo.Lifecycle.singleton?u1e(t):f1e(t)}function KT(t,e){t.whenTargetNamed(Ww(e))}function Ax(t,e){return e.container.bind(tu(t))}function kx(t,e){var n=e.container.parent,r=n&&n.isBound(tu(t));return e.container.isBound(tu(t))&&!r?e.container.rebind(tu(t)):e.container.bind(tu(t))}function d1e(t){return t&&Pv(t)==="object"&&"container"in t&&"inversify"in t}function Ww(t){return Ha.isDefinedToken(t)?t.symbol:t}function tu(t){return Ha.isDefinedToken(t)?t.symbol:t}var h1e=new Ck;function Ur(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Ki();return function(n){Reflect.defineMetadata(yo.ClassOptionSymbol,ql(ql({},t),{},{target:n}),n),e(n)}}function Ca(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ur(ql(ql({},t),{},{lifecycle:yo.Lifecycle.singleton}))}function p1e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ur(ql(ql({},t),{},{lifecycle:yo.Lifecycle.transient}))}function jn(t){return hr(tu(t))}function ite(t){return rd(Ww(t))}var g5=Symbol("SyringeOptionSymbol"),g1e=function(e,n){Reflect.defineMetadata(g5,e,n)};function v1e(t){var e=Ha.maybeArrayToArray(t.token),n=Ha.maybeArrayToArray(t.useClass),r=Ha.maybeArrayToArray(t.useDynamic),i=Ha.maybeArrayToArray(t.useFactory),o=Ha.maybeArrayToArray(t.contrib),s=t.lifecycle||yo.Lifecycle.transient,a={token:e,useClass:n,lifecycle:o.length>0?yo.Lifecycle.singleton:s,contrib:o,useDynamic:r,useFactory:i};return"useValue"in t&&(a.useValue=t.useValue),a}var TO=function(){function t(e,n,r){vE(this,t),this.token=void 0,this.rawToken=void 0,this.named=void 0,this.generalToken=void 0,this.option=void 0,this.context=void 0,this.mutiple=void 0,this.context=e,this.token=n,this.option=r,this.rawToken=Ha.isNamedToken(n)?n.token:n,this.named=Ha.isNamedToken(n)?n.named:void 0,this.mutiple=!!this.named||Ha.isMultipleEnabled(this.rawToken),this.generalToken=this.rawToken}return Sk(t,[{key:"resolve",value:function(){var n=this,r=this.context;!d1e(r)||(this.mutiple?this.resolveMutilple(r):(this.resolveMono(r),!this.named&&this.option.contrib.length>0&&this.option.contrib.forEach(function(i){Ha.isMultipleEnabled(i)?Ax(i,r).toService(n.generalToken):kx(i,r).toService(n.generalToken)})))}},{key:"resolveMono",value:function(n){var r=this;if("useValue"in this.option)return kx(this.generalToken,n).toConstantValue(this.option.useValue);if(this.option.useDynamic.length>0){var i=this.option.useDynamic[this.option.useDynamic.length-1];return XT(kx(this.generalToken,n).toDynamicValue(function(){return i({container:r.context})}),this.option)}if(this.option.useFactory.length>0){var o=this.option.useFactory[this.option.useFactory.length-1];return kx(this.generalToken,n).toFactory(function(){return o({container:r.context})})}if(this.option.useClass.length>0){var s=this.option.useClass[this.option.useClass.length-1];return XT(kx(this.generalToken,n).to(s),this.option)}}},{key:"resolveMutilple",value:function(n){var r=this,i=this.option.useClass.map(function(l){return XT(Ax(r.generalToken,n).to(l),r.option)}),o=this.option.useDynamic.map(function(l){return XT(Ax(r.generalToken,n).toDynamicValue(function(){return l({container:r.context})}),r.option)}),s=this.option.useFactory.map(function(l){return Ax(r.generalToken,n).toFactory(function(){return l({container:r.context})})}),a="useValue"in this.option?Ax(this.generalToken,n).toConstantValue(this.option.useValue):void 0;this.named&&(i.forEach(function(l){return r.named&&KT(l,r.named)}),o.forEach(function(l){return r.named&&KT(l,r.named)}),s.forEach(function(l){return r.named&&KT(l,r.named)}),a&&KT(a,this.named))}}],[{key:"resolveTarget",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{try{var o=Reflect.getMetadata(g5,r);o&&t.resolveOption(n,o)}catch{}if(Ha.isClass(r))if(!i.useClass)i.useClass=[r];else{var s=Ha.maybeArrayToArray(i.useClass);s.unshift(r),i.useClass=s}var a;try{a=Reflect.getMetadata(yo.ClassOptionSymbol,r)}catch{}if(a=ql(ql({},a||{}),i),!a.token)a.token=[r];else{var l=Ha.maybeArrayToArray(a.token);l.unshift(r),a.token=l}t.resolveOption(n,a)}catch{}}},{key:"resolveOption",value:function(n,r){var i=v1e(ql(ql({},t.globalConfig),r));i.useClass.length===0&&i.useDynamic.length===0&&i.useFactory.length===0&&!("useValue"in i)||i.token.forEach(function(o){var s=new t(n,o,ql({},i));s.resolve()})}}]),t}();TO.globalConfig=yo.DefaultOption;var v5=function(){function t(e){vE(this,t),this.loadedModules=[],this.container=void 0,this.inversify=!0,this.parent=void 0,e?this.container=e:this.container=new Ck}return Sk(t,[{key:"load",value:function(n,r){(r||!this.loadedModules.includes(n.id))&&(n.registry(this.register.bind(this),this.resolveContext()),this.loadedModules.push(n.id))}},{key:"remove",value:function(n){return this.container.unbind(tu(n))}},{key:"get",value:function(n){return this.container.get(tu(n))}},{key:"getNamed",value:function(n,r){return this.container.getNamed(tu(n),Ww(r))}},{key:"getAll",value:function(n){return this.container.getAll(tu(n))}},{key:"getAllNamed",value:function(n,r){return this.container.getAllNamed(tu(n),Ww(r))}},{key:"isBound",value:function(n){return this.container.isBound(tu(n))}},{key:"isBoundNamed",value:function(n,r){return this.container.isBoundNamed(tu(n),Ww(r))}},{key:"createChild",value:function(){var n=this.container.createChild(),r=new t(n);return r.parent=this,r}},{key:"register",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ha.isInjectOption(n)?TO.resolveOption(this,n):TO.resolveTarget(this,n,r)}},{key:"resolveContext",value:function(){return{container:this}}}],[{key:"config",value:function(n){TO.globalConfig=n}}]),t}(),P6=new v5(h1e),m1e=P6.register.bind(P6),mE=yo.defineToken("ContributionProvider"),m5=function(){function t(e,n,r){vE(this,t),this.option={recursive:!1,cache:!0},this.services=void 0,this.serviceIdentifier=void 0,this.container=void 0,this.container=n,this.serviceIdentifier=e,r&&(this.option=ql(ql({},this.option),r))}return Sk(t,[{key:"setServices",value:function(n){for(var r=[],i=this.container;i;){if(i.isBound(this.serviceIdentifier)){var o=i.getAll(this.serviceIdentifier);r.push.apply(r,o1e(o))}i=n?i.parent:void 0}return r}},{key:"getContributions",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=ql(ql({},this.option),n),i=r.cache,o=r.recursive;return(!i||this.services===void 0)&&(this.services=this.setServices(!!o)),this.services}}]),t}();function y1e(t,e){return{token:{token:mE,named:t},useDynamic:function(r){return new m5(t,r.container,e)},lifecycle:yo.Lifecycle.singleton}}function b1e(t,e,n){t({token:{token:mE,named:e},useDynamic:function(i){return new m5(e,i.container,n)},lifecycle:yo.Lifecycle.singleton})}var y5=function(){function t(e){vE(this,t),this.id=void 0,this.baseRegistry=void 0,this.optionCollection=void 0,t.moduleId+=1,this.id=t.moduleId,this.baseRegistry=e}return Sk(t,[{key:"registry",get:function(){var n=this;return function(r,i){n.baseRegistry&&n.baseRegistry(r,i),n.optionCollection&&n.optionCollection.forEach(function(o){return r(o)})}}},{key:"options",get:function(){return this.optionCollection||(this.optionCollection=[]),this.optionCollection}},{key:"register",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.forEach(function(s){return n.options.push(s)}),this}},{key:"contribution",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.forEach(function(s){return n.options.push(y1e(s))}),this}}]),t}();y5.moduleId=0;function oc(t){return new y5(t)}var Kv=function(e){return function(n,r,i){ite(e)(n,r,i),jn(mE)(n,r,i)}},ch;(function(t){t.Provider=mE,t.register=b1e})(ch||(ch={}));const ote=Object.freeze(Object.defineProperty({__proto__:null,Container:v5,get Contribution(){return ch},DefaultContributionProvider:m5,GlobalContainer:P6,Module:oc,OptionSymbol:g5,Provider:mE,get Syringe(){return yo},SyringeModule:y5,get Utils(){return Ha},contrib:Kv,inject:jn,injectable:Ur,named:ite,register:m1e,registerSideOption:g1e,singleton:Ca,transient:p1e,decorate:Rbe,optional:n1e,postConstruct:rs,unmanaged:r1e},Symbol.toStringTag,{value:"Module"}));var co;(function(t){(function(e){e.TOP="top",e.BOTTOM="bottom",e.RIGHT="right",e.LEFT="left"})(t.AnchorGroup||(t.AnchorGroup={})),function(e){e.INPUT="input",e.OUTPUT="output"}(t.AnchorType||(t.AnchorType={}))})(co||(co={}));function TM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lt(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function x1e(t,e){return function(n,r){e(n,r,t)}}function ht(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ie(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}var ste={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object")if(o.toString===Object.prototype.toString)for(var l in o)e.call(o,l)&&o[l]&&r.push(l);else r.push(o.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ste);const at=ste.exports;/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BB;(function(t){(function(e){var n=typeof ou=="object"?ou:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect>"u"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,s){return function(a,l){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:l}),s&&s(a,l)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,l=!s&&!a,c={create:s?function(){return Z(Object.create(null))}:a?function(){return Z({__proto__:null})}:function(){return Z({})},has:l?function(J,xe){return n.call(J,xe)}:function(J,xe){return xe in J},get:l?function(J,xe){return n.call(J,xe)?J[xe]:void 0}:function(J,xe){return J[xe]}},u=Object.getPrototypeOf(Function),f=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ct(),h=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ln(),p=!f&&typeof WeakMap=="function"?WeakMap:bn(),g=new p;function m(J,xe,Se,ze){if(se(Se)){if(!tt(J))throw new TypeError;if(!bt(xe))throw new TypeError;return A(J,xe)}else{if(!tt(J))throw new TypeError;if(!K(xe))throw new TypeError;if(!K(ze)&&!se(ze)&&!fe(ze))throw new TypeError;return fe(ze)&&(ze=void 0),Se=$e(Se),N(J,xe,Se,ze)}}e("decorate",m);function y(J,xe){function Se(ze,ot){if(!K(ze))throw new TypeError;if(!se(ot)&&!X(ot))throw new TypeError;te(J,xe,ze,ot)}return Se}e("metadata",y);function b(J,xe,Se,ze){if(!K(Se))throw new TypeError;return se(ze)||(ze=$e(ze)),te(J,xe,Se,ze)}e("defineMetadata",b);function C(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),L(J,xe,Se)}e("hasMetadata",C);function E(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),B(J,xe,Se)}e("hasOwnMetadata",E);function _(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),j(J,xe,Se)}e("getMetadata",_);function w(J,xe,Se){if(!K(xe))throw new TypeError;return se(Se)||(Se=$e(Se)),H(J,xe,Se)}e("getOwnMetadata",w);function M(J,xe){if(!K(J))throw new TypeError;return se(xe)||(xe=$e(xe)),Y(J,xe)}e("getMetadataKeys",M);function k(J,xe){if(!K(J))throw new TypeError;return se(xe)||(xe=$e(xe)),ue(J,xe)}e("getOwnMetadataKeys",k);function I(J,xe,Se){if(!K(xe))throw new TypeError;se(Se)||(Se=$e(Se));var ze=$(xe,Se,!1);if(se(ze)||!ze.delete(J))return!1;if(ze.size>0)return!0;var ot=g.get(xe);return ot.delete(Se),ot.size>0||g.delete(xe),!0}e("deleteMetadata",I);function A(J,xe){for(var Se=J.length-1;Se>=0;--Se){var ze=J[Se],ot=ze(xe);if(!se(ot)&&!fe(ot)){if(!bt(ot))throw new TypeError;xe=ot}}return xe}function N(J,xe,Se,ze){for(var ot=J.length-1;ot>=0;--ot){var yn=J[ot],xt=yn(xe,Se,ze);if(!se(xt)&&!fe(xt)){if(!K(xt))throw new TypeError;ze=xt}}return ze}function $(J,xe,Se){var ze=g.get(J);if(se(ze)){if(!Se)return;ze=new d,g.set(J,ze)}var ot=ze.get(xe);if(se(ot)){if(!Se)return;ot=new d,ze.set(xe,ot)}return ot}function L(J,xe,Se){var ze=B(J,xe,Se);if(ze)return!0;var ot=$t(xe);return fe(ot)?!1:L(J,ot,Se)}function B(J,xe,Se){var ze=$(xe,Se,!1);return se(ze)?!1:Re(ze.has(J))}function j(J,xe,Se){var ze=B(J,xe,Se);if(ze)return H(J,xe,Se);var ot=$t(xe);if(!fe(ot))return j(J,ot,Se)}function H(J,xe,Se){var ze=$(xe,Se,!1);if(!se(ze))return ze.get(J)}function te(J,xe,Se,ze){var ot=$(Se,ze,!0);ot.set(J,xe)}function Y(J,xe){var Se=ue(J,xe),ze=$t(J);if(ze===null)return Se;var ot=Y(ze,xe);if(ot.length<=0)return Se;if(Se.length<=0)return ot;for(var yn=new h,xt=[],It=0,qe=Se;It<qe.length;It++){var Tt=qe[It],Dt=yn.has(Tt);Dt||(yn.add(Tt),xt.push(Tt))}for(var _n=0,lr=ot;_n<lr.length;_n++){var Tt=lr[_n],Dt=yn.has(Tt);Dt||(yn.add(Tt),xt.push(Tt))}return xt}function ue(J,xe){var Se=[],ze=$(J,xe,!1);if(se(ze))return Se;for(var ot=ze.keys(),yn=ne(ot),xt=0;;){var It=je(yn);if(!It)return Se.length=xt,Se;var qe=ke(It);try{Se[xt]=qe}catch(Tt){try{Ve(yn)}finally{throw Tt}}xt++}}function ce(J){if(J===null)return 1;switch(typeof J){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return J===null?1:6;default:return 6}}function se(J){return J===void 0}function fe(J){return J===null}function me(J){return typeof J=="symbol"}function K(J){return typeof J=="object"?J!==null:typeof J=="function"}function le(J,xe){switch(ce(J)){case 0:return J;case 1:return J;case 2:return J;case 3:return J;case 4:return J;case 5:return J}var Se=xe===3?"string":xe===5?"number":"default",ze=ve(J,i);if(ze!==void 0){var ot=ze.call(J,Se);if(K(ot))throw new TypeError;return ot}return Ne(J,Se==="default"?"number":Se)}function Ne(J,xe){if(xe==="string"){var Se=J.toString;if(Pt(Se)){var ze=Se.call(J);if(!K(ze))return ze}var ot=J.valueOf;if(Pt(ot)){var ze=ot.call(J);if(!K(ze))return ze}}else{var ot=J.valueOf;if(Pt(ot)){var ze=ot.call(J);if(!K(ze))return ze}var yn=J.toString;if(Pt(yn)){var ze=yn.call(J);if(!K(ze))return ze}}throw new TypeError}function Re(J){return!!J}function Je(J){return""+J}function $e(J){var xe=le(J,3);return me(xe)?xe:Je(xe)}function tt(J){return Array.isArray?Array.isArray(J):J instanceof Object?J instanceof Array:Object.prototype.toString.call(J)==="[object Array]"}function Pt(J){return typeof J=="function"}function bt(J){return typeof J=="function"}function X(J){switch(ce(J)){case 3:return!0;case 4:return!0;default:return!1}}function ve(J,xe){var Se=J[xe];if(Se!=null){if(!Pt(Se))throw new TypeError;return Se}}function ne(J){var xe=ve(J,o);if(!Pt(xe))throw new TypeError;var Se=xe.call(J);if(!K(Se))throw new TypeError;return Se}function ke(J){return J.value}function je(J){var xe=J.next();return xe.done?!1:xe}function Ve(J){var xe=J.return;xe&&xe.call(J)}function $t(J){var xe=Object.getPrototypeOf(J);if(typeof J!="function"||J===u||xe!==u)return xe;var Se=J.prototype,ze=Se&&Object.getPrototypeOf(Se);if(ze==null||ze===Object.prototype)return xe;var ot=ze.constructor;return typeof ot!="function"||ot===J?xe:ot}function Ct(){var J={},xe=[],Se=function(){function xt(It,qe,Tt){this._index=0,this._keys=It,this._values=qe,this._selector=Tt}return xt.prototype["@@iterator"]=function(){return this},xt.prototype[o]=function(){return this},xt.prototype.next=function(){var It=this._index;if(It>=0&&It<this._keys.length){var qe=this._selector(this._keys[It],this._values[It]);return It+1>=this._keys.length?(this._index=-1,this._keys=xe,this._values=xe):this._index++,{value:qe,done:!1}}return{value:void 0,done:!0}},xt.prototype.throw=function(It){throw this._index>=0&&(this._index=-1,this._keys=xe,this._values=xe),It},xt.prototype.return=function(It){return this._index>=0&&(this._index=-1,this._keys=xe,this._values=xe),{value:It,done:!0}},xt}();return function(){function xt(){this._keys=[],this._values=[],this._cacheKey=J,this._cacheIndex=-2}return Object.defineProperty(xt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),xt.prototype.has=function(It){return this._find(It,!1)>=0},xt.prototype.get=function(It){var qe=this._find(It,!1);return qe>=0?this._values[qe]:void 0},xt.prototype.set=function(It,qe){var Tt=this._find(It,!0);return this._values[Tt]=qe,this},xt.prototype.delete=function(It){var qe=this._find(It,!1);if(qe>=0){for(var Tt=this._keys.length,Dt=qe+1;Dt<Tt;Dt++)this._keys[Dt-1]=this._keys[Dt],this._values[Dt-1]=this._values[Dt];return this._keys.length--,this._values.length--,It===this._cacheKey&&(this._cacheKey=J,this._cacheIndex=-2),!0}return!1},xt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=J,this._cacheIndex=-2},xt.prototype.keys=function(){return new Se(this._keys,this._values,ze)},xt.prototype.values=function(){return new Se(this._keys,this._values,ot)},xt.prototype.entries=function(){return new Se(this._keys,this._values,yn)},xt.prototype["@@iterator"]=function(){return this.entries()},xt.prototype[o]=function(){return this.entries()},xt.prototype._find=function(It,qe){return this._cacheKey!==It&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=It)),this._cacheIndex<0&&qe&&(this._cacheIndex=this._keys.length,this._keys.push(It),this._values.push(void 0)),this._cacheIndex},xt}();function ze(xt,It){return xt}function ot(xt,It){return It}function yn(xt,It){return[xt,It]}}function ln(){return function(){function J(){this._map=new d}return Object.defineProperty(J.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),J.prototype.has=function(xe){return this._map.has(xe)},J.prototype.add=function(xe){return this._map.set(xe,xe),this},J.prototype.delete=function(xe){return this._map.delete(xe)},J.prototype.clear=function(){this._map.clear()},J.prototype.keys=function(){return this._map.keys()},J.prototype.values=function(){return this._map.values()},J.prototype.entries=function(){return this._map.entries()},J.prototype["@@iterator"]=function(){return this.keys()},J.prototype[o]=function(){return this.keys()},J}()}function bn(){var J=16,xe=c.create(),Se=ze();return function(){function qe(){this._key=ze()}return qe.prototype.has=function(Tt){var Dt=ot(Tt,!1);return Dt!==void 0?c.has(Dt,this._key):!1},qe.prototype.get=function(Tt){var Dt=ot(Tt,!1);return Dt!==void 0?c.get(Dt,this._key):void 0},qe.prototype.set=function(Tt,Dt){var _n=ot(Tt,!0);return _n[this._key]=Dt,this},qe.prototype.delete=function(Tt){var Dt=ot(Tt,!1);return Dt!==void 0?delete Dt[this._key]:!1},qe.prototype.clear=function(){this._key=ze()},qe}();function ze(){var qe;do qe="@@WeakMap@@"+It();while(c.has(xe,qe));return xe[qe]=!0,qe}function ot(qe,Tt){if(!n.call(qe,Se)){if(!Tt)return;Object.defineProperty(qe,Se,{value:c.create()})}return qe[Se]}function yn(qe,Tt){for(var Dt=0;Dt<Tt;++Dt)qe[Dt]=Math.random()*255|0;return qe}function xt(qe){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(qe)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(qe)):yn(new Uint8Array(qe),qe):yn(new Array(qe),qe)}function It(){var qe=xt(J);qe[6]=qe[6]&79|64,qe[8]=qe[8]&191|128;for(var Tt="",Dt=0;Dt<J;++Dt){var _n=qe[Dt];(Dt===4||Dt===6||Dt===8)&&(Tt+="-"),_n<16&&(Tt+="0"),Tt+=_n.toString(16).toLowerCase()}return Tt}}function Z(J){return J.__=void 0,delete J.__,J}})})(BB||(BB={}));var ate={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:ou,function(e,n){var r=[],i=Object.getPrototypeOf,o=r.slice,s=r.flat?function(S){return r.flat.call(S)}:function(S){return r.concat.apply([],S)},a=r.push,l=r.indexOf,c={},u=c.toString,f=c.hasOwnProperty,d=f.toString,h=d.call(Object),p={},g=function(O){return typeof O=="function"&&typeof O.nodeType!="number"&&typeof O.item!="function"},m=function(O){return O!=null&&O===O.window},y=e.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function C(S,O,R){R=R||y;var F,U,W=R.createElement("script");if(W.text=S,O)for(F in b)U=O[F]||O.getAttribute&&O.getAttribute(F),U&&W.setAttribute(F,U);R.head.appendChild(W).parentNode.removeChild(W)}function E(S){return S==null?S+"":typeof S=="object"||typeof S=="function"?c[u.call(S)]||"object":typeof S}var _="3.6.0",w=function(S,O){return new w.fn.init(S,O)};w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(S){return S==null?o.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var O=w.merge(this.constructor(),S);return O.prevObject=this,O},each:function(S){return w.each(this,S)},map:function(S){return this.pushStack(w.map(this,function(O,R){return S.call(O,R,O)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(S,O){return(O+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(S,O){return O%2}))},eq:function(S){var O=this.length,R=+S+(S<0?O:0);return this.pushStack(R>=0&&R<O?[this[R]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},w.extend=w.fn.extend=function(){var S,O,R,F,U,W,ee=arguments[0]||{},Ae=1,Oe=arguments.length,Ze=!1;for(typeof ee=="boolean"&&(Ze=ee,ee=arguments[Ae]||{},Ae++),typeof ee!="object"&&!g(ee)&&(ee={}),Ae===Oe&&(ee=this,Ae--);Ae<Oe;Ae++)if((S=arguments[Ae])!=null)for(O in S)F=S[O],!(O==="__proto__"||ee===F)&&(Ze&&F&&(w.isPlainObject(F)||(U=Array.isArray(F)))?(R=ee[O],U&&!Array.isArray(R)?W=[]:!U&&!w.isPlainObject(R)?W={}:W=R,U=!1,ee[O]=w.extend(Ze,W,F)):F!==void 0&&(ee[O]=F));return ee},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var O,R;return!S||u.call(S)!=="[object Object]"?!1:(O=i(S),O?(R=f.call(O,"constructor")&&O.constructor,typeof R=="function"&&d.call(R)===h):!0)},isEmptyObject:function(S){var O;for(O in S)return!1;return!0},globalEval:function(S,O,R){C(S,{nonce:O&&O.nonce},R)},each:function(S,O){var R,F=0;if(M(S))for(R=S.length;F<R&&O.call(S[F],F,S[F])!==!1;F++);else for(F in S)if(O.call(S[F],F,S[F])===!1)break;return S},makeArray:function(S,O){var R=O||[];return S!=null&&(M(Object(S))?w.merge(R,typeof S=="string"?[S]:S):a.call(R,S)),R},inArray:function(S,O,R){return O==null?-1:l.call(O,S,R)},merge:function(S,O){for(var R=+O.length,F=0,U=S.length;F<R;F++)S[U++]=O[F];return S.length=U,S},grep:function(S,O,R){for(var F,U=[],W=0,ee=S.length,Ae=!R;W<ee;W++)F=!O(S[W],W),F!==Ae&&U.push(S[W]);return U},map:function(S,O,R){var F,U,W=0,ee=[];if(M(S))for(F=S.length;W<F;W++)U=O(S[W],W,R),U!=null&&ee.push(U);else for(W in S)U=O(S[W],W,R),U!=null&&ee.push(U);return s(ee)},guid:1,support:p}),typeof Symbol=="function"&&(w.fn[Symbol.iterator]=r[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(S,O){c["[object "+O+"]"]=O.toLowerCase()});function M(S){var O=!!S&&"length"in S&&S.length,R=E(S);return g(S)||m(S)?!1:R==="array"||O===0||typeof O=="number"&&O>0&&O-1 in S}var k=function(S){var O,R,F,U,W,ee,Ae,Oe,Ze,vt,Ht,ut,mt,cr,rr,sr,ao,Ri,Cs,Ti="sizzle"+1*new Date,Vn=S.document,Go=0,Mn=0,sn=Td(),Yn=Td(),Jn=Td(),vi=Td(),Ea=function(ae,_e){return ae===_e&&(Ht=!0),0},Co={}.hasOwnProperty,Wi=[],So=Wi.pop,go=Wi.push,ea=Wi.push,Ss=Wi.slice,tl=function(ae,_e){for(var Ge=0,Ft=ae.length;Ge<Ft;Ge++)if(ae[Ge]===_e)return Ge;return-1},Au="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ii="[\\x20\\t\\r\\n\\f]",Fc="(?:\\\\[\\da-fA-F]{1,6}"+Ii+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Mh="\\["+Ii+"*("+Fc+")(?:"+Ii+"*([*^$|!~]?=)"+Ii+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Fc+"))|)"+Ii+"*\\]",Ah=":("+Fc+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Mh+")*)|.*)\\)|)",X2=new RegExp(Ii+"+","g"),kh=new RegExp("^"+Ii+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ii+"+$","g"),nl=new RegExp("^"+Ii+"*,"+Ii+"*"),Ed=new RegExp("^"+Ii+"*([>+~]|"+Ii+")"+Ii+"*"),ku=new RegExp(Ii+"|>"),pg=new RegExp(Ah),gg=new RegExp("^"+Fc+"$"),zc={ID:new RegExp("^#("+Fc+")"),CLASS:new RegExp("^\\.("+Fc+")"),TAG:new RegExp("^("+Fc+"|[*])"),ATTR:new RegExp("^"+Mh),PSEUDO:new RegExp("^"+Ah),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ii+"*(even|odd|(([+-]|)(\\d*)n|)"+Ii+"*(?:([+-]|)"+Ii+"*(\\d+)|))"+Ii+"*\\)|)","i"),bool:new RegExp("^(?:"+Au+")$","i"),needsContext:new RegExp("^"+Ii+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ii+"*((?:-\\d)?\\d*)"+Ii+"*\\)|)(?=[^-]|$)","i")},lm=/HTML$/i,cm=/^(?:input|select|textarea|button)$/i,um=/^h\d$/i,Sf=/^[^{]+\{\s*\[native \w/,Ef=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vg=/[+~]/,cc=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ii+"?|\\\\([^\\r\\n\\f])","g"),Sl=function(ae,_e){var Ge="0x"+ae.slice(1)-65536;return _e||(Ge<0?String.fromCharCode(Ge+65536):String.fromCharCode(Ge>>10|55296,Ge&1023|56320))},mg=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,uc=function(ae,_e){return _e?ae==="\0"?"\uFFFD":ae.slice(0,-1)+"\\"+ae.charCodeAt(ae.length-1).toString(16)+" ":"\\"+ae},_d=function(){ut()},vy=gt(function(ae){return ae.disabled===!0&&ae.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{ea.apply(Wi=Ss.call(Vn.childNodes),Vn.childNodes),Wi[Vn.childNodes.length].nodeType}catch{ea={apply:Wi.length?function(_e,Ge){go.apply(_e,Ss.call(Ge))}:function(_e,Ge){for(var Ft=_e.length,Qe=0;_e[Ft++]=Ge[Qe++];);_e.length=Ft-1}}}function $i(ae,_e,Ge,Ft){var Qe,jt,tn,qt,Ln,yr,qn,br=_e&&_e.ownerDocument,ni=_e?_e.nodeType:9;if(Ge=Ge||[],typeof ae!="string"||!ae||ni!==1&&ni!==9&&ni!==11)return Ge;if(!Ft&&(ut(_e),_e=_e||mt,rr)){if(ni!==11&&(Ln=Ef.exec(ae)))if(Qe=Ln[1]){if(ni===9)if(tn=_e.getElementById(Qe)){if(tn.id===Qe)return Ge.push(tn),Ge}else return Ge;else if(br&&(tn=br.getElementById(Qe))&&Cs(_e,tn)&&tn.id===Qe)return Ge.push(tn),Ge}else{if(Ln[2])return ea.apply(Ge,_e.getElementsByTagName(ae)),Ge;if((Qe=Ln[3])&&R.getElementsByClassName&&_e.getElementsByClassName)return ea.apply(Ge,_e.getElementsByClassName(Qe)),Ge}if(R.qsa&&!vi[ae+" "]&&(!sr||!sr.test(ae))&&(ni!==1||_e.nodeName.toLowerCase()!=="object")){if(qn=ae,br=_e,ni===1&&(ku.test(ae)||Ed.test(ae))){for(br=vg.test(ae)&&Du(_e.parentNode)||_e,(br!==_e||!R.scope)&&((qt=_e.getAttribute("id"))?qt=qt.replace(mg,uc):_e.setAttribute("id",qt=Ti)),yr=ee(ae),jt=yr.length;jt--;)yr[jt]=(qt?"#"+qt:":scope")+" "+kt(yr[jt]);qn=yr.join(",")}try{return ea.apply(Ge,br.querySelectorAll(qn)),Ge}catch{vi(ae,!0)}finally{qt===Ti&&_e.removeAttribute("id")}}}return Oe(ae.replace(kh,"$1"),_e,Ge,Ft)}function Td(){var ae=[];function _e(Ge,Ft){return ae.push(Ge+" ")>F.cacheLength&&delete _e[ae.shift()],_e[Ge+" "]=Ft}return _e}function Ys(ae){return ae[Ti]=!0,ae}function No(ae){var _e=mt.createElement("fieldset");try{return!!ae(_e)}catch{return!1}finally{_e.parentNode&&_e.parentNode.removeChild(_e),_e=null}}function yg(ae,_e){for(var Ge=ae.split("|"),Ft=Ge.length;Ft--;)F.attrHandle[Ge[Ft]]=_e}function my(ae,_e){var Ge=_e&&ae,Ft=Ge&&ae.nodeType===1&&_e.nodeType===1&&ae.sourceIndex-_e.sourceIndex;if(Ft)return Ft;if(Ge){for(;Ge=Ge.nextSibling;)if(Ge===_e)return-1}return ae?1:-1}function K2(ae){return function(_e){var Ge=_e.nodeName.toLowerCase();return Ge==="input"&&_e.type===ae}}function fm(ae){return function(_e){var Ge=_e.nodeName.toLowerCase();return(Ge==="input"||Ge==="button")&&_e.type===ae}}function yy(ae){return function(_e){return"form"in _e?_e.parentNode&&_e.disabled===!1?"label"in _e?"label"in _e.parentNode?_e.parentNode.disabled===ae:_e.disabled===ae:_e.isDisabled===ae||_e.isDisabled!==!ae&&vy(_e)===ae:_e.disabled===ae:"label"in _e?_e.disabled===ae:!1}}function _f(ae){return Ys(function(_e){return _e=+_e,Ys(function(Ge,Ft){for(var Qe,jt=ae([],Ge.length,_e),tn=jt.length;tn--;)Ge[Qe=jt[tn]]&&(Ge[Qe]=!(Ft[Qe]=Ge[Qe]))})})}function Du(ae){return ae&&typeof ae.getElementsByTagName<"u"&&ae}R=$i.support={},W=$i.isXML=function(ae){var _e=ae&&ae.namespaceURI,Ge=ae&&(ae.ownerDocument||ae).documentElement;return!lm.test(_e||Ge&&Ge.nodeName||"HTML")},ut=$i.setDocument=function(ae){var _e,Ge,Ft=ae?ae.ownerDocument||ae:Vn;return Ft==mt||Ft.nodeType!==9||!Ft.documentElement||(mt=Ft,cr=mt.documentElement,rr=!W(mt),Vn!=mt&&(Ge=mt.defaultView)&&Ge.top!==Ge&&(Ge.addEventListener?Ge.addEventListener("unload",_d,!1):Ge.attachEvent&&Ge.attachEvent("onunload",_d)),R.scope=No(function(Qe){return cr.appendChild(Qe).appendChild(mt.createElement("div")),typeof Qe.querySelectorAll<"u"&&!Qe.querySelectorAll(":scope fieldset div").length}),R.attributes=No(function(Qe){return Qe.className="i",!Qe.getAttribute("className")}),R.getElementsByTagName=No(function(Qe){return Qe.appendChild(mt.createComment("")),!Qe.getElementsByTagName("*").length}),R.getElementsByClassName=Sf.test(mt.getElementsByClassName),R.getById=No(function(Qe){return cr.appendChild(Qe).id=Ti,!mt.getElementsByName||!mt.getElementsByName(Ti).length}),R.getById?(F.filter.ID=function(Qe){var jt=Qe.replace(cc,Sl);return function(tn){return tn.getAttribute("id")===jt}},F.find.ID=function(Qe,jt){if(typeof jt.getElementById<"u"&&rr){var tn=jt.getElementById(Qe);return tn?[tn]:[]}}):(F.filter.ID=function(Qe){var jt=Qe.replace(cc,Sl);return function(tn){var qt=typeof tn.getAttributeNode<"u"&&tn.getAttributeNode("id");return qt&&qt.value===jt}},F.find.ID=function(Qe,jt){if(typeof jt.getElementById<"u"&&rr){var tn,qt,Ln,yr=jt.getElementById(Qe);if(yr){if(tn=yr.getAttributeNode("id"),tn&&tn.value===Qe)return[yr];for(Ln=jt.getElementsByName(Qe),qt=0;yr=Ln[qt++];)if(tn=yr.getAttributeNode("id"),tn&&tn.value===Qe)return[yr]}return[]}}),F.find.TAG=R.getElementsByTagName?function(Qe,jt){if(typeof jt.getElementsByTagName<"u")return jt.getElementsByTagName(Qe);if(R.qsa)return jt.querySelectorAll(Qe)}:function(Qe,jt){var tn,qt=[],Ln=0,yr=jt.getElementsByTagName(Qe);if(Qe==="*"){for(;tn=yr[Ln++];)tn.nodeType===1&&qt.push(tn);return qt}return yr},F.find.CLASS=R.getElementsByClassName&&function(Qe,jt){if(typeof jt.getElementsByClassName<"u"&&rr)return jt.getElementsByClassName(Qe)},ao=[],sr=[],(R.qsa=Sf.test(mt.querySelectorAll))&&(No(function(Qe){var jt;cr.appendChild(Qe).innerHTML="<a id='"+Ti+"'></a><select id='"+Ti+"-\r\\' msallowcapture=''><option selected=''></option></select>",Qe.querySelectorAll("[msallowcapture^='']").length&&sr.push("[*^$]="+Ii+`*(?:''|"")`),Qe.querySelectorAll("[selected]").length||sr.push("\\["+Ii+"*(?:value|"+Au+")"),Qe.querySelectorAll("[id~="+Ti+"-]").length||sr.push("~="),jt=mt.createElement("input"),jt.setAttribute("name",""),Qe.appendChild(jt),Qe.querySelectorAll("[name='']").length||sr.push("\\["+Ii+"*name"+Ii+"*="+Ii+`*(?:''|"")`),Qe.querySelectorAll(":checked").length||sr.push(":checked"),Qe.querySelectorAll("a#"+Ti+"+*").length||sr.push(".#.+[+~]"),Qe.querySelectorAll("\\\f"),sr.push("[\\r\\n\\f]")}),No(function(Qe){Qe.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var jt=mt.createElement("input");jt.setAttribute("type","hidden"),Qe.appendChild(jt).setAttribute("name","D"),Qe.querySelectorAll("[name=d]").length&&sr.push("name"+Ii+"*[*^$|!~]?="),Qe.querySelectorAll(":enabled").length!==2&&sr.push(":enabled",":disabled"),cr.appendChild(Qe).disabled=!0,Qe.querySelectorAll(":disabled").length!==2&&sr.push(":enabled",":disabled"),Qe.querySelectorAll("*,:x"),sr.push(",.*:")})),(R.matchesSelector=Sf.test(Ri=cr.matches||cr.webkitMatchesSelector||cr.mozMatchesSelector||cr.oMatchesSelector||cr.msMatchesSelector))&&No(function(Qe){R.disconnectedMatch=Ri.call(Qe,"*"),Ri.call(Qe,"[s!='']:x"),ao.push("!=",Ah)}),sr=sr.length&&new RegExp(sr.join("|")),ao=ao.length&&new RegExp(ao.join("|")),_e=Sf.test(cr.compareDocumentPosition),Cs=_e||Sf.test(cr.contains)?function(Qe,jt){var tn=Qe.nodeType===9?Qe.documentElement:Qe,qt=jt&&jt.parentNode;return Qe===qt||!!(qt&&qt.nodeType===1&&(tn.contains?tn.contains(qt):Qe.compareDocumentPosition&&Qe.compareDocumentPosition(qt)&16))}:function(Qe,jt){if(jt){for(;jt=jt.parentNode;)if(jt===Qe)return!0}return!1},Ea=_e?function(Qe,jt){if(Qe===jt)return Ht=!0,0;var tn=!Qe.compareDocumentPosition-!jt.compareDocumentPosition;return tn||(tn=(Qe.ownerDocument||Qe)==(jt.ownerDocument||jt)?Qe.compareDocumentPosition(jt):1,tn&1||!R.sortDetached&&jt.compareDocumentPosition(Qe)===tn?Qe==mt||Qe.ownerDocument==Vn&&Cs(Vn,Qe)?-1:jt==mt||jt.ownerDocument==Vn&&Cs(Vn,jt)?1:vt?tl(vt,Qe)-tl(vt,jt):0:tn&4?-1:1)}:function(Qe,jt){if(Qe===jt)return Ht=!0,0;var tn,qt=0,Ln=Qe.parentNode,yr=jt.parentNode,qn=[Qe],br=[jt];if(!Ln||!yr)return Qe==mt?-1:jt==mt?1:Ln?-1:yr?1:vt?tl(vt,Qe)-tl(vt,jt):0;if(Ln===yr)return my(Qe,jt);for(tn=Qe;tn=tn.parentNode;)qn.unshift(tn);for(tn=jt;tn=tn.parentNode;)br.unshift(tn);for(;qn[qt]===br[qt];)qt++;return qt?my(qn[qt],br[qt]):qn[qt]==Vn?-1:br[qt]==Vn?1:0}),mt},$i.matches=function(ae,_e){return $i(ae,null,null,_e)},$i.matchesSelector=function(ae,_e){if(ut(ae),R.matchesSelector&&rr&&!vi[_e+" "]&&(!ao||!ao.test(_e))&&(!sr||!sr.test(_e)))try{var Ge=Ri.call(ae,_e);if(Ge||R.disconnectedMatch||ae.document&&ae.document.nodeType!==11)return Ge}catch{vi(_e,!0)}return $i(_e,mt,null,[ae]).length>0},$i.contains=function(ae,_e){return(ae.ownerDocument||ae)!=mt&&ut(ae),Cs(ae,_e)},$i.attr=function(ae,_e){(ae.ownerDocument||ae)!=mt&&ut(ae);var Ge=F.attrHandle[_e.toLowerCase()],Ft=Ge&&Co.call(F.attrHandle,_e.toLowerCase())?Ge(ae,_e,!rr):void 0;return Ft!==void 0?Ft:R.attributes||!rr?ae.getAttribute(_e):(Ft=ae.getAttributeNode(_e))&&Ft.specified?Ft.value:null},$i.escape=function(ae){return(ae+"").replace(mg,uc)},$i.error=function(ae){throw new Error("Syntax error, unrecognized expression: "+ae)},$i.uniqueSort=function(ae){var _e,Ge=[],Ft=0,Qe=0;if(Ht=!R.detectDuplicates,vt=!R.sortStable&&ae.slice(0),ae.sort(Ea),Ht){for(;_e=ae[Qe++];)_e===ae[Qe]&&(Ft=Ge.push(Qe));for(;Ft--;)ae.splice(Ge[Ft],1)}return vt=null,ae},U=$i.getText=function(ae){var _e,Ge="",Ft=0,Qe=ae.nodeType;if(Qe){if(Qe===1||Qe===9||Qe===11){if(typeof ae.textContent=="string")return ae.textContent;for(ae=ae.firstChild;ae;ae=ae.nextSibling)Ge+=U(ae)}else if(Qe===3||Qe===4)return ae.nodeValue}else for(;_e=ae[Ft++];)Ge+=U(_e);return Ge},F=$i.selectors={cacheLength:50,createPseudo:Ys,match:zc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ae){return ae[1]=ae[1].replace(cc,Sl),ae[3]=(ae[3]||ae[4]||ae[5]||"").replace(cc,Sl),ae[2]==="~="&&(ae[3]=" "+ae[3]+" "),ae.slice(0,4)},CHILD:function(ae){return ae[1]=ae[1].toLowerCase(),ae[1].slice(0,3)==="nth"?(ae[3]||$i.error(ae[0]),ae[4]=+(ae[4]?ae[5]+(ae[6]||1):2*(ae[3]==="even"||ae[3]==="odd")),ae[5]=+(ae[7]+ae[8]||ae[3]==="odd")):ae[3]&&$i.error(ae[0]),ae},PSEUDO:function(ae){var _e,Ge=!ae[6]&&ae[2];return zc.CHILD.test(ae[0])?null:(ae[3]?ae[2]=ae[4]||ae[5]||"":Ge&&pg.test(Ge)&&(_e=ee(Ge,!0))&&(_e=Ge.indexOf(")",Ge.length-_e)-Ge.length)&&(ae[0]=ae[0].slice(0,_e),ae[2]=Ge.slice(0,_e)),ae.slice(0,3))}},filter:{TAG:function(ae){var _e=ae.replace(cc,Sl).toLowerCase();return ae==="*"?function(){return!0}:function(Ge){return Ge.nodeName&&Ge.nodeName.toLowerCase()===_e}},CLASS:function(ae){var _e=sn[ae+" "];return _e||(_e=new RegExp("(^|"+Ii+")"+ae+"("+Ii+"|$)"))&&sn(ae,function(Ge){return _e.test(typeof Ge.className=="string"&&Ge.className||typeof Ge.getAttribute<"u"&&Ge.getAttribute("class")||"")})},ATTR:function(ae,_e,Ge){return function(Ft){var Qe=$i.attr(Ft,ae);return Qe==null?_e==="!=":_e?(Qe+="",_e==="="?Qe===Ge:_e==="!="?Qe!==Ge:_e==="^="?Ge&&Qe.indexOf(Ge)===0:_e==="*="?Ge&&Qe.indexOf(Ge)>-1:_e==="$="?Ge&&Qe.slice(-Ge.length)===Ge:_e==="~="?(" "+Qe.replace(X2," ")+" ").indexOf(Ge)>-1:_e==="|="?Qe===Ge||Qe.slice(0,Ge.length+1)===Ge+"-":!1):!0}},CHILD:function(ae,_e,Ge,Ft,Qe){var jt=ae.slice(0,3)!=="nth",tn=ae.slice(-4)!=="last",qt=_e==="of-type";return Ft===1&&Qe===0?function(Ln){return!!Ln.parentNode}:function(Ln,yr,qn){var br,ni,vo,xr,Eo,Es,_a=jt!==tn?"nextSibling":"previousSibling",_o=Ln.parentNode,Bl=qt&&Ln.nodeName.toLowerCase(),Ho=!qn&&!qt,ta=!1;if(_o){if(jt){for(;_a;){for(xr=Ln;xr=xr[_a];)if(qt?xr.nodeName.toLowerCase()===Bl:xr.nodeType===1)return!1;Es=_a=ae==="only"&&!Es&&"nextSibling"}return!0}if(Es=[tn?_o.firstChild:_o.lastChild],tn&&Ho){for(xr=_o,vo=xr[Ti]||(xr[Ti]={}),ni=vo[xr.uniqueID]||(vo[xr.uniqueID]={}),br=ni[ae]||[],Eo=br[0]===Go&&br[1],ta=Eo&&br[2],xr=Eo&&_o.childNodes[Eo];xr=++Eo&&xr&&xr[_a]||(ta=Eo=0)||Es.pop();)if(xr.nodeType===1&&++ta&&xr===Ln){ni[ae]=[Go,Eo,ta];break}}else if(Ho&&(xr=Ln,vo=xr[Ti]||(xr[Ti]={}),ni=vo[xr.uniqueID]||(vo[xr.uniqueID]={}),br=ni[ae]||[],Eo=br[0]===Go&&br[1],ta=Eo),ta===!1)for(;(xr=++Eo&&xr&&xr[_a]||(ta=Eo=0)||Es.pop())&&!((qt?xr.nodeName.toLowerCase()===Bl:xr.nodeType===1)&&++ta&&(Ho&&(vo=xr[Ti]||(xr[Ti]={}),ni=vo[xr.uniqueID]||(vo[xr.uniqueID]={}),ni[ae]=[Go,ta]),xr===Ln)););return ta-=Qe,ta===Ft||ta%Ft===0&&ta/Ft>=0}}},PSEUDO:function(ae,_e){var Ge,Ft=F.pseudos[ae]||F.setFilters[ae.toLowerCase()]||$i.error("unsupported pseudo: "+ae);return Ft[Ti]?Ft(_e):Ft.length>1?(Ge=[ae,ae,"",_e],F.setFilters.hasOwnProperty(ae.toLowerCase())?Ys(function(Qe,jt){for(var tn,qt=Ft(Qe,_e),Ln=qt.length;Ln--;)tn=tl(Qe,qt[Ln]),Qe[tn]=!(jt[tn]=qt[Ln])}):function(Qe){return Ft(Qe,0,Ge)}):Ft}},pseudos:{not:Ys(function(ae){var _e=[],Ge=[],Ft=Ae(ae.replace(kh,"$1"));return Ft[Ti]?Ys(function(Qe,jt,tn,qt){for(var Ln,yr=Ft(Qe,null,qt,[]),qn=Qe.length;qn--;)(Ln=yr[qn])&&(Qe[qn]=!(jt[qn]=Ln))}):function(Qe,jt,tn){return _e[0]=Qe,Ft(_e,null,tn,Ge),_e[0]=null,!Ge.pop()}}),has:Ys(function(ae){return function(_e){return $i(ae,_e).length>0}}),contains:Ys(function(ae){return ae=ae.replace(cc,Sl),function(_e){return(_e.textContent||U(_e)).indexOf(ae)>-1}}),lang:Ys(function(ae){return gg.test(ae||"")||$i.error("unsupported lang: "+ae),ae=ae.replace(cc,Sl).toLowerCase(),function(_e){var Ge;do if(Ge=rr?_e.lang:_e.getAttribute("xml:lang")||_e.getAttribute("lang"))return Ge=Ge.toLowerCase(),Ge===ae||Ge.indexOf(ae+"-")===0;while((_e=_e.parentNode)&&_e.nodeType===1);return!1}}),target:function(ae){var _e=S.location&&S.location.hash;return _e&&_e.slice(1)===ae.id},root:function(ae){return ae===cr},focus:function(ae){return ae===mt.activeElement&&(!mt.hasFocus||mt.hasFocus())&&!!(ae.type||ae.href||~ae.tabIndex)},enabled:yy(!1),disabled:yy(!0),checked:function(ae){var _e=ae.nodeName.toLowerCase();return _e==="input"&&!!ae.checked||_e==="option"&&!!ae.selected},selected:function(ae){return ae.parentNode&&ae.parentNode.selectedIndex,ae.selected===!0},empty:function(ae){for(ae=ae.firstChild;ae;ae=ae.nextSibling)if(ae.nodeType<6)return!1;return!0},parent:function(ae){return!F.pseudos.empty(ae)},header:function(ae){return um.test(ae.nodeName)},input:function(ae){return cm.test(ae.nodeName)},button:function(ae){var _e=ae.nodeName.toLowerCase();return _e==="input"&&ae.type==="button"||_e==="button"},text:function(ae){var _e;return ae.nodeName.toLowerCase()==="input"&&ae.type==="text"&&((_e=ae.getAttribute("type"))==null||_e.toLowerCase()==="text")},first:_f(function(){return[0]}),last:_f(function(ae,_e){return[_e-1]}),eq:_f(function(ae,_e,Ge){return[Ge<0?Ge+_e:Ge]}),even:_f(function(ae,_e){for(var Ge=0;Ge<_e;Ge+=2)ae.push(Ge);return ae}),odd:_f(function(ae,_e){for(var Ge=1;Ge<_e;Ge+=2)ae.push(Ge);return ae}),lt:_f(function(ae,_e,Ge){for(var Ft=Ge<0?Ge+_e:Ge>_e?_e:Ge;--Ft>=0;)ae.push(Ft);return ae}),gt:_f(function(ae,_e,Ge){for(var Ft=Ge<0?Ge+_e:Ge;++Ft<_e;)ae.push(Ft);return ae})}},F.pseudos.nth=F.pseudos.eq;for(O in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})F.pseudos[O]=K2(O);for(O in{submit:!0,reset:!0})F.pseudos[O]=fm(O);function We(){}We.prototype=F.filters=F.pseudos,F.setFilters=new We,ee=$i.tokenize=function(ae,_e){var Ge,Ft,Qe,jt,tn,qt,Ln,yr=Yn[ae+" "];if(yr)return _e?0:yr.slice(0);for(tn=ae,qt=[],Ln=F.preFilter;tn;){(!Ge||(Ft=nl.exec(tn)))&&(Ft&&(tn=tn.slice(Ft[0].length)||tn),qt.push(Qe=[])),Ge=!1,(Ft=Ed.exec(tn))&&(Ge=Ft.shift(),Qe.push({value:Ge,type:Ft[0].replace(kh," ")}),tn=tn.slice(Ge.length));for(jt in F.filter)(Ft=zc[jt].exec(tn))&&(!Ln[jt]||(Ft=Ln[jt](Ft)))&&(Ge=Ft.shift(),Qe.push({value:Ge,type:jt,matches:Ft}),tn=tn.slice(Ge.length));if(!Ge)break}return _e?tn.length:tn?$i.error(ae):Yn(ae,qt).slice(0)};function kt(ae){for(var _e=0,Ge=ae.length,Ft="";_e<Ge;_e++)Ft+=ae[_e].value;return Ft}function gt(ae,_e,Ge){var Ft=_e.dir,Qe=_e.next,jt=Qe||Ft,tn=Ge&&jt==="parentNode",qt=Mn++;return _e.first?function(Ln,yr,qn){for(;Ln=Ln[Ft];)if(Ln.nodeType===1||tn)return ae(Ln,yr,qn);return!1}:function(Ln,yr,qn){var br,ni,vo,xr=[Go,qt];if(qn){for(;Ln=Ln[Ft];)if((Ln.nodeType===1||tn)&&ae(Ln,yr,qn))return!0}else for(;Ln=Ln[Ft];)if(Ln.nodeType===1||tn)if(vo=Ln[Ti]||(Ln[Ti]={}),ni=vo[Ln.uniqueID]||(vo[Ln.uniqueID]={}),Qe&&Qe===Ln.nodeName.toLowerCase())Ln=Ln[Ft]||Ln;else{if((br=ni[jt])&&br[0]===Go&&br[1]===qt)return xr[2]=br[2];if(ni[jt]=xr,xr[2]=ae(Ln,yr,qn))return!0}return!1}}function Un(ae){return ae.length>1?function(_e,Ge,Ft){for(var Qe=ae.length;Qe--;)if(!ae[Qe](_e,Ge,Ft))return!1;return!0}:ae[0]}function zr(ae,_e,Ge){for(var Ft=0,Qe=_e.length;Ft<Qe;Ft++)$i(ae,_e[Ft],Ge);return Ge}function mi(ae,_e,Ge,Ft,Qe){for(var jt,tn=[],qt=0,Ln=ae.length,yr=_e!=null;qt<Ln;qt++)(jt=ae[qt])&&(!Ge||Ge(jt,Ft,Qe))&&(tn.push(jt),yr&&_e.push(qt));return tn}function is(ae,_e,Ge,Ft,Qe,jt){return Ft&&!Ft[Ti]&&(Ft=is(Ft)),Qe&&!Qe[Ti]&&(Qe=is(Qe,jt)),Ys(function(tn,qt,Ln,yr){var qn,br,ni,vo=[],xr=[],Eo=qt.length,Es=tn||zr(_e||"*",Ln.nodeType?[Ln]:Ln,[]),_a=ae&&(tn||!_e)?mi(Es,vo,ae,Ln,yr):Es,_o=Ge?Qe||(tn?ae:Eo||Ft)?[]:qt:_a;if(Ge&&Ge(_a,_o,Ln,yr),Ft)for(qn=mi(_o,xr),Ft(qn,[],Ln,yr),br=qn.length;br--;)(ni=qn[br])&&(_o[xr[br]]=!(_a[xr[br]]=ni));if(tn){if(Qe||ae){if(Qe){for(qn=[],br=_o.length;br--;)(ni=_o[br])&&qn.push(_a[br]=ni);Qe(null,_o=[],qn,yr)}for(br=_o.length;br--;)(ni=_o[br])&&(qn=Qe?tl(tn,ni):vo[br])>-1&&(tn[qn]=!(qt[qn]=ni))}}else _o=mi(_o===qt?_o.splice(Eo,_o.length):_o),Qe?Qe(null,qt,_o,yr):ea.apply(qt,_o)})}function Li(ae){for(var _e,Ge,Ft,Qe=ae.length,jt=F.relative[ae[0].type],tn=jt||F.relative[" "],qt=jt?1:0,Ln=gt(function(br){return br===_e},tn,!0),yr=gt(function(br){return tl(_e,br)>-1},tn,!0),qn=[function(br,ni,vo){var xr=!jt&&(vo||ni!==Ze)||((_e=ni).nodeType?Ln(br,ni,vo):yr(br,ni,vo));return _e=null,xr}];qt<Qe;qt++)if(Ge=F.relative[ae[qt].type])qn=[gt(Un(qn),Ge)];else{if(Ge=F.filter[ae[qt].type].apply(null,ae[qt].matches),Ge[Ti]){for(Ft=++qt;Ft<Qe&&!F.relative[ae[Ft].type];Ft++);return is(qt>1&&Un(qn),qt>1&&kt(ae.slice(0,qt-1).concat({value:ae[qt-2].type===" "?"*":""})).replace(kh,"$1"),Ge,qt<Ft&&Li(ae.slice(qt,Ft)),Ft<Qe&&Li(ae=ae.slice(Ft)),Ft<Qe&&kt(ae))}qn.push(Ge)}return Un(qn)}function dm(ae,_e){var Ge=_e.length>0,Ft=ae.length>0,Qe=function(jt,tn,qt,Ln,yr){var qn,br,ni,vo=0,xr="0",Eo=jt&&[],Es=[],_a=Ze,_o=jt||Ft&&F.find.TAG("*",yr),Bl=Go+=_a==null?1:Math.random()||.1,Ho=_o.length;for(yr&&(Ze=tn==mt||tn||yr);xr!==Ho&&(qn=_o[xr])!=null;xr++){if(Ft&&qn){for(br=0,!tn&&qn.ownerDocument!=mt&&(ut(qn),qt=!rr);ni=ae[br++];)if(ni(qn,tn||mt,qt)){Ln.push(qn);break}yr&&(Go=Bl)}Ge&&((qn=!ni&&qn)&&vo--,jt&&Eo.push(qn))}if(vo+=xr,Ge&&xr!==vo){for(br=0;ni=_e[br++];)ni(Eo,Es,tn,qt);if(jt){if(vo>0)for(;xr--;)Eo[xr]||Es[xr]||(Es[xr]=So.call(Ln));Es=mi(Es)}ea.apply(Ln,Es),yr&&!jt&&Es.length>0&&vo+_e.length>1&&$i.uniqueSort(Ln)}return yr&&(Go=Bl,Ze=_a),Eo};return Ge?Ys(Qe):Qe}return Ae=$i.compile=function(ae,_e){var Ge,Ft=[],Qe=[],jt=Jn[ae+" "];if(!jt){for(_e||(_e=ee(ae)),Ge=_e.length;Ge--;)jt=Li(_e[Ge]),jt[Ti]?Ft.push(jt):Qe.push(jt);jt=Jn(ae,dm(Qe,Ft)),jt.selector=ae}return jt},Oe=$i.select=function(ae,_e,Ge,Ft){var Qe,jt,tn,qt,Ln,yr=typeof ae=="function"&&ae,qn=!Ft&&ee(ae=yr.selector||ae);if(Ge=Ge||[],qn.length===1){if(jt=qn[0]=qn[0].slice(0),jt.length>2&&(tn=jt[0]).type==="ID"&&_e.nodeType===9&&rr&&F.relative[jt[1].type]){if(_e=(F.find.ID(tn.matches[0].replace(cc,Sl),_e)||[])[0],_e)yr&&(_e=_e.parentNode);else return Ge;ae=ae.slice(jt.shift().value.length)}for(Qe=zc.needsContext.test(ae)?0:jt.length;Qe--&&(tn=jt[Qe],!F.relative[qt=tn.type]);)if((Ln=F.find[qt])&&(Ft=Ln(tn.matches[0].replace(cc,Sl),vg.test(jt[0].type)&&Du(_e.parentNode)||_e))){if(jt.splice(Qe,1),ae=Ft.length&&kt(jt),!ae)return ea.apply(Ge,Ft),Ge;break}}return(yr||Ae(ae,qn))(Ft,_e,!rr,Ge,!_e||vg.test(ae)&&Du(_e.parentNode)||_e),Ge},R.sortStable=Ti.split("").sort(Ea).join("")===Ti,R.detectDuplicates=!!Ht,ut(),R.sortDetached=No(function(ae){return ae.compareDocumentPosition(mt.createElement("fieldset"))&1}),No(function(ae){return ae.innerHTML="<a href='#'></a>",ae.firstChild.getAttribute("href")==="#"})||yg("type|href|height|width",function(ae,_e,Ge){if(!Ge)return ae.getAttribute(_e,_e.toLowerCase()==="type"?1:2)}),(!R.attributes||!No(function(ae){return ae.innerHTML="<input/>",ae.firstChild.setAttribute("value",""),ae.firstChild.getAttribute("value")===""}))&&yg("value",function(ae,_e,Ge){if(!Ge&&ae.nodeName.toLowerCase()==="input")return ae.defaultValue}),No(function(ae){return ae.getAttribute("disabled")==null})||yg(Au,function(ae,_e,Ge){var Ft;if(!Ge)return ae[_e]===!0?_e.toLowerCase():(Ft=ae.getAttributeNode(_e))&&Ft.specified?Ft.value:null}),$i}(e);w.find=k,w.expr=k.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=k.uniqueSort,w.text=k.getText,w.isXMLDoc=k.isXML,w.contains=k.contains,w.escapeSelector=k.escape;var I=function(S,O,R){for(var F=[],U=R!==void 0;(S=S[O])&&S.nodeType!==9;)if(S.nodeType===1){if(U&&w(S).is(R))break;F.push(S)}return F},A=function(S,O){for(var R=[];S;S=S.nextSibling)S.nodeType===1&&S!==O&&R.push(S);return R},N=w.expr.match.needsContext;function $(S,O){return S.nodeName&&S.nodeName.toLowerCase()===O.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(S,O,R){return g(O)?w.grep(S,function(F,U){return!!O.call(F,U,F)!==R}):O.nodeType?w.grep(S,function(F){return F===O!==R}):typeof O!="string"?w.grep(S,function(F){return l.call(O,F)>-1!==R}):w.filter(O,S,R)}w.filter=function(S,O,R){var F=O[0];return R&&(S=":not("+S+")"),O.length===1&&F.nodeType===1?w.find.matchesSelector(F,S)?[F]:[]:w.find.matches(S,w.grep(O,function(U){return U.nodeType===1}))},w.fn.extend({find:function(S){var O,R,F=this.length,U=this;if(typeof S!="string")return this.pushStack(w(S).filter(function(){for(O=0;O<F;O++)if(w.contains(U[O],this))return!0}));for(R=this.pushStack([]),O=0;O<F;O++)w.find(S,U[O],R);return F>1?w.uniqueSort(R):R},filter:function(S){return this.pushStack(B(this,S||[],!1))},not:function(S){return this.pushStack(B(this,S||[],!0))},is:function(S){return!!B(this,typeof S=="string"&&N.test(S)?w(S):S||[],!1).length}});var j,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=w.fn.init=function(S,O,R){var F,U;if(!S)return this;if(R=R||j,typeof S=="string")if(S[0]==="<"&&S[S.length-1]===">"&&S.length>=3?F=[null,S,null]:F=H.exec(S),F&&(F[1]||!O))if(F[1]){if(O=O instanceof w?O[0]:O,w.merge(this,w.parseHTML(F[1],O&&O.nodeType?O.ownerDocument||O:y,!0)),L.test(F[1])&&w.isPlainObject(O))for(F in O)g(this[F])?this[F](O[F]):this.attr(F,O[F]);return this}else return U=y.getElementById(F[2]),U&&(this[0]=U,this.length=1),this;else return!O||O.jquery?(O||R).find(S):this.constructor(O).find(S);else{if(S.nodeType)return this[0]=S,this.length=1,this;if(g(S))return R.ready!==void 0?R.ready(S):S(w)}return w.makeArray(S,this)};te.prototype=w.fn,j=w(y);var Y=/^(?:parents|prev(?:Until|All))/,ue={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(S){var O=w(S,this),R=O.length;return this.filter(function(){for(var F=0;F<R;F++)if(w.contains(this,O[F]))return!0})},closest:function(S,O){var R,F=0,U=this.length,W=[],ee=typeof S!="string"&&w(S);if(!N.test(S)){for(;F<U;F++)for(R=this[F];R&&R!==O;R=R.parentNode)if(R.nodeType<11&&(ee?ee.index(R)>-1:R.nodeType===1&&w.find.matchesSelector(R,S))){W.push(R);break}}return this.pushStack(W.length>1?w.uniqueSort(W):W)},index:function(S){return S?typeof S=="string"?l.call(w(S),this[0]):l.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,O){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(S,O))))},addBack:function(S){return this.add(S==null?this.prevObject:this.prevObject.filter(S))}});function ce(S,O){for(;(S=S[O])&&S.nodeType!==1;);return S}w.each({parent:function(S){var O=S.parentNode;return O&&O.nodeType!==11?O:null},parents:function(S){return I(S,"parentNode")},parentsUntil:function(S,O,R){return I(S,"parentNode",R)},next:function(S){return ce(S,"nextSibling")},prev:function(S){return ce(S,"previousSibling")},nextAll:function(S){return I(S,"nextSibling")},prevAll:function(S){return I(S,"previousSibling")},nextUntil:function(S,O,R){return I(S,"nextSibling",R)},prevUntil:function(S,O,R){return I(S,"previousSibling",R)},siblings:function(S){return A((S.parentNode||{}).firstChild,S)},children:function(S){return A(S.firstChild)},contents:function(S){return S.contentDocument!=null&&i(S.contentDocument)?S.contentDocument:($(S,"template")&&(S=S.content||S),w.merge([],S.childNodes))}},function(S,O){w.fn[S]=function(R,F){var U=w.map(this,O,R);return S.slice(-5)!=="Until"&&(F=R),F&&typeof F=="string"&&(U=w.filter(F,U)),this.length>1&&(ue[S]||w.uniqueSort(U),Y.test(S)&&U.reverse()),this.pushStack(U)}});var se=/[^\x20\t\r\n\f]+/g;function fe(S){var O={};return w.each(S.match(se)||[],function(R,F){O[F]=!0}),O}w.Callbacks=function(S){S=typeof S=="string"?fe(S):w.extend({},S);var O,R,F,U,W=[],ee=[],Ae=-1,Oe=function(){for(U=U||S.once,F=O=!0;ee.length;Ae=-1)for(R=ee.shift();++Ae<W.length;)W[Ae].apply(R[0],R[1])===!1&&S.stopOnFalse&&(Ae=W.length,R=!1);S.memory||(R=!1),O=!1,U&&(R?W=[]:W="")},Ze={add:function(){return W&&(R&&!O&&(Ae=W.length-1,ee.push(R)),function vt(Ht){w.each(Ht,function(ut,mt){g(mt)?(!S.unique||!Ze.has(mt))&&W.push(mt):mt&&mt.length&&E(mt)!=="string"&&vt(mt)})}(arguments),R&&!O&&Oe()),this},remove:function(){return w.each(arguments,function(vt,Ht){for(var ut;(ut=w.inArray(Ht,W,ut))>-1;)W.splice(ut,1),ut<=Ae&&Ae--}),this},has:function(vt){return vt?w.inArray(vt,W)>-1:W.length>0},empty:function(){return W&&(W=[]),this},disable:function(){return U=ee=[],W=R="",this},disabled:function(){return!W},lock:function(){return U=ee=[],!R&&!O&&(W=R=""),this},locked:function(){return!!U},fireWith:function(vt,Ht){return U||(Ht=Ht||[],Ht=[vt,Ht.slice?Ht.slice():Ht],ee.push(Ht),O||Oe()),this},fire:function(){return Ze.fireWith(this,arguments),this},fired:function(){return!!F}};return Ze};function me(S){return S}function K(S){throw S}function le(S,O,R,F){var U;try{S&&g(U=S.promise)?U.call(S).done(O).fail(R):S&&g(U=S.then)?U.call(S,O,R):O.apply(void 0,[S].slice(F))}catch(W){R.apply(void 0,[W])}}w.extend({Deferred:function(S){var O=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],R="pending",F={state:function(){return R},always:function(){return U.done(arguments).fail(arguments),this},catch:function(W){return F.then(null,W)},pipe:function(){var W=arguments;return w.Deferred(function(ee){w.each(O,function(Ae,Oe){var Ze=g(W[Oe[4]])&&W[Oe[4]];U[Oe[1]](function(){var vt=Ze&&Ze.apply(this,arguments);vt&&g(vt.promise)?vt.promise().progress(ee.notify).done(ee.resolve).fail(ee.reject):ee[Oe[0]+"With"](this,Ze?[vt]:arguments)})}),W=null}).promise()},then:function(W,ee,Ae){var Oe=0;function Ze(vt,Ht,ut,mt){return function(){var cr=this,rr=arguments,sr=function(){var Ri,Cs;if(!(vt<Oe)){if(Ri=ut.apply(cr,rr),Ri===Ht.promise())throw new TypeError("Thenable self-resolution");Cs=Ri&&(typeof Ri=="object"||typeof Ri=="function")&&Ri.then,g(Cs)?mt?Cs.call(Ri,Ze(Oe,Ht,me,mt),Ze(Oe,Ht,K,mt)):(Oe++,Cs.call(Ri,Ze(Oe,Ht,me,mt),Ze(Oe,Ht,K,mt),Ze(Oe,Ht,me,Ht.notifyWith))):(ut!==me&&(cr=void 0,rr=[Ri]),(mt||Ht.resolveWith)(cr,rr))}},ao=mt?sr:function(){try{sr()}catch(Ri){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(Ri,ao.stackTrace),vt+1>=Oe&&(ut!==K&&(cr=void 0,rr=[Ri]),Ht.rejectWith(cr,rr))}};vt?ao():(w.Deferred.getStackHook&&(ao.stackTrace=w.Deferred.getStackHook()),e.setTimeout(ao))}}return w.Deferred(function(vt){O[0][3].add(Ze(0,vt,g(Ae)?Ae:me,vt.notifyWith)),O[1][3].add(Ze(0,vt,g(W)?W:me)),O[2][3].add(Ze(0,vt,g(ee)?ee:K))}).promise()},promise:function(W){return W!=null?w.extend(W,F):F}},U={};return w.each(O,function(W,ee){var Ae=ee[2],Oe=ee[5];F[ee[1]]=Ae.add,Oe&&Ae.add(function(){R=Oe},O[3-W][2].disable,O[3-W][3].disable,O[0][2].lock,O[0][3].lock),Ae.add(ee[3].fire),U[ee[0]]=function(){return U[ee[0]+"With"](this===U?void 0:this,arguments),this},U[ee[0]+"With"]=Ae.fireWith}),F.promise(U),S&&S.call(U,U),U},when:function(S){var O=arguments.length,R=O,F=Array(R),U=o.call(arguments),W=w.Deferred(),ee=function(Ae){return function(Oe){F[Ae]=this,U[Ae]=arguments.length>1?o.call(arguments):Oe,--O||W.resolveWith(F,U)}};if(O<=1&&(le(S,W.done(ee(R)).resolve,W.reject,!O),W.state()==="pending"||g(U[R]&&U[R].then)))return W.then();for(;R--;)le(U[R],ee(R),W.reject);return W.promise()}});var Ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(S,O){e.console&&e.console.warn&&S&&Ne.test(S.name)&&e.console.warn("jQuery.Deferred exception: "+S.message,S.stack,O)},w.readyException=function(S){e.setTimeout(function(){throw S})};var Re=w.Deferred();w.fn.ready=function(S){return Re.then(S).catch(function(O){w.readyException(O)}),this},w.extend({isReady:!1,readyWait:1,ready:function(S){(S===!0?--w.readyWait:w.isReady)||(w.isReady=!0,!(S!==!0&&--w.readyWait>0)&&Re.resolveWith(y,[w]))}}),w.ready.then=Re.then;function Je(){y.removeEventListener("DOMContentLoaded",Je),e.removeEventListener("load",Je),w.ready()}y.readyState==="complete"||y.readyState!=="loading"&&!y.documentElement.doScroll?e.setTimeout(w.ready):(y.addEventListener("DOMContentLoaded",Je),e.addEventListener("load",Je));var $e=function(S,O,R,F,U,W,ee){var Ae=0,Oe=S.length,Ze=R==null;if(E(R)==="object"){U=!0;for(Ae in R)$e(S,O,Ae,R[Ae],!0,W,ee)}else if(F!==void 0&&(U=!0,g(F)||(ee=!0),Ze&&(ee?(O.call(S,F),O=null):(Ze=O,O=function(vt,Ht,ut){return Ze.call(w(vt),ut)})),O))for(;Ae<Oe;Ae++)O(S[Ae],R,ee?F:F.call(S[Ae],Ae,O(S[Ae],R)));return U?S:Ze?O.call(S):Oe?O(S[0],R):W},tt=/^-ms-/,Pt=/-([a-z])/g;function bt(S,O){return O.toUpperCase()}function X(S){return S.replace(tt,"ms-").replace(Pt,bt)}var ve=function(S){return S.nodeType===1||S.nodeType===9||!+S.nodeType};function ne(){this.expando=w.expando+ne.uid++}ne.uid=1,ne.prototype={cache:function(S){var O=S[this.expando];return O||(O={},ve(S)&&(S.nodeType?S[this.expando]=O:Object.defineProperty(S,this.expando,{value:O,configurable:!0}))),O},set:function(S,O,R){var F,U=this.cache(S);if(typeof O=="string")U[X(O)]=R;else for(F in O)U[X(F)]=O[F];return U},get:function(S,O){return O===void 0?this.cache(S):S[this.expando]&&S[this.expando][X(O)]},access:function(S,O,R){return O===void 0||O&&typeof O=="string"&&R===void 0?this.get(S,O):(this.set(S,O,R),R!==void 0?R:O)},remove:function(S,O){var R,F=S[this.expando];if(F!==void 0){if(O!==void 0)for(Array.isArray(O)?O=O.map(X):(O=X(O),O=O in F?[O]:O.match(se)||[]),R=O.length;R--;)delete F[O[R]];(O===void 0||w.isEmptyObject(F))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var O=S[this.expando];return O!==void 0&&!w.isEmptyObject(O)}};var ke=new ne,je=new ne,Ve=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/[A-Z]/g;function Ct(S){return S==="true"?!0:S==="false"?!1:S==="null"?null:S===+S+""?+S:Ve.test(S)?JSON.parse(S):S}function ln(S,O,R){var F;if(R===void 0&&S.nodeType===1)if(F="data-"+O.replace($t,"-$&").toLowerCase(),R=S.getAttribute(F),typeof R=="string"){try{R=Ct(R)}catch{}je.set(S,O,R)}else R=void 0;return R}w.extend({hasData:function(S){return je.hasData(S)||ke.hasData(S)},data:function(S,O,R){return je.access(S,O,R)},removeData:function(S,O){je.remove(S,O)},_data:function(S,O,R){return ke.access(S,O,R)},_removeData:function(S,O){ke.remove(S,O)}}),w.fn.extend({data:function(S,O){var R,F,U,W=this[0],ee=W&&W.attributes;if(S===void 0){if(this.length&&(U=je.get(W),W.nodeType===1&&!ke.get(W,"hasDataAttrs"))){for(R=ee.length;R--;)ee[R]&&(F=ee[R].name,F.indexOf("data-")===0&&(F=X(F.slice(5)),ln(W,F,U[F])));ke.set(W,"hasDataAttrs",!0)}return U}return typeof S=="object"?this.each(function(){je.set(this,S)}):$e(this,function(Ae){var Oe;if(W&&Ae===void 0)return Oe=je.get(W,S),Oe!==void 0||(Oe=ln(W,S),Oe!==void 0)?Oe:void 0;this.each(function(){je.set(this,S,Ae)})},null,O,arguments.length>1,null,!0)},removeData:function(S){return this.each(function(){je.remove(this,S)})}}),w.extend({queue:function(S,O,R){var F;if(S)return O=(O||"fx")+"queue",F=ke.get(S,O),R&&(!F||Array.isArray(R)?F=ke.access(S,O,w.makeArray(R)):F.push(R)),F||[]},dequeue:function(S,O){O=O||"fx";var R=w.queue(S,O),F=R.length,U=R.shift(),W=w._queueHooks(S,O),ee=function(){w.dequeue(S,O)};U==="inprogress"&&(U=R.shift(),F--),U&&(O==="fx"&&R.unshift("inprogress"),delete W.stop,U.call(S,ee,W)),!F&&W&&W.empty.fire()},_queueHooks:function(S,O){var R=O+"queueHooks";return ke.get(S,R)||ke.access(S,R,{empty:w.Callbacks("once memory").add(function(){ke.remove(S,[O+"queue",R])})})}}),w.fn.extend({queue:function(S,O){var R=2;return typeof S!="string"&&(O=S,S="fx",R--),arguments.length<R?w.queue(this[0],S):O===void 0?this:this.each(function(){var F=w.queue(this,S,O);w._queueHooks(this,S),S==="fx"&&F[0]!=="inprogress"&&w.dequeue(this,S)})},dequeue:function(S){return this.each(function(){w.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,O){var R,F=1,U=w.Deferred(),W=this,ee=this.length,Ae=function(){--F||U.resolveWith(W,[W])};for(typeof S!="string"&&(O=S,S=void 0),S=S||"fx";ee--;)R=ke.get(W[ee],S+"queueHooks"),R&&R.empty&&(F++,R.empty.add(Ae));return Ae(),U.promise(O)}});var bn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Z=new RegExp("^(?:([+-])=|)("+bn+")([a-z%]*)$","i"),J=["Top","Right","Bottom","Left"],xe=y.documentElement,Se=function(S){return w.contains(S.ownerDocument,S)},ze={composed:!0};xe.getRootNode&&(Se=function(S){return w.contains(S.ownerDocument,S)||S.getRootNode(ze)===S.ownerDocument});var ot=function(S,O){return S=O||S,S.style.display==="none"||S.style.display===""&&Se(S)&&w.css(S,"display")==="none"};function yn(S,O,R,F){var U,W,ee=20,Ae=F?function(){return F.cur()}:function(){return w.css(S,O,"")},Oe=Ae(),Ze=R&&R[3]||(w.cssNumber[O]?"":"px"),vt=S.nodeType&&(w.cssNumber[O]||Ze!=="px"&&+Oe)&&Z.exec(w.css(S,O));if(vt&&vt[3]!==Ze){for(Oe=Oe/2,Ze=Ze||vt[3],vt=+Oe||1;ee--;)w.style(S,O,vt+Ze),(1-W)*(1-(W=Ae()/Oe||.5))<=0&&(ee=0),vt=vt/W;vt=vt*2,w.style(S,O,vt+Ze),R=R||[]}return R&&(vt=+vt||+Oe||0,U=R[1]?vt+(R[1]+1)*R[2]:+R[2],F&&(F.unit=Ze,F.start=vt,F.end=U)),U}var xt={};function It(S){var O,R=S.ownerDocument,F=S.nodeName,U=xt[F];return U||(O=R.body.appendChild(R.createElement(F)),U=w.css(O,"display"),O.parentNode.removeChild(O),U==="none"&&(U="block"),xt[F]=U,U)}function qe(S,O){for(var R,F,U=[],W=0,ee=S.length;W<ee;W++)F=S[W],F.style&&(R=F.style.display,O?(R==="none"&&(U[W]=ke.get(F,"display")||null,U[W]||(F.style.display="")),F.style.display===""&&ot(F)&&(U[W]=It(F))):R!=="none"&&(U[W]="none",ke.set(F,"display",R)));for(W=0;W<ee;W++)U[W]!=null&&(S[W].style.display=U[W]);return S}w.fn.extend({show:function(){return qe(this,!0)},hide:function(){return qe(this)},toggle:function(S){return typeof S=="boolean"?S?this.show():this.hide():this.each(function(){ot(this)?w(this).show():w(this).hide()})}});var Tt=/^(?:checkbox|radio)$/i,Dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_n=/^$|^module$|\/(?:java|ecma)script/i;(function(){var S=y.createDocumentFragment(),O=S.appendChild(y.createElement("div")),R=y.createElement("input");R.setAttribute("type","radio"),R.setAttribute("checked","checked"),R.setAttribute("name","t"),O.appendChild(R),p.checkClone=O.cloneNode(!0).cloneNode(!0).lastChild.checked,O.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!O.cloneNode(!0).lastChild.defaultValue,O.innerHTML="<option></option>",p.option=!!O.lastChild})();var lr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};lr.tbody=lr.tfoot=lr.colgroup=lr.caption=lr.thead,lr.th=lr.td,p.option||(lr.optgroup=lr.option=[1,"<select multiple='multiple'>","</select>"]);function Qn(S,O){var R;return typeof S.getElementsByTagName<"u"?R=S.getElementsByTagName(O||"*"):typeof S.querySelectorAll<"u"?R=S.querySelectorAll(O||"*"):R=[],O===void 0||O&&$(S,O)?w.merge([S],R):R}function Wn(S,O){for(var R=0,F=S.length;R<F;R++)ke.set(S[R],"globalEval",!O||ke.get(O[R],"globalEval"))}var In=/<|&#?\w+;/;function en(S,O,R,F,U){for(var W,ee,Ae,Oe,Ze,vt,Ht=O.createDocumentFragment(),ut=[],mt=0,cr=S.length;mt<cr;mt++)if(W=S[mt],W||W===0)if(E(W)==="object")w.merge(ut,W.nodeType?[W]:W);else if(!In.test(W))ut.push(O.createTextNode(W));else{for(ee=ee||Ht.appendChild(O.createElement("div")),Ae=(Dt.exec(W)||["",""])[1].toLowerCase(),Oe=lr[Ae]||lr._default,ee.innerHTML=Oe[1]+w.htmlPrefilter(W)+Oe[2],vt=Oe[0];vt--;)ee=ee.lastChild;w.merge(ut,ee.childNodes),ee=Ht.firstChild,ee.textContent=""}for(Ht.textContent="",mt=0;W=ut[mt++];){if(F&&w.inArray(W,F)>-1){U&&U.push(W);continue}if(Ze=Se(W),ee=Qn(Ht.appendChild(W),"script"),Ze&&Wn(ee),R)for(vt=0;W=ee[vt++];)_n.test(W.type||"")&&R.push(W)}return Ht}var Pn=/^([^.]*)(?:\.(.+)|)/;function Sr(){return!0}function Fn(){return!1}function ro(S,O){return S===wo()==(O==="focus")}function wo(){try{return y.activeElement}catch{}}function Tr(S,O,R,F,U,W){var ee,Ae;if(typeof O=="object"){typeof R!="string"&&(F=F||R,R=void 0);for(Ae in O)Tr(S,Ae,R,F,O[Ae],W);return S}if(F==null&&U==null?(U=R,F=R=void 0):U==null&&(typeof R=="string"?(U=F,F=void 0):(U=F,F=R,R=void 0)),U===!1)U=Fn;else if(!U)return S;return W===1&&(ee=U,U=function(Oe){return w().off(Oe),ee.apply(this,arguments)},U.guid=ee.guid||(ee.guid=w.guid++)),S.each(function(){w.event.add(this,O,U,F,R)})}w.event={global:{},add:function(S,O,R,F,U){var W,ee,Ae,Oe,Ze,vt,Ht,ut,mt,cr,rr,sr=ke.get(S);if(!!ve(S))for(R.handler&&(W=R,R=W.handler,U=W.selector),U&&w.find.matchesSelector(xe,U),R.guid||(R.guid=w.guid++),(Oe=sr.events)||(Oe=sr.events=Object.create(null)),(ee=sr.handle)||(ee=sr.handle=function(ao){return typeof w<"u"&&w.event.triggered!==ao.type?w.event.dispatch.apply(S,arguments):void 0}),O=(O||"").match(se)||[""],Ze=O.length;Ze--;)Ae=Pn.exec(O[Ze])||[],mt=rr=Ae[1],cr=(Ae[2]||"").split(".").sort(),mt&&(Ht=w.event.special[mt]||{},mt=(U?Ht.delegateType:Ht.bindType)||mt,Ht=w.event.special[mt]||{},vt=w.extend({type:mt,origType:rr,data:F,handler:R,guid:R.guid,selector:U,needsContext:U&&w.expr.match.needsContext.test(U),namespace:cr.join(".")},W),(ut=Oe[mt])||(ut=Oe[mt]=[],ut.delegateCount=0,(!Ht.setup||Ht.setup.call(S,F,cr,ee)===!1)&&S.addEventListener&&S.addEventListener(mt,ee)),Ht.add&&(Ht.add.call(S,vt),vt.handler.guid||(vt.handler.guid=R.guid)),U?ut.splice(ut.delegateCount++,0,vt):ut.push(vt),w.event.global[mt]=!0)},remove:function(S,O,R,F,U){var W,ee,Ae,Oe,Ze,vt,Ht,ut,mt,cr,rr,sr=ke.hasData(S)&&ke.get(S);if(!(!sr||!(Oe=sr.events))){for(O=(O||"").match(se)||[""],Ze=O.length;Ze--;){if(Ae=Pn.exec(O[Ze])||[],mt=rr=Ae[1],cr=(Ae[2]||"").split(".").sort(),!mt){for(mt in Oe)w.event.remove(S,mt+O[Ze],R,F,!0);continue}for(Ht=w.event.special[mt]||{},mt=(F?Ht.delegateType:Ht.bindType)||mt,ut=Oe[mt]||[],Ae=Ae[2]&&new RegExp("(^|\\.)"+cr.join("\\.(?:.*\\.|)")+"(\\.|$)"),ee=W=ut.length;W--;)vt=ut[W],(U||rr===vt.origType)&&(!R||R.guid===vt.guid)&&(!Ae||Ae.test(vt.namespace))&&(!F||F===vt.selector||F==="**"&&vt.selector)&&(ut.splice(W,1),vt.selector&&ut.delegateCount--,Ht.remove&&Ht.remove.call(S,vt));ee&&!ut.length&&((!Ht.teardown||Ht.teardown.call(S,cr,sr.handle)===!1)&&w.removeEvent(S,mt,sr.handle),delete Oe[mt])}w.isEmptyObject(Oe)&&ke.remove(S,"handle events")}},dispatch:function(S){var O,R,F,U,W,ee,Ae=new Array(arguments.length),Oe=w.event.fix(S),Ze=(ke.get(this,"events")||Object.create(null))[Oe.type]||[],vt=w.event.special[Oe.type]||{};for(Ae[0]=Oe,O=1;O<arguments.length;O++)Ae[O]=arguments[O];if(Oe.delegateTarget=this,!(vt.preDispatch&&vt.preDispatch.call(this,Oe)===!1)){for(ee=w.event.handlers.call(this,Oe,Ze),O=0;(U=ee[O++])&&!Oe.isPropagationStopped();)for(Oe.currentTarget=U.elem,R=0;(W=U.handlers[R++])&&!Oe.isImmediatePropagationStopped();)(!Oe.rnamespace||W.namespace===!1||Oe.rnamespace.test(W.namespace))&&(Oe.handleObj=W,Oe.data=W.data,F=((w.event.special[W.origType]||{}).handle||W.handler).apply(U.elem,Ae),F!==void 0&&(Oe.result=F)===!1&&(Oe.preventDefault(),Oe.stopPropagation()));return vt.postDispatch&&vt.postDispatch.call(this,Oe),Oe.result}},handlers:function(S,O){var R,F,U,W,ee,Ae=[],Oe=O.delegateCount,Ze=S.target;if(Oe&&Ze.nodeType&&!(S.type==="click"&&S.button>=1)){for(;Ze!==this;Ze=Ze.parentNode||this)if(Ze.nodeType===1&&!(S.type==="click"&&Ze.disabled===!0)){for(W=[],ee={},R=0;R<Oe;R++)F=O[R],U=F.selector+" ",ee[U]===void 0&&(ee[U]=F.needsContext?w(U,this).index(Ze)>-1:w.find(U,this,null,[Ze]).length),ee[U]&&W.push(F);W.length&&Ae.push({elem:Ze,handlers:W})}}return Ze=this,Oe<O.length&&Ae.push({elem:Ze,handlers:O.slice(Oe)}),Ae},addProp:function(S,O){Object.defineProperty(w.Event.prototype,S,{enumerable:!0,configurable:!0,get:g(O)?function(){if(this.originalEvent)return O(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(R){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:R})}})},fix:function(S){return S[w.expando]?S:new w.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var O=this||S;return Tt.test(O.type)&&O.click&&$(O,"input")&&Yt(O,"click",Sr),!1},trigger:function(S){var O=this||S;return Tt.test(O.type)&&O.click&&$(O,"input")&&Yt(O,"click"),!0},_default:function(S){var O=S.target;return Tt.test(O.type)&&O.click&&$(O,"input")&&ke.get(O,"click")||$(O,"a")}},beforeunload:{postDispatch:function(S){S.result!==void 0&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}};function Yt(S,O,R){if(!R){ke.get(S,O)===void 0&&w.event.add(S,O,Sr);return}ke.set(S,O,!1),w.event.add(S,O,{namespace:!1,handler:function(F){var U,W,ee=ke.get(this,O);if(F.isTrigger&1&&this[O]){if(ee.length)(w.event.special[O]||{}).delegateType&&F.stopPropagation();else if(ee=o.call(arguments),ke.set(this,O,ee),U=R(this,O),this[O](),W=ke.get(this,O),ee!==W||U?ke.set(this,O,!1):W={},ee!==W)return F.stopImmediatePropagation(),F.preventDefault(),W&&W.value}else ee.length&&(ke.set(this,O,{value:w.event.trigger(w.extend(ee[0],w.Event.prototype),ee.slice(1),this)}),F.stopImmediatePropagation())}})}w.removeEvent=function(S,O,R){S.removeEventListener&&S.removeEventListener(O,R)},w.Event=function(S,O){if(!(this instanceof w.Event))return new w.Event(S,O);S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented||S.defaultPrevented===void 0&&S.returnValue===!1?Sr:Fn,this.target=S.target&&S.target.nodeType===3?S.target.parentNode:S.target,this.currentTarget=S.currentTarget,this.relatedTarget=S.relatedTarget):this.type=S,O&&w.extend(this,O),this.timeStamp=S&&S.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Fn,isPropagationStopped:Fn,isImmediatePropagationStopped:Fn,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=Sr,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=Sr,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=Sr,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(S,O){w.event.special[S]={setup:function(){return Yt(this,S,ro),!1},trigger:function(){return Yt(this,S),!0},_default:function(){return!0},delegateType:O}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(S,O){w.event.special[S]={delegateType:O,bindType:O,handle:function(R){var F,U=this,W=R.relatedTarget,ee=R.handleObj;return(!W||W!==U&&!w.contains(U,W))&&(R.type=ee.origType,F=ee.handler.apply(this,arguments),R.type=O),F}}}),w.fn.extend({on:function(S,O,R,F){return Tr(this,S,O,R,F)},one:function(S,O,R,F){return Tr(this,S,O,R,F,1)},off:function(S,O,R){var F,U;if(S&&S.preventDefault&&S.handleObj)return F=S.handleObj,w(S.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if(typeof S=="object"){for(U in S)this.off(U,O,S[U]);return this}return(O===!1||typeof O=="function")&&(R=O,O=void 0),R===!1&&(R=Fn),this.each(function(){w.event.remove(this,S,R,O)})}});var gn=/<script|<style|<link/i,dn=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function On(S,O){return $(S,"table")&&$(O.nodeType!==11?O:O.firstChild,"tr")&&w(S).children("tbody")[0]||S}function Gr(S){return S.type=(S.getAttribute("type")!==null)+"/"+S.type,S}function qo(S){return(S.type||"").slice(0,5)==="true/"?S.type=S.type.slice(5):S.removeAttribute("type"),S}function Hr(S,O){var R,F,U,W,ee,Ae,Oe;if(O.nodeType===1){if(ke.hasData(S)&&(W=ke.get(S),Oe=W.events,Oe)){ke.remove(O,"handle events");for(U in Oe)for(R=0,F=Oe[U].length;R<F;R++)w.event.add(O,U,Oe[U][R])}je.hasData(S)&&(ee=je.access(S),Ae=w.extend({},ee),je.set(O,Ae))}}function Qi(S,O){var R=O.nodeName.toLowerCase();R==="input"&&Tt.test(S.type)?O.checked=S.checked:(R==="input"||R==="textarea")&&(O.defaultValue=S.defaultValue)}function Vi(S,O,R,F){O=s(O);var U,W,ee,Ae,Oe,Ze,vt=0,Ht=S.length,ut=Ht-1,mt=O[0],cr=g(mt);if(cr||Ht>1&&typeof mt=="string"&&!p.checkClone&&dn.test(mt))return S.each(function(rr){var sr=S.eq(rr);cr&&(O[0]=mt.call(this,rr,sr.html())),Vi(sr,O,R,F)});if(Ht&&(U=en(O,S[0].ownerDocument,!1,S,F),W=U.firstChild,U.childNodes.length===1&&(U=W),W||F)){for(ee=w.map(Qn(U,"script"),Gr),Ae=ee.length;vt<Ht;vt++)Oe=U,vt!==ut&&(Oe=w.clone(Oe,!0,!0),Ae&&w.merge(ee,Qn(Oe,"script"))),R.call(S[vt],Oe,vt);if(Ae)for(Ze=ee[ee.length-1].ownerDocument,w.map(ee,qo),vt=0;vt<Ae;vt++)Oe=ee[vt],_n.test(Oe.type||"")&&!ke.access(Oe,"globalEval")&&w.contains(Ze,Oe)&&(Oe.src&&(Oe.type||"").toLowerCase()!=="module"?w._evalUrl&&!Oe.noModule&&w._evalUrl(Oe.src,{nonce:Oe.nonce||Oe.getAttribute("nonce")},Ze):C(Oe.textContent.replace(zt,""),Oe,Ze))}return S}function ys(S,O,R){for(var F,U=O?w.filter(O,S):S,W=0;(F=U[W])!=null;W++)!R&&F.nodeType===1&&w.cleanData(Qn(F)),F.parentNode&&(R&&Se(F)&&Wn(Qn(F,"script")),F.parentNode.removeChild(F));return S}w.extend({htmlPrefilter:function(S){return S},clone:function(S,O,R){var F,U,W,ee,Ae=S.cloneNode(!0),Oe=Se(S);if(!p.noCloneChecked&&(S.nodeType===1||S.nodeType===11)&&!w.isXMLDoc(S))for(ee=Qn(Ae),W=Qn(S),F=0,U=W.length;F<U;F++)Qi(W[F],ee[F]);if(O)if(R)for(W=W||Qn(S),ee=ee||Qn(Ae),F=0,U=W.length;F<U;F++)Hr(W[F],ee[F]);else Hr(S,Ae);return ee=Qn(Ae,"script"),ee.length>0&&Wn(ee,!Oe&&Qn(S,"script")),Ae},cleanData:function(S){for(var O,R,F,U=w.event.special,W=0;(R=S[W])!==void 0;W++)if(ve(R)){if(O=R[ke.expando]){if(O.events)for(F in O.events)U[F]?w.event.remove(R,F):w.removeEvent(R,F,O.handle);R[ke.expando]=void 0}R[je.expando]&&(R[je.expando]=void 0)}}}),w.fn.extend({detach:function(S){return ys(this,S,!0)},remove:function(S){return ys(this,S)},text:function(S){return $e(this,function(O){return O===void 0?w.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=O)})},null,S,arguments.length)},append:function(){return Vi(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var O=On(this,S);O.appendChild(S)}})},prepend:function(){return Vi(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var O=On(this,S);O.insertBefore(S,O.firstChild)}})},before:function(){return Vi(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Vi(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,O=0;(S=this[O])!=null;O++)S.nodeType===1&&(w.cleanData(Qn(S,!1)),S.textContent="");return this},clone:function(S,O){return S=S==null?!1:S,O=O==null?S:O,this.map(function(){return w.clone(this,S,O)})},html:function(S){return $e(this,function(O){var R=this[0]||{},F=0,U=this.length;if(O===void 0&&R.nodeType===1)return R.innerHTML;if(typeof O=="string"&&!gn.test(O)&&!lr[(Dt.exec(O)||["",""])[1].toLowerCase()]){O=w.htmlPrefilter(O);try{for(;F<U;F++)R=this[F]||{},R.nodeType===1&&(w.cleanData(Qn(R,!1)),R.innerHTML=O);R=0}catch{}}R&&this.empty().append(O)},null,S,arguments.length)},replaceWith:function(){var S=[];return Vi(this,arguments,function(O){var R=this.parentNode;w.inArray(this,S)<0&&(w.cleanData(Qn(this)),R&&R.replaceChild(O,this))},S)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(S,O){w.fn[S]=function(R){for(var F,U=[],W=w(R),ee=W.length-1,Ae=0;Ae<=ee;Ae++)F=Ae===ee?this:this.clone(!0),w(W[Ae])[O](F),a.apply(U,F.get());return this.pushStack(U)}});var qr=new RegExp("^("+bn+")(?!px)[a-z%]+$","i"),bs=function(S){var O=S.ownerDocument.defaultView;return(!O||!O.opener)&&(O=e),O.getComputedStyle(S)},io=function(S,O,R){var F,U,W={};for(U in O)W[U]=S.style[U],S.style[U]=O[U];F=R.call(S);for(U in O)S.style[U]=W[U];return F},Fo=new RegExp(J.join("|"),"i");(function(){function S(){if(!!Ze){Oe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(Oe).appendChild(Ze);var vt=e.getComputedStyle(Ze);R=vt.top!=="1%",Ae=O(vt.marginLeft)===12,Ze.style.right="60%",W=O(vt.right)===36,F=O(vt.width)===36,Ze.style.position="absolute",U=O(Ze.offsetWidth/3)===12,xe.removeChild(Oe),Ze=null}}function O(vt){return Math.round(parseFloat(vt))}var R,F,U,W,ee,Ae,Oe=y.createElement("div"),Ze=y.createElement("div");!Ze.style||(Ze.style.backgroundClip="content-box",Ze.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle=Ze.style.backgroundClip==="content-box",w.extend(p,{boxSizingReliable:function(){return S(),F},pixelBoxStyles:function(){return S(),W},pixelPosition:function(){return S(),R},reliableMarginLeft:function(){return S(),Ae},scrollboxSize:function(){return S(),U},reliableTrDimensions:function(){var vt,Ht,ut,mt;return ee==null&&(vt=y.createElement("table"),Ht=y.createElement("tr"),ut=y.createElement("div"),vt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ht.style.cssText="border:1px solid",Ht.style.height="1px",ut.style.height="9px",ut.style.display="block",xe.appendChild(vt).appendChild(Ht).appendChild(ut),mt=e.getComputedStyle(Ht),ee=parseInt(mt.height,10)+parseInt(mt.borderTopWidth,10)+parseInt(mt.borderBottomWidth,10)===Ht.offsetHeight,xe.removeChild(vt)),ee}}))})();function xs(S,O,R){var F,U,W,ee,Ae=S.style;return R=R||bs(S),R&&(ee=R.getPropertyValue(O)||R[O],ee===""&&!Se(S)&&(ee=w.style(S,O)),!p.pixelBoxStyles()&&qr.test(ee)&&Fo.test(O)&&(F=Ae.width,U=Ae.minWidth,W=Ae.maxWidth,Ae.minWidth=Ae.maxWidth=Ae.width=ee,ee=R.width,Ae.width=F,Ae.minWidth=U,Ae.maxWidth=W)),ee!==void 0?ee+"":ee}function ua(S,O){return{get:function(){if(S()){delete this.get;return}return(this.get=O).apply(this,arguments)}}}var Sa=["Webkit","Moz","ms"],Xr=y.createElement("div").style,Fr={};function fr(S){for(var O=S[0].toUpperCase()+S.slice(1),R=Sa.length;R--;)if(S=Sa[R]+O,S in Xr)return S}function er(S){var O=w.cssProps[S]||Fr[S];return O||(S in Xr?S:Fr[S]=fr(S)||S)}var oo=/^(none|table(?!-c[ea]).+)/,ws=/^--/,Ia={position:"absolute",visibility:"hidden",display:"block"},xl={letterSpacing:"0",fontWeight:"400"};function wl(S,O,R){var F=Z.exec(O);return F?Math.max(0,F[2]-(R||0))+(F[3]||"px"):O}function el(S,O,R,F,U,W){var ee=O==="width"?1:0,Ae=0,Oe=0;if(R===(F?"border":"content"))return 0;for(;ee<4;ee+=2)R==="margin"&&(Oe+=w.css(S,R+J[ee],!0,U)),F?(R==="content"&&(Oe-=w.css(S,"padding"+J[ee],!0,U)),R!=="margin"&&(Oe-=w.css(S,"border"+J[ee]+"Width",!0,U))):(Oe+=w.css(S,"padding"+J[ee],!0,U),R!=="padding"?Oe+=w.css(S,"border"+J[ee]+"Width",!0,U):Ae+=w.css(S,"border"+J[ee]+"Width",!0,U));return!F&&W>=0&&(Oe+=Math.max(0,Math.ceil(S["offset"+O[0].toUpperCase()+O.slice(1)]-W-Oe-Ae-.5))||0),Oe}function Cl(S,O,R){var F=bs(S),U=!p.boxSizingReliable()||R,W=U&&w.css(S,"boxSizing",!1,F)==="border-box",ee=W,Ae=xs(S,O,F),Oe="offset"+O[0].toUpperCase()+O.slice(1);if(qr.test(Ae)){if(!R)return Ae;Ae="auto"}return(!p.boxSizingReliable()&&W||!p.reliableTrDimensions()&&$(S,"tr")||Ae==="auto"||!parseFloat(Ae)&&w.css(S,"display",!1,F)==="inline")&&S.getClientRects().length&&(W=w.css(S,"boxSizing",!1,F)==="border-box",ee=Oe in S,ee&&(Ae=S[Oe])),Ae=parseFloat(Ae)||0,Ae+el(S,O,R||(W?"border":"content"),ee,F,Ae)+"px"}w.extend({cssHooks:{opacity:{get:function(S,O){if(O){var R=xs(S,"opacity");return R===""?"1":R}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(S,O,R,F){if(!(!S||S.nodeType===3||S.nodeType===8||!S.style)){var U,W,ee,Ae=X(O),Oe=ws.test(O),Ze=S.style;if(Oe||(O=er(Ae)),ee=w.cssHooks[O]||w.cssHooks[Ae],R!==void 0){if(W=typeof R,W==="string"&&(U=Z.exec(R))&&U[1]&&(R=yn(S,O,U),W="number"),R==null||R!==R)return;W==="number"&&!Oe&&(R+=U&&U[3]||(w.cssNumber[Ae]?"":"px")),!p.clearCloneStyle&&R===""&&O.indexOf("background")===0&&(Ze[O]="inherit"),(!ee||!("set"in ee)||(R=ee.set(S,R,F))!==void 0)&&(Oe?Ze.setProperty(O,R):Ze[O]=R)}else return ee&&"get"in ee&&(U=ee.get(S,!1,F))!==void 0?U:Ze[O]}},css:function(S,O,R,F){var U,W,ee,Ae=X(O),Oe=ws.test(O);return Oe||(O=er(Ae)),ee=w.cssHooks[O]||w.cssHooks[Ae],ee&&"get"in ee&&(U=ee.get(S,!0,R)),U===void 0&&(U=xs(S,O,F)),U==="normal"&&O in xl&&(U=xl[O]),R===""||R?(W=parseFloat(U),R===!0||isFinite(W)?W||0:U):U}}),w.each(["height","width"],function(S,O){w.cssHooks[O]={get:function(R,F,U){if(F)return oo.test(w.css(R,"display"))&&(!R.getClientRects().length||!R.getBoundingClientRect().width)?io(R,Ia,function(){return Cl(R,O,U)}):Cl(R,O,U)},set:function(R,F,U){var W,ee=bs(R),Ae=!p.scrollboxSize()&&ee.position==="absolute",Oe=Ae||U,Ze=Oe&&w.css(R,"boxSizing",!1,ee)==="border-box",vt=U?el(R,O,U,Ze,ee):0;return Ze&&Ae&&(vt-=Math.ceil(R["offset"+O[0].toUpperCase()+O.slice(1)]-parseFloat(ee[O])-el(R,O,"border",!1,ee)-.5)),vt&&(W=Z.exec(F))&&(W[3]||"px")!=="px"&&(R.style[O]=F,F=w.css(R,O)),wl(R,F,vt)}}}),w.cssHooks.marginLeft=ua(p.reliableMarginLeft,function(S,O){if(O)return(parseFloat(xs(S,"marginLeft"))||S.getBoundingClientRect().left-io(S,{marginLeft:0},function(){return S.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(S,O){w.cssHooks[S+O]={expand:function(R){for(var F=0,U={},W=typeof R=="string"?R.split(" "):[R];F<4;F++)U[S+J[F]+O]=W[F]||W[F-2]||W[0];return U}},S!=="margin"&&(w.cssHooks[S+O].set=wl)}),w.fn.extend({css:function(S,O){return $e(this,function(R,F,U){var W,ee,Ae={},Oe=0;if(Array.isArray(F)){for(W=bs(R),ee=F.length;Oe<ee;Oe++)Ae[F[Oe]]=w.css(R,F[Oe],!1,W);return Ae}return U!==void 0?w.style(R,F,U):w.css(R,F)},S,O,arguments.length>1)}});function ho(S,O,R,F,U){return new ho.prototype.init(S,O,R,F,U)}w.Tween=ho,ho.prototype={constructor:ho,init:function(S,O,R,F,U,W){this.elem=S,this.prop=R,this.easing=U||w.easing._default,this.options=O,this.start=this.now=this.cur(),this.end=F,this.unit=W||(w.cssNumber[R]?"":"px")},cur:function(){var S=ho.propHooks[this.prop];return S&&S.get?S.get(this):ho.propHooks._default.get(this)},run:function(S){var O,R=ho.propHooks[this.prop];return this.options.duration?this.pos=O=w.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):this.pos=O=S,this.now=(this.end-this.start)*O+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),R&&R.set?R.set(this):ho.propHooks._default.set(this),this}},ho.prototype.init.prototype=ho.prototype,ho.propHooks={_default:{get:function(S){var O;return S.elem.nodeType!==1||S.elem[S.prop]!=null&&S.elem.style[S.prop]==null?S.elem[S.prop]:(O=w.css(S.elem,S.prop,""),!O||O==="auto"?0:O)},set:function(S){w.fx.step[S.prop]?w.fx.step[S.prop](S):S.elem.nodeType===1&&(w.cssHooks[S.prop]||S.elem.style[er(S.prop)]!=null)?w.style(S.elem,S.prop,S.now+S.unit):S.elem[S.prop]=S.now}}},ho.propHooks.scrollTop=ho.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},w.easing={linear:function(S){return S},swing:function(S){return .5-Math.cos(S*Math.PI)/2},_default:"swing"},w.fx=ho.prototype.init,w.fx.step={};var ti,Br,Di=/^(?:toggle|show|hide)$/,tr=/queueHooks$/;function or(){Br&&(y.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(or):e.setTimeout(or,w.fx.interval),w.fx.tick())}function Ui(){return e.setTimeout(function(){ti=void 0}),ti=Date.now()}function Hi(S,O){var R,F=0,U={height:S};for(O=O?1:0;F<4;F+=2-O)R=J[F],U["margin"+R]=U["padding"+R]=S;return O&&(U.opacity=U.width=S),U}function po(S,O,R){for(var F,U=(zo.tweeners[O]||[]).concat(zo.tweeners["*"]),W=0,ee=U.length;W<ee;W++)if(F=U[W].call(R,O,S))return F}function Ms(S,O,R){var F,U,W,ee,Ae,Oe,Ze,vt,Ht="width"in O||"height"in O,ut=this,mt={},cr=S.style,rr=S.nodeType&&ot(S),sr=ke.get(S,"fxshow");R.queue||(ee=w._queueHooks(S,"fx"),ee.unqueued==null&&(ee.unqueued=0,Ae=ee.empty.fire,ee.empty.fire=function(){ee.unqueued||Ae()}),ee.unqueued++,ut.always(function(){ut.always(function(){ee.unqueued--,w.queue(S,"fx").length||ee.empty.fire()})}));for(F in O)if(U=O[F],Di.test(U)){if(delete O[F],W=W||U==="toggle",U===(rr?"hide":"show"))if(U==="show"&&sr&&sr[F]!==void 0)rr=!0;else continue;mt[F]=sr&&sr[F]||w.style(S,F)}if(Oe=!w.isEmptyObject(O),!(!Oe&&w.isEmptyObject(mt))){Ht&&S.nodeType===1&&(R.overflow=[cr.overflow,cr.overflowX,cr.overflowY],Ze=sr&&sr.display,Ze==null&&(Ze=ke.get(S,"display")),vt=w.css(S,"display"),vt==="none"&&(Ze?vt=Ze:(qe([S],!0),Ze=S.style.display||Ze,vt=w.css(S,"display"),qe([S]))),(vt==="inline"||vt==="inline-block"&&Ze!=null)&&w.css(S,"float")==="none"&&(Oe||(ut.done(function(){cr.display=Ze}),Ze==null&&(vt=cr.display,Ze=vt==="none"?"":vt)),cr.display="inline-block")),R.overflow&&(cr.overflow="hidden",ut.always(function(){cr.overflow=R.overflow[0],cr.overflowX=R.overflow[1],cr.overflowY=R.overflow[2]})),Oe=!1;for(F in mt)Oe||(sr?"hidden"in sr&&(rr=sr.hidden):sr=ke.access(S,"fxshow",{display:Ze}),W&&(sr.hidden=!rr),rr&&qe([S],!0),ut.done(function(){rr||qe([S]),ke.remove(S,"fxshow");for(F in mt)w.style(S,F,mt[F])})),Oe=po(rr?sr[F]:0,F,ut),F in sr||(sr[F]=Oe.start,rr&&(Oe.end=Oe.start,Oe.start=0))}}function As(S,O){var R,F,U,W,ee;for(R in S)if(F=X(R),U=O[F],W=S[R],Array.isArray(W)&&(U=W[1],W=S[R]=W[0]),R!==F&&(S[F]=W,delete S[R]),ee=w.cssHooks[F],ee&&"expand"in ee){W=ee.expand(W),delete S[F];for(R in W)R in S||(S[R]=W[R],O[R]=U)}else O[F]=U}function zo(S,O,R){var F,U,W=0,ee=zo.prefilters.length,Ae=w.Deferred().always(function(){delete Oe.elem}),Oe=function(){if(U)return!1;for(var Ht=ti||Ui(),ut=Math.max(0,Ze.startTime+Ze.duration-Ht),mt=ut/Ze.duration||0,cr=1-mt,rr=0,sr=Ze.tweens.length;rr<sr;rr++)Ze.tweens[rr].run(cr);return Ae.notifyWith(S,[Ze,cr,ut]),cr<1&&sr?ut:(sr||Ae.notifyWith(S,[Ze,1,0]),Ae.resolveWith(S,[Ze]),!1)},Ze=Ae.promise({elem:S,props:w.extend({},O),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},R),originalProperties:O,originalOptions:R,startTime:ti||Ui(),duration:R.duration,tweens:[],createTween:function(Ht,ut){var mt=w.Tween(S,Ze.opts,Ht,ut,Ze.opts.specialEasing[Ht]||Ze.opts.easing);return Ze.tweens.push(mt),mt},stop:function(Ht){var ut=0,mt=Ht?Ze.tweens.length:0;if(U)return this;for(U=!0;ut<mt;ut++)Ze.tweens[ut].run(1);return Ht?(Ae.notifyWith(S,[Ze,1,0]),Ae.resolveWith(S,[Ze,Ht])):Ae.rejectWith(S,[Ze,Ht]),this}}),vt=Ze.props;for(As(vt,Ze.opts.specialEasing);W<ee;W++)if(F=zo.prefilters[W].call(Ze,S,vt,Ze.opts),F)return g(F.stop)&&(w._queueHooks(Ze.elem,Ze.opts.queue).stop=F.stop.bind(F)),F;return w.map(vt,po,Ze),g(Ze.opts.start)&&Ze.opts.start.call(S,Ze),Ze.progress(Ze.opts.progress).done(Ze.opts.done,Ze.opts.complete).fail(Ze.opts.fail).always(Ze.opts.always),w.fx.timer(w.extend(Oe,{elem:S,anim:Ze,queue:Ze.opts.queue})),Ze}w.Animation=w.extend(zo,{tweeners:{"*":[function(S,O){var R=this.createTween(S,O);return yn(R.elem,S,Z.exec(O),R),R}]},tweener:function(S,O){g(S)?(O=S,S=["*"]):S=S.match(se);for(var R,F=0,U=S.length;F<U;F++)R=S[F],zo.tweeners[R]=zo.tweeners[R]||[],zo.tweeners[R].unshift(O)},prefilters:[Ms],prefilter:function(S,O){O?zo.prefilters.unshift(S):zo.prefilters.push(S)}}),w.speed=function(S,O,R){var F=S&&typeof S=="object"?w.extend({},S):{complete:R||!R&&O||g(S)&&S,duration:S,easing:R&&O||O&&!g(O)&&O};return w.fx.off?F.duration=0:typeof F.duration!="number"&&(F.duration in w.fx.speeds?F.duration=w.fx.speeds[F.duration]:F.duration=w.fx.speeds._default),(F.queue==null||F.queue===!0)&&(F.queue="fx"),F.old=F.complete,F.complete=function(){g(F.old)&&F.old.call(this),F.queue&&w.dequeue(this,F.queue)},F},w.fn.extend({fadeTo:function(S,O,R,F){return this.filter(ot).css("opacity",0).show().end().animate({opacity:O},S,R,F)},animate:function(S,O,R,F){var U=w.isEmptyObject(S),W=w.speed(O,R,F),ee=function(){var Ae=zo(this,w.extend({},S),W);(U||ke.get(this,"finish"))&&Ae.stop(!0)};return ee.finish=ee,U||W.queue===!1?this.each(ee):this.queue(W.queue,ee)},stop:function(S,O,R){var F=function(U){var W=U.stop;delete U.stop,W(R)};return typeof S!="string"&&(R=O,O=S,S=void 0),O&&this.queue(S||"fx",[]),this.each(function(){var U=!0,W=S!=null&&S+"queueHooks",ee=w.timers,Ae=ke.get(this);if(W)Ae[W]&&Ae[W].stop&&F(Ae[W]);else for(W in Ae)Ae[W]&&Ae[W].stop&&tr.test(W)&&F(Ae[W]);for(W=ee.length;W--;)ee[W].elem===this&&(S==null||ee[W].queue===S)&&(ee[W].anim.stop(R),U=!1,ee.splice(W,1));(U||!R)&&w.dequeue(this,S)})},finish:function(S){return S!==!1&&(S=S||"fx"),this.each(function(){var O,R=ke.get(this),F=R[S+"queue"],U=R[S+"queueHooks"],W=w.timers,ee=F?F.length:0;for(R.finish=!0,w.queue(this,S,[]),U&&U.stop&&U.stop.call(this,!0),O=W.length;O--;)W[O].elem===this&&W[O].queue===S&&(W[O].anim.stop(!0),W.splice(O,1));for(O=0;O<ee;O++)F[O]&&F[O].finish&&F[O].finish.call(this);delete R.finish})}}),w.each(["toggle","show","hide"],function(S,O){var R=w.fn[O];w.fn[O]=function(F,U,W){return F==null||typeof F=="boolean"?R.apply(this,arguments):this.animate(Hi(O,!0),F,U,W)}}),w.each({slideDown:Hi("show"),slideUp:Hi("hide"),slideToggle:Hi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(S,O){w.fn[S]=function(R,F,U){return this.animate(O,R,F,U)}}),w.timers=[],w.fx.tick=function(){var S,O=0,R=w.timers;for(ti=Date.now();O<R.length;O++)S=R[O],!S()&&R[O]===S&&R.splice(O--,1);R.length||w.fx.stop(),ti=void 0},w.fx.timer=function(S){w.timers.push(S),w.fx.start()},w.fx.interval=13,w.fx.start=function(){Br||(Br=!0,or())},w.fx.stop=function(){Br=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(S,O){return S=w.fx&&w.fx.speeds[S]||S,O=O||"fx",this.queue(O,function(R,F){var U=e.setTimeout(R,S);F.stop=function(){e.clearTimeout(U)}})},function(){var S=y.createElement("input"),O=y.createElement("select"),R=O.appendChild(y.createElement("option"));S.type="checkbox",p.checkOn=S.value!=="",p.optSelected=R.selected,S=y.createElement("input"),S.value="t",S.type="radio",p.radioValue=S.value==="t"}();var fa,da=w.expr.attrHandle;w.fn.extend({attr:function(S,O){return $e(this,w.attr,S,O,arguments.length>1)},removeAttr:function(S){return this.each(function(){w.removeAttr(this,S)})}}),w.extend({attr:function(S,O,R){var F,U,W=S.nodeType;if(!(W===3||W===8||W===2)){if(typeof S.getAttribute>"u")return w.prop(S,O,R);if((W!==1||!w.isXMLDoc(S))&&(U=w.attrHooks[O.toLowerCase()]||(w.expr.match.bool.test(O)?fa:void 0)),R!==void 0){if(R===null){w.removeAttr(S,O);return}return U&&"set"in U&&(F=U.set(S,R,O))!==void 0?F:(S.setAttribute(O,R+""),R)}return U&&"get"in U&&(F=U.get(S,O))!==null?F:(F=w.find.attr(S,O),F==null?void 0:F)}},attrHooks:{type:{set:function(S,O){if(!p.radioValue&&O==="radio"&&$(S,"input")){var R=S.value;return S.setAttribute("type",O),R&&(S.value=R),O}}}},removeAttr:function(S,O){var R,F=0,U=O&&O.match(se);if(U&&S.nodeType===1)for(;R=U[F++];)S.removeAttribute(R)}}),fa={set:function(S,O,R){return O===!1?w.removeAttr(S,R):S.setAttribute(R,R),R}},w.each(w.expr.match.bool.source.match(/\w+/g),function(S,O){var R=da[O]||w.find.attr;da[O]=function(F,U,W){var ee,Ae,Oe=U.toLowerCase();return W||(Ae=da[Oe],da[Oe]=ee,ee=R(F,U,W)!=null?Oe:null,da[Oe]=Ae),ee}});var ha=/^(?:input|select|textarea|button)$/i,Fl=/^(?:a|area)$/i;w.fn.extend({prop:function(S,O){return $e(this,w.prop,S,O,arguments.length>1)},removeProp:function(S){return this.each(function(){delete this[w.propFix[S]||S]})}}),w.extend({prop:function(S,O,R){var F,U,W=S.nodeType;if(!(W===3||W===8||W===2))return(W!==1||!w.isXMLDoc(S))&&(O=w.propFix[O]||O,U=w.propHooks[O]),R!==void 0?U&&"set"in U&&(F=U.set(S,R,O))!==void 0?F:S[O]=R:U&&"get"in U&&(F=U.get(S,O))!==null?F:S[O]},propHooks:{tabIndex:{get:function(S){var O=w.find.attr(S,"tabindex");return O?parseInt(O,10):ha.test(S.nodeName)||Fl.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(S){var O=S.parentNode;return O&&O.parentNode&&O.parentNode.selectedIndex,null},set:function(S){var O=S.parentNode;O&&(O.selectedIndex,O.parentNode&&O.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function $a(S){var O=S.match(se)||[];return O.join(" ")}function La(S){return S.getAttribute&&S.getAttribute("class")||""}function md(S){return Array.isArray(S)?S:typeof S=="string"?S.match(se)||[]:[]}w.fn.extend({addClass:function(S){var O,R,F,U,W,ee,Ae,Oe=0;if(g(S))return this.each(function(Ze){w(this).addClass(S.call(this,Ze,La(this)))});if(O=md(S),O.length){for(;R=this[Oe++];)if(U=La(R),F=R.nodeType===1&&" "+$a(U)+" ",F){for(ee=0;W=O[ee++];)F.indexOf(" "+W+" ")<0&&(F+=W+" ");Ae=$a(F),U!==Ae&&R.setAttribute("class",Ae)}}return this},removeClass:function(S){var O,R,F,U,W,ee,Ae,Oe=0;if(g(S))return this.each(function(Ze){w(this).removeClass(S.call(this,Ze,La(this)))});if(!arguments.length)return this.attr("class","");if(O=md(S),O.length){for(;R=this[Oe++];)if(U=La(R),F=R.nodeType===1&&" "+$a(U)+" ",F){for(ee=0;W=O[ee++];)for(;F.indexOf(" "+W+" ")>-1;)F=F.replace(" "+W+" "," ");Ae=$a(F),U!==Ae&&R.setAttribute("class",Ae)}}return this},toggleClass:function(S,O){var R=typeof S,F=R==="string"||Array.isArray(S);return typeof O=="boolean"&&F?O?this.addClass(S):this.removeClass(S):g(S)?this.each(function(U){w(this).toggleClass(S.call(this,U,La(this),O),O)}):this.each(function(){var U,W,ee,Ae;if(F)for(W=0,ee=w(this),Ae=md(S);U=Ae[W++];)ee.hasClass(U)?ee.removeClass(U):ee.addClass(U);else(S===void 0||R==="boolean")&&(U=La(this),U&&ke.set(this,"__className__",U),this.setAttribute&&this.setAttribute("class",U||S===!1?"":ke.get(this,"__className__")||""))})},hasClass:function(S){var O,R,F=0;for(O=" "+S+" ";R=this[F++];)if(R.nodeType===1&&(" "+$a(La(R))+" ").indexOf(O)>-1)return!0;return!1}});var cg=/\r/g;w.fn.extend({val:function(S){var O,R,F,U=this[0];return arguments.length?(F=g(S),this.each(function(W){var ee;this.nodeType===1&&(F?ee=S.call(this,W,w(this).val()):ee=S,ee==null?ee="":typeof ee=="number"?ee+="":Array.isArray(ee)&&(ee=w.map(ee,function(Ae){return Ae==null?"":Ae+""})),O=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],(!O||!("set"in O)||O.set(this,ee,"value")===void 0)&&(this.value=ee))})):U?(O=w.valHooks[U.type]||w.valHooks[U.nodeName.toLowerCase()],O&&"get"in O&&(R=O.get(U,"value"))!==void 0?R:(R=U.value,typeof R=="string"?R.replace(cg,""):R==null?"":R)):void 0}}),w.extend({valHooks:{option:{get:function(S){var O=w.find.attr(S,"value");return O!=null?O:$a(w.text(S))}},select:{get:function(S){var O,R,F,U=S.options,W=S.selectedIndex,ee=S.type==="select-one",Ae=ee?null:[],Oe=ee?W+1:U.length;for(W<0?F=Oe:F=ee?W:0;F<Oe;F++)if(R=U[F],(R.selected||F===W)&&!R.disabled&&(!R.parentNode.disabled||!$(R.parentNode,"optgroup"))){if(O=w(R).val(),ee)return O;Ae.push(O)}return Ae},set:function(S,O){for(var R,F,U=S.options,W=w.makeArray(O),ee=U.length;ee--;)F=U[ee],(F.selected=w.inArray(w.valHooks.option.get(F),W)>-1)&&(R=!0);return R||(S.selectedIndex=-1),W}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(S,O){if(Array.isArray(O))return S.checked=w.inArray(w(S).val(),O)>-1}},p.checkOn||(w.valHooks[this].get=function(S){return S.getAttribute("value")===null?"on":S.value})}),p.focusin="onfocusin"in e;var Tu=/^(?:focusinfocus|focusoutblur)$/,Ic=function(S){S.stopPropagation()};w.extend(w.event,{trigger:function(S,O,R,F){var U,W,ee,Ae,Oe,Ze,vt,Ht,ut=[R||y],mt=f.call(S,"type")?S.type:S,cr=f.call(S,"namespace")?S.namespace.split("."):[];if(W=Ht=ee=R=R||y,!(R.nodeType===3||R.nodeType===8)&&!Tu.test(mt+w.event.triggered)&&(mt.indexOf(".")>-1&&(cr=mt.split("."),mt=cr.shift(),cr.sort()),Oe=mt.indexOf(":")<0&&"on"+mt,S=S[w.expando]?S:new w.Event(mt,typeof S=="object"&&S),S.isTrigger=F?2:3,S.namespace=cr.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+cr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=R),O=O==null?[S]:w.makeArray(O,[S]),vt=w.event.special[mt]||{},!(!F&&vt.trigger&&vt.trigger.apply(R,O)===!1))){if(!F&&!vt.noBubble&&!m(R)){for(Ae=vt.delegateType||mt,Tu.test(Ae+mt)||(W=W.parentNode);W;W=W.parentNode)ut.push(W),ee=W;ee===(R.ownerDocument||y)&&ut.push(ee.defaultView||ee.parentWindow||e)}for(U=0;(W=ut[U++])&&!S.isPropagationStopped();)Ht=W,S.type=U>1?Ae:vt.bindType||mt,Ze=(ke.get(W,"events")||Object.create(null))[S.type]&&ke.get(W,"handle"),Ze&&Ze.apply(W,O),Ze=Oe&&W[Oe],Ze&&Ze.apply&&ve(W)&&(S.result=Ze.apply(W,O),S.result===!1&&S.preventDefault());return S.type=mt,!F&&!S.isDefaultPrevented()&&(!vt._default||vt._default.apply(ut.pop(),O)===!1)&&ve(R)&&Oe&&g(R[mt])&&!m(R)&&(ee=R[Oe],ee&&(R[Oe]=null),w.event.triggered=mt,S.isPropagationStopped()&&Ht.addEventListener(mt,Ic),R[mt](),S.isPropagationStopped()&&Ht.removeEventListener(mt,Ic),w.event.triggered=void 0,ee&&(R[Oe]=ee)),S.result}},simulate:function(S,O,R){var F=w.extend(new w.Event,R,{type:S,isSimulated:!0});w.event.trigger(F,null,O)}}),w.fn.extend({trigger:function(S,O){return this.each(function(){w.event.trigger(S,O,this)})},triggerHandler:function(S,O){var R=this[0];if(R)return w.event.trigger(S,O,R,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},function(S,O){var R=function(F){w.event.simulate(O,F.target,w.event.fix(F))};w.event.special[O]={setup:function(){var F=this.ownerDocument||this.document||this,U=ke.access(F,O);U||F.addEventListener(S,R,!0),ke.access(F,O,(U||0)+1)},teardown:function(){var F=this.ownerDocument||this.document||this,U=ke.access(F,O)-1;U?ke.access(F,O,U):(F.removeEventListener(S,R,!0),ke.remove(F,O))}}});var Uo=e.location,Ws={guid:Date.now()},$c=/\?/;w.parseXML=function(S){var O,R;if(!S||typeof S!="string")return null;try{O=new e.DOMParser().parseFromString(S,"text/xml")}catch{}return R=O&&O.getElementsByTagName("parsererror")[0],(!O||R)&&w.error("Invalid XML: "+(R?w.map(R.childNodes,function(F){return F.textContent}).join(`
`):S)),O};var ug=/\[\]$/,Eh=/\r?\n/g,yd=/^(?:submit|button|image|reset|file)$/i,_h=/^(?:input|select|textarea|keygen)/i;function xf(S,O,R,F){var U;if(Array.isArray(O))w.each(O,function(W,ee){R||ug.test(S)?F(S,ee):xf(S+"["+(typeof ee=="object"&&ee!=null?W:"")+"]",ee,R,F)});else if(!R&&E(O)==="object")for(U in O)xf(S+"["+U+"]",O[U],R,F);else F(S,O)}w.param=function(S,O){var R,F=[],U=function(W,ee){var Ae=g(ee)?ee():ee;F[F.length]=encodeURIComponent(W)+"="+encodeURIComponent(Ae==null?"":Ae)};if(S==null)return"";if(Array.isArray(S)||S.jquery&&!w.isPlainObject(S))w.each(S,function(){U(this.name,this.value)});else for(R in S)xf(R,S[R],O,U);return F.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=w.prop(this,"elements");return S?w.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!w(this).is(":disabled")&&_h.test(this.nodeName)&&!yd.test(S)&&(this.checked||!Tt.test(S))}).map(function(S,O){var R=w(this).val();return R==null?null:Array.isArray(R)?w.map(R,function(F){return{name:O.name,value:F.replace(Eh,`\r
`)}}):{name:O.name,value:R.replace(Eh,`\r
`)}}).get()}});var Pu=/%20/g,bd=/#.*$/,sm=/([?&])_=[^&]*/,xd=/^(.*?):[ \t]*([^\r\n]*)$/mg,fg=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,am=/^(?:GET|HEAD)$/,Th=/^\/\//,dg={},Lc={},Ph="*/".concat("*"),zl=y.createElement("a");zl.href=Uo.href;function wd(S){return function(O,R){typeof O!="string"&&(R=O,O="*");var F,U=0,W=O.toLowerCase().match(se)||[];if(g(R))for(;F=W[U++];)F[0]==="+"?(F=F.slice(1)||"*",(S[F]=S[F]||[]).unshift(R)):(S[F]=S[F]||[]).push(R)}}function hg(S,O,R,F){var U={},W=S===Lc;function ee(Ae){var Oe;return U[Ae]=!0,w.each(S[Ae]||[],function(Ze,vt){var Ht=vt(O,R,F);if(typeof Ht=="string"&&!W&&!U[Ht])return O.dataTypes.unshift(Ht),ee(Ht),!1;if(W)return!(Oe=Ht)}),Oe}return ee(O.dataTypes[0])||!U["*"]&&ee("*")}function Ou(S,O){var R,F,U=w.ajaxSettings.flatOptions||{};for(R in O)O[R]!==void 0&&((U[R]?S:F||(F={}))[R]=O[R]);return F&&w.extend(!0,S,F),S}function Ji(S,O,R){for(var F,U,W,ee,Ae=S.contents,Oe=S.dataTypes;Oe[0]==="*";)Oe.shift(),F===void 0&&(F=S.mimeType||O.getResponseHeader("Content-Type"));if(F){for(U in Ae)if(Ae[U]&&Ae[U].test(F)){Oe.unshift(U);break}}if(Oe[0]in R)W=Oe[0];else{for(U in R){if(!Oe[0]||S.converters[U+" "+Oe[0]]){W=U;break}ee||(ee=U)}W=W||ee}if(W)return W!==Oe[0]&&Oe.unshift(W),R[W]}function so(S,O,R,F){var U,W,ee,Ae,Oe,Ze={},vt=S.dataTypes.slice();if(vt[1])for(ee in S.converters)Ze[ee.toLowerCase()]=S.converters[ee];for(W=vt.shift();W;)if(S.responseFields[W]&&(R[S.responseFields[W]]=O),!Oe&&F&&S.dataFilter&&(O=S.dataFilter(O,S.dataType)),Oe=W,W=vt.shift(),W){if(W==="*")W=Oe;else if(Oe!=="*"&&Oe!==W){if(ee=Ze[Oe+" "+W]||Ze["* "+W],!ee){for(U in Ze)if(Ae=U.split(" "),Ae[1]===W&&(ee=Ze[Oe+" "+Ae[0]]||Ze["* "+Ae[0]],ee)){ee===!0?ee=Ze[U]:Ze[U]!==!0&&(W=Ae[0],vt.unshift(Ae[1]));break}}if(ee!==!0)if(ee&&S.throws)O=ee(O);else try{O=ee(O)}catch(Ht){return{state:"parsererror",error:ee?Ht:"No conversion from "+Oe+" to "+W}}}}return{state:"success",data:O}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Uo.href,type:"GET",isLocal:fg.test(Uo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ph,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,O){return O?Ou(Ou(S,w.ajaxSettings),O):Ou(w.ajaxSettings,S)},ajaxPrefilter:wd(dg),ajaxTransport:wd(Lc),ajax:function(S,O){typeof S=="object"&&(O=S,S=void 0),O=O||{};var R,F,U,W,ee,Ae,Oe,Ze,vt,Ht,ut=w.ajaxSetup({},O),mt=ut.context||ut,cr=ut.context&&(mt.nodeType||mt.jquery)?w(mt):w.event,rr=w.Deferred(),sr=w.Callbacks("once memory"),ao=ut.statusCode||{},Ri={},Cs={},Ti="canceled",Vn={readyState:0,getResponseHeader:function(Mn){var sn;if(Oe){if(!W)for(W={};sn=xd.exec(U);)W[sn[1].toLowerCase()+" "]=(W[sn[1].toLowerCase()+" "]||[]).concat(sn[2]);sn=W[Mn.toLowerCase()+" "]}return sn==null?null:sn.join(", ")},getAllResponseHeaders:function(){return Oe?U:null},setRequestHeader:function(Mn,sn){return Oe==null&&(Mn=Cs[Mn.toLowerCase()]=Cs[Mn.toLowerCase()]||Mn,Ri[Mn]=sn),this},overrideMimeType:function(Mn){return Oe==null&&(ut.mimeType=Mn),this},statusCode:function(Mn){var sn;if(Mn)if(Oe)Vn.always(Mn[Vn.status]);else for(sn in Mn)ao[sn]=[ao[sn],Mn[sn]];return this},abort:function(Mn){var sn=Mn||Ti;return R&&R.abort(sn),Go(0,sn),this}};if(rr.promise(Vn),ut.url=((S||ut.url||Uo.href)+"").replace(Th,Uo.protocol+"//"),ut.type=O.method||O.type||ut.method||ut.type,ut.dataTypes=(ut.dataType||"*").toLowerCase().match(se)||[""],ut.crossDomain==null){Ae=y.createElement("a");try{Ae.href=ut.url,Ae.href=Ae.href,ut.crossDomain=zl.protocol+"//"+zl.host!=Ae.protocol+"//"+Ae.host}catch{ut.crossDomain=!0}}if(ut.data&&ut.processData&&typeof ut.data!="string"&&(ut.data=w.param(ut.data,ut.traditional)),hg(dg,ut,O,Vn),Oe)return Vn;Ze=w.event&&ut.global,Ze&&w.active++===0&&w.event.trigger("ajaxStart"),ut.type=ut.type.toUpperCase(),ut.hasContent=!am.test(ut.type),F=ut.url.replace(bd,""),ut.hasContent?ut.data&&ut.processData&&(ut.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ut.data=ut.data.replace(Pu,"+")):(Ht=ut.url.slice(F.length),ut.data&&(ut.processData||typeof ut.data=="string")&&(F+=($c.test(F)?"&":"?")+ut.data,delete ut.data),ut.cache===!1&&(F=F.replace(sm,"$1"),Ht=($c.test(F)?"&":"?")+"_="+Ws.guid+++Ht),ut.url=F+Ht),ut.ifModified&&(w.lastModified[F]&&Vn.setRequestHeader("If-Modified-Since",w.lastModified[F]),w.etag[F]&&Vn.setRequestHeader("If-None-Match",w.etag[F])),(ut.data&&ut.hasContent&&ut.contentType!==!1||O.contentType)&&Vn.setRequestHeader("Content-Type",ut.contentType),Vn.setRequestHeader("Accept",ut.dataTypes[0]&&ut.accepts[ut.dataTypes[0]]?ut.accepts[ut.dataTypes[0]]+(ut.dataTypes[0]!=="*"?", "+Ph+"; q=0.01":""):ut.accepts["*"]);for(vt in ut.headers)Vn.setRequestHeader(vt,ut.headers[vt]);if(ut.beforeSend&&(ut.beforeSend.call(mt,Vn,ut)===!1||Oe))return Vn.abort();if(Ti="abort",sr.add(ut.complete),Vn.done(ut.success),Vn.fail(ut.error),R=hg(Lc,ut,O,Vn),!R)Go(-1,"No Transport");else{if(Vn.readyState=1,Ze&&cr.trigger("ajaxSend",[Vn,ut]),Oe)return Vn;ut.async&&ut.timeout>0&&(ee=e.setTimeout(function(){Vn.abort("timeout")},ut.timeout));try{Oe=!1,R.send(Ri,Go)}catch(Mn){if(Oe)throw Mn;Go(-1,Mn)}}function Go(Mn,sn,Yn,Jn){var vi,Ea,Co,Wi,So,go=sn;Oe||(Oe=!0,ee&&e.clearTimeout(ee),R=void 0,U=Jn||"",Vn.readyState=Mn>0?4:0,vi=Mn>=200&&Mn<300||Mn===304,Yn&&(Wi=Ji(ut,Vn,Yn)),!vi&&w.inArray("script",ut.dataTypes)>-1&&w.inArray("json",ut.dataTypes)<0&&(ut.converters["text script"]=function(){}),Wi=so(ut,Wi,Vn,vi),vi?(ut.ifModified&&(So=Vn.getResponseHeader("Last-Modified"),So&&(w.lastModified[F]=So),So=Vn.getResponseHeader("etag"),So&&(w.etag[F]=So)),Mn===204||ut.type==="HEAD"?go="nocontent":Mn===304?go="notmodified":(go=Wi.state,Ea=Wi.data,Co=Wi.error,vi=!Co)):(Co=go,(Mn||!go)&&(go="error",Mn<0&&(Mn=0))),Vn.status=Mn,Vn.statusText=(sn||go)+"",vi?rr.resolveWith(mt,[Ea,go,Vn]):rr.rejectWith(mt,[Vn,go,Co]),Vn.statusCode(ao),ao=void 0,Ze&&cr.trigger(vi?"ajaxSuccess":"ajaxError",[Vn,ut,vi?Ea:Co]),sr.fireWith(mt,[Vn,go]),Ze&&(cr.trigger("ajaxComplete",[Vn,ut]),--w.active||w.event.trigger("ajaxStop")))}return Vn},getJSON:function(S,O,R){return w.get(S,O,R,"json")},getScript:function(S,O){return w.get(S,void 0,O,"script")}}),w.each(["get","post"],function(S,O){w[O]=function(R,F,U,W){return g(F)&&(W=W||U,U=F,F=void 0),w.ajax(w.extend({url:R,type:O,dataType:W,data:F,success:U},w.isPlainObject(R)&&R))}}),w.ajaxPrefilter(function(S){var O;for(O in S.headers)O.toLowerCase()==="content-type"&&(S.contentType=S.headers[O]||"")}),w._evalUrl=function(S,O,R){return w.ajax({url:S,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(F){w.globalEval(F,O,R)}})},w.fn.extend({wrapAll:function(S){var O;return this[0]&&(g(S)&&(S=S.call(this[0])),O=w(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&O.insertBefore(this[0]),O.map(function(){for(var R=this;R.firstElementChild;)R=R.firstElementChild;return R}).append(this)),this},wrapInner:function(S){return g(S)?this.each(function(O){w(this).wrapInner(S.call(this,O))}):this.each(function(){var O=w(this),R=O.contents();R.length?R.wrapAll(S):O.append(S)})},wrap:function(S){var O=g(S);return this.each(function(R){w(this).wrapAll(O?S.call(this,R):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(S){return!w.expr.pseudos.visible(S)},w.expr.pseudos.visible=function(S){return!!(S.offsetWidth||S.offsetHeight||S.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Oh={0:200,1223:204},wf=w.ajaxSettings.xhr();p.cors=!!wf&&"withCredentials"in wf,p.ajax=wf=!!wf,w.ajaxTransport(function(S){var O,R;if(p.cors||wf&&!S.crossDomain)return{send:function(F,U){var W,ee=S.xhr();if(ee.open(S.type,S.url,S.async,S.username,S.password),S.xhrFields)for(W in S.xhrFields)ee[W]=S.xhrFields[W];S.mimeType&&ee.overrideMimeType&&ee.overrideMimeType(S.mimeType),!S.crossDomain&&!F["X-Requested-With"]&&(F["X-Requested-With"]="XMLHttpRequest");for(W in F)ee.setRequestHeader(W,F[W]);O=function(Ae){return function(){O&&(O=R=ee.onload=ee.onerror=ee.onabort=ee.ontimeout=ee.onreadystatechange=null,Ae==="abort"?ee.abort():Ae==="error"?typeof ee.status!="number"?U(0,"error"):U(ee.status,ee.statusText):U(Oh[ee.status]||ee.status,ee.statusText,(ee.responseType||"text")!=="text"||typeof ee.responseText!="string"?{binary:ee.response}:{text:ee.responseText},ee.getAllResponseHeaders()))}},ee.onload=O(),R=ee.onerror=ee.ontimeout=O("error"),ee.onabort!==void 0?ee.onabort=R:ee.onreadystatechange=function(){ee.readyState===4&&e.setTimeout(function(){O&&R()})},O=O("abort");try{ee.send(S.hasContent&&S.data||null)}catch(Ae){if(O)throw Ae}},abort:function(){O&&O()}}}),w.ajaxPrefilter(function(S){S.crossDomain&&(S.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(S){return w.globalEval(S),S}}}),w.ajaxPrefilter("script",function(S){S.cache===void 0&&(S.cache=!1),S.crossDomain&&(S.type="GET")}),w.ajaxTransport("script",function(S){if(S.crossDomain||S.scriptAttrs){var O,R;return{send:function(F,U){O=w("<script>").attr(S.scriptAttrs||{}).prop({charset:S.scriptCharset,src:S.url}).on("load error",R=function(W){O.remove(),R=null,W&&U(W.type==="error"?404:200,W.type)}),y.head.appendChild(O[0])},abort:function(){R&&R()}}}});var Cf=[],Mu=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=Cf.pop()||w.expando+"_"+Ws.guid++;return this[S]=!0,S}}),w.ajaxPrefilter("json jsonp",function(S,O,R){var F,U,W,ee=S.jsonp!==!1&&(Mu.test(S.url)?"url":typeof S.data=="string"&&(S.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Mu.test(S.data)&&"data");if(ee||S.dataTypes[0]==="jsonp")return F=S.jsonpCallback=g(S.jsonpCallback)?S.jsonpCallback():S.jsonpCallback,ee?S[ee]=S[ee].replace(Mu,"$1"+F):S.jsonp!==!1&&(S.url+=($c.test(S.url)?"&":"?")+S.jsonp+"="+F),S.converters["script json"]=function(){return W||w.error(F+" was not called"),W[0]},S.dataTypes[0]="json",U=e[F],e[F]=function(){W=arguments},R.always(function(){U===void 0?w(e).removeProp(F):e[F]=U,S[F]&&(S.jsonpCallback=O.jsonpCallback,Cf.push(F)),W&&g(U)&&U(W[0]),W=U=void 0}),"script"}),p.createHTMLDocument=function(){var S=y.implementation.createHTMLDocument("").body;return S.innerHTML="<form></form><form></form>",S.childNodes.length===2}(),w.parseHTML=function(S,O,R){if(typeof S!="string")return[];typeof O=="boolean"&&(R=O,O=!1);var F,U,W;return O||(p.createHTMLDocument?(O=y.implementation.createHTMLDocument(""),F=O.createElement("base"),F.href=y.location.href,O.head.appendChild(F)):O=y),U=L.exec(S),W=!R&&[],U?[O.createElement(U[1])]:(U=en([S],O,W),W&&W.length&&w(W).remove(),w.merge([],U.childNodes))},w.fn.load=function(S,O,R){var F,U,W,ee=this,Ae=S.indexOf(" ");return Ae>-1&&(F=$a(S.slice(Ae)),S=S.slice(0,Ae)),g(O)?(R=O,O=void 0):O&&typeof O=="object"&&(U="POST"),ee.length>0&&w.ajax({url:S,type:U||"GET",dataType:"html",data:O}).done(function(Oe){W=arguments,ee.html(F?w("<div>").append(w.parseHTML(Oe)).find(F):Oe)}).always(R&&function(Oe,Ze){ee.each(function(){R.apply(this,W||[Oe.responseText,Ze,Oe])})}),this},w.expr.pseudos.animated=function(S){return w.grep(w.timers,function(O){return S===O.elem}).length},w.offset={setOffset:function(S,O,R){var F,U,W,ee,Ae,Oe,Ze,vt=w.css(S,"position"),Ht=w(S),ut={};vt==="static"&&(S.style.position="relative"),Ae=Ht.offset(),W=w.css(S,"top"),Oe=w.css(S,"left"),Ze=(vt==="absolute"||vt==="fixed")&&(W+Oe).indexOf("auto")>-1,Ze?(F=Ht.position(),ee=F.top,U=F.left):(ee=parseFloat(W)||0,U=parseFloat(Oe)||0),g(O)&&(O=O.call(S,R,w.extend({},Ae))),O.top!=null&&(ut.top=O.top-Ae.top+ee),O.left!=null&&(ut.left=O.left-Ae.left+U),"using"in O?O.using.call(S,ut):Ht.css(ut)}},w.fn.extend({offset:function(S){if(arguments.length)return S===void 0?this:this.each(function(U){w.offset.setOffset(this,S,U)});var O,R,F=this[0];if(!!F)return F.getClientRects().length?(O=F.getBoundingClientRect(),R=F.ownerDocument.defaultView,{top:O.top+R.pageYOffset,left:O.left+R.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var S,O,R,F=this[0],U={top:0,left:0};if(w.css(F,"position")==="fixed")O=F.getBoundingClientRect();else{for(O=this.offset(),R=F.ownerDocument,S=F.offsetParent||R.documentElement;S&&(S===R.body||S===R.documentElement)&&w.css(S,"position")==="static";)S=S.parentNode;S&&S!==F&&S.nodeType===1&&(U=w(S).offset(),U.top+=w.css(S,"borderTopWidth",!0),U.left+=w.css(S,"borderLeftWidth",!0))}return{top:O.top-U.top-w.css(F,"marginTop",!0),left:O.left-U.left-w.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&w.css(S,"position")==="static";)S=S.offsetParent;return S||xe})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(S,O){var R=O==="pageYOffset";w.fn[S]=function(F){return $e(this,function(U,W,ee){var Ae;if(m(U)?Ae=U:U.nodeType===9&&(Ae=U.defaultView),ee===void 0)return Ae?Ae[O]:U[W];Ae?Ae.scrollTo(R?Ae.pageXOffset:ee,R?ee:Ae.pageYOffset):U[W]=ee},S,F,arguments.length)}}),w.each(["top","left"],function(S,O){w.cssHooks[O]=ua(p.pixelPosition,function(R,F){if(F)return F=xs(R,O),qr.test(F)?w(R).position()[O]+"px":F})}),w.each({Height:"height",Width:"width"},function(S,O){w.each({padding:"inner"+S,content:O,"":"outer"+S},function(R,F){w.fn[F]=function(U,W){var ee=arguments.length&&(R||typeof U!="boolean"),Ae=R||(U===!0||W===!0?"margin":"border");return $e(this,function(Oe,Ze,vt){var Ht;return m(Oe)?F.indexOf("outer")===0?Oe["inner"+S]:Oe.document.documentElement["client"+S]:Oe.nodeType===9?(Ht=Oe.documentElement,Math.max(Oe.body["scroll"+S],Ht["scroll"+S],Oe.body["offset"+S],Ht["offset"+S],Ht["client"+S])):vt===void 0?w.css(Oe,Ze,Ae):w.style(Oe,Ze,vt,Ae)},O,ee?U:void 0,ee)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(S,O){w.fn[O]=function(R){return this.on(O,R)}}),w.fn.extend({bind:function(S,O,R){return this.on(S,null,O,R)},unbind:function(S,O){return this.off(S,null,O)},delegate:function(S,O,R,F){return this.on(O,S,R,F)},undelegate:function(S,O,R){return arguments.length===1?this.off(S,"**"):this.off(O,S||"**",R)},hover:function(S,O){return this.mouseenter(S).mouseleave(O||S)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(S,O){w.fn[O]=function(R,F){return arguments.length>0?this.on(O,null,R,F):this.trigger(O)}});var Gl=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(S,O){var R,F,U;if(typeof O=="string"&&(R=S[O],O=S,S=R),!!g(S))return F=o.call(arguments,2),U=function(){return S.apply(O||this,F.concat(o.call(arguments)))},U.guid=S.guid=S.guid||w.guid++,U},w.holdReady=function(S){S?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=$,w.isFunction=g,w.isWindow=m,w.camelCase=X,w.type=E,w.now=Date.now,w.isNumeric=function(S){var O=w.type(S);return(O==="number"||O==="string")&&!isNaN(S-parseFloat(S))},w.trim=function(S){return S==null?"":(S+"").replace(Gl,"")};var Cd=e.jQuery,Sd=e.$;return w.noConflict=function(S){return e.$===w&&(e.$=Sd),S&&e.jQuery===w&&(e.jQuery=Cd),w},typeof n>"u"&&(e.jQuery=e.$=w),w})})(ate);const Is=ate.exports;var w1e={exports:{}};/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */(function(t,e){(function(n){t.exports=n})(function(n){var r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice,s,a;if(n.event.fixHooks)for(var l=r.length;l;)n.event.fixHooks[r[--l]]=n.event.mouseHooks;var c=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var h=i.length;h;)this.addEventListener(i[--h],u,!1);else this.onmousewheel=u;n.data(this,"mousewheel-line-height",c.getLineHeight(this)),n.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var h=i.length;h;)this.removeEventListener(i[--h],u,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height"),n.removeData(this,"mousewheel-page-height")},getLineHeight:function(h){var p=n(h),g=p["offsetParent"in n.fn?"offsetParent":"parent"]();return g.length||(g=n("body")),parseInt(g.css("fontSize"),10)||parseInt(p.css("fontSize"),10)||16},getPageHeight:function(h){return n(h).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(h){return h?this.bind("mousewheel",h):this.trigger("mousewheel")},unmousewheel:function(h){return this.unbind("mousewheel",h)}});function u(h){var p=h||window.event,g=o.call(arguments,1),m=0,y=0,b=0,C=0,E=0,_=0;if(h=n.event.fix(p),h.type="mousewheel","detail"in p&&(b=p.detail*-1),"wheelDelta"in p&&(b=p.wheelDelta),"wheelDeltaY"in p&&(b=p.wheelDeltaY),"wheelDeltaX"in p&&(y=p.wheelDeltaX*-1),"axis"in p&&p.axis===p.HORIZONTAL_AXIS&&(y=b*-1,b=0),m=b===0?y:b,"deltaY"in p&&(b=p.deltaY*-1,m=b),"deltaX"in p&&(y=p.deltaX,b===0&&(m=y*-1)),!(b===0&&y===0)){if(p.deltaMode===1){var w=n.data(this,"mousewheel-line-height");m*=w,b*=w,y*=w}else if(p.deltaMode===2){var M=n.data(this,"mousewheel-page-height");m*=M,b*=M,y*=M}if(C=Math.max(Math.abs(b),Math.abs(y)),(!a||C<a)&&(a=C,d(p,C)&&(a/=40)),d(p,C)&&(m/=40,y/=40,b/=40),m=Math[m>=1?"floor":"ceil"](m/a),y=Math[y>=1?"floor":"ceil"](y/a),b=Math[b>=1?"floor":"ceil"](b/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var k=this.getBoundingClientRect();E=h.clientX-k.left,_=h.clientY-k.top}return h.deltaX=y,h.deltaY=b,h.deltaFactor=a,h.offsetX=E,h.offsetY=_,h.deltaMode=0,g.unshift(h,m,y,b),s&&clearTimeout(s),s=setTimeout(f,200),(n.event.dispatch||n.event.handle).apply(this,g)}}function f(){a=null}function d(h,p){return c.settings.adjustOldDeltas&&h.type==="mousewheel"&&p%120===0}})})(w1e);const Ol=navigator.userAgent;var Zs;(function(t){t.IS_MAC=navigator.appVersion.indexOf("Mac")>0,t.IS_IOS=!!Ol.match(/(iPad|iPhone|iPod)/g),t.IS_WINDOWS=navigator.appVersion.indexOf("Win")>0,t.IS_IE=Ol.indexOf("MSIE")>=0,t.IS_IE11=!!Ol.match(/Trident\/7\./),t.IS_EDGE=!!Ol.match(/Edge\//),t.IS_NETSCAPE=Ol.indexOf("Mozilla/")>=0&&Ol.indexOf("MSIE")<0&&Ol.indexOf("Edge/")<0,t.IS_CHROME_APP=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,t.IS_CHROME=Ol.indexOf("Chrome/")>=0&&Ol.indexOf("Edge/")<0,t.IS_OPERA=Ol.indexOf("Opera/")>=0||Ol.indexOf("OPR/")>=0,t.IS_FIREFOX=Ol.indexOf("Firefox/")>=0,t.IS_SAFARI=Ol.indexOf("AppleWebKit/")>=0&&Ol.indexOf("Chrome/")<0&&Ol.indexOf("Edge/")<0,t.SUPPORT_TOUCH="ontouchstart"in document.documentElement,t.SUPPORT_POINTER=window.PointerEvent!=null&&!t.IS_MAC,t.SUPPORT_PASSIVE=!1;try{const e=Object.defineProperty({},"passive",{get(){t.SUPPORT_PASSIVE=!0}}),n=document.createElement("div");n.addEventListener&&n.addEventListener("click",()=>{},e)}catch{}t.NO_FOREIGNOBJECT=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||Ol.indexOf("Opera/")>=0,t.SUPPORT_FOREIGNOBJECT=!t.NO_FOREIGNOBJECT})(Zs||(Zs={}));(function(t){function e(){const o=window.module;return o!=null&&o.hot!=null&&o.hot.status!=null?o.hot.status():"unkonwn"}t.getHMRStatus=e;function n(){return e()==="apply"}t.isApplyingHMR=n;const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function i(o){const s=document.createElement(r[o]||"div"),a=`on${o}`;let l=a in s;return l||(s.setAttribute(a,"return;"),l=typeof s[a]=="function"),l}t.isEventSupported=i})(Zs||(Zs={}));if(Zs.SUPPORT_PASSIVE){Is.event.special.touchstart={setup(e,n,r){if(!this.addEventListener)return!1;this.addEventListener("touchstart",r,{passive:!0})}};const t=Is.event.special.mousewheel;if(t){const e=t.setup;t.setup=function(){const n=this.addEventListener;if(!n)return!1;this.addEventListener=(r,i)=>{n.call(this,r,i,{passive:!0})},e.call(this),this.addEventListener=n}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);(function(t){t.forEach(e=>{Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value(...n){const r=document.createDocumentFragment();n.forEach(i=>{const o=i instanceof Node;r.appendChild(o?i:document.createTextNode(String(i)))}),this.appendChild(r)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);var C1e=typeof global=="object"&&global&&global.Object===Object&&global;const lte=C1e;var S1e=typeof self=="object"&&self&&self.Object===Object&&self,E1e=lte||S1e||Function("return this")();const fd=E1e;var _1e=fd.Symbol;const df=_1e;var cte=Object.prototype,T1e=cte.hasOwnProperty,P1e=cte.toString,Dx=df?df.toStringTag:void 0;function O1e(t){var e=T1e.call(t,Dx),n=t[Dx];try{t[Dx]=void 0;var r=!0}catch{}var i=P1e.call(t);return r&&(e?t[Dx]=n:delete t[Dx]),i}var M1e=Object.prototype,A1e=M1e.toString;function k1e(t){return A1e.call(t)}var D1e="[object Null]",N1e="[object Undefined]",jB=df?df.toStringTag:void 0;function mh(t){return t==null?t===void 0?N1e:D1e:jB&&jB in Object(t)?O1e(t):k1e(t)}function pu(t){return t!=null&&typeof t=="object"}var R1e="[object Symbol]";function uh(t){return typeof t=="symbol"||pu(t)&&mh(t)==R1e}function u1(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var I1e=Array.isArray;const ml=I1e;var $1e=1/0,VB=df?df.prototype:void 0,UB=VB?VB.toString:void 0;function ute(t){if(typeof t=="string")return t;if(ml(t))return u1(t,ute)+"";if(uh(t))return UB?UB.call(t):"";var e=t+"";return e=="0"&&1/t==-$1e?"-0":e}var L1e=/\s/;function F1e(t){for(var e=t.length;e--&&L1e.test(t.charAt(e)););return e}var z1e=/^\s+/;function G1e(t){return t&&t.slice(0,F1e(t)+1).replace(z1e,"")}function aa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var HB=0/0,B1e=/^[-+]0x[0-9a-f]+$/i,j1e=/^0b[01]+$/i,V1e=/^0o[0-7]+$/i,U1e=parseInt;function Yw(t){if(typeof t=="number")return t;if(uh(t))return HB;if(aa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=aa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=G1e(t);var n=j1e.test(t);return n||V1e.test(t)?U1e(t.slice(2),n?2:8):B1e.test(t)?HB:+t}function y2(t){return t}var H1e="[object AsyncFunction]",W1e="[object Function]",Y1e="[object GeneratorFunction]",q1e="[object Proxy]";function b5(t){if(!aa(t))return!1;var e=mh(t);return e==W1e||e==Y1e||e==H1e||e==q1e}var X1e=fd["__core-js_shared__"];const AR=X1e;var WB=function(){var t=/[^.]+$/.exec(AR&&AR.keys&&AR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function K1e(t){return!!WB&&WB in t}var Z1e=Function.prototype,Q1e=Z1e.toString;function W0(t){if(t!=null){try{return Q1e.call(t)}catch{}try{return t+""}catch{}}return""}var J1e=/[\\^$.*+?()[\]{}|]/g,e2e=/^\[object .+?Constructor\]$/,t2e=Function.prototype,n2e=Object.prototype,r2e=t2e.toString,i2e=n2e.hasOwnProperty,o2e=RegExp("^"+r2e.call(i2e).replace(J1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s2e(t){if(!aa(t)||K1e(t))return!1;var e=b5(t)?o2e:e2e;return e.test(W0(t))}function a2e(t,e){return t==null?void 0:t[e]}function Y0(t,e){var n=a2e(t,e);return s2e(n)?n:void 0}var l2e=Y0(fd,"WeakMap");const O6=l2e;var YB=Object.create,c2e=function(){function t(){}return function(e){if(!aa(e))return{};if(YB)return YB(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const u2e=c2e;function x5(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function f2e(){}function fte(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var d2e=800,h2e=16,p2e=Date.now;function g2e(t){var e=0,n=0;return function(){var r=p2e(),i=h2e-(r-n);if(n=r,i>0){if(++e>=d2e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function v2e(t){return function(){return t}}var m2e=function(){try{var t=Y0(Object,"defineProperty");return t({},"",{}),t}catch{}}();const PM=m2e;var y2e=PM?function(t,e){return PM(t,"toString",{configurable:!0,enumerable:!1,value:v2e(e),writable:!0})}:y2;const b2e=y2e;var x2e=g2e(b2e);const dte=x2e;function w2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function C2e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function S2e(t){return t!==t}function E2e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function _2e(t,e,n){return e===e?E2e(t,e,n):C2e(t,S2e,n)}function hte(t,e){var n=t==null?0:t.length;return!!n&&_2e(t,e,0)>-1}var T2e=9007199254740991,P2e=/^(?:0|[1-9]\d*)$/;function Ek(t,e){var n=typeof t;return e=e==null?T2e:e,!!e&&(n=="number"||n!="symbol"&&P2e.test(t))&&t>-1&&t%1==0&&t<e}function _k(t,e,n){e=="__proto__"&&PM?PM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function q0(t,e){return t===e||t!==t&&e!==e}var O2e=Object.prototype,M2e=O2e.hasOwnProperty;function w5(t,e,n){var r=t[e];(!(M2e.call(t,e)&&q0(r,n))||n===void 0&&!(e in t))&&_k(t,e,n)}function b2(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?_k(n,a,l):w5(n,a,l)}return n}var qB=Math.max;function pte(t,e,n){return e=qB(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=qB(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),x5(t,this,a)}}function Zv(t,e){return dte(pte(t,e,y2),t+"")}var A2e=9007199254740991;function C5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=A2e}function X0(t){return t!=null&&C5(t.length)&&!b5(t)}function GC(t,e,n){if(!aa(n))return!1;var r=typeof e;return(r=="number"?X0(n)&&Ek(e,n.length):r=="string"&&e in n)?q0(n[e],t):!1}function S5(t){return Zv(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&GC(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var k2e=Object.prototype;function Tk(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||k2e;return t===n}function D2e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var N2e="[object Arguments]";function XB(t){return pu(t)&&mh(t)==N2e}var gte=Object.prototype,R2e=gte.hasOwnProperty,I2e=gte.propertyIsEnumerable,$2e=XB(function(){return arguments}())?XB:function(t){return pu(t)&&R2e.call(t,"callee")&&!I2e.call(t,"callee")};const T1=$2e;function L2e(){return!1}var vte=typeof cu=="object"&&cu&&!cu.nodeType&&cu,KB=vte&&typeof Dl=="object"&&Dl&&!Dl.nodeType&&Dl,F2e=KB&&KB.exports===vte,ZB=F2e?fd.Buffer:void 0,z2e=ZB?ZB.isBuffer:void 0,G2e=z2e||L2e;const P1=G2e;var B2e="[object Arguments]",j2e="[object Array]",V2e="[object Boolean]",U2e="[object Date]",H2e="[object Error]",W2e="[object Function]",Y2e="[object Map]",q2e="[object Number]",X2e="[object Object]",K2e="[object RegExp]",Z2e="[object Set]",Q2e="[object String]",J2e="[object WeakMap]",exe="[object ArrayBuffer]",txe="[object DataView]",nxe="[object Float32Array]",rxe="[object Float64Array]",ixe="[object Int8Array]",oxe="[object Int16Array]",sxe="[object Int32Array]",axe="[object Uint8Array]",lxe="[object Uint8ClampedArray]",cxe="[object Uint16Array]",uxe="[object Uint32Array]",ls={};ls[nxe]=ls[rxe]=ls[ixe]=ls[oxe]=ls[sxe]=ls[axe]=ls[lxe]=ls[cxe]=ls[uxe]=!0;ls[B2e]=ls[j2e]=ls[exe]=ls[V2e]=ls[txe]=ls[U2e]=ls[H2e]=ls[W2e]=ls[Y2e]=ls[q2e]=ls[X2e]=ls[K2e]=ls[Z2e]=ls[Q2e]=ls[J2e]=!1;function fxe(t){return pu(t)&&C5(t.length)&&!!ls[mh(t)]}function yE(t){return function(e){return t(e)}}var mte=typeof cu=="object"&&cu&&!cu.nodeType&&cu,qw=mte&&typeof Dl=="object"&&Dl&&!Dl.nodeType&&Dl,dxe=qw&&qw.exports===mte,kR=dxe&&lte.process,hxe=function(){try{var t=qw&&qw.require&&qw.require("util").types;return t||kR&&kR.binding&&kR.binding("util")}catch{}}();const O1=hxe;var QB=O1&&O1.isTypedArray,pxe=QB?yE(QB):fxe;const Pk=pxe;var gxe=Object.prototype,vxe=gxe.hasOwnProperty;function yte(t,e){var n=ml(t),r=!n&&T1(t),i=!n&&!r&&P1(t),o=!n&&!r&&!i&&Pk(t),s=n||r||i||o,a=s?D2e(t.length,String):[],l=a.length;for(var c in t)(e||vxe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ek(c,l)))&&a.push(c);return a}function bte(t,e){return function(n){return t(e(n))}}var mxe=bte(Object.keys,Object);const yxe=mxe;var bxe=Object.prototype,xxe=bxe.hasOwnProperty;function xte(t){if(!Tk(t))return yxe(t);var e=[];for(var n in Object(t))xxe.call(t,n)&&n!="constructor"&&e.push(n);return e}function x2(t){return X0(t)?yte(t):xte(t)}function wxe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Cxe=Object.prototype,Sxe=Cxe.hasOwnProperty;function Exe(t){if(!aa(t))return wxe(t);var e=Tk(t),n=[];for(var r in t)r=="constructor"&&(e||!Sxe.call(t,r))||n.push(r);return n}function K0(t){return X0(t)?yte(t,!0):Exe(t)}var _xe=S5(function(t,e,n,r){b2(e,K0(e),t,r)});const JB=_xe;var Txe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pxe=/^\w*$/;function E5(t,e){if(ml(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||uh(t)?!0:Pxe.test(t)||!Txe.test(t)||e!=null&&t in Object(e)}var Oxe=Y0(Object,"create");const BC=Oxe;function Mxe(){this.__data__=BC?BC(null):{},this.size=0}function Axe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kxe="__lodash_hash_undefined__",Dxe=Object.prototype,Nxe=Dxe.hasOwnProperty;function Rxe(t){var e=this.__data__;if(BC){var n=e[t];return n===kxe?void 0:n}return Nxe.call(e,t)?e[t]:void 0}var Ixe=Object.prototype,$xe=Ixe.hasOwnProperty;function Lxe(t){var e=this.__data__;return BC?e[t]!==void 0:$xe.call(e,t)}var Fxe="__lodash_hash_undefined__";function zxe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=BC&&e===void 0?Fxe:e,this}function P0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}P0.prototype.clear=Mxe;P0.prototype.delete=Axe;P0.prototype.get=Rxe;P0.prototype.has=Lxe;P0.prototype.set=zxe;function Gxe(){this.__data__=[],this.size=0}function Ok(t,e){for(var n=t.length;n--;)if(q0(t[n][0],e))return n;return-1}var Bxe=Array.prototype,jxe=Bxe.splice;function Vxe(t){var e=this.__data__,n=Ok(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jxe.call(e,n,1),--this.size,!0}function Uxe(t){var e=this.__data__,n=Ok(e,t);return n<0?void 0:e[n][1]}function Hxe(t){return Ok(this.__data__,t)>-1}function Wxe(t,e){var n=this.__data__,r=Ok(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function qp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qp.prototype.clear=Gxe;qp.prototype.delete=Vxe;qp.prototype.get=Uxe;qp.prototype.has=Hxe;qp.prototype.set=Wxe;var Yxe=Y0(fd,"Map");const jC=Yxe;function qxe(){this.size=0,this.__data__={hash:new P0,map:new(jC||qp),string:new P0}}function Xxe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Mk(t,e){var n=t.__data__;return Xxe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Kxe(t){var e=Mk(this,t).delete(t);return this.size-=e?1:0,e}function Zxe(t){return Mk(this,t).get(t)}function Qxe(t){return Mk(this,t).has(t)}function Jxe(t,e){var n=Mk(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Xp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xp.prototype.clear=qxe;Xp.prototype.delete=Kxe;Xp.prototype.get=Zxe;Xp.prototype.has=Qxe;Xp.prototype.set=Jxe;var ewe="Expected a function";function _5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ewe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(_5.Cache||Xp),n}_5.Cache=Xp;var twe=500;function nwe(t){var e=_5(t,function(r){return n.size===twe&&n.clear(),r}),n=e.cache;return e}var rwe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iwe=/\\(\\)?/g,owe=nwe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rwe,function(n,r,i,o){e.push(i?o.replace(iwe,"$1"):r||n)}),e});const swe=owe;function Qv(t){return t==null?"":ute(t)}function Ak(t,e){return ml(t)?t:E5(t,e)?[t]:swe(Qv(t))}var awe=1/0;function bE(t){if(typeof t=="string"||uh(t))return t;var e=t+"";return e=="0"&&1/t==-awe?"-0":e}function kk(t,e){e=Ak(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[bE(e[n++])];return n&&n==r?t:void 0}function lwe(t,e,n){var r=t==null?void 0:kk(t,e);return r===void 0?n:r}function T5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ej=df?df.isConcatSpreadable:void 0;function cwe(t){return ml(t)||T1(t)||!!(ej&&t&&t[ej])}function xE(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=cwe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?xE(a,e-1,n,r,i):T5(i,a):r||(i[i.length]=a)}return i}function uwe(t){var e=t==null?0:t.length;return e?xE(t,1):[]}function fwe(t){return dte(pte(t,void 0,uwe),t+"")}var dwe=bte(Object.getPrototypeOf,Object);const P5=dwe;var hwe="[object Object]",pwe=Function.prototype,gwe=Object.prototype,wte=pwe.toString,vwe=gwe.hasOwnProperty,mwe=wte.call(Object);function gu(t){if(!pu(t)||mh(t)!=hwe)return!1;var e=P5(t);if(e===null)return!0;var n=vwe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&wte.call(n)==mwe}var ywe="[object DOMException]",bwe="[object Error]";function Cte(t){if(!pu(t))return!1;var e=mh(t);return e==bwe||e==ywe||typeof t.message=="string"&&typeof t.name=="string"&&!gu(t)}var xwe=Zv(function(t,e){try{return x5(t,void 0,e)}catch(n){return Cte(n)?n:new Error(n)}});const wwe=xwe;function Cwe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function Swe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Cwe(t,e,n)}var Ewe="\\ud800-\\udfff",_we="\\u0300-\\u036f",Twe="\\ufe20-\\ufe2f",Pwe="\\u20d0-\\u20ff",Owe=_we+Twe+Pwe,Mwe="\\ufe0e\\ufe0f",Awe="\\u200d",kwe=RegExp("["+Awe+Ewe+Owe+Mwe+"]");function Ste(t){return kwe.test(t)}function Dwe(t){return t.split("")}var Ete="\\ud800-\\udfff",Nwe="\\u0300-\\u036f",Rwe="\\ufe20-\\ufe2f",Iwe="\\u20d0-\\u20ff",$we=Nwe+Rwe+Iwe,Lwe="\\ufe0e\\ufe0f",Fwe="["+Ete+"]",M6="["+$we+"]",A6="\\ud83c[\\udffb-\\udfff]",zwe="(?:"+M6+"|"+A6+")",_te="[^"+Ete+"]",Tte="(?:\\ud83c[\\udde6-\\uddff]){2}",Pte="[\\ud800-\\udbff][\\udc00-\\udfff]",Gwe="\\u200d",Ote=zwe+"?",Mte="["+Lwe+"]?",Bwe="(?:"+Gwe+"(?:"+[_te,Tte,Pte].join("|")+")"+Mte+Ote+")*",jwe=Mte+Ote+Bwe,Vwe="(?:"+[_te+M6+"?",M6,Tte,Pte,Fwe].join("|")+")",Uwe=RegExp(A6+"(?="+A6+")|"+Vwe+jwe,"g");function Hwe(t){return t.match(Uwe)||[]}function Wwe(t){return Ste(t)?Hwe(t):Dwe(t)}function Ate(t){return function(e){e=Qv(e);var n=Ste(e)?Wwe(e):void 0,r=n?n[0]:e.charAt(0),i=n?Swe(n,1).join(""):e.slice(1);return r[t]()+i}}var Ywe=Ate("toUpperCase");const OM=Ywe;function qwe(t){return OM(Qv(t).toLowerCase())}function Xwe(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function kte(t){return function(e){return t==null?void 0:t[e]}}var Kwe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Zwe=kte(Kwe);const Qwe=Zwe;var Jwe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eCe="\\u0300-\\u036f",tCe="\\ufe20-\\ufe2f",nCe="\\u20d0-\\u20ff",rCe=eCe+tCe+nCe,iCe="["+rCe+"]",oCe=RegExp(iCe,"g");function sCe(t){return t=Qv(t),t&&t.replace(Jwe,Qwe).replace(oCe,"")}var aCe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function lCe(t){return t.match(aCe)||[]}var cCe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function uCe(t){return cCe.test(t)}var Dte="\\ud800-\\udfff",fCe="\\u0300-\\u036f",dCe="\\ufe20-\\ufe2f",hCe="\\u20d0-\\u20ff",pCe=fCe+dCe+hCe,Nte="\\u2700-\\u27bf",Rte="a-z\\xdf-\\xf6\\xf8-\\xff",gCe="\\xac\\xb1\\xd7\\xf7",vCe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mCe="\\u2000-\\u206f",yCe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ite="A-Z\\xc0-\\xd6\\xd8-\\xde",bCe="\\ufe0e\\ufe0f",$te=gCe+vCe+mCe+yCe,Lte="['\u2019]",tj="["+$te+"]",xCe="["+pCe+"]",Fte="\\d+",wCe="["+Nte+"]",zte="["+Rte+"]",Gte="[^"+Dte+$te+Fte+Nte+Rte+Ite+"]",CCe="\\ud83c[\\udffb-\\udfff]",SCe="(?:"+xCe+"|"+CCe+")",ECe="[^"+Dte+"]",Bte="(?:\\ud83c[\\udde6-\\uddff]){2}",jte="[\\ud800-\\udbff][\\udc00-\\udfff]",_b="["+Ite+"]",_Ce="\\u200d",nj="(?:"+zte+"|"+Gte+")",TCe="(?:"+_b+"|"+Gte+")",rj="(?:"+Lte+"(?:d|ll|m|re|s|t|ve))?",ij="(?:"+Lte+"(?:D|LL|M|RE|S|T|VE))?",Vte=SCe+"?",Ute="["+bCe+"]?",PCe="(?:"+_Ce+"(?:"+[ECe,Bte,jte].join("|")+")"+Ute+Vte+")*",OCe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",MCe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ACe=Ute+Vte+PCe,kCe="(?:"+[wCe,Bte,jte].join("|")+")"+ACe,DCe=RegExp([_b+"?"+zte+"+"+rj+"(?="+[tj,_b,"$"].join("|")+")",TCe+"+"+ij+"(?="+[tj,_b+nj,"$"].join("|")+")",_b+"?"+nj+"+"+rj,_b+"+"+ij,MCe,OCe,Fte,kCe].join("|"),"g");function NCe(t){return t.match(DCe)||[]}function RCe(t,e,n){return t=Qv(t),e=n?void 0:e,e===void 0?uCe(t)?NCe(t):lCe(t):t.match(e)||[]}var ICe="['\u2019]",$Ce=RegExp(ICe,"g");function Hte(t){return function(e){return Xwe(RCe(sCe(e).replace($Ce,"")),t,"")}}var LCe=Hte(function(t,e,n){return e=e.toLowerCase(),t+(n?qwe(e):e)});const O5=LCe;function FCe(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function Zl(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=Yw(n),n=n===n?n:0),e!==void 0&&(e=Yw(e),e=e===e?e:0),FCe(Yw(t),e,n)}function zCe(){this.__data__=new qp,this.size=0}function GCe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function BCe(t){return this.__data__.get(t)}function jCe(t){return this.__data__.has(t)}var VCe=200;function UCe(t,e){var n=this.__data__;if(n instanceof qp){var r=n.__data__;if(!jC||r.length<VCe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xp(r)}return n.set(t,e),this.size=n.size,this}function ed(t){var e=this.__data__=new qp(t);this.size=e.size}ed.prototype.clear=zCe;ed.prototype.delete=GCe;ed.prototype.get=BCe;ed.prototype.has=jCe;ed.prototype.set=UCe;function HCe(t,e){return t&&b2(e,x2(e),t)}function WCe(t,e){return t&&b2(e,K0(e),t)}var Wte=typeof cu=="object"&&cu&&!cu.nodeType&&cu,oj=Wte&&typeof Dl=="object"&&Dl&&!Dl.nodeType&&Dl,YCe=oj&&oj.exports===Wte,sj=YCe?fd.Buffer:void 0,aj=sj?sj.allocUnsafe:void 0;function Yte(t,e){if(e)return t.slice();var n=t.length,r=aj?aj(n):new t.constructor(n);return t.copy(r),r}function qCe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function qte(){return[]}var XCe=Object.prototype,KCe=XCe.propertyIsEnumerable,lj=Object.getOwnPropertySymbols,ZCe=lj?function(t){return t==null?[]:(t=Object(t),qCe(lj(t),function(e){return KCe.call(t,e)}))}:qte;const M5=ZCe;function QCe(t,e){return b2(t,M5(t),e)}var JCe=Object.getOwnPropertySymbols,eSe=JCe?function(t){for(var e=[];t;)T5(e,M5(t)),t=P5(t);return e}:qte;const Xte=eSe;function tSe(t,e){return b2(t,Xte(t),e)}function Kte(t,e,n){var r=e(t);return ml(t)?r:T5(r,n(t))}function k6(t){return Kte(t,x2,M5)}function nSe(t){return Kte(t,K0,Xte)}var rSe=Y0(fd,"DataView");const D6=rSe;var iSe=Y0(fd,"Promise");const N6=iSe;var oSe=Y0(fd,"Set");const f1=oSe;var cj="[object Map]",sSe="[object Object]",uj="[object Promise]",fj="[object Set]",dj="[object WeakMap]",hj="[object DataView]",aSe=W0(D6),lSe=W0(jC),cSe=W0(N6),uSe=W0(f1),fSe=W0(O6),qm=mh;(D6&&qm(new D6(new ArrayBuffer(1)))!=hj||jC&&qm(new jC)!=cj||N6&&qm(N6.resolve())!=uj||f1&&qm(new f1)!=fj||O6&&qm(new O6)!=dj)&&(qm=function(t){var e=mh(t),n=e==sSe?t.constructor:void 0,r=n?W0(n):"";if(r)switch(r){case aSe:return hj;case lSe:return cj;case cSe:return uj;case uSe:return fj;case fSe:return dj}return e});const M1=qm;var dSe=Object.prototype,hSe=dSe.hasOwnProperty;function pSe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hSe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var gSe=fd.Uint8Array;const MM=gSe;function A5(t){var e=new t.constructor(t.byteLength);return new MM(e).set(new MM(t)),e}function vSe(t,e){var n=e?A5(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var mSe=/\w*$/;function ySe(t){var e=new t.constructor(t.source,mSe.exec(t));return e.lastIndex=t.lastIndex,e}var pj=df?df.prototype:void 0,gj=pj?pj.valueOf:void 0;function bSe(t){return gj?Object(gj.call(t)):{}}function Zte(t,e){var n=e?A5(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var xSe="[object Boolean]",wSe="[object Date]",CSe="[object Map]",SSe="[object Number]",ESe="[object RegExp]",_Se="[object Set]",TSe="[object String]",PSe="[object Symbol]",OSe="[object ArrayBuffer]",MSe="[object DataView]",ASe="[object Float32Array]",kSe="[object Float64Array]",DSe="[object Int8Array]",NSe="[object Int16Array]",RSe="[object Int32Array]",ISe="[object Uint8Array]",$Se="[object Uint8ClampedArray]",LSe="[object Uint16Array]",FSe="[object Uint32Array]";function zSe(t,e,n){var r=t.constructor;switch(e){case OSe:return A5(t);case xSe:case wSe:return new r(+t);case MSe:return vSe(t,n);case ASe:case kSe:case DSe:case NSe:case RSe:case ISe:case $Se:case LSe:case FSe:return Zte(t,n);case CSe:return new r;case SSe:case TSe:return new r(t);case ESe:return ySe(t);case _Se:return new r;case PSe:return bSe(t)}}function Qte(t){return typeof t.constructor=="function"&&!Tk(t)?u2e(P5(t)):{}}var GSe="[object Map]";function BSe(t){return pu(t)&&M1(t)==GSe}var vj=O1&&O1.isMap,jSe=vj?yE(vj):BSe;const VSe=jSe;var USe="[object Set]";function HSe(t){return pu(t)&&M1(t)==USe}var mj=O1&&O1.isSet,WSe=mj?yE(mj):HSe;const YSe=WSe;var qSe=1,XSe=2,KSe=4,Jte="[object Arguments]",ZSe="[object Array]",QSe="[object Boolean]",JSe="[object Date]",eEe="[object Error]",ene="[object Function]",tEe="[object GeneratorFunction]",nEe="[object Map]",rEe="[object Number]",tne="[object Object]",iEe="[object RegExp]",oEe="[object Set]",sEe="[object String]",aEe="[object Symbol]",lEe="[object WeakMap]",cEe="[object ArrayBuffer]",uEe="[object DataView]",fEe="[object Float32Array]",dEe="[object Float64Array]",hEe="[object Int8Array]",pEe="[object Int16Array]",gEe="[object Int32Array]",vEe="[object Uint8Array]",mEe="[object Uint8ClampedArray]",yEe="[object Uint16Array]",bEe="[object Uint32Array]",Jo={};Jo[Jte]=Jo[ZSe]=Jo[cEe]=Jo[uEe]=Jo[QSe]=Jo[JSe]=Jo[fEe]=Jo[dEe]=Jo[hEe]=Jo[pEe]=Jo[gEe]=Jo[nEe]=Jo[rEe]=Jo[tne]=Jo[iEe]=Jo[oEe]=Jo[sEe]=Jo[aEe]=Jo[vEe]=Jo[mEe]=Jo[yEe]=Jo[bEe]=!0;Jo[eEe]=Jo[ene]=Jo[lEe]=!1;function Xw(t,e,n,r,i,o){var s,a=e&qSe,l=e&XSe,c=e&KSe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!aa(t))return t;var u=ml(t);if(u){if(s=pSe(t),!a)return fte(t,s)}else{var f=M1(t),d=f==ene||f==tEe;if(P1(t))return Yte(t,a);if(f==tne||f==Jte||d&&!i){if(s=l||d?{}:Qte(t),!a)return l?tSe(t,WCe(s,t)):QCe(t,HCe(s,t))}else{if(!Jo[f])return i?t:{};s=zSe(t,f,a)}}o||(o=new ed);var h=o.get(t);if(h)return h;o.set(t,s),YSe(t)?t.forEach(function(m){s.add(Xw(m,e,n,m,t,o))}):VSe(t)&&t.forEach(function(m,y){s.set(y,Xw(m,e,n,y,t,o))});var p=c?l?nSe:k6:l?K0:x2,g=u?void 0:p(t);return w2e(g||t,function(m,y){g&&(y=m,m=t[y]),w5(s,y,Xw(m,e,n,y,t,o))}),s}var xEe=4;function VC(t){return Xw(t,xEe)}var wEe=1,CEe=4;function Fs(t){return Xw(t,wEe|CEe)}var SEe="__lodash_hash_undefined__";function EEe(t){return this.__data__.set(t,SEe),this}function _Ee(t){return this.__data__.has(t)}function A1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Xp;++e<n;)this.add(t[e])}A1.prototype.add=A1.prototype.push=EEe;A1.prototype.has=_Ee;function TEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function k5(t,e){return t.has(e)}var PEe=1,OEe=2;function nne(t,e,n,r,i,o){var s=n&PEe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&OEe?new A1:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var p=t[f],g=e[f];if(r)var m=s?r(g,p,f,e,t,o):r(p,g,f,t,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!TEe(e,function(y,b){if(!k5(h,b)&&(p===y||i(p,y,n,r,o)))return h.push(b)})){d=!1;break}}else if(!(p===g||i(p,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}function MEe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function D5(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var AEe=1,kEe=2,DEe="[object Boolean]",NEe="[object Date]",REe="[object Error]",IEe="[object Map]",$Ee="[object Number]",LEe="[object RegExp]",FEe="[object Set]",zEe="[object String]",GEe="[object Symbol]",BEe="[object ArrayBuffer]",jEe="[object DataView]",yj=df?df.prototype:void 0,DR=yj?yj.valueOf:void 0;function VEe(t,e,n,r,i,o,s){switch(n){case jEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case BEe:return!(t.byteLength!=e.byteLength||!o(new MM(t),new MM(e)));case DEe:case NEe:case $Ee:return q0(+t,+e);case REe:return t.name==e.name&&t.message==e.message;case LEe:case zEe:return t==e+"";case IEe:var a=MEe;case FEe:var l=r&AEe;if(a||(a=D5),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=kEe,s.set(t,e);var u=nne(a(t),a(e),r,i,o,s);return s.delete(t),u;case GEe:if(DR)return DR.call(t)==DR.call(e)}return!1}var UEe=1,HEe=Object.prototype,WEe=HEe.hasOwnProperty;function YEe(t,e,n,r,i,o){var s=n&UEe,a=k6(t),l=a.length,c=k6(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:WEe.call(e,d)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var m=s;++f<l;){d=a[f];var y=t[d],b=e[d];if(r)var C=s?r(b,y,d,e,t,o):r(y,b,d,t,e,o);if(!(C===void 0?y===b||i(y,b,n,r,o):C)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var E=t.constructor,_=e.constructor;E!=_&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return o.delete(t),o.delete(e),g}var qEe=1,bj="[object Arguments]",xj="[object Array]",ZT="[object Object]",XEe=Object.prototype,wj=XEe.hasOwnProperty;function KEe(t,e,n,r,i,o){var s=ml(t),a=ml(e),l=s?xj:M1(t),c=a?xj:M1(e);l=l==bj?ZT:l,c=c==bj?ZT:c;var u=l==ZT,f=c==ZT,d=l==c;if(d&&P1(t)){if(!P1(e))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new ed),s||Pk(t)?nne(t,e,n,r,i,o):VEe(t,e,l,n,r,i,o);if(!(n&qEe)){var h=u&&wj.call(t,"__wrapped__"),p=f&&wj.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,m=p?e.value():e;return o||(o=new ed),i(g,m,n,r,o)}}return d?(o||(o=new ed),YEe(t,e,n,r,i,o)):!1}function Dk(t,e,n,r,i){return t===e?!0:t==null||e==null||!pu(t)&&!pu(e)?t!==t&&e!==e:KEe(t,e,n,r,Dk,i)}var ZEe=1,QEe=2;function JEe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new ed;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?Dk(u,c,ZEe|QEe,r,f):d))return!1}}return!0}function rne(t){return t===t&&!aa(t)}function e_e(t){for(var e=x2(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,rne(i)]}return e}function ine(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function t_e(t){var e=e_e(t);return e.length==1&&e[0][2]?ine(e[0][0],e[0][1]):function(n){return n===t||JEe(n,t,e)}}function n_e(t,e){return t!=null&&e in Object(t)}function one(t,e,n){e=Ak(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=bE(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&C5(i)&&Ek(s,i)&&(ml(t)||T1(t)))}function sne(t,e){return t!=null&&one(t,e,n_e)}var r_e=1,i_e=2;function o_e(t,e){return E5(t)&&rne(e)?ine(bE(t),e):function(n){var r=lwe(n,t);return r===void 0&&r===e?sne(n,t):Dk(e,r,r_e|i_e)}}function s_e(t){return function(e){return e==null?void 0:e[t]}}function a_e(t){return function(e){return kk(e,t)}}function l_e(t){return E5(t)?s_e(bE(t)):a_e(t)}function N5(t){return typeof t=="function"?t:t==null?y2:typeof t=="object"?ml(t)?o_e(t[0],t[1]):t_e(t):l_e(t)}function c_e(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function u_e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var f_e=u_e();const ane=f_e;function d_e(t,e){return t&&ane(t,e,x2)}function h_e(t,e){return function(n,r){if(n==null)return n;if(!X0(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var p_e=h_e(d_e);const lne=p_e;function g_e(t,e,n,r){return lne(t,function(i,o,s){e(r,i,n(i),s)}),r}function v_e(t,e){return function(n,r){var i=ml(n)?c_e:g_e,o=e?e():{};return i(n,t,N5(r),o)}}var m_e=function(){return fd.Date.now()};const NR=m_e;var y_e="Expected a function",b_e=Math.max,x_e=Math.min;function cne(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(y_e);e=Yw(e)||0,aa(n)&&(u=!!n.leading,f="maxWait"in n,o=f?b_e(Yw(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(w){var M=r,k=i;return r=i=void 0,c=w,s=t.apply(k,M),s}function p(w){return c=w,a=setTimeout(y,e),u?h(w):s}function g(w){var M=w-l,k=w-c,I=e-M;return f?x_e(I,o-k):I}function m(w){var M=w-l,k=w-c;return l===void 0||M>=e||M<0||f&&k>=o}function y(){var w=NR();if(m(w))return b(w);a=setTimeout(y,g(w))}function b(w){return a=void 0,d&&r?h(w):(r=i=void 0,s)}function C(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?s:b(NR())}function _(){var w=NR(),M=m(w);if(r=arguments,i=this,l=w,M){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),s}return _.cancel=C,_.flush=E,_}var une=Object.prototype,w_e=une.hasOwnProperty,C_e=Zv(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&GC(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=K0(o),a=-1,l=s.length;++a<l;){var c=s[a],u=t[c];(u===void 0||q0(u,une[c])&&!w_e.call(t,c))&&(t[c]=o[c])}return t});const S_e=C_e;function R6(t,e,n){(n!==void 0&&!q0(t[e],n)||n===void 0&&!(e in t))&&_k(t,e,n)}function AM(t){return pu(t)&&X0(t)}function I6(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function E_e(t){return b2(t,K0(t))}function __e(t,e,n,r,i,o,s){var a=I6(t,n),l=I6(e,n),c=s.get(l);if(c){R6(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var d=ml(l),h=!d&&P1(l),p=!d&&!h&&Pk(l);u=l,d||h||p?ml(a)?u=a:AM(a)?u=fte(a):h?(f=!1,u=Yte(l,!0)):p?(f=!1,u=Zte(l,!0)):u=[]:gu(l)||T1(l)?(u=a,T1(a)?u=E_e(a):(!aa(a)||b5(a))&&(u=Qte(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),R6(t,n,u)}function Nk(t,e,n,r,i){t!==e&&ane(e,function(o,s){if(i||(i=new ed),aa(o))__e(t,e,s,n,Nk,r,i);else{var a=r?r(I6(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),R6(t,s,a)}},K0)}function fne(t,e,n,r,i,o){return aa(t)&&aa(e)&&(o.set(e,t),Nk(t,e,void 0,fne,o),o.delete(e)),t}var T_e=S5(function(t,e,n,r){Nk(t,e,n,r)});const P_e=T_e;var O_e=Zv(function(t){return t.push(void 0,fne),x5(P_e,void 0,t)});const dne=O_e;var M_e="Expected a function";function A_e(t,e,n){if(typeof t!="function")throw new TypeError(M_e);return setTimeout(function(){t.apply(void 0,n)},e)}var k_e=Zv(function(t,e){return A_e(t,1,e)});const D_e=k_e;function hne(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var N_e=200;function R_e(t,e,n,r){var i=-1,o=hte,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=u1(e,yE(n))),r?(o=hne,s=!1):e.length>=N_e&&(o=k5,s=!1,e=new A1(e));e:for(;++i<a;){var u=t[i],f=n==null?u:n(u);if(u=r||u!==0?u:0,s&&f===f){for(var d=c;d--;)if(e[d]===f)continue e;l.push(u)}else o(e,f,r)||l.push(u)}return l}var I_e=Zv(function(t,e){return AM(t)?R_e(t,xE(e,1,AM,!0)):[]});const $_e=I_e;var L_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},F_e=kte(L_e);const z_e=F_e;var pne=/[&<>"']/g,G_e=RegExp(pne.source);function B_e(t){return t=Qv(t),t&&G_e.test(t)?t.replace(pne,z_e):t}function j_e(t,e){var n=-1,r=X0(t)?Array(t.length):[];return lne(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var V_e=Object.prototype,U_e=V_e.hasOwnProperty,H_e=v_e(function(t,e,n){U_e.call(t,n)?t[n].push(e):_k(t,n,[e])});const Cj=H_e;function W_e(t,e){return t>e}var Y_e=Object.prototype,q_e=Y_e.hasOwnProperty;function X_e(t,e){return t!=null&&q_e.call(t,e)}function bw(t,e){return t!=null&&one(t,e,X_e)}var K_e="[object String]";function RR(t){return typeof t=="string"||!ml(t)&&pu(t)&&mh(t)==K_e}function Z_e(t,e){return u1(e,function(n){return t[n]})}var Q_e="[object Map]",J_e="[object Set]",eTe=Object.prototype,tTe=eTe.hasOwnProperty;function gne(t){if(t==null)return!0;if(X0(t)&&(ml(t)||typeof t=="string"||typeof t.splice=="function"||P1(t)||Pk(t)||T1(t)))return!t.length;var e=M1(t);if(e==Q_e||e==J_e)return!t.size;if(Tk(t))return!xte(t).length;for(var n in t)if(tTe.call(t,n))return!1;return!0}function rh(t,e){return Dk(t,e)}var nTe="[object Number]";function Sj(t){return typeof t=="number"||pu(t)&&mh(t)==nTe}var rTe=Ate("toLowerCase");const iTe=rTe;function oTe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!uh(s):n(s,a)))var a=s,l=o}return l}function sTe(t){return t&&t.length?oTe(t,y2,W_e):void 0}var aTe=S5(function(t,e,n){Nk(t,e,n)});const Io=aTe;function lTe(t,e,n,r){if(!aa(t))return t;e=Ak(e,t);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var l=bE(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=aa(u)?u:Ek(e[i+1])?[]:{})}w5(a,l,c),a=a[l]}return t}function cTe(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=kk(t,s);n(a,s)&&lTe(o,Ak(s,t),a)}return o}function uTe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function fTe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=uh(t),s=e!==void 0,a=e===null,l=e===e,c=uh(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function dTe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=fTe(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}function hTe(t,e,n){e.length?e=u1(e,function(o){return ml(o)?function(s){return kk(s,o.length===1?o[0]:o)}:o}):e=[y2];var r=-1;e=u1(e,yE(N5));var i=j_e(t,function(o,s,a){var l=u1(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return uTe(i,function(o,s){return dTe(o,s,n)})}function pTe(t,e){return cTe(t,e,function(n,r){return sne(t,r)})}var gTe=fwe(function(t,e){return t==null?{}:pTe(t,e)});const Ej=gTe;var vTe=Zv(function(t,e){if(t==null)return[];var n=e.length;return n>1&&GC(t,e[0],e[1])?e=[]:n>2&&GC(e[0],e[1],e[2])&&(e=[e[0]]),hTe(t,xE(e,1),[])});const R5=vTe;var mTe=4294967295,yTe=mTe-1,bTe=Math.floor,xTe=Math.min;function vne(t,e,n,r){var i=0,o=t==null?0:t.length;if(o===0)return 0;e=n(e);for(var s=e!==e,a=e===null,l=uh(e),c=e===void 0;i<o;){var u=bTe((i+o)/2),f=n(t[u]),d=f!==void 0,h=f===null,p=f===f,g=uh(f);if(s)var m=r||p;else c?m=p&&(r||d):a?m=p&&d&&(r||!h):l?m=p&&d&&!h&&(r||!g):h||g?m=!1:m=r?f<=e:f<e;m?i=u+1:o=u}return xTe(o,yTe)}var wTe=4294967295,CTe=wTe>>>1;function STe(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e===e&&i<=CTe){for(;r<i;){var o=r+i>>>1,s=t[o];s!==null&&!uh(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return vne(t,e,y2,n)}function ETe(t,e){return STe(t,e)}function _Te(t,e,n){return vne(t,e,N5(n))}var TTe=Hte(function(t,e,n){return t+(n?" ":"")+OM(e)});const PTe=TTe;var mne=Object.prototype,OTe=mne.hasOwnProperty;function _j(t,e,n,r){return t===void 0||q0(t,mne[n])&&!OTe.call(r,n)?e:t}var MTe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function ATe(t){return"\\"+MTe[t]}var kTe=/<%=([\s\S]+?)%>/g;const yne=kTe;var DTe=/<%-([\s\S]+?)%>/g;const NTe=DTe;var RTe=/<%([\s\S]+?)%>/g;const ITe=RTe;var $Te={escape:NTe,evaluate:ITe,interpolate:yne,variable:"",imports:{_:{escape:B_e}}};const Tj=$Te;var LTe="Invalid `variable` option passed into `_.template`",FTe=/\b__p \+= '';/g,zTe=/\b(__p \+=) '' \+/g,GTe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,BTe=/[()=,{}\[\]\/\s]/,jTe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,QT=/($^)/,VTe=/['\n\r\u2028\u2029\\]/g,UTe=Object.prototype,Pj=UTe.hasOwnProperty;function Yb(t,e,n){var r=Tj.imports._.templateSettings||Tj;n&&GC(t,e,n)&&(e=void 0),t=Qv(t),e=JB({},e,r,_j);var i=JB({},e.imports,r.imports,_j),o=x2(i),s=Z_e(i,o),a,l,c=0,u=e.interpolate||QT,f="__p += '",d=RegExp((e.escape||QT).source+"|"+u.source+"|"+(u===yne?jTe:QT).source+"|"+(e.evaluate||QT).source+"|$","g"),h=Pj.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(d,function(m,y,b,C,E,_){return b||(b=C),f+=t.slice(c,_).replace(VTe,ATe),y&&(a=!0,f+=`' +
__e(`+y+`) +
'`),E&&(l=!0,f+=`';
`+E+`;
__p += '`),b&&(f+=`' +
((__t = (`+b+`)) == null ? '' : __t) +
'`),c=_+m.length,m}),f+=`';
`;var p=Pj.call(e,"variable")&&e.variable;if(!p)f=`with (obj) {
`+f+`
}
`;else if(BTe.test(p))throw new Error(LTe);f=(l?f.replace(FTe,""):f).replace(zTe,"$1").replace(GTe,"$1;"),f="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var g=wwe(function(){return Function(o,h+"return "+f).apply(void 0,s)});if(g.source=f,Cte(g))throw g;return g}var HTe=1/0,WTe=f1&&1/D5(new f1([,-0]))[1]==HTe?function(t){return new f1(t)}:f2e;const YTe=WTe;var qTe=200;function bne(t,e,n){var r=-1,i=hte,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=hne;else if(o>=qTe){var c=e?null:YTe(t);if(c)return D5(c);s=!1,i=k5,l=new A1}else l=e?[]:a;e:for(;++r<o;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),a.push(u)}else i(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}var XTe=Zv(function(t){return bne(xE(t,1,AM,!0))});const Oj=XTe;function xne(t){return t&&t.length?bne(t):[]}var KTe=0;function ZTe(t){var e=++KTe;return Qv(t)+e}const QTe=t=>!Array.isArray(t)&&t-parseFloat(t)+1>=0;function wne(t,...e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r))})})}const JTe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};function ePe(t,e){JTe(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}class tPe{}const nPe=/^\s*class\s+/.test(`${tPe}`)||/^\s*class\s*\{/.test(`${class{}}`);function I5(t,e){let n;return nPe?n=class extends e{}:(n=function(){return e.apply(this,arguments)},ePe(n,e)),Object.defineProperty(n,"name",{value:t}),n}function Mj(t){return t==="__proto__"}function $5(t,e,n="/"){let r;const i=Array.isArray(e)?e:e.split(n);if(i.length)for(r=t;i.length;){const o=i.shift();if(Object(r)===r&&o&&o in r)r=r[o];else return}return r}function w2(t,e,n,r="/"){const i=Array.isArray(e)?e:e.split(r),o=i.pop();if(o&&!Mj(o)){let s=t;i.forEach(a=>{Mj(a)||(s[a]==null&&(s[a]={}),s=s[a])}),s[o]=n}return t}function Aj(t,e,n="/"){const r=Array.isArray(e)?e.slice():e.split(n),i=r.pop();if(i)if(r.length>0){const o=$5(t,r);o&&delete o[i]}else delete t[i];return t}const Cne=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Sne=Cne(t=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase()),L5=Cne(t=>PTe(O5(t)).replace(/ /g,""));function IR(t){let e=2166136261,n=!1,r=t;for(let i=0,o=r.length;i<o;i+=1){let s=r.charCodeAt(i);s>127&&!n&&(r=unescape(encodeURIComponent(r)),s=r.charCodeAt(i),n=!0),e^=s,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function $6(){let t="";const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let n=0,r=e.length;n<r;n+=1){const i=e[n],o=Math.random()*16|0;t+=(i==="x"?o:i==="y"?o&3|8:i).toString(16)}return t}function Ene(t,e={}){const n=Is.parseHTML(t,null,!1);return n.forEach(r=>{const i=r;if(i){const o=i.attributes;if(o)for(let s=0,a=o.length;s<a;s+=1){const l=o.item(s);if(l){const c=l.value.toLowerCase(),u=l.name.toLowerCase();(u.startsWith("on")||c.startsWith("javascript:")||c.startsWith("data:")||c.startsWith("vbscript:"))&&i.removeAttribute(u)}}}}),e.raw?n:Is("<div/>").append(n).html()}function rPe(t,e,n){const r=Math.min(2,Math.floor(t.length*.34));let i=Math.floor(t.length*.4)+1,o,s=!1;const a=t.toLowerCase();for(const l of e){const c=n(l);if(c!==void 0&&Math.abs(c.length-a.length)<=r){const u=c.toLowerCase();if(u===a){if(c===t)continue;return l}if(s||c.length<3)continue;const f=iPe(a,u,i-1);if(f===void 0)continue;f<3?(s=!0,o=l):(i=f,o=l)}}return o}function iPe(t,e,n){let r=new Array(e.length+1),i=new Array(e.length+1);const o=n+1;for(let a=0;a<=e.length;a+=1)r[a]=a;for(let a=1;a<=t.length;a+=1){const l=t.charCodeAt(a-1),c=a>n?a-n:1,u=e.length>n+a?n+a:e.length;i[0]=a;let f=a;for(let h=1;h<c;h+=1)i[h]=o;for(let h=c;h<=u;h+=1){const p=l===e.charCodeAt(h-1)?r[h-1]:Math.min(r[h]+1,i[h-1]+1,r[h-1]+2);i[h]=p,f=Math.min(f,p)}for(let h=u+1;h<=e.length;h+=1)i[h]=o;if(f>n)return;const d=r;r=i,i=d}const s=r[e.length];return s>n?void 0:s}function id(t){return typeof t=="string"&&t.slice(-1)==="%"}function fh(t,e){if(t==null)return 0;let n;if(typeof t=="string"){if(n=parseFloat(t),id(t)&&(n/=100,Number.isFinite(n)))return n*e}else n=t;return Number.isFinite(n)?n>0&&n<1?n*e:n:0}function oPe(t,e){function n(s){const a=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${s})$`).exec(t);return a?a[1]:null}const r=parseFloat(t);if(Number.isNaN(r))return null;let i;if(e==null)i="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;i=e.join("|")}else typeof e=="string"&&(i=e);const o=n(i);return o===null?null:{unit:o,value:r}}function Ac(t){if(typeof t=="object"){let n=0,r=0,i=0,o=0;return t.vertical!=null&&Number.isFinite(t.vertical)&&(r=o=t.vertical),t.horizontal!=null&&Number.isFinite(t.horizontal)&&(i=n=t.horizontal),t.left!=null&&Number.isFinite(t.left)&&(n=t.left),t.top!=null&&Number.isFinite(t.top)&&(r=t.top),t.right!=null&&Number.isFinite(t.right)&&(i=t.right),t.bottom!=null&&Number.isFinite(t.bottom)&&(o=t.bottom),{top:r,right:i,bottom:o,left:n}}let e=0;return t!=null&&Number.isFinite(t)&&(e=t),{top:e,right:e,bottom:e,left:e}}function _ne(t,e,n){if(n)switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);case 6:return t.call(e,n[0],n[1],n[2],n[3],n[4],n[5]);default:return t.apply(e,n)}return t.call(e)}function $n(t,e,...n){return _ne(t,e,n)}function sPe(t){return typeof t=="object"&&t.then&&typeof t.then=="function"}function L6(t){return t!=null&&(t instanceof Promise||sPe(t))}function F5(...t){const e=[];if(t.forEach(r=>{Array.isArray(r)?e.push(...r):e.push(r)}),e.some(r=>L6(r))){const r=e.map(i=>L6(i)?i:Promise.resolve(i!==!1));return Promise.all(r).then(i=>i.reduce((o,s)=>s!==!1&&o,!0))}return e.every(r=>r!==!1)}function aPe(...t){const e=F5(t);return typeof e=="boolean"?Promise.resolve(e):e}const z5=/[\t\r\n\f]/g,G5=/\S+/g,k1=t=>` ${t} `;function D1(t){return t&&t.getAttribute&&t.getAttribute("class")||""}function wE(t,e){if(t==null||e==null)return!1;const n=k1(D1(t)),r=k1(e);return t.nodeType===1?n.replace(z5," ").includes(r):!1}function eo(t,e){if(!(t==null||e==null)){if(typeof e=="function")return eo(t,e(D1(t)));if(typeof e=="string"&&t.nodeType===1){const n=e.match(G5)||[],r=k1(D1(t)).replace(z5," ");let i=n.reduce((o,s)=>o.indexOf(k1(s))<0?`${o}${s} `:o,r);i=i.trim(),r!==i&&t.setAttribute("class",i)}}}function sf(t,e){if(t!=null){if(typeof e=="function")return sf(t,e(D1(t)));if((!e||typeof e=="string")&&t.nodeType===1){const n=(e||"").match(G5)||[],r=k1(D1(t)).replace(z5," ");let i=n.reduce((o,s)=>{const a=k1(s);return o.indexOf(a)>-1?o.replace(a," "):o},r);i=e?i.trim():"",r!==i&&t.setAttribute("class",i)}}}function Tne(t,e,n){if(!(t==null||e==null)){if(n!=null&&typeof e=="string"){n?eo(t,e):sf(t,e);return}if(typeof e=="function")return Tne(t,e(D1(t),n),n);typeof e=="string"&&(e.match(G5)||[]).forEach(i=>{wE(t,i)?sf(t,i):eo(t,i)})}}let kj=0;function lPe(){return kj+=1,`v${kj}`}function Rk(t){return(t.id==null||t.id==="")&&(t.id=lPe()),t.id}function UC(t){return t==null?!1:typeof t.getScreenCTM=="function"&&t instanceof SVGElement}const zs={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Dj="1.1";function Nj(t,e=document){return e.createElement(t)}function HC(t,e=zs.xhtml,n=document){return n.createElementNS(e,t)}function ec(t,e=document){return HC(t,zs.svg,e)}function kM(t){if(t){const n=`<svg xmlns="${zs.svg}" xmlns:xlink="${zs.xlink}" version="${Dj}">${t}</svg>`,{documentElement:r}=Pne(n,{async:!1});return r}const e=document.createElementNS(zs.svg,"svg");return e.setAttributeNS(zs.xmlns,"xmlns:xlink",zs.xlink),e.setAttribute("version",Dj),e}function Pne(t,e={}){let n;try{const r=new DOMParser;if(e.async!=null){const i=r;i.async=e.async}n=r.parseFromString(t,e.mimeType||"text/xml")}catch{n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${t}`);return n}function cPe(t,e=!0){const n=t.nodeName;return e?n.toLowerCase():n.toUpperCase()}function B5(t){let e=0,n=t.previousSibling;for(;n;)n.nodeType===1&&(e+=1),n=n.previousSibling;return e}function uPe(t,e){return t.querySelectorAll(e)}function F6(t,e){return t.querySelector(e)}function One(t,e,n){const r=t.ownerSVGElement;let i=t.parentNode;for(;i&&i!==n&&i!==r;){if(wE(i,e))return i;i=i.parentNode}return null}function j5(t,e){const n=e&&e.parentNode;return t===n||!!(n&&n.nodeType===1&&t.compareDocumentPosition(n)&16)}function dh(t){t.parentNode&&t.parentNode.removeChild(t)}function V5(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function WC(t,e){(Array.isArray(e)?e:[e]).forEach(r=>{r!=null&&t.appendChild(r)})}function fPe(t,e){const n=t.firstChild;return n?U5(n,e):WC(t,e)}function U5(t,e){const n=t.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(i=>{i!=null&&n.insertBefore(i,t)})}function dPe(t,e){e!=null&&e.appendChild(t)}function z6(t){try{return t instanceof HTMLElement}catch{return typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object"}}const hPe=["viewBox","attributeName","attributeType","repeatCount"];function pPe(t,e){return t.getAttribute(e)}function Mne(t,e){const n=kne(e);n.ns?t.hasAttributeNS(n.ns,n.local)&&t.removeAttributeNS(n.ns,n.local):t.hasAttribute(e)&&t.removeAttribute(e)}function H5(t,e,n){if(n==null)return Mne(t,e);const r=kne(e);r.ns&&typeof n=="string"?t.setAttributeNS(r.ns,e,n):e==="id"?t.id=`${n}`:t.setAttribute(e,`${n}`)}function Ane(t,e){Object.keys(e).forEach(n=>{H5(t,n,e[n])})}function to(t,e,n){if(e==null){const r=t.attributes,i={};for(let o=0;o<r.length;o+=1)i[r[o].name]=r[o].value;return i}if(typeof e=="string"&&n===void 0)return t.getAttribute(e);typeof e=="object"?Ane(t,e):H5(t,e,n)}function kne(t){if(t.indexOf(":")!==-1){const e=t.split(":");return{ns:zs[e[0]],local:e[1]}}return{ns:null,local:t}}function YC(t){const e={};return Object.keys(t).forEach(n=>{const r=hPe.includes(n)?n:Sne(n);e[r]=t[n]}),e}function JT(t){const e={};return t.split(";").forEach(r=>{const i=r.trim();if(i){const o=i.split("=");o.length&&(e[o[0].trim()]=o[1]?o[1].trim():"")}}),e}function G6(t,e){return Object.keys(e).forEach(n=>{if(n==="class")t[n]=t[n]?`${t[n]} ${e[n]}`:e[n];else if(n==="style"){const r=typeof t[n]=="object",i=typeof e[n]=="object";let o,s;r&&i?(o=t[n],s=e[n]):r?(o=t[n],s=JT(e[n])):i?(o=JT(t[n]),s=e[n]):(o=JT(t[n]),s=JT(e[n])),t[n]=G6(o,s)}else t[n]=e[n]}),t}function gPe(t,e,n={}){const r=n.offset||0,i=[],o=[];let s,a,l=null;for(let c=0;c<t.length;c+=1){s=o[c]=t[c];for(let u=0,f=e.length;u<f;u+=1){const d=e[u],h=d.start+r,p=d.end+r;c>=h&&c<p&&(typeof s=="string"?s=o[c]={t:t[c],attrs:d.attrs}:s.attrs=G6(G6({},s.attrs),d.attrs),n.includeAnnotationIndices&&(s.annotations==null&&(s.annotations=[]),s.annotations.push(u)))}a=o[c-1],a?aa(s)&&aa(a)?(l=l,JSON.stringify(s.attrs)===JSON.stringify(a.attrs)?l.t+=s.t:(i.push(l),l=s)):aa(s)||aa(a)?(l=l,i.push(l),l=s):l=(l||"")+s:l=s}return l!=null&&i.push(l),i}function vPe(t){return t.replace(/ /g,"\xA0")}var Rj;(function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]);function e(u){return u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"}t.isPrimitive=e;function n(u){return Array.isArray(u)}t.isArray=n;function r(u){return!e(u)&&!n(u)}t.isObject=r;function i(u,f){if(u===f)return!0;if(e(u)||e(f))return!1;const d=n(u),h=n(f);return d!==h?!1:d&&h?s(u,f):a(u,f)}t.deepEqual=i;function o(u){return e(u)?u:n(u)?l(u):c(u)}t.deepCopy=o;function s(u,f){if(u===f)return!0;if(u.length!==f.length)return!1;for(let d=0,h=u.length;d<h;d+=1)if(!i(u[d],f[d]))return!1;return!0}function a(u,f){if(u===f)return!0;for(const d in u)if(!(d in f))return!1;for(const d in f)if(!(d in u))return!1;for(const d in u)if(!i(u[d],f[d]))return!1;return!0}function l(u){const f=new Array(u.length);for(let d=0,h=u.length;d<h;d+=1)f[d]=o(u[d]);return f}function c(u){const f={};return Object.keys(u).forEach(d=>{f[d]=o(u[d])}),f}})(Rj||(Rj={}));var B6;(function(t){function e(c){const u="data:";return c.substr(0,u.length)===u}t.isDataUrl=e;function n(c,u){if(!c||e(c)){setTimeout(()=>u(null,c));return}const f=()=>{u(new Error(`Failed to load image: ${c}`))},d=window.FileReader?p=>{if(p.status===200){const g=new FileReader;g.onload=m=>{const y=m.target.result;u(null,y)},g.onerror=f,g.readAsDataURL(p.response)}else f()}:p=>{const g=m=>{const b=[];for(let C=0;C<m.length;C+=32768)b.push(String.fromCharCode.apply(null,m.subarray(C,C+32768)));return b.join("")};if(p.status===200){let m=c.split(".").pop()||"png";m==="svg"&&(m="svg+xml");const y=`data:image/${m};base64,`,b=new Uint8Array(p.response),C=y+btoa(g(b));u(null,C)}else f()},h=new XMLHttpRequest;h.responseType=window.FileReader?"blob":"arraybuffer",h.open("GET",c,!0),h.addEventListener("error",f),h.addEventListener("load",()=>d(h)),h.send()}t.imageToDataUri=n;function r(c){let u=c.replace(/\s/g,"");u=decodeURIComponent(u);const f=u.indexOf(","),d=u.slice(0,f),h=d.split(":")[1].split(";")[0],p=u.slice(f+1);let g;d.indexOf("base64")>=0?g=atob(p):g=unescape(encodeURIComponent(p));const m=new Uint8Array(g.length);for(let y=0;y<g.length;y+=1)m[y]=g.charCodeAt(y);return new Blob([m],{type:h})}t.dataUriToBlob=r;function i(c,u){const f=window.navigator.msSaveBlob;if(f)f(c,u);else{const d=window.URL.createObjectURL(c),h=document.createElement("a");h.href=d,h.download=u,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(d)}}t.downloadBlob=i;function o(c,u){const f=r(c);i(f,u)}t.downloadDataUri=o;function s(c){const u=c.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return u&&u[2]?u[2].replace(/\s+/," ").split(" "):null}function a(c){const u=parseFloat(c);return Number.isNaN(u)?null:u}function l(c,u={}){let f=null;const d=C=>(f==null&&(f=s(c)),f!=null?a(f[C]):null),h=C=>{const E=c.match(C);return E&&E[2]?a(E[2]):null};let p=u.width;if(p==null&&(p=h(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),p==null&&(p=d(2)),p==null)throw new Error("Can not parse width from svg string");let g=u.height;if(g==null&&(g=h(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),g==null&&(g=d(3)),g==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(c).replace(/'/g,"%27").replace(/"/g,"%22")}`}t.svgToDataUrl=l})(B6||(B6={}));let Zm;const mPe={px(t){return t},mm(t){return Zm*t},cm(t){return Zm*t*10},in(t){return Zm*t*25.4},pt(t){return Zm*(25.4*t/72)},pc(t){return Zm*(25.4*t/6)}};var j6;(function(t){function e(r,i,o){const s=Is("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:r+(o||""),height:i+(o||"")}).appendTo(document.body),a={width:s.width()||0,height:s.height()||0};return s.remove(),a}t.measure=e;function n(r,i){Zm==null&&(Zm=e("1","1","mm").width);const o=i?mPe[i]:null;return o?o(r):r}t.toPx=n})(j6||(j6={}));const V6=function(){let t;const e=window;if(e!=null&&(t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,t!=null&&(t=t.bind(e))),t==null){let n=0;t=r=>{const i=new Date().getTime(),o=Math.max(0,16-(i-n)),s=setTimeout(()=>{r(i+o)},o);return n=i+o,s}}return t}(),U6=function(){let t;const e=window;return e!=null&&(t=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.msCancelAnimationFrame||e.msCancelRequestAnimationFrame||e.oCancelAnimationFrame||e.oCancelRequestAnimationFrame||e.mozCancelAnimationFrame||e.mozCancelRequestAnimationFrame,t&&(t=t.bind(e))),t==null&&(t=clearTimeout),t}();document&&document.createElement("div").style;function Ij(t,e){const n=t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null);return n&&e?n.getPropertyValue(e)||n[e]:n}var pi;(function(t){function e(r){return 180*r/Math.PI%360}t.toDeg=e,t.toRad=function(r,i=!1){return(i?r:r%360)*Math.PI/180};function n(r){return r%360+(r<0?360:0)}t.normalize=n})(pi||(pi={}));function a0(t,e=0){return Number.isInteger(t)?t:+t.toFixed(e)}function $j(t,e){let n,r;if(e==null?(r=t==null?1:t,n=0):(r=e,n=t==null?0:t),r<n){const i=n;n=r,r=i}return Math.floor(Math.random()*(r-n+1)+n)}function Yy(t,e,n){return Number.isNaN(t)?NaN:Number.isNaN(e)||Number.isNaN(n)?0:e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}function H6(t,e){return e*Math.round(t/e)}function Dne(t,e){return e!=null&&t!=null&&e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function Lj(t,e){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r}class Jv{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class Ce extends Jv{constructor(e,n){super(),this.x=e==null?0:e,this.y=n==null?0:n}get[Symbol.toStringTag](){return Ce.toStringTag}round(e=0){return this.x=a0(this.x,e),this.y=a0(this.y,e),this}add(e,n){const r=Ce.create(e,n);return this.x+=r.x,this.y+=r.y,this}update(e,n){const r=Ce.create(e,n);return this.x=r.x,this.y=r.y,this}translate(e,n){const r=Ce.create(e,n);return this.x+=r.x,this.y+=r.y,this}rotate(e,n){const r=Ce.rotate(this,e,n);return this.x=r.x,this.y=r.y,this}scale(e,n,r=new Ce){const i=Ce.create(r);return this.x=i.x+e*(this.x-i.x),this.y=i.y+n*(this.y-i.y),this}closest(e){if(e.length===1)return Ce.create(e[0]);let n=null,r=1/0;return e.forEach(i=>{const o=this.squaredDistance(i);o<r&&(n=i,r=o)}),n?Ce.create(n):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const n=Ce.create(e),r=this.x-n.x,i=this.y-n.y;return r*r+i*i}manhattanDistance(e){const n=Ce.create(e);return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new Ce){const n=Ce.create(e),r=-(n.y-this.y),i=n.x-this.x;let o=Math.atan2(r,i);return o<0&&(o=2*Math.PI+o),180*o/Math.PI}angleBetween(e,n){if(this.equals(e)||this.equals(n))return NaN;let r=this.theta(n)-this.theta(e);return r<0&&(r+=360),r}vectorAngle(e){return new Ce(0,0).angleBetween(this,e)}toPolar(e){return this.update(Ce.toPolar(this,e)),this}changeInAngle(e,n,r=new Ce){return this.clone().translate(-e,-n).theta(r)-this.theta(r)}adhereToRect(e){return Dne(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const n=Ce.create(e),r=pi.toRad(this.y),i=pi.toRad(n.y),o=this.x,s=n.x,a=pi.toRad(s-o),l=Math.sin(a)*Math.cos(i),c=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(a),u=pi.toDeg(Math.atan2(l,c)),f=["NE","E","SE","S","SW","W","NW","N"];let d=u-22.5;return d<0&&(d+=360),d=parseInt(d/45,10),f[d]}cross(e,n){if(e!=null&&n!=null){const r=Ce.create(e),i=Ce.create(n);return(i.x-this.x)*(r.y-this.y)-(i.y-this.y)*(r.x-this.x)}return NaN}dot(e){const n=Ce.create(e);return this.x*n.x+this.y*n.y}diff(e,n){if(typeof e=="number")return new Ce(this.x-e,this.y-n);const r=Ce.create(e);return new Ce(this.x-r.x,this.y-r.y)}lerp(e,n){const r=Ce.create(e);return new Ce((1-n)*this.x+n*r.x,(1-n)*this.y+n*r.y)}normalize(e=1){const n=e/this.magnitude();return this.scale(n,n)}move(e,n){const r=Ce.create(e),i=pi.toRad(r.theta(this));return this.translate(Math.cos(i)*n,-Math.sin(i)*n)}reflection(e){return Ce.create(e).move(this,this.distance(e))}snapToGrid(e,n){return this.x=H6(this.x,e),this.y=H6(this.y,n==null?e:n),this}equals(e){const n=Ce.create(e);return n!=null&&n.x===this.x&&n.y===this.y}clone(){return Ce.clone(this)}toJSON(){return Ce.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.toPolar=="function"}t.isPoint=e})(Ce||(Ce={}));(function(t){function e(r){return r!=null&&typeof r=="object"&&typeof r.x=="number"&&typeof r.y=="number"}t.isPointLike=e;function n(r){return r!=null&&Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}t.isPointData=n})(Ce||(Ce={}));(function(t){function e(f,d){return f==null||typeof f=="number"?new t(f,d):n(f)}t.create=e;function n(f){return t.isPoint(f)?new t(f.x,f.y):Array.isArray(f)?new t(f[0],f[1]):new t(f.x,f.y)}t.clone=n;function r(f){return t.isPoint(f)?{x:f.x,y:f.y}:Array.isArray(f)?{x:f[0],y:f[1]}:{x:f.x,y:f.y}}t.toJSON=r;function i(f,d,h=new t){let p=Math.abs(f*Math.cos(d)),g=Math.abs(f*Math.sin(d));const m=n(h),y=pi.normalize(pi.toDeg(d));return y<90?g=-g:y<180?(p=-p,g=-g):y<270&&(p=-p),new t(m.x+p,m.y+g)}t.fromPolar=i;function o(f,d=new t){const h=n(f),p=n(d),g=h.x-p.x,m=h.y-p.y;return new t(Math.sqrt(g*g+m*m),pi.toRad(p.theta(h)))}t.toPolar=o;function s(f,d){return f===d?!0:f!=null&&d!=null?f.x===d.x&&f.y===d.y:!1}t.equals=s;function a(f,d){if(f==null&&d!=null||f!=null&&d==null||f!=null&&d!=null&&f.length!==d.length)return!1;if(f!=null&&d!=null){for(let h=0,p=f.length;h<p;h+=1)if(!s(f[h],d[h]))return!1}return!0}t.equalPoints=a;function l(f,d,h,p){return new t($j(f,d),$j(h,p))}t.random=l;function c(f,d,h){const p=pi.toRad(pi.normalize(-d)),g=Math.sin(p),m=Math.cos(p);return u(f,m,g,h)}t.rotate=c;function u(f,d,h,p=new t){const g=n(f),m=n(p),y=g.x-m.x,b=g.y-m.y,C=y*d-b*h,E=b*d+y*h;return new t(C+m.x,E+m.y)}t.rotateEx=u})(Ce||(Ce={}));class mn extends Jv{constructor(e,n,r,i){super(),this.x=e==null?0:e,this.y=n==null?0:n,this.width=r==null?0:r,this.height=i==null?0:i}get[Symbol.toStringTag](){return mn.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new Ce(this.x,this.y)}get topLeft(){return new Ce(this.x,this.y)}get topCenter(){return new Ce(this.x+this.width/2,this.y)}get topRight(){return new Ce(this.x+this.width,this.y)}get center(){return new Ce(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new Ce(this.x,this.y+this.height)}get bottomCenter(){return new Ce(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new Ce(this.x+this.width,this.y+this.height)}get corner(){return new Ce(this.x+this.width,this.y+this.height)}get rightMiddle(){return new Ce(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new Ce(this.x,this.y+this.height/2)}get topLine(){return new Xn(this.topLeft,this.topRight)}get rightLine(){return new Xn(this.topRight,this.bottomRight)}get bottomLine(){return new Xn(this.bottomLeft,this.bottomRight)}get leftLine(){return new Xn(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const n=pi.toRad(e),r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n)),o=this.width*i+this.height*r,s=this.width*r+this.height*i;return new mn(this.x+(this.width-o)/2,this.y+(this.height-s)/2,o,s)}round(e=0){return this.x=a0(this.x,e),this.y=a0(this.y,e),this.width=a0(this.width,e),this.height=a0(this.height,e),this}add(e,n,r,i){const o=mn.create(e,n,r,i),s=Math.min(this.x,o.x),a=Math.min(this.y,o.y),l=Math.max(this.x+this.width,o.x+o.width),c=Math.max(this.y+this.height,o.y+o.height);return this.x=s,this.y=a,this.width=l-s,this.height=c-a,this}update(e,n,r,i){const o=mn.create(e,n,r,i);return this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this}inflate(e,n){const r=e,i=n!=null?n:e;return this.x-=r,this.y-=i,this.width+=2*r,this.height+=2*i,this}snapToGrid(e,n){const r=this.origin.snapToGrid(e,n),i=this.corner.snapToGrid(e,n);return this.x=r.x,this.y=r.y,this.width=i.x-r.x,this.height=i.y-r.y,this}translate(e,n){const r=Ce.create(e,n);return this.x+=r.x,this.y+=r.y,this}scale(e,n,r=new Ce){const i=this.origin.scale(e,n,r);return this.x=i.x,this.y=i.y,this.width*=e,this.height*=n,this}rotate(e,n=this.getCenter()){if(e!==0){const r=pi.toRad(e),i=Math.cos(r),o=Math.sin(r);let s=this.getOrigin(),a=this.getTopRight(),l=this.getBottomRight(),c=this.getBottomLeft();s=Ce.rotateEx(s,i,o,n),a=Ce.rotateEx(a,i,o,n),l=Ce.rotateEx(l,i,o,n),c=Ce.rotateEx(c,i,o,n);const u=new mn(s.x,s.y,0,0);u.add(a.x,a.y,0,0),u.add(l.x,l.y,0,0),u.add(c.x,c.y,0,0),this.update(u)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const n=this.width;return this.width=this.height,this.height=n,this}moveAndExpand(e){const n=mn.clone(e);return this.x+=n.x||0,this.y+=n.y||0,this.width+=n.width||0,this.height+=n.height||0,this}getMaxScaleToFit(e,n=this.center){const r=mn.clone(e),i=n.x,o=n.y;let s=1/0,a=1/0,l=1/0,c=1/0,u=1/0,f=1/0,d=1/0,h=1/0;const p=r.topLeft;p.x<i&&(s=(this.x-i)/(p.x-i)),p.y<o&&(u=(this.y-o)/(p.y-o));const g=r.bottomRight;g.x>i&&(a=(this.x+this.width-i)/(g.x-i)),g.y>o&&(f=(this.y+this.height-o)/(g.y-o));const m=r.topRight;m.x>i&&(l=(this.x+this.width-i)/(m.x-i)),m.y<o&&(d=(this.y-o)/(m.y-o));const y=r.bottomLeft;return y.x<i&&(c=(this.x-i)/(y.x-i)),y.y>o&&(h=(this.y+this.height-o)/(y.y-o)),{sx:Math.min(s,a,l,c),sy:Math.min(u,f,d,h)}}getMaxUniformScaleToFit(e,n=this.center){const r=this.getMaxScaleToFit(e,n);return Math.min(r.sx,r.sy)}containsPoint(e,n){return Dne(this,Ce.create(e,n))}containsRect(e,n,r,i){const o=mn.create(e,n,r,i),s=this.x,a=this.y,l=this.width,c=this.height,u=o.x,f=o.y,d=o.width,h=o.height;return l===0||c===0||d===0||h===0?!1:u>=s&&f>=a&&u+d<=s+l&&f+h<=a+c}intersectsWithLine(e){const n=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],r=[],i=[];return n.forEach(o=>{const s=e.intersectsWithLine(o);s!==null&&i.indexOf(s.toString())<0&&(r.push(s),i.push(s.toString()))}),r.length>0?r:null}intersectsWithLineFromCenterToPoint(e,n){const r=Ce.clone(e),i=this.center;let o=null;n!=null&&n!==0&&r.rotate(n,i);const s=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new Xn(i,r);for(let l=s.length-1;l>=0;l-=1){const c=s[l].intersectsWithLine(a);if(c!==null){o=c;break}}return o&&n!=null&&n!==0&&o.rotate(-n,i),o}intersectsWithRect(e,n,r,i){const o=mn.create(e,n,r,i);if(!this.isIntersectWithRect(o))return null;const s=this.origin,a=this.corner,l=o.origin,c=o.corner,u=Math.max(s.x,l.x),f=Math.max(s.y,l.y);return new mn(u,f,Math.min(a.x,c.x)-u,Math.min(a.y,c.y)-f)}isIntersectWithRect(e,n,r,i){const o=mn.create(e,n,r,i),s=this.origin,a=this.corner,l=o.origin,c=o.corner;return!(c.x<=s.x||c.y<=s.y||l.x>=a.x||l.y>=a.y)}normalize(){let e=this.x,n=this.y,r=this.width,i=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(n=this.y+this.height,i=-this.height),this.x=e,this.y=n,this.width=r,this.height=i,this}union(e){const n=mn.clone(e),r=this.origin,i=this.corner,o=n.origin,s=n.corner,a=Math.min(r.x,o.x),l=Math.min(r.y,o.y),c=Math.max(i.x,s.x),u=Math.max(i.y,s.y);return new mn(a,l,c-a,u-l)}getNearestSideToPoint(e){const n=Ce.clone(e),r=n.x-this.x,i=this.x+this.width-n.x,o=n.y-this.y,s=this.y+this.height-n.y;let a=r,l="left";return i<a&&(a=i,l="right"),o<a&&(a=o,l="top"),s<a&&(l="bottom"),l}getNearestPointToPoint(e){const n=Ce.clone(e);if(this.containsPoint(n))switch(this.getNearestSideToPoint(n)){case"right":return new Ce(this.x+this.width,n.y);case"left":return new Ce(this.x,n.y);case"bottom":return new Ce(n.x,this.y+this.height);case"top":return new Ce(n.x,this.y)}return n.adhereToRect(this)}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new mn(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.width=="number"&&typeof i.height=="number"&&typeof i.inflate=="function"&&typeof i.moveAndExpand=="function"}t.isRectangle=e})(mn||(mn={}));(function(t){function e(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.width=="number"&&typeof n.height=="number"}t.isRectangleLike=e})(mn||(mn={}));(function(t){function e(s,a,l,c){return s==null||typeof s=="number"?new t(s,a,l,c):n(s)}t.create=e;function n(s){return t.isRectangle(s)?s.clone():Array.isArray(s)?new t(s[0],s[1],s[2],s[3]):new t(s.x,s.y,s.width,s.height)}t.clone=n;function r(s){return new t(0,0,s.width,s.height)}t.fromSize=r;function i(s,a){return new t(s.x,s.y,a.width,a.height)}t.fromPositionAndSize=i;function o(s){return new t(s.x-s.a,s.y-s.b,2*s.a,2*s.b)}t.fromEllipse=o})(mn||(mn={}));class Xn extends Jv{constructor(e,n,r,i){super(),typeof e=="number"&&typeof n=="number"?(this.start=new Ce(e,n),this.end=new Ce(r,i)):(this.start=Ce.create(e),this.end=Ce.create(n))}get[Symbol.toStringTag](){return Xn.toStringTag}get center(){return new Ce((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,n){return typeof e=="number"?(this.start.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,n){return this.start.rotate(e,n),this.end.rotate(e,n),this}scale(e,n,r){return this.start.scale(e,n,r),this.end.scale(e,n,r),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,n=this.start.y-this.end.y;return e*e+n*n}setLength(e){const n=this.length();if(!n)return this;const r=e/n;return this.scale(r,r,this.start)}parallel(e){const n=this.clone();if(!n.isDifferentiable())return n;const{start:r,end:i}=n,o=r.clone().rotate(270,i),s=i.clone().rotate(90,r);return r.move(s,e),i.move(o,e),n}vector(){return new Ce(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new Ce(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),n=Math.min(this.start.y,this.end.y),r=Math.max(this.start.x,this.end.x),i=Math.max(this.start.y,this.end.y);return new mn(e,n,r-e,i-n)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const n=this.vector().dot(new Xn(this.start,e).vector()),r=Math.min(1,Math.max(0,n/this.squaredLength()));return Number.isNaN(r)?0:r}pointAt(e){const n=this.start,r=this.end;return e<=0?n.clone():e>=1?r.clone():n.lerp(r,e)}pointAtLength(e){const n=this.start,r=this.end;let i=!0;e<0&&(i=!1,e=-e);const o=this.length();if(e>=o)return i?r.clone():n.clone();const s=(i?e:o-e)/o;return this.pointAt(s)}divideAt(e){const n=this.pointAt(e);return[new Xn(this.start,n),new Xn(n,this.end)]}divideAtLength(e){const n=this.pointAtLength(e);return[new Xn(this.start,n),new Xn(n,this.end)]}containsPoint(e){const n=this.start,r=this.end;if(n.cross(e,r)!==0)return!1;const i=this.length();return!(new Xn(n,e).length()>i||new Xn(e,r).length()>i)}intersect(e,n){const r=e.intersectsWithLine(this,n);return r?Array.isArray(r)?r:[r]:null}intersectsWithLine(e){const n=new Ce(this.end.x-this.start.x,this.end.y-this.start.y),r=new Ce(e.end.x-e.start.x,e.end.y-e.start.y),i=n.x*r.y-n.y*r.x,o=new Ce(e.start.x-this.start.x,e.start.y-this.start.y),s=o.x*r.y-o.y*r.x,a=o.x*n.y-o.y*n.x;if(i===0||s*i<0||a*i<0)return null;if(i>0){if(s>i||a>i)return null}else if(s<i||a<i)return null;return new Ce(this.start.x+s*n.x/i,this.start.y+s*n.y/i)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const n=Ce.clone(e),r=this.start,i=this.end;return((i.x-r.x)*(n.y-r.y)-(i.y-r.y)*(n.x-r.x))/this.length()}pointSquaredDistance(e,n){const r=Ce.create(e,n);return this.closestPoint(r).squaredDistance(r)}pointDistance(e,n){const r=Ce.create(e,n);return this.closestPoint(r).distance(r)}tangentAt(e){if(!this.isDifferentiable())return null;const n=this.start,r=this.end,i=this.pointAt(e),o=new Xn(n,r);return o.translate(i.x-n.x,i.y-n.y),o}tangentAtLength(e){if(!this.isDifferentiable())return null;const n=this.start,r=this.end,i=this.pointAtLength(e),o=new Xn(n,r);return o.translate(i.x-n.x,i.y-n.y),o}relativeCcw(e,n){const r=Ce.create(e,n);let i=r.x-this.start.x,o=r.y-this.start.y;const s=this.end.x-this.start.x,a=this.end.y-this.start.y;let l=i*a-o*s;return l===0&&(l=i*s+o*a,l>0&&(i-=s,o-=a,l=i*s+o*a,l<0&&(l=0))),l<0?-1:l>0?1:0}equals(e){return e!=null&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new Xn(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;try{if((r==null||r===t.toStringTag)&&Ce.isPoint(i.start)&&Ce.isPoint(i.end)&&typeof i.vector=="function"&&typeof i.bearing=="function"&&typeof i.parallel=="function"&&typeof i.intersect=="function")return!0}catch{return!1}return!1}t.isLine=e})(Xn||(Xn={}));class lf extends Jv{constructor(e,n,r,i){super(),this.x=e==null?0:e,this.y=n==null?0:n,this.a=r==null?0:r,this.b=i==null?0:i}get[Symbol.toStringTag](){return lf.toStringTag}get center(){return new Ce(this.x,this.y)}bbox(){return mn.fromEllipse(this)}getCenter(){return this.center}inflate(e,n){const r=e,i=n!=null?n:e;return this.a+=2*r,this.b+=2*i,this}normalizedDistance(e,n){const r=Ce.create(e,n),i=r.x-this.x,o=r.y-this.y,s=this.a,a=this.b;return i*i/(s*s)+o*o/(a*a)}containsPoint(e,n){return this.normalizedDistance(e,n)<=1}intersectsWithLine(e){const n=[],r=this.a,i=this.b,o=e.start,s=e.end,a=e.vector(),l=o.diff(new Ce(this.x,this.y)),c=new Ce(a.x/(r*r),a.y/(i*i)),u=new Ce(l.x/(r*r),l.y/(i*i)),f=a.dot(c),d=a.dot(u),h=l.dot(u)-1,p=d*d-f*h;if(p<0)return null;if(p>0){const g=Math.sqrt(p),m=(-d-g)/f,y=(-d+g)/f;if((m<0||m>1)&&(y<0||y>1))return null;m>=0&&m<=1&&n.push(o.lerp(s,m)),y>=0&&y<=1&&n.push(o.lerp(s,y))}else{const g=-d/f;if(g>=0&&g<=1)n.push(o.lerp(s,g));else return null}return n}intersectsWithLineFromCenterToPoint(e,n=0){const r=Ce.clone(e);n&&r.rotate(n,this.getCenter());const i=r.x-this.x,o=r.y-this.y;let s;if(i===0)return s=this.bbox().getNearestPointToPoint(r),n?s.rotate(-n,this.getCenter()):s;const a=o/i,l=a*a,c=this.a*this.a,u=this.b*this.b;let f=Math.sqrt(1/(1/c+l/u));f=i<0?-f:f;const d=a*f;return s=new Ce(this.x+f,this.y+d),n?s.rotate(-n,this.getCenter()):s}tangentTheta(e){const n=Ce.clone(e),r=n.x,i=n.y,o=this.a,s=this.b,a=this.bbox().center,l=a.x,c=a.y,u=30,f=r>a.x+o/2,d=r<a.x-o/2;let h,p;return f||d?(p=r>a.x?i-u:i+u,h=o*o/(r-l)-o*o*(i-c)*(p-c)/(s*s*(r-l))+l):(h=i>a.y?r+u:r-u,p=s*s/(i-c)-s*s*(r-l)*(h-l)/(o*o*(i-c))+c),new Ce(h,p).theta(n)}scale(e,n){return this.a*=e,this.b*=n,this}rotate(e,n){const r=mn.fromEllipse(this);r.rotate(e,n);const i=lf.fromRect(r);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}translate(e,n){const r=Ce.create(e,n);return this.x+=r.x,this.y+=r.y,this}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new lf(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.a=="number"&&typeof i.b=="number"&&typeof i.inflate=="function"&&typeof i.normalizedDistance=="function"}t.isEllipse=e})(lf||(lf={}));(function(t){function e(i,o,s,a){return i==null||typeof i=="number"?new t(i,o,s,a):n(i)}t.create=e;function n(i){return t.isEllipse(i)?i.clone():Array.isArray(i)?new t(i[0],i[1],i[2],i[3]):new t(i.x,i.y,i.a,i.b)}t.parse=n;function r(i){const o=i.center;return new t(o.x,o.y,i.width/2,i.height/2)}t.fromRect=r})(lf||(lf={}));class xa extends Jv{constructor(e){if(super(),e!=null){if(typeof e=="string")return xa.parse(e);this.points=e.map(n=>Ce.create(n))}else this.points=[]}get[Symbol.toStringTag](){return xa.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(e,n,r=new Ce){return this.points.forEach(i=>i.scale(e,n,r)),this}rotate(e,n){return this.points.forEach(r=>r.rotate(e,n)),this}translate(e,n){const r=Ce.create(e,n);return this.points.forEach(i=>i.translate(r.x,r.y)),this}bbox(){if(this.points.length===0)return new mn;let e=1/0,n=-1/0,r=1/0,i=-1/0;const o=this.points;for(let s=0,a=o.length;s<a;s+=1){const l=o[s],c=l.x,u=l.y;c<e&&(e=c),c>n&&(n=c),u<r&&(r=u),u>i&&(i=u)}return new mn(e,r,n-e,i-r)}closestPoint(e){const n=this.closestPointLength(e);return this.pointAtLength(n)}closestPointLength(e){const n=this.points,r=n.length;if(r===0||r===1)return 0;let i=0,o=0,s=1/0;for(let a=0,l=r-1;a<l;a+=1){const c=new Xn(n[a],n[a+1]),u=c.length(),f=c.closestPointNormalizedLength(e),h=c.pointAt(f).squaredDistance(e);h<s&&(s=h,o=i+f*u),i+=u}return o}closestPointNormalizedLength(e){const n=this.closestPointLength(e);if(n===0)return 0;const r=this.length();return r===0?0:n/r}closestPointTangent(e){const n=this.closestPointLength(e);return this.tangentAtLength(n)}containsPoint(e){if(this.points.length===0)return!1;const n=Ce.clone(e),r=n.x,i=n.y,o=this.points,s=o.length;let a=s-1,l=0;for(let c=0;c<s;c+=1){const u=o[a],f=o[c];if(n.equals(u))return!0;const d=new Xn(u,f);if(d.containsPoint(e))return!0;if(i<=u.y&&i>f.y||i>u.y&&i<=f.y){const h=u.x-r>f.x-r?u.x-r:f.x-r;if(h>=0){const p=new Ce(r+h,i),g=new Xn(e,p);d.intersectsWithLine(g)&&(l+=1)}}a=c}return l%2===1}intersectsWithLine(e){const n=[];for(let r=0,i=this.points.length-1;r<i;r+=1){const o=this.points[r],s=this.points[r+1],a=e.intersectsWithLine(new Xn(o,s));a&&n.push(a)}return n.length>0?n:null}isDifferentiable(){for(let e=0,n=this.points.length-1;e<n;e+=1){const r=this.points[e],i=this.points[e+1];if(new Xn(r,i).isDifferentiable())return!0}return!1}length(){let e=0;for(let n=0,r=this.points.length-1;n<r;n+=1){const i=this.points[n],o=this.points[n+1];e+=i.distance(o)}return e}pointAt(e){const n=this.points,r=n.length;if(r===0)return null;if(r===1||e<=0)return n[0].clone();if(e>=1)return n[r-1].clone();const o=this.length()*e;return this.pointAtLength(o)}pointAtLength(e){const n=this.points,r=n.length;if(r===0)return null;if(r===1)return n[0].clone();let i=!0;e<0&&(i=!1,e=-e);let o=0;for(let a=0,l=r-1;a<l;a+=1){const c=i?a:l-1-a,u=n[c],f=n[c+1],d=new Xn(u,f),h=u.distance(f);if(e<=o+h)return d.pointAtLength((i?1:-1)*(e-o));o+=h}return(i?n[r-1]:n[0]).clone()}tangentAt(e){const r=this.points.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);const o=this.length()*e;return this.tangentAtLength(o)}tangentAtLength(e){const n=this.points,r=n.length;if(r===0||r===1)return null;let i=!0;e<0&&(i=!1,e=-e);let o,s=0;for(let a=0,l=r-1;a<l;a+=1){const c=i?a:l-1-a,u=n[c],f=n[c+1],d=new Xn(u,f),h=u.distance(f);if(d.isDifferentiable()){if(e<=s+h)return d.tangentAtLength((i?1:-1)*(e-s));o=d}s+=h}if(o){const a=i?1:0;return o.tangentAt(a)}return null}simplify(e={}){const n=this.points;if(n.length<3)return this;const r=e.threshold||0;let i=0;for(;n[i+2];){const o=i,s=i+1,a=i+2,l=n[o],c=n[s],u=n[a];new Xn(l,u).closestPoint(c).distance(c)<=r?n.splice(s,1):i+=1}return this}toHull(){const e=this.points,n=e.length;if(n===0)return new xa;let r=e[0];for(let d=1;d<n;d+=1)(e[d].y<r.y||e[d].y===r.y&&e[d].x>r.x)&&(r=e[d]);const i=[];for(let d=0;d<n;d+=1){let h=r.theta(e[d]);h===0&&(h=360),i.push([e[d],d,h])}if(i.sort((d,h)=>{let p=d[2]-h[2];return p===0&&(p=h[1]-d[1]),p}),i.length>2){const d=i[i.length-1];i.unshift(d)}const o={},s=[],a=d=>`${d[0].toString()}@${d[1]}`;for(;i.length!==0;){const d=i.pop(),h=d[0];if(o[a(d)])continue;let p=!1;for(;!p;)if(s.length<2)s.push(d),p=!0;else{const g=s.pop(),m=g[0],y=s.pop(),b=y[0],C=b.cross(m,h);if(C<0)s.push(y),s.push(g),s.push(d),p=!0;else if(C===0){const _=m.angleBetween(b,h);Math.abs(_-180)<1e-10||m.equals(h)||b.equals(m)?(o[a(g)]=m,s.push(y)):Math.abs((_+1)%360-1)<1e-10&&(s.push(y),i.push(g))}else o[a(g)]=m,s.push(y)}}s.length>2&&s.pop();let l,c=-1;for(let d=0,h=s.length;d<h;d+=1){const p=s[d][1];(l===void 0||p<l)&&(l=p,c=d)}let u=[];if(c>0){const d=s.slice(c),h=s.slice(0,c);u=d.concat(h)}else u=s;const f=[];for(let d=0,h=u.length;d<h;d+=1)f.push(u[d][0]);return new xa(f)}equals(e){return e==null||e.points.length!==this.points.length?!1:e.points.every((n,r)=>n.equals(this.points[r]))}clone(){return new xa(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.x}, ${e.y}`).join(" ")}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.toHull=="function"&&typeof i.simplify=="function"}t.isPolyline=e})(xa||(xa={}));(function(t){function e(n){const r=n.trim();if(r==="")return new t;const i=[],o=r.split(/\s*,\s*|\s+/);for(let s=0,a=o.length;s<a;s+=2)i.push({x:+o[s],y:+o[s+1]});return new t(i)}t.parse=e})(xa||(xa={}));class $s extends Jv{constructor(e,n,r,i){super(),this.PRECISION=3,this.start=Ce.create(e),this.controlPoint1=Ce.create(n),this.controlPoint2=Ce.create(r),this.end=Ce.create(i)}get[Symbol.toStringTag](){return $s.toStringTag}bbox(){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end,o=e.x,s=e.y,a=n.x,l=n.y,c=r.x,u=r.y,f=i.x,d=i.y,h=[],p=[[],[]];let g,m,y,b,C,E,_,w;for(let H=0;H<2;H+=1){if(H===0?(m=6*o-12*a+6*c,g=-3*o+9*a-9*c+3*f,y=3*a-3*o):(m=6*s-12*l+6*u,g=-3*s+9*l-9*u+3*d,y=3*l-3*s),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;b=-y/m,b>0&&b<1&&h.push(b);continue}_=m*m-4*y*g,w=Math.sqrt(_),!(_<0)&&(C=(-m+w)/(2*g),C>0&&C<1&&h.push(C),E=(-m-w)/(2*g),E>0&&E<1&&h.push(E))}let M,k,I,A=h.length;const N=A;for(;A;)A-=1,b=h[A],I=1-b,M=I*I*I*o+3*I*I*b*a+3*I*b*b*c+b*b*b*f,p[0][A]=M,k=I*I*I*s+3*I*I*b*l+3*I*b*b*u+b*b*b*d,p[1][A]=k;h[N]=0,h[N+1]=1,p[0][N]=o,p[1][N]=s,p[0][N+1]=f,p[1][N+1]=d,h.length=N+2,p[0].length=N+2,p[1].length=N+2;const $=Math.min.apply(null,p[0]),L=Math.min.apply(null,p[1]),B=Math.max.apply(null,p[0]),j=Math.max.apply(null,p[1]);return new mn($,L,B-$,j-L)}closestPoint(e,n={}){return this.pointAtT(this.closestPointT(e,n))}closestPointLength(e,n={}){const r=this.getOptions(n);return this.lengthAtT(this.closestPointT(e,r),r)}closestPointNormalizedLength(e,n={}){const r=this.getOptions(n),i=this.closestPointLength(e,r);if(!i)return 0;const o=this.length(r);return o===0?0:i/o}closestPointT(e,n={}){const r=this.getPrecision(n),i=this.getDivisions(n),o=Math.pow(10,-r);let s=null,a=0,l=0,c=0,u=0,f=0,d=null;const h=i.length;let p=h>0?1/h:0;for(i.forEach((g,m)=>{const y=g.start.distance(e),b=g.end.distance(e),C=y+b;(d==null||C<d)&&(s=g,a=m*p,l=(m+1)*p,c=y,u=b,d=C,f=g.endpointDistance())});;){const g=c?Math.abs(c-u)/c:0,m=u!=null?Math.abs(c-u)/u:0,y=g<o||m<o,b=c?c<f*o:!0,C=u?u<f*o:!0;if(y||(b||C))return c<=u?a:l;const _=s.divide(.5);p/=2;const w=_[0].start.distance(e),M=_[0].end.distance(e),k=w+M,I=_[1].start.distance(e),A=_[1].end.distance(e),N=I+A;k<=N?(s=_[0],l-=p,c=w,u=M):(s=_[1],a+=p,c=I,u=A)}}closestPointTangent(e,n={}){return this.tangentAtT(this.closestPointT(e,n))}containsPoint(e,n={}){return this.toPolyline(n).containsPoint(e)}divideAt(e,n={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const r=this.tAt(e,n);return this.divideAtT(r)}divideAtLength(e,n={}){const r=this.tAtLength(e,n);return this.divideAtT(r)}divide(e){return this.divideAtT(e)}divideAtT(e){const n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end;if(e<=0)return[new $s(n,n,n,n),new $s(n,r,i,o)];if(e>=1)return[new $s(n,r,i,o),new $s(o,o,o,o)];const s=this.getSkeletonPoints(e),a=s.startControlPoint1,l=s.startControlPoint2,c=s.divider,u=s.dividerControlPoint1,f=s.dividerControlPoint2;return[new $s(n,a,l,c),new $s(c,u,f,o)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end;if(e<=0)return{startControlPoint1:n.clone(),startControlPoint2:n.clone(),divider:n.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:i.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:i.clone(),divider:o.clone(),dividerControlPoint1:o.clone(),dividerControlPoint2:o.clone()};const s=new Xn(n,r).pointAt(e),a=new Xn(r,i).pointAt(e),l=new Xn(i,o).pointAt(e),c=new Xn(s,a).pointAt(e),u=new Xn(a,l).pointAt(e),f=new Xn(c,u).pointAt(e);return{startControlPoint1:s,startControlPoint2:c,divider:f,dividerControlPoint1:u,dividerControlPoint2:l}}getSubdivisions(e={}){const n=this.getPrecision(e);let r=[new $s(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(n===0)return r;let i=this.endpointDistance();const o=Math.pow(10,-n);let s=0;for(;;){s+=1;const a=[];r.forEach(u=>{const f=u.divide(.5);a.push(f[0],f[1])});const l=a.reduce((u,f)=>u+f.endpointDistance(),0),c=l!==0?(l-i)/l:0;if(s>1&&c<o)return a;r=a,i=l}}length(e={}){return this.getDivisions(e).reduce((r,i)=>r+i.endpointDistance(),0)}lengthAtT(e,n={}){if(e<=0)return 0;const r=n.precision===void 0?this.PRECISION:n.precision;return this.divide(e)[0].length({precision:r})}pointAt(e,n={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.tAt(e,n);return this.pointAtT(r)}pointAtLength(e,n={}){const r=this.tAtLength(e,n);return this.pointAtT(r)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(e.equals(n)&&n.equals(r)&&r.equals(i))}tangentAt(e,n={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const r=this.tAt(e,n);return this.tangentAtT(r)}tangentAtLength(e,n={}){if(!this.isDifferentiable())return null;const r=this.tAtLength(e,n);return this.tangentAtT(r)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const n=this.getSkeletonPoints(e),r=n.startControlPoint2,i=n.dividerControlPoint1,o=n.divider,s=new Xn(r,i);return s.translate(o.x-r.x,o.y-r.y),s}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getDivisions(e={}){if(e.subdivisions!=null)return e.subdivisions;const n=this.getPrecision(e);return this.getSubdivisions({precision:n})}getOptions(e={}){const n=this.getPrecision(e),r=this.getDivisions(e);return{precision:n,subdivisions:r}}tAt(e,n={}){if(e<=0)return 0;if(e>=1)return 1;const r=this.getOptions(n),o=this.length(r)*e;return this.tAtLength(o,r)}tAtLength(e,n={}){let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getDivisions(n),s={precision:i,subdivisions:o};let a=null,l,c,u=0,f=0,d=0;const h=o.length;let p=h>0?1/h:0;for(let y=0;y<h;y+=1){const b=r?y:h-1-y,C=o[y],E=C.endpointDistance();if(e<=d+E){a=C,l=b*p,c=(b+1)*p,u=r?e-d:E+d-e,f=r?E+d-e:e-d;break}d+=E}if(a==null)return r?1:0;const g=this.length(s),m=Math.pow(10,-i);for(;;){let y;if(y=g!==0?u/g:0,y<m)return l;if(y=g!==0?f/g:0,y<m)return c;let b,C;const E=a.divide(.5);p/=2;const _=E[0].endpointDistance(),w=E[1].endpointDistance();u<=_?(a=E[0],c-=p,b=u,C=_-b):(a=E[1],l+=p,b=u-_,C=w-b),u=b,f=C}}toPoints(e={}){const n=this.getDivisions(e),r=[n[0].start.clone()];return n.forEach(i=>r.push(i.end.clone())),r}toPolyline(e={}){return new xa(this.toPoints(e))}scale(e,n,r){return this.start.scale(e,n,r),this.controlPoint1.scale(e,n,r),this.controlPoint2.scale(e,n,r),this.end.scale(e,n,r),this}rotate(e,n){return this.start.rotate(e,n),this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?(this.start.translate(e,n),this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return e!=null&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new $s(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;try{if((r==null||r===t.toStringTag)&&Ce.isPoint(i.start)&&Ce.isPoint(i.controlPoint1)&&Ce.isPoint(i.controlPoint2)&&Ce.isPoint(i.end)&&typeof i.toPoints=="function"&&typeof i.toPolyline=="function")return!0}catch{return!1}return!1}t.isCurve=e})($s||($s={}));(function(t){function e(i){const o=i.length,s=[],a=[];let l=2;s[0]=i[0]/l;for(let c=1;c<o;c+=1)a[c]=1/l,l=(c<o-1?4:3.5)-a[c],s[c]=(i[c]-s[c-1])/l;for(let c=1;c<o;c+=1)s[o-c-1]-=a[o-c]*s[o-c];return s}function n(i){const o=i.map(d=>Ce.clone(d)),s=[],a=[],l=o.length-1;if(l===1)return s[0]=new Ce((2*o[0].x+o[1].x)/3,(2*o[0].y+o[1].y)/3),a[0]=new Ce(2*s[0].x-o[0].x,2*s[0].y-o[0].y),[s,a];const c=[];for(let d=1;d<l-1;d+=1)c[d]=4*o[d].x+2*o[d+1].x;c[0]=o[0].x+2*o[1].x,c[l-1]=(8*o[l-1].x+o[l].x)/2;const u=e(c);for(let d=1;d<l-1;d+=1)c[d]=4*o[d].y+2*o[d+1].y;c[0]=o[0].y+2*o[1].y,c[l-1]=(8*o[l-1].y+o[l].y)/2;const f=e(c);for(let d=0;d<l;d+=1)s.push(new Ce(u[d],f[d])),d<l-1?a.push(new Ce(2*o[d+1].x-u[d+1],2*o[d+1].y-f[d+1])):a.push(new Ce((o[l].x+u[l-1])/2,(o[l].y+f[l-1])/2));return[s,a]}function r(i){if(i==null||Array.isArray(i)&&i.length<2)throw new Error("At least 2 points are required");const o=n(i),s=[];for(let a=0,l=o[0].length;a<l;a+=1){const c=new Ce(o[0][a].x,o[0][a].y),u=new Ce(o[1][a].x,o[1][a].y);s.push(new t(i[a],c,u,i[a+1]))}return s}t.throughPoints=r})($s||($s={}));class Ik extends Jv{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,n){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,n){if(e<=0)return 0;const r=this.length();return e>=1?r:r*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class kl extends Ik{constructor(e,n){super(),Xn.isLine(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Ce.create(e,n).round(2)}get type(){return"L"}get line(){return new Xn(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[new kl(n[0]),new kl(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[new kl(n[0]),new kl(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new kl(this.end)}scale(e,n,r){return this.end.scale(e,n,r),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?this.end.translate(e,n):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(t){function e(...n){const r=n.length,i=n[0];if(Xn.isLine(i))return new t(i);if(Ce.isPointLike(i))return r===1?new t(i):n.map(s=>new t(s));if(r===2)return new t(+n[0],+n[1]);const o=[];for(let s=0;s<r;s+=2){const a=+n[s],l=+n[s+1];o.push(new t(a,l))}return o}t.create=e})(kl||(kl={}));class N1 extends Ik{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new Xn(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[n[1].isDifferentiable()?new kl(n[0]):this.clone(),new kl(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[n[1].isDifferentiable()?new kl(n[0]):this.clone(),new kl(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new N1}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(t){function e(){return new t}t.create=e})(N1||(N1={}));class R1 extends Ik{constructor(e,n){super(),this.isVisible=!1,this.isSubpathStart=!0,Xn.isLine(e)||$s.isCurve(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Ce.create(e,n).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,n,r){return this.end.scale(e,n,r),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?this.end.translate(e,n):this.end.translate(e),this}clone(){return new R1(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(t){function e(...n){const r=n.length,i=n[0];if(Xn.isLine(i))return new t(i);if($s.isCurve(i))return new t(i);if(Ce.isPointLike(i)){if(r===1)return new t(i);const s=[];for(let a=0;a<r;a+=1)a===0?s.push(new t(n[a])):s.push(new kl(n[a]));return s}if(r===2)return new t(+n[0],+n[1]);const o=[];for(let s=0;s<r;s+=2){const a=+n[s],l=+n[s+1];s===0?o.push(new t(a,l)):o.push(new kl(a,l))}return o}t.create=e})(R1||(R1={}));class Qu extends Ik{constructor(e,n,r,i,o,s){super(),$s.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):typeof e=="number"?(this.controlPoint1=new Ce(e,n).round(2),this.controlPoint2=new Ce(r,i).round(2),this.endPoint=new Ce(o,s).round(2)):(this.controlPoint1=Ce.create(e).round(2),this.controlPoint2=Ce.create(n).round(2),this.endPoint=Ce.create(r).round(2))}get type(){return"C"}get curve(){return new $s(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,n={}){const r=this.curve.divideAt(e,n);return[new Qu(r[0]),new Qu(r[1])]}divideAtLength(e,n={}){const r=this.curve.divideAtLength(e,n);return[new Qu(r[0]),new Qu(r[1])]}divideAtT(e){const n=this.curve.divideAtT(e);return[new Qu(n[0]),new Qu(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(e.equals(n)&&n.equals(r)&&r.equals(i))}scale(e,n,r){return this.controlPoint1.scale(e,n,r),this.controlPoint2.scale(e,n,r),this.end.scale(e,n,r),this}rotate(e,n){return this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?(this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new Qu(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,n=this.controlPoint2,r=this.end;return[this.type,e.x,e.y,n.x,n.y,r.x,r.y].join(" ")}}(function(t){function e(...n){const r=n.length,i=n[0];if($s.isCurve(i))return new t(i);if(Ce.isPointLike(i)){if(r===3)return new t(n[0],n[1],n[2]);const s=[];for(let a=0;a<r;a+=3)s.push(new t(n[a],n[a+1],n[a+2]));return s}if(r===6)return new t(n[0],n[1],n[2],n[3],n[4],n[5]);const o=[];for(let s=0;s<r;s+=6)o.push(new t(n[s],n[s+1],n[s+2],n[s+3],n[s+4],n[s+5]));return o}t.create=e})(Qu||(Qu={}));function eP(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function Fj(t,e,n,r,i,o){const s=.3333333333333333,a=2/3;return[s*t+a*n,s*e+a*r,s*i+a*n,s*o+a*r,i,o]}function Nne(t,e,n,r,i,o,s,a,l,c){const u=Math.PI*120/180,f=Math.PI/180*(+i||0);let d=[],h,p,g,m,y;if(c)p=c[0],g=c[1],m=c[2],y=c[3];else{h=eP(t,e,-f),t=h.x,e=h.y,h=eP(a,l,-f),a=h.x,l=h.y;const B=(t-a)/2,j=(e-l)/2;let H=B*B/(n*n)+j*j/(r*r);H>1&&(H=Math.sqrt(H),n=H*n,r=H*r);const te=n*n,Y=r*r,ue=(o===s?-1:1)*Math.sqrt(Math.abs((te*Y-te*j*j-Y*B*B)/(te*j*j+Y*B*B)));m=ue*n*j/r+(t+a)/2,y=ue*-r*B/n+(e+l)/2,p=Math.asin((e-y)/r),g=Math.asin((l-y)/r),p=t<m?Math.PI-p:p,g=a<m?Math.PI-g:g,p<0&&(p=Math.PI*2+p),g<0&&(g=Math.PI*2+g),s&&p>g&&(p-=Math.PI*2),!s&&g>p&&(g-=Math.PI*2)}let b=g-p;if(Math.abs(b)>u){const B=g,j=a,H=l;g=p+u*(s&&g>p?1:-1),a=m+n*Math.cos(g),l=y+r*Math.sin(g),d=Nne(a,l,n,r,i,0,s,j,H,[g,B,m,y])}b=g-p;const C=Math.cos(p),E=Math.sin(p),_=Math.cos(g),w=Math.sin(g),M=Math.tan(b/4),k=4/3*(n*M),I=4/3*(r*M),A=[t,e],N=[t+k*E,e-I*C],$=[a+k*w,l-I*_],L=[a,l];if(N[0]=2*A[0]-N[0],N[1]=2*A[1]-N[1],c)return[N,$,L].concat(d);{d=[N,$,L].concat(d).join().split(",");const B=[],j=d.length;for(let H=0;H<j;H+=1)B[H]=H%2?eP(+d[H-1],+d[H],f).y:eP(+d[H],+d[H+1],f).x;return B}}function yPe(t){if(!t)return null;const e=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,n=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),r=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[];return t.replace(n,(s,a,l)=>{const c=[];let u=a.toLowerCase();l.replace(r,(d,h)=>(h&&c.push(+h),d)),u==="m"&&c.length>2&&(o.push([a,...c.splice(0,2)]),u="l",a=a==="m"?"l":"L");const f=i[u];for(;c.length>=f&&(o.push([a,...c.splice(0,f)]),!!f););return s}),o}function bPe(t){const e=yPe(t);if(!e||!e.length)return[["M",0,0]];let n=0,r=0,i=0,o=0;const s=[];for(let a=0,l=e.length;a<l;a+=1){const c=[];s.push(c);const u=e[a],f=u[0];if(f!==f.toUpperCase())switch(c[0]=f.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+n,c[7]=+u[7]+r;break;case"V":c[1]=+u[1]+r;break;case"H":c[1]=+u[1]+n;break;case"M":i=+u[1]+n,o=+u[2]+r;for(let d=1,h=u.length;d<h;d+=1)c[d]=+u[d]+(d%2?n:r);break;default:for(let d=1,h=u.length;d<h;d+=1)c[d]=+u[d]+(d%2?n:r);break}else for(let d=0,h=u.length;d<h;d+=1)c[d]=u[d];switch(c[0]){case"Z":n=+i,r=+o;break;case"H":n=c[1];break;case"V":r=c[1];break;case"M":i=c[c.length-2],o=c[c.length-1],n=c[c.length-2],r=c[c.length-1];break;default:n=c[c.length-2],r=c[c.length-1];break}}return s}function xPe(t){const e=bPe(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(l,c,u){let f,d;if(!l)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(l[0]in{T:1,Q:1}||(c.qx=null,c.qy=null),l[0]){case"M":c.X=l[1],c.Y=l[2];break;case"A":return parseFloat(l[1])===0||parseFloat(l[2])===0?["L",l[6],l[7]]:["C"].concat(Nne.apply(0,[c.x,c.y].concat(l.slice(1))));case"S":return u==="C"||u==="S"?(f=c.x*2-c.bx,d=c.y*2-c.by):(f=c.x,d=c.y),["C",f,d].concat(l.slice(1));case"T":return u==="Q"||u==="T"?(c.qx=c.x*2-c.qx,c.qy=c.y*2-c.qy):(c.qx=c.x,c.qy=c.y),["C"].concat(Fj(c.x,c.y,c.qx,c.qy,l[1],l[2]));case"Q":return c.qx=l[1],c.qy=l[2],["C"].concat(Fj(c.x,c.y,l[1],l[2],l[3],l[4]));case"H":return["L"].concat(l[1],c.y);case"V":return["L"].concat(c.x,l[1])}return l}function i(l,c){if(l[c].length>7){l[c].shift();const u=l[c];for(;u.length;)o[c]="A",c+=1,l.splice(c,0,["C"].concat(u.splice(0,6)));l.splice(c,1),a=e.length}}const o=[];let s="",a=e.length;for(let l=0;l<a;l+=1){let c="";e[l]&&(c=e[l][0]),c!=="C"&&(o[l]=c,l>0&&(s=o[l-1])),e[l]=r(e[l],n,s),o[l]!=="A"&&c==="C"&&(o[l]="C"),i(e,l);const u=e[l],f=u.length;n.x=u[f-2],n.y=u[f-1],n.bx=parseFloat(u[f-4])||n.x,n.by=parseFloat(u[f-3])||n.y}return(!e[0][0]||e[0][0]!=="M")&&e.unshift(["M",0,0]),e}function wPe(t){return xPe(t).map(e=>e.map(n=>typeof n=="string"?n:a0(n,2))).join(",").split(",").join(" ")}const CPe=new RegExp("^[\\s\\dLMCZz,.]*$");function SPe(t){return typeof t!="string"?!1:CPe.test(t)}function $R(t,e){return(t%e+e)%e}function EPe(t,e,n,r,i){const o=[],s=t[t.length-1],a=e!=null&&e>0,l=e||0;if(r&&a){t=t.slice();const f=t[0],d=new Ce(s.x+(f.x-s.x)/2,s.y+(f.y-s.y)/2);t.splice(0,0,d)}let c=t[0],u=1;for(n?o.push("M",c.x,c.y):o.push("L",c.x,c.y);u<(r?t.length:t.length-1);){let f=t[$R(u,t.length)],d=c.x-f.x,h=c.y-f.y;if(a&&(d!==0||h!==0)&&(i==null||i.indexOf(u-1)<0)){let p=Math.sqrt(d*d+h*h);const g=d*Math.min(l,p/2)/p,m=h*Math.min(l,p/2)/p,y=f.x+g,b=f.y+m;o.push("L",y,b);let C=t[$R(u+1,t.length)];for(;u<t.length-2&&Math.round(C.x-f.x)===0&&Math.round(C.y-f.y)===0;)C=t[$R(u+2,t.length)],u+=1;d=C.x-f.x,h=C.y-f.y,p=Math.max(1,Math.sqrt(d*d+h*h));const E=d*Math.min(l,p/2)/p,_=h*Math.min(l,p/2)/p,w=f.x+E,M=f.y+_;o.push("Q",f.x,f.y,w,M),f=new Ce(w,M)}else o.push("L",f.x,f.y);c=f,u+=1}return r?o.push("Z"):o.push("L",s.x,s.y),o.map(f=>typeof f=="string"?f:+f.toFixed(3)).join(" ")}function Rne(t,e={}){const n=[];return t&&t.length&&t.forEach(r=>{Array.isArray(r)?n.push({x:r[0],y:r[1]}):n.push({x:r.x,y:r.y})}),EPe(n,e.round,e.initialMove==null||e.initialMove,e.close,e.exclude)}function DM(t,e,n,r,i=0,o=0,s=0,a,l){if(n===0||r===0)return[];a-=t,l-=e,n=Math.abs(n),r=Math.abs(r);const c=-a/2,u=-l/2,f=Math.cos(i*Math.PI/180),d=Math.sin(i*Math.PI/180),h=f*c+d*u,p=-1*d*c+f*u,g=h*h,m=p*p,y=n*n,b=r*r,C=g/y+m/b;let E;if(C>1)n=Math.sqrt(C)*n,r=Math.sqrt(C)*r,E=0;else{let Re=1;o===s&&(Re=-1),E=Re*Math.sqrt((y*b-y*m-b*g)/(y*m+b*g))}const _=E*n*p/r,w=-1*E*r*h/n,M=f*_-d*w+a/2,k=d*_+f*w+l/2;let I=Math.atan2((p-w)/r,(h-_)/n)-Math.atan2(0,1),A=I>=0?I:2*Math.PI+I;I=Math.atan2((-p-w)/r,(-h-_)/n)-Math.atan2((p-w)/r,(h-_)/n);let N=I>=0?I:2*Math.PI+I;s===0&&N>0?N-=2*Math.PI:s!==0&&N<0&&(N+=2*Math.PI);const $=N*2/Math.PI,L=Math.ceil($<0?-1*$:$),B=N/L,j=8/3*Math.sin(B/4)*Math.sin(B/4)/Math.sin(B/2),H=f*n,te=f*r,Y=d*n,ue=d*r;let ce=Math.cos(A),se=Math.sin(A),fe=-j*(H*se+ue*ce),me=-j*(Y*se-te*ce),K=0,le=0;const Ne=[];for(let Re=0;Re<L;Re+=1){A+=B,ce=Math.cos(A),se=Math.sin(A),K=H*ce-ue*se+M,le=Y*ce+te*se+k;const Je=-j*(H*se+ue*ce),$e=-j*(Y*se-te*ce),tt=Re*6;Ne[tt]=Number(fe+t),Ne[tt+1]=Number(me+e),Ne[tt+2]=Number(K-Je+t),Ne[tt+3]=Number(le-$e+e),Ne[tt+4]=Number(K+t),Ne[tt+5]=Number(le+e),fe=K+Je,me=le+$e}return Ne.map(Re=>+Re.toFixed(2))}function _Pe(t,e,n,r,i=0,o=0,s=0,a,l){const c=[],u=DM(t,e,n,r,i,o,s,a,l);if(u!=null)for(let f=0,d=u.length;f<d;f+=6)c.push("C",u[f],u[f+1],u[f+2],u[f+3],u[f+4],u[f+5]);return c.join(" ")}class dr extends Jv{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(Xn.isLine(e[0])||$s.isCurve(e[0])){let n=null;e.forEach((i,o)=>{o===0&&this.appendSegment(dr.createSegment("M",i.start)),n!=null&&!n.end.equals(i.start)&&this.appendSegment(dr.createSegment("M",i.start)),Xn.isLine(i)?this.appendSegment(dr.createSegment("L",i.end)):$s.isCurve(i)&&this.appendSegment(dr.createSegment("C",i.controlPoint1,i.controlPoint2,i.end)),n=i})}else e.forEach(r=>{r.isSegment&&this.appendSegment(r)});else e!=null&&(Xn.isLine(e)?(this.appendSegment(dr.createSegment("M",e.start)),this.appendSegment(dr.createSegment("L",e.end))):$s.isCurve(e)?(this.appendSegment(dr.createSegment("M",e.start)),this.appendSegment(dr.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):xa.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((n,r)=>{const i=r===0?dr.createSegment("M",n):dr.createSegment("L",n);this.appendSegment(i)}):e.isSegment&&this.appendSegment(e))}get[Symbol.toStringTag](){return dr.toStringTag}get start(){const e=this.segments,n=e.length;if(n===0)return null;for(let r=0;r<n;r+=1){const i=e[r];if(i.isVisible)return i.start}return e[n-1].end}get end(){const e=this.segments,n=e.length;if(n===0)return null;for(let r=n-1;r>=0;r-=1){const i=e[r];if(i.isVisible)return i.end}return e[n-1].end}moveTo(...e){return this.appendSegment(R1.create.call(null,...e))}lineTo(...e){return this.appendSegment(kl.create.call(null,...e))}curveTo(...e){return this.appendSegment(Qu.create.call(null,...e))}arcTo(e,n,r,i,o,s,a){const l=this.end||new Ce,c=typeof s=="number"?DM(l.x,l.y,e,n,r,i,o,s,a):DM(l.x,l.y,e,n,r,i,o,s.x,s.y);if(c!=null)for(let u=0,f=c.length;u<f;u+=6)this.curveTo(c[u],c[u+1],c[u+2],c[u+3],c[u+4],c[u+5]);return this}quadTo(e,n,r,i){const o=this.end||new Ce,s=["M",o.x,o.y];if(typeof e=="number")s.push("Q",e,n,r,i);else{const l=n;s.push("Q",e.x,e.y,l.x,l.y)}const a=dr.parse(s.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(N1.create())}drawPoints(e,n={}){const r=Rne(e,n),i=dr.parse(r);i&&i.segments&&this.appendSegment(i.segments)}bbox(){const e=this.segments,n=e.length;if(n===0)return null;let r;for(let o=0;o<n;o+=1){const s=e[o];if(s.isVisible){const a=s.bbox();a!=null&&(r=r?r.union(a):a)}}if(r!=null)return r;const i=e[n-1];return new mn(i.end.x,i.end.y,0,0)}appendSegment(e){const n=this.segments.length;let r=n!==0?this.segments[n-1]:null,i;const o=null;if(Array.isArray(e))for(let s=0,a=e.length;s<a;s+=1){const l=e[s];i=this.prepareSegment(l,r,o),this.segments.push(i),r=i}else e!=null&&e.isSegment&&(i=this.prepareSegment(e,r,o),this.segments.push(i));return this}insertSegment(e,n){const r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");let i,o=null,s=null;if(r!==0&&(e>=1?(o=this.segments[e-1],s=o.nextSegment):(o=null,s=this.segments[0])),!Array.isArray(n))i=this.prepareSegment(n,o,s),this.segments.splice(e,0,i);else for(let a=0,l=n.length;a<l;a+=1){const c=n[a];i=this.prepareSegment(c,o,s),this.segments.splice(e+a,0,i),o=i}return this}removeSegment(e){const n=this.fixIndex(e),r=this.segments.splice(n,1)[0],i=r.previousSegment,o=r.nextSegment;return i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o),r}replaceSegment(e,n){const r=this.fixIndex(e);let i;const o=this.segments[r];let s=o.previousSegment;const a=o.nextSegment;let l=o.isSubpathStart;if(!Array.isArray(n))i=this.prepareSegment(n,s,a),this.segments.splice(r,1,i),l&&i.isSubpathStart&&(l=!1);else{this.segments.splice(e,1);for(let c=0,u=n.length;c<u;c+=1){const f=n[c];i=this.prepareSegment(f,s,a),this.segments.splice(e+c,0,i),s=i,l&&i.isSubpathStart&&(l=!1)}}l&&a&&this.updateSubpathStartSegment(a)}getSegment(e){const n=this.fixIndex(e);return this.segments[n]}fixIndex(e){const n=this.segments.length;if(n===0)throw new Error("Path has no segments.");let r=e;for(;r<0;)r=n+r;if(r>=n||r<0)throw new Error("Index out of range.");return r}segmentAt(e,n={}){const r=this.segmentIndexAt(e,n);return r?this.getSegment(r):null}segmentAtLength(e,n={}){const r=this.segmentIndexAtLength(e,n);return r?this.getSegment(r):null}segmentIndexAt(e,n={}){if(this.segments.length===0)return null;const r=Yy(e,0,1),i=this.getOptions(n),s=this.length(i)*r;return this.segmentIndexAtLength(s,i)}segmentIndexAtLength(e,n={}){const r=this.segments.length;if(r===0)return null;let i=!0;e<0&&(i=!1,e=-e);const o=this.getPrecision(n),s=this.getSubdivisions(n);let a=0,l=null;for(let c=0;c<r;c+=1){const u=i?c:r-1-c,f=this.segments[u],d=s[u],h=f.length({precision:o,subdivisions:d});if(f.isVisible){if(e<=a+h)return u;l=u}a+=h}return l}getSegmentSubdivisions(e={}){const n=this.getPrecision(e),r=[];for(let i=0,o=this.segments.length;i<o;i+=1){const a=this.segments[i].getSubdivisions({precision:n});r.push(a)}return r}updateSubpathStartSegment(e){let n=e.previousSegment,r=e;for(;r&&!r.isSubpathStart;)n!=null?r.subpathStartSegment=n.subpathStartSegment:r.subpathStartSegment=null,n=r,r=r.nextSegment}prepareSegment(e,n,r){e.previousSegment=n,e.nextSegment=r,n!=null&&(n.nextSegment=e),r!=null&&(r.previousSegment=e);let i=e;return e.isSubpathStart&&(e.subpathStartSegment=e,i=r),i!=null&&this.updateSubpathStartSegment(i),e}closestPoint(e,n={}){const r=this.closestPointT(e,n);return r?this.pointAtT(r):null}closestPointLength(e,n={}){const r=this.getOptions(n),i=this.closestPointT(e,r);return i?this.lengthAtT(i,r):0}closestPointNormalizedLength(e,n={}){const r=this.getOptions(n),i=this.closestPointLength(e,r);if(i===0)return 0;const o=this.length(r);return o===0?0:i/o}closestPointT(e,n={}){if(this.segments.length===0)return null;const r=this.getPrecision(n),i=this.getSubdivisions(n);let o,s=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=i[a];if(c.isVisible){const f=c.closestPointT(e,{precision:r,subdivisions:u}),d=c.pointAtT(f),h=Lj(d,e);h<s&&(o={segmentIndex:a,value:f},s=h)}}return o||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,n={}){if(this.segments.length===0)return null;const r=this.getPrecision(n),i=this.getSubdivisions(n);let o,s=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=i[a];if(c.isDifferentiable()){const f=c.closestPointT(e,{precision:r,subdivisions:u}),d=c.pointAtT(f),h=Lj(d,e);h<s&&(o=c.tangentAtT(f),s=h)}}return o||null}containsPoint(e,n={}){const r=this.toPolylines(n);if(!r)return!1;let i=0;for(let o=0,s=r.length;o<s;o+=1)r[o].containsPoint(e)&&(i+=1);return i%2===1}pointAt(e,n={}){if(this.segments.length===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.getOptions(n),o=this.length(r)*e;return this.pointAtLength(o,r)}pointAtLength(e,n={}){if(this.segments.length===0)return null;if(e===0)return this.start.clone();let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getSubdivisions(n);let s,a=0;for(let c=0,u=this.segments.length;c<u;c+=1){const f=r?c:u-1-c,d=this.segments[f],h=o[f],p=d.length({precision:i,subdivisions:h});if(d.isVisible){if(e<=a+p)return d.pointAtLength((r?1:-1)*(e-a),{precision:i,subdivisions:h});s=d}a+=p}return s?r?s.end:s.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const n=this.segments,r=n.length;if(r===0)return null;const i=e.segmentIndex;if(i<0)return n[0].pointAtT(0);if(i>=r)return n[r-1].pointAtT(1);const o=Yy(e.value,0,1);return n[i].pointAtT(o)}divideAt(e,n={}){if(this.segments.length===0)return null;const r=Yy(e,0,1),i=this.getOptions(n),s=this.length(i)*r;return this.divideAtLength(s,i)}divideAtLength(e,n={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getSubdivisions(n);let s=0,a,l,c,u,f;for(let _=0,w=this.segments.length;_<w;_+=1){const M=r?_:w-1-_,k=this.getSegment(M),I=o[M],A={precision:i,subdivisions:I},N=k.length(A);if(k.isDifferentiable()&&(c=k,u=M,e<=s+N)){l=M,a=k.divideAtLength((r?1:-1)*(e-s),A);break}s+=N}if(!c)return null;a||(l=u,f=r?1:0,a=c.divideAtT(f));const d=this.clone(),h=l;d.replaceSegment(h,a);const p=h;let g=h+1,m=h+2;a[0].isDifferentiable()||(d.removeSegment(p),g-=1,m-=1);const y=d.getSegment(g).start;d.insertSegment(g,dr.createSegment("M",y)),m+=1,a[1].isDifferentiable()||(d.removeSegment(m-1),m-=1);const b=m-p-1;for(let _=m,w=d.segments.length;_<w;_+=1){const M=this.getSegment(_-b),k=d.getSegment(_);if(k.type==="Z"&&!M.subpathStartSegment.end.equals(k.subpathStartSegment.end)){const I=dr.createSegment("L",M.end);d.replaceSegment(_,I)}}const C=new dr(d.segments.slice(0,g)),E=new dr(d.segments.slice(g));return[C,E]}intersectsWithLine(e,n={}){const r=this.toPolylines(n);if(r==null)return null;let i=null;for(let o=0,s=r.length;o<s;o+=1){const a=r[o],l=e.intersect(a);l&&(i==null&&(i=[]),Array.isArray(l)?i.push(...l):i.push(l))}return i}isDifferentiable(){for(let e=0,n=this.segments.length;e<n;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return e.length===0||e[0].type==="M"}length(e={}){if(this.segments.length===0)return 0;const n=this.getSubdivisions(e);let r=0;for(let i=0,o=this.segments.length;i<o;i+=1){const s=this.segments[i],a=n[i];r+=s.length({subdivisions:a})}return r}lengthAtT(e,n={}){const r=this.segments.length;if(r===0)return 0;let i=e.segmentIndex;if(i<0)return 0;let o=Yy(e.value,0,1);i>=r&&(i=r-1,o=1);const s=this.getPrecision(n),a=this.getSubdivisions(n);let l=0;for(let f=0;f<i;f+=1){const d=this.segments[f],h=a[f];l+=d.length({precision:s,subdivisions:h})}const c=this.segments[i],u=a[i];return l+=c.lengthAtT(o,{precision:s,subdivisions:u}),l}tangentAt(e,n={}){if(this.segments.length===0)return null;const r=Yy(e,0,1),i=this.getOptions(n),s=this.length(i)*r;return this.tangentAtLength(s,i)}tangentAtLength(e,n={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getSubdivisions(n);let s,a=0;for(let l=0,c=this.segments.length;l<c;l+=1){const u=r?l:c-1-l,f=this.segments[u],d=o[u],h=f.length({precision:i,subdivisions:d});if(f.isDifferentiable()){if(e<=a+h)return f.tangentAtLength((r?1:-1)*(e-a),{precision:i,subdivisions:d});s=f}a+=h}if(s){const l=r?1:0;return s.tangentAtT(l)}return null}tangentAtT(e){const n=this.segments.length;if(n===0)return null;const r=e.segmentIndex;if(r<0)return this.segments[0].tangentAtT(0);if(r>=n)return this.segments[n-1].tangentAtT(1);const i=Yy(e.value,0,1);return this.segments[r].tangentAtT(i)}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getSubdivisions(e={}){if(e.segmentSubdivisions==null){const n=this.getPrecision(e);return this.getSegmentSubdivisions({precision:n})}return e.segmentSubdivisions}getOptions(e={}){const n=this.getPrecision(e),r=this.getSubdivisions(e);return{precision:n,segmentSubdivisions:r}}toPoints(e={}){const n=this.segments,r=n.length;if(r===0)return null;const i=this.getSubdivisions(e),o=[];let s=[];for(let a=0;a<r;a+=1){const l=n[a];if(l.isVisible){const c=i[a];c.length>0?c.forEach(u=>s.push(u.start)):s.push(l.start)}else s.length>0&&(s.push(n[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o}toPolylines(e={}){const n=this.toPoints(e);return n?n.map(r=>new xa(r)):null}scale(e,n,r){return this.segments.forEach(i=>i.scale(e,n,r)),this}rotate(e,n){return this.segments.forEach(r=>r.rotate(e,n)),this}translate(e,n){return typeof e=="number"?this.segments.forEach(r=>r.translate(e,n)):this.segments.forEach(r=>r.translate(e)),this}clone(){const e=new dr;return this.segments.forEach(n=>e.appendSegment(n.clone())),e}equals(e){if(e==null)return!1;const n=this.segments,r=e.segments,i=n.length;if(r.length!==i)return!1;for(let o=0;o<i;o+=1){const s=n[o],a=r[o];if(s.type!==a.type||!s.equals(a))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(t){t.toStringTag=`X6.Geometry.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return!!((r==null||r===t.toStringTag)&&Array.isArray(i.segments)&&typeof i.moveTo=="function"&&typeof i.lineTo=="function"&&typeof i.curveTo=="function")}t.isPath=e})(dr||(dr={}));(function(t){function e(r){if(!r)return new t;const i=new t,o=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,s=t.normalize(r).match(o);if(s!=null)for(let a=0,l=s.length;a<l;a+=1){const c=s[a],u=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,f=c.match(u);if(f!=null){const d=f[0],h=f.slice(1).map(g=>+g),p=n.call(null,d,...h);i.appendSegment(p)}}return i}t.parse=e;function n(r,...i){if(r==="M")return R1.create.call(null,...i);if(r==="L")return kl.create.call(null,...i);if(r==="C")return Qu.create.call(null,...i);if(r==="z"||r==="Z")return N1.create();throw new Error(`Invalid path segment type "${r}"`)}t.createSegment=n})(dr||(dr={}));(function(t){t.normalize=wPe,t.isValid=SPe,t.drawArc=_Pe,t.drawPoints=Rne,t.arcToCurves=DM})(dr||(dr={}));class Bn{constructor(e,n,r){if(!e)throw new TypeError("Invalid element to create vector");let i;if(Bn.isVector(e))i=e.node;else if(typeof e=="string")if(e.toLowerCase()==="svg")i=kM();else if(e[0]==="<"){const o=kM(e);i=document.importNode(o.firstChild,!0)}else i=document.createElementNS(zs.svg,e);else i=e;this.node=i,n&&this.setAttributes(n),r&&this.append(r)}get[Symbol.toStringTag](){return Bn.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}transform(e,n){return e==null?I1(this.node):(I1(this.node,e,n),this)}translate(e,n=0,r={}){return e==null?zj(this.node):(zj(this.node,e,n,r),this)}rotate(e,n,r,i={}){return e==null?q6(this.node):(q6(this.node,e,n,r,i),this)}scale(e,n){return e==null?ov(this.node):(ov(this.node,e,n),this)}getTransformToElement(e){const n=Bn.toNode(e);return C2(this.node,n)}removeAttribute(e){return Mne(this.node,e),this}getAttribute(e){return pPe(this.node,e)}setAttribute(e,n){return H5(this.node,e,n),this}setAttributes(e){return Ane(this.node,e),this}attr(e,n){return e==null?to(this.node):typeof e=="string"&&n===void 0?to(this.node,e):(typeof e=="object"?to(this.node,e):to(this.node,e,n),this)}svg(){return this.node instanceof SVGSVGElement?this:Bn.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,n=e.node.getElementsByTagName("defs")[0];return n?Bn.create(n):Bn.create("defs").appendTo(e)}text(e,n={}){return $ne(this.node,e,n),this}tagName(){return cPe(this.node)}clone(){return Bn.create(this.node.cloneNode(!0))}remove(){return dh(this.node),this}empty(){return V5(this.node),this}append(e){return WC(this.node,Bn.toNodes(e)),this}appendTo(e){return dPe(this.node,Bn.isVector(e)?e.node:e),this}prepend(e){return fPe(this.node,Bn.toNodes(e)),this}before(e){return U5(this.node,Bn.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(Bn.toNode(e),this.node),Bn.create(e)}first(){return this.node.firstChild?Bn.create(this.node.firstChild):null}last(){return this.node.lastChild?Bn.create(this.node.lastChild):null}get(e){const n=this.node.childNodes[e];return n?Bn.create(n):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(Bn.toNode(e))}find(e){const n=[],r=uPe(this.node,e);if(r)for(let i=0,o=r.length;i<o;i+=1)n.push(Bn.create(r[i]));return n}findOne(e){const n=F6(this.node,e);return n?Bn.create(n):null}findParentByClass(e,n){const r=One(this.node,e,n);return r?Bn.create(r):null}matches(e){const n=this.node;this.node.matches;const r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,e)}contains(e){return j5(this.node,Bn.isVector(e)?e.node:e)}wrap(e){const n=Bn.create(e),r=this.node.parentNode;return r!=null&&r.insertBefore(n.node,this.node),n.append(this)}parent(e){let n=this;if(n.node.parentNode==null)return null;if(n=Bn.create(n.node.parentNode),e==null)return n;do if(typeof e=="string"?n.matches(e):n instanceof e)return n;while(n=Bn.create(n.node.parentNode));return n}children(){const e=this.node.childNodes,n=[];for(let r=0;r<e.length;r+=1)e[r].nodeType===1&&n.push(Bn.create(e[r]));return n}eachChild(e,n){const r=this.children();for(let i=0,o=r.length;i<o;i+=1)e.call(r[i],r[i],i,r),n&&r[i].eachChild(e,n);return this}index(){return B5(this.node)}hasClass(e){return wE(this.node,e)}addClass(e){return eo(this.node,e),this}removeClass(e){return sf(this.node,e),this}toggleClass(e,n){return Tne(this.node,e,n),this}toLocalPoint(e,n){return XPe(this.node,e,n)}toGeometryShape(){return jne(this.node)}translateCenterToPoint(e){const r=this.getBBox({target:this.svg()}).getCenter();return this.translate(e.x-r.x,e.y-r.y),this}translateAndAutoOrient(e,n,r){return X6(this.node,e,n,r),this}animate(e){return KPe(this.node,e)}animateTransform(e){return ZPe(this.node,e)}animateAlongPath(e,n){return QPe(this.node,e,n)}normalizePath(){return this.tagName()==="path"&&this.attr("d",dr.normalize(this.attr("d"))),this}bbox(e,n){return qPe(this.node,e,n)}getBBox(e={}){return Xa(this.node,{recursive:e.recursive,target:e.target?Bn.toNode(e.target):null})}sample(e=1){return this.node instanceof SVGPathElement?APe(this.node,e):[]}toPath(){return Bn.create(LPe(this.node))}toPathData(){return Gne(this.node)}}(function(t){t.toStringTag=`X6.${t.name}`;function e(s){if(s==null)return!1;if(s instanceof t)return!0;const a=s[Symbol.toStringTag],l=s;return(a==null||a===t.toStringTag)&&l.node instanceof SVGElement&&typeof l.animate=="function"&&typeof l.sample=="function"&&typeof l.normalizePath=="function"&&typeof l.toPath=="function"}t.isVector=e;function n(s,a,l){return new t(s,a,l)}t.create=n;function r(s){if(s[0]==="<"){const a=kM(s),l=[];for(let c=0,u=a.childNodes.length;c<u;c+=1){const f=a.childNodes[c];l.push(n(document.importNode(f,!0)))}return l}return[n(s)]}t.createVectors=r;function i(s){return e(s)?s.node:s}t.toNode=i;function o(s){return Array.isArray(s)?s.map(a=>i(a)):[i(s)]}t.toNodes=o})(Bn||(Bn={}));function TPe(t,e){const n=Bn.create(e),r=Bn.create("textPath"),i=t.d;if(i&&t["xlink:href"]===void 0){const o=Bn.create("path").attr("d",i).appendTo(n.defs());r.attr("xlink:href",`#${o.id}`)}return typeof t=="object"&&r.attr(t),r.node}function PPe(t,e,n){const r=n.eol,i=n.baseSize,o=n.lineHeight;let s=0,a;const l={},c=e.length-1;for(let u=0;u<=c;u+=1){let f=e[u],d=null;if(typeof f=="object"){const h=f.attrs,p=Bn.create("tspan",h);a=p.node;let g=f.t;r&&u===c&&(g+=r),a.textContent=g;const m=h.class;m&&p.addClass(m),n.includeAnnotationIndices&&p.attr("annotations",f.annotations.join(",")),d=parseFloat(h["font-size"]),d===void 0&&(d=i),d&&d>s&&(s=d)}else r&&u===c&&(f+=r),a=document.createTextNode(f||" "),i&&i>s&&(s=i);t.appendChild(a)}return s&&(l.maxFontSize=s),o?l.lineHeight=o:s&&(l.lineHeight=s*1.2),l}const Ine=/em$/;function tP(t,e){const n=parseFloat(t);return Ine.test(t)?n*e:n}function OPe(t,e,n,r){if(!Array.isArray(e))return 0;const i=e.length;if(!i)return 0;let o=e[0];const s=tP(o.maxFontSize,n)||n;let a=0;const l=tP(r,n);for(let f=1;f<i;f+=1)o=e[f],a+=tP(o.lineHeight,n)||l;const c=tP(o.maxFontSize,n)||n;let u;switch(t){case"middle":u=s/2-.15*c-a/2;break;case"bottom":u=-(.25*c)-a;break;default:case"top":u=.8*s;break}return u}function $ne(t,e,n={}){e=vPe(e);const r=n.eol;let i=n.textPath;const o=n.textVerticalAnchor,s=o==="middle"||o==="bottom"||o==="top";let a=n.x;a===void 0&&(a=t.getAttribute("x")||0);const l=n.includeAnnotationIndices;let c=n.annotations;c&&!Array.isArray(c)&&(c=[c]);const u=n.lineHeight,f=u==="auto",d=f?"1.5em":u||"1em";V5(t),to(t,{"xml:space":"preserve",display:e||n.displayEmpty?null:"none"});const h=to(t,"font-size");let p=parseFloat(h);p||(p=16,(s||c)&&!h&&to(t,"font-size",`${p}`));let g;i?(typeof i=="string"&&(i={d:i}),g=TPe(i,t)):g=document.createDocumentFragment();let m,y=0,b;const C=e.split(`
`),E=[],_=C.length-1;for(let M=0;M<=_;M+=1){m=d;let k="v-line";const I=ec("tspan");let A,N=C[M];if(N)if(c){const $=gPe(N,c,{offset:-y,includeAnnotationIndices:l});A=PPe(I,$,{eol:M!==_&&r,baseSize:p,lineHeight:f?null:d,includeAnnotationIndices:l});const L=A.lineHeight;L&&f&&M!==0&&(m=L),M===0&&(b=A.maxFontSize*.8)}else r&&M!==_&&(N+=r),I.textContent=N;else{I.textContent="-",k+=" v-empty-line";const $=I.style;$.fillOpacity=0,$.strokeOpacity=0,c&&(A={})}A&&E.push(A),M>0&&I.setAttribute("dy",m),(M>0||i)&&I.setAttribute("x",a),I.className.baseVal=k,g.appendChild(I),y+=N.length+1}if(s)if(c)m=OPe(o,E,p,d);else if(o==="top")m="0.8em";else{let M;switch(_>0?(M=parseFloat(d)||1,M*=_,Ine.test(d)||(M/=p)):M=0,o){case"middle":m=`${.3-M/2}em`;break;case"bottom":m=`${-M-.3}em`;break}}else o===0?m="0em":o?m=o:(m=0,t.getAttribute("y")==null&&t.setAttribute("y",`${b||"0.8em"}`));g.firstChild.setAttribute("dy",m),t.appendChild(g)}function MPe(t,e,n,r){const i=[],o=[];if(e!=null){const s=t.split(e);if(i.push(...s),typeof e=="string")for(let a=0,l=s.length-1;a<l;a+=1)o.push(e);else{const a=t.match(new RegExp(e,"g"));for(let l=0,c=s.length-1;l<c;l+=1)o.push(a?a[l]:"")}}else{let s="";for(let a=0,l=t.length;a<l;a+=1){const c=t[a];c===" "?(i.push(s),o.push(" "),s=""):c.match(/[^\x00-\xff]/)?(s.length&&(i.push(s),o.push("")),i.push(c),o.push(""),s=""):s+=c}s.length&&i.push(s)}for(let s=0;s<i.length;s+=1){const a=i[s];if(a.indexOf(n)>=0&&a.length>1){const l=a.split(n);for(let f=0,d=l.length-1;f<d;f+=1)l.splice(2*f+1,0,n);const c=l.filter(f=>f!=="");i.splice(s,1,...c);const u=c.map(()=>"");u.pop(),o.splice(s,0,...u)}}for(let s=0;s<i.length;s+=1){const a=i[s],l=a.search(r);l>0&&l<a.length-1&&(i.splice(s,1,a.substring(0,l+1),a.substring(l+1)),o.splice(s,0,""))}return{words:i,separators:o}}function Lne(t,e,n={},r={}){const i=e.width,o=e.height,s=r.svgDocument||ec("svg"),a=ec("text"),l=ec("tspan"),c=document.createTextNode("");to(a,n),a.appendChild(l),a.style.opacity="0",a.style.display="block",l.style.display="block",l.appendChild(c),s.appendChild(a);const u=s.parentNode==null;u&&document.body.appendChild(s);const f=r.eol||`
`,d=r.separator||" ",h=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,p=r.breakWord!==!1,g=[],m={};let y=[],b,C,E;const{words:_,separators:w}=MPe(t,r.separator,f,h);for(let M=0,k=0,I=_.length;M<I;M+=1){const A=_[M];if(!!A){if(A===f){g[k]=!0,k+=1,y[k]="";continue}if(y[k]!=null?(E=w[M-1]||"",c.data=`${y[k]}${E}${A}`):c.data=A,l.getComputedTextLength()<=i)y[k]=c.data,m[k]=w[M],b&&(g[k]=!0,k+=1,b=0);else{if(p){if(!y[k]||b){const N=!!b,$=A.length===1;if(b=A.length-1,N||$){if($){if(!y[k]){y=[];break}_.splice(M,2,A+_[M+1]),w.splice(M+1,1),g[k]=!0,k+=1,I-=1,M-=1;continue}_[M]=A.substring(0,b),_[M+1]=A.substring(b)+_[M+1]}else _.splice(M,1,A.substring(0,b),A.substring(b)),w.splice(M,0,""),I+=1,k&&!g[k-1]&&(k-=1);M-=1;continue}}else if(!y[k]){y[k]=A,g[k]=!0,k+=1;continue}k+=1,M-=1}if(o!=null){if(C==null){let N;n.lineHeight==="auto"?N={value:1.5,unit:"em"}:N=oPe(n.lineHeight,["em"])||{value:1,unit:"em"},C=N.value,N.unit==="em"&&(Zs.IS_FIREFOX?C*=l.getBBox().height:C*=a.getBBox().height)}if(C*y.length>o){const N=Math.floor(o/C)-1,$=y[N],L=y[N+1];if(y.splice(N+1),$==null)break;let B=r.ellipsis;if(!B)break;typeof B!="string"&&(B="\u2026");let j=$;L&&p&&(j+=E+L);let H=j.length,te,Y;do{if(Y=j[H],te=j.substring(0,H),Y?Y.match(d)&&(te+=Y):te+=m[N],te+=B,c.data=te,l.getComputedTextLength()<=i){y[N]=te;break}H-=1}while(H>=0);break}}}}return dh(u?s:a),y.join(f)}const W6=.551784;function cl(t,e,n=NaN){const r=t.getAttribute(e);if(r==null)return n;const i=parseFloat(r);return Number.isNaN(i)?n:i}function APe(t,e=1){const n=t.getTotalLength(),r=[];let i=0,o;for(;i<n;)o=t.getPointAtLength(i),r.push({distance:i,x:o.x,y:o.y}),i+=e;return r}function kPe(t){return["M",cl(t,"x1"),cl(t,"y1"),"L",cl(t,"x2"),cl(t,"y2")].join(" ")}function DPe(t){const e=NM(t);return e.length===0?null:`${Fne(e)} Z`}function NPe(t){const e=NM(t);return e.length===0?null:Fne(e)}function Fne(t){return`M ${t.map(n=>`${n.x} ${n.y}`).join(" L")}`}function NM(t){const e=[],n=t.points;if(n)for(let r=0,i=n.numberOfItems;r<i;r+=1)e.push(n.getItem(r));return e}function RPe(t){const e=cl(t,"cx",0),n=cl(t,"cy",0),r=cl(t,"r"),i=r*W6;return["M",e,n-r,"C",e+i,n-r,e+r,n-i,e+r,n,"C",e+r,n+i,e+i,n+r,e,n+r,"C",e-i,n+r,e-r,n+i,e-r,n,"C",e-r,n-i,e-i,n-r,e,n-r,"Z"].join(" ")}function IPe(t){const e=cl(t,"cx",0),n=cl(t,"cy",0),r=cl(t,"rx"),i=cl(t,"ry")||r,o=r*W6,s=i*W6;return["M",e,n-i,"C",e+o,n-i,e+r,n-s,e+r,n,"C",e+r,n+s,e+o,n+i,e,n+i,"C",e-o,n+i,e-r,n+s,e-r,n,"C",e-r,n-s,e-o,n-i,e,n-i,"Z"].join(" ")}function $Pe(t){return zne({x:cl(t,"x",0),y:cl(t,"y",0),width:cl(t,"width",0),height:cl(t,"height",0),rx:cl(t,"rx",0),ry:cl(t,"ry",0)})}function zne(t){let e;const n=t.x,r=t.y,i=t.width,o=t.height,s=Math.min(t.rx||t["top-rx"]||0,i/2),a=Math.min(t.rx||t["bottom-rx"]||0,i/2),l=Math.min(t.ry||t["top-ry"]||0,o/2),c=Math.min(t.ry||t["bottom-ry"]||0,o/2);return s||a||l||c?e=["M",n,r+l,"v",o-l-c,"a",a,c,0,0,0,a,c,"h",i-2*a,"a",a,c,0,0,0,a,-c,"v",-(o-c-l),"a",s,l,0,0,0,-s,-l,"h",-(i-2*s),"a",s,l,0,0,0,-s,l,"Z"]:e=["M",n,r,"H",n+i,"V",r+o,"H",n,"V",r,"Z"],e.join(" ")}function LPe(t){const e=ec("path");to(e,to(t));const n=Gne(t);return n&&e.setAttribute("d",n),e}function Gne(t){const e=t.tagName.toLowerCase();switch(e){case"path":return t.getAttribute("d");case"line":return kPe(t);case"polygon":return DPe(t);case"polyline":return NPe(t);case"ellipse":return IPe(t);case"circle":return RPe(t);case"rect":return $Pe(t)}throw new Error(`"${e}" cannot be converted to svg path element.`)}function FPe(t,e,n,r){const i=2*Math.PI-1e-6,o=t,s=e;let a=n,l=r;if(l<a){const g=a;a=l,l=g}const c=l-a,u=c<Math.PI?"0":"1",f=Math.cos(a),d=Math.sin(a),h=Math.cos(l),p=Math.sin(l);return c>=i?o?`M0,${s}A${s},${s} 0 1,1 0,${-s}A${s},${s} 0 1,1 0,${s}M0,${o}A${o},${o} 0 1,0 0,${-o}A${o},${o} 0 1,0 0,${o}Z`:`M0,${s}A${s},${s} 0 1,1 0,${-s}A${s},${s} 0 1,1 0,${s}Z`:o?`M${s*f},${s*d}A${s},${s} 0 ${u},1 ${s*h},${s*p}L${o*h},${o*p}A${o},${o} 0 ${u},0 ${o*f},${o*d}Z`:`M${s*f},${s*d}A${s},${s} 0 ${u},1 ${s*h},${s*p}L0,0Z`}const qC=ec("svg"),zPe=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,Bne=/[ ,]+/,GPe=/^(\w+)\((.*)\)/;function BPe(t,e){const n=qC.createSVGPoint();return n.x=t,n.y=e,n}function Ka(t){const e=qC.createSVGMatrix();if(t!=null){const n=t,r=e;for(const i in n)r[i]=n[i]}return e}function xw(t){return t!=null?(t instanceof DOMMatrix||(t=Ka(t)),qC.createSVGTransformFromMatrix(t)):qC.createSVGTransform()}function RM(t){let e=Ka();const n=t!=null&&t.match(zPe);if(!n)return e;for(let r=0,i=n.length;r<i;r+=1){const s=n[r].match(GPe);if(s){let a,l,c,u,f,d=Ka();const h=s[2].split(Bne);switch(s[1].toLowerCase()){case"scale":a=parseFloat(h[0]),l=h[1]===void 0?a:parseFloat(h[1]),d=d.scaleNonUniform(a,l);break;case"translate":c=parseFloat(h[0]),u=parseFloat(h[1]),d=d.translate(c,u);break;case"rotate":f=parseFloat(h[0]),c=parseFloat(h[1])||0,u=parseFloat(h[2])||0,c!==0||u!==0?d=d.translate(c,u).rotate(f).translate(-c,-u):d=d.rotate(f);break;case"skewx":f=parseFloat(h[0]),d=d.skewX(f);break;case"skewy":f=parseFloat(h[0]),d=d.skewY(f);break;case"matrix":d.a=parseFloat(h[0]),d.b=parseFloat(h[1]),d.c=parseFloat(h[2]),d.d=parseFloat(h[3]),d.e=parseFloat(h[4]),d.f=parseFloat(h[5]);break;default:continue}e=e.multiply(d)}}return e}function Z0(t){const e=t||{},n=e.a!=null?e.a:1,r=e.b!=null?e.b:0,i=e.c!=null?e.c:0,o=e.d!=null?e.d:1,s=e.e!=null?e.e:0,a=e.f!=null?e.f:0;return`matrix(${n},${r},${i},${o},${s},${a})`}function $k(t){let e,n,r;if(t){const o=Bne;if(t.trim().indexOf("matrix")>=0){const s=RM(t),a=jPe(s);e=[a.translateX,a.translateY],n=[a.rotation],r=[a.scaleX,a.scaleY];const l=[];(e[0]!==0||e[1]!==0)&&l.push(`translate(${e.join(",")})`),(r[0]!==1||r[1]!==1)&&l.push(`scale(${r.join(",")})`),n[0]!==0&&l.push(`rotate(${n[0]})`),t=l.join(" ")}else{const s=t.match(/translate\((.*?)\)/);s&&(e=s[1].split(o));const a=t.match(/rotate\((.*?)\)/);a&&(n=a[1].split(o));const l=t.match(/scale\((.*?)\)/);l&&(r=l[1].split(o))}}const i=r&&r[0]?parseFloat(r[0]):1;return{raw:t||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:i,sy:r&&r[1]?parseFloat(r[1]):i}}}function Y6(t,e){const n=e.x*t.a+e.y*t.c+0,r=e.x*t.b+e.y*t.d+0;return{x:n,y:r}}function jPe(t){const e=Y6(t,{x:0,y:1}),n=Y6(t,{x:1,y:0}),r=180/Math.PI*Math.atan2(e.y,e.x)-90,i=180/Math.PI*Math.atan2(n.y,n.x);return{skewX:r,skewY:i,translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),rotation:r}}function VPe(t){let e,n,r,i;return t?(e=t.a==null?1:t.a,i=t.d==null?1:t.d,n=t.b,r=t.c):e=i=1,{sx:n?Math.sqrt(e*e+n*n):e,sy:r?Math.sqrt(r*r+i*i):i}}function UPe(t){let e={x:0,y:1};return t&&(e=Y6(t,e)),{angle:pi.normalize(pi.toDeg(Math.atan2(e.y,e.x))-90)}}function HPe(t){return{tx:t&&t.e||0,ty:t&&t.f||0}}function bp(t,e){const n=BPe(t.x,t.y).matrixTransform(e);return new Ce(n.x,n.y)}function WPe(t,e){return new Xn(bp(t.start,e),bp(t.end,e))}function su(t,e){const n=qC.createSVGPoint();n.x=t.x,n.y=t.y;const r=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y;const i=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y+t.height;const o=n.matrixTransform(e);n.x=t.x,n.y=t.y+t.height;const s=n.matrixTransform(e),a=Math.min(r.x,i.x,o.x,s.x),l=Math.max(r.x,i.x,o.x,s.x),c=Math.min(r.y,i.y,o.y,s.y),u=Math.max(r.y,i.y,o.y,s.y);return new mn(a,c,l-a,u-c)}var YPe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qPe(t,e,n){let r;const i=t.ownerSVGElement;if(!i)return new mn(0,0,0,0);try{r=t.getBBox()}catch{r={x:t.clientLeft,y:t.clientTop,width:t.clientWidth,height:t.clientHeight}}if(e)return mn.create(r);const o=C2(t,n||i);return su(r,o)}function Xa(t,e={}){let n;if(!t.ownerSVGElement||!UC(t)){if(z6(t)){const{left:s,top:a,width:l,height:c}=JPe(t);return new mn(s,a,l,c)}return new mn(0,0,0,0)}let i=e.target;if(!e.recursive){try{n=t.getBBox()}catch{n={x:t.clientLeft,y:t.clientTop,width:t.clientWidth,height:t.clientHeight}}if(!i)return mn.create(n);const s=C2(t,i);return su(n,s)}{const s=t.childNodes,a=s.length;if(a===0)return Xa(t,{target:i});i||(i=t);for(let l=0;l<a;l+=1){const c=s[l];let u;c.childNodes.length===0?u=Xa(c,{target:i}):u=Xa(c,{target:i,recursive:!0}),n?n=n.union(u):n=u}return n}}function C2(t,e){if(UC(e)&&UC(t)){const n=e.getScreenCTM(),r=t.getScreenCTM();if(n&&r)return n.inverse().multiply(r)}return Ka()}function XPe(t,e,n){const r=t instanceof SVGSVGElement?t:t.ownerSVGElement,i=r.createSVGPoint();i.x=e,i.y=n;try{const o=r.getScreenCTM(),s=i.matrixTransform(o.inverse()),a=C2(t,r).inverse();return s.matrixTransform(a)}catch{return i}}function jne(t){const e=n=>{const r=t.getAttribute(n),i=r?parseFloat(r):0;return Number.isNaN(i)?0:i};switch(t instanceof SVGElement&&t.nodeName.toLowerCase()){case"rect":return new mn(e("x"),e("y"),e("width"),e("height"));case"circle":return new lf(e("cx"),e("cy"),e("r"),e("r"));case"ellipse":return new lf(e("cx"),e("cy"),e("rx"),e("ry"));case"polyline":{const n=NM(t);return new xa(n)}case"polygon":{const n=NM(t);return n.length>1&&n.push(n[0]),new xa(n)}case"path":{let n=t.getAttribute("d");return dr.isValid(n)||(n=dr.normalize(n)),dr.parse(n)}case"line":return new Xn(e("x1"),e("y1"),e("x2"),e("y2"))}return Xa(t)}function KPe(t,e){return Vne(t,e,"animate")}function ZPe(t,e){return Vne(t,e,"animateTransform")}function Vne(t,e,n){const r=ec(n);t.appendChild(r);try{return Une(r,e)}catch{}return()=>{}}function Une(t,e){const{start:n,complete:r,repeat:i}=e,o=YPe(e,["start","complete","repeat"]);to(t,o),n&&t.addEventListener("beginEvent",n),r&&t.addEventListener("endEvent",r),i&&t.addEventListener("repeatEvent",i);const s=t;return s.beginElement(),()=>s.endElement()}function QPe(t,e,n){const r=Rk(n),i=ec("animateMotion"),o=ec("mpath");to(o,{"xlink:href":`#${r}`}),i.appendChild(o),t.appendChild(i);try{return Une(i,e)}catch{if(document.documentElement.getAttribute("smiling")==="fake"){const a=i;a.animators=[];const l=window,c=a.getAttribute("id");c&&(l.id2anim[c]=a);const u=l.getTargets(a);for(let f=0,d=u.length;f<d;f+=1){const h=u[f],p=new l.Animator(a,h,f);l.animators.push(p),a.animators[f]=p,p.register()}}}return()=>{}}function JPe(t){let e=0,n=0,r=0,i=0;if(t){let o=t;for(;o;)e+=o.offsetLeft,n+=o.offsetTop,o=o.offsetParent,o&&(e+=parseInt(Ij(o,"borderLeft"),10),n+=parseInt(Ij(o,"borderTop"),10));r=t.offsetWidth,i=t.offsetHeight}return{left:e,top:n,width:r,height:i}}function I1(t,e,n={}){if(e==null)return RM(to(t,"transform"));if(n.absolute){t.setAttribute("transform",Z0(e));return}const r=t.transform,i=xw(e);r.baseVal.appendItem(i)}function zj(t,e,n=0,r={}){let i=to(t,"transform");const o=$k(i);if(e==null)return o.translation;i=o.raw,i=i.replace(/translate\([^)]*\)/g,"").trim();const s=r.absolute?e:o.translation.tx+e,a=r.absolute?n:o.translation.ty+n,l=`translate(${s},${a})`;t.setAttribute("transform",`${l} ${i}`.trim())}function q6(t,e,n,r,i={}){let o=to(t,"transform");const s=$k(o);if(e==null)return s.rotation;o=s.raw,o=o.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;const a=i.absolute?e:s.rotation.angle+e,l=n!=null&&r!=null?`,${n},${r}`:"",c=`rotate(${a}${l})`;t.setAttribute("transform",`${o} ${c}`.trim())}function ov(t,e,n){let r=to(t,"transform");const i=$k(r);if(e==null)return i.scale;n=n==null?e:n,r=i.raw,r=r.replace(/scale\([^)]*\)/g,"").trim();const o=`scale(${e},${n})`;t.setAttribute("transform",`${r} ${o}`.trim())}function X6(t,e,n,r){const i=Ce.create(e),o=Ce.create(n);r||(r=t instanceof SVGSVGElement?t:t.ownerSVGElement);const s=ov(t);t.setAttribute("transform","");const a=Xa(t,{target:r}).scale(s.sx,s.sy),l=xw();l.setTranslate(-a.x-a.width/2,-a.y-a.height/2);const c=xw(),u=i.angleBetween(o,i.clone().translate(1,0));u&&c.setRotate(u,0,0);const f=xw(),d=i.clone().move(o,a.width/2);f.setTranslate(2*i.x-d.x,2*i.y-d.y);const h=C2(t,r),p=xw();p.setMatrix(f.matrix.multiply(c.matrix.multiply(l.matrix.multiply(h.scale(s.sx,s.sy))))),t.setAttribute("transform",Z0(p.matrix))}class Hne{constructor(e,n,r){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=Zs.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=n,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){Zs.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):Is(this.target).on("mousewheel",this.onWheel)}disable(){Zs.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):Is(this.target).off("mousewheel")}onWheel(e){if(this.onWheelGuard!=null&&!this.onWheelGuard(e))return;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault();let n;(this.deltaX!==0||this.deltaY!==0)&&(e.stopPropagation(),n=!0),n===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}Bn.isVector;Bn.create;Bn.createVectors;function Wne(t,e=60){let n=null;return(...r)=>{n&&clearTimeout(n),n=window.setTimeout(()=>{t.apply(this,r)},e)}}function eOe(t){let e=null,n=[];const r=()=>{if(getComputedStyle(t).position==="static"){const c=t.style;c.position="relative"}const l=document.createElement("object");return l.onload=()=>{l.contentDocument.defaultView.addEventListener("resize",i),i()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("tabindex","-1"),l.type="text/html",t.appendChild(l),l.data="about:blank",l},i=Wne(()=>{n.forEach(l=>l(t))}),o=l=>{e||(e=r()),n.indexOf(l)===-1&&n.push(l)},s=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=null,n=[])};return{element:t,bind:o,destroy:s,unbind:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),n.length===0&&e&&s()}}}function tOe(t){let e=null,n=[];const r=Wne(()=>{n.forEach(l=>{l(t)})}),i=()=>{const l=new ResizeObserver(r);return l.observe(t),r(),l},o=l=>{e||(e=i()),n.indexOf(l)===-1&&n.push(l)},s=()=>{e&&(e.disconnect(),n=[],e=null)};return{element:t,bind:o,destroy:s,unbind:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),n.length===0&&e&&s()}}}const nOe=typeof ResizeObserver<"u"?tOe:eOe;var IM;(function(t){const e=new WeakMap;function n(i){let o=e.get(i);return o||(o=nOe(i),e.set(i,o),o)}function r(i){i.destroy(),e.delete(i.element)}t.bind=(i,o)=>{const s=n(i);return s.bind(o),()=>s.unbind(o)},t.clear=i=>{const o=n(i);r(o)}})(IM||(IM={}));var XC;(function(t){const e=[],n=16.666666666666668,r=[];let i=0;const o=()=>performance.now(),s=u=>u[0],a=u=>r.push(u)===1&&l(),l=(()=>{const u=()=>r.splice(0,r.length).forEach(f=>f());if(typeof MessageChannel<"u"){const{port1:f,port2:d}=new MessageChannel;return f.onmessage=u,()=>d.postMessage(null)}return()=>setTimeout(u)})(),c=()=>{i=o()+n;let u=s(e);for(;u&&!t.shouldYield();){const{callback:f,data:d}=u;u.callback=null;const h=f&&f(d);h?u.callback=h:e.shift(),u=s(e)}u&&a(c)};t.scheduleTask=(u,f)=>{const d={callback:u,data:f};e.push(d),a(c)},t.shouldYield=()=>{var u,f;return((f=(u=navigator)===null||u===void 0?void 0:u.scheduling)===null||f===void 0?void 0:f.isInputPending())||o()>=i}})(XC||(XC={}));class Vs{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,n,r=!1){if(typeof e=="object"){Object.keys(e).forEach(s=>{this.register(s,e[s],n)});return}this.exist(e)&&!r&&!Zs.isApplyingHMR()&&this.onDuplicated(e);const i=this.options.process,o=i?$n(i,this,e,n):n;return this.data[e]=o,o}unregister(e){const n=e?this.data[e]:null;return delete this.data[e],n}get(e){return e?this.data[e]:null}exist(e){return e?this.data[e]!=null:!1}onDuplicated(e){try{throw this.options.onConflict&&$n(this.options.onConflict,this,e),new Error(`${OM(this.options.type)} with name '${e}' already registered.`)}catch(n){throw n}}onNotFound(e,n){throw new Error(this.getSpellingSuggestion(e,n))}getSpellingSuggestion(e,n){const r=this.getSpellingSuggestionForName(e),i=n?`${n} ${iTe(this.options.type)}`:this.options.type;return`${OM(i)} with name '${e}' does not exist.${r?` Did you mean '${r}'?`:""}`}getSpellingSuggestionForName(e){return rPe(e,Object.keys(this.data),n=>n)}}(function(t){function e(n){return new t(n)}t.create=e})(Vs||(Vs={}));const rOe={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},iOe={},Yne={position:Lk("x","width","origin")},qne={position:Lk("y","height","origin")},oOe={position:Lk("x","width","corner")},sOe={position:Lk("y","height","corner")},Xne={set:Nv("width","width")},Kne={set:Nv("height","height")},aOe={set:Nv("rx","width")},lOe={set:Nv("ry","height")},Zne={set:(t=>{const e=Nv(t,"width"),n=Nv(t,"height");return function(r,i){const o=i.refBBox,s=o.height>o.width?e:n;return $n(s,this,r,i)}})("r")},cOe={set(t,{refBBox:e}){let n=parseFloat(t);const r=id(t);r&&(n/=100);const i=Math.sqrt(e.height*e.height+e.width*e.width);let o;return Number.isFinite(n)&&(r||n>=0&&n<=1?o=n*i:o=Math.max(n+i,0)),{r:o}}},uOe={set:Nv("cx","width")},fOe={set:Nv("cy","height")},Qne={set:tre({resetOffset:!0})},dOe={set:tre({resetOffset:!1})},Jne={set:nre({resetOffset:!0})},hOe={set:nre({resetOffset:!1})},pOe=Zne,gOe=Qne,vOe=Jne,mOe=Yne,yOe=qne,bOe=Xne,xOe=Kne;function Lk(t,e,n){return(r,{refBBox:i})=>{if(r==null)return null;let o=parseFloat(r);const s=id(r);s&&(o/=100);let a;if(Number.isFinite(o)){const c=i[n];s||o>0&&o<1?a=c[t]+i[e]*o:a=c[t]+o}const l=new Ce;return l[t]=a||0,l}}function Nv(t,e){return function(n,{refBBox:r}){let i=parseFloat(n);const o=id(n);o&&(i/=100);const s={};if(Number.isFinite(i)){const a=o||i>=0&&i<=1?i*r[e]:Math.max(i+r[e],0);s[t]=a}return s}}function ere(t,e){const n="x6-shape",r=e&&e.resetOffset;return function(i,{view:o,elem:s,refBBox:a}){const l=o.$(s);let c=l.data(n);if(!c||c.value!==i){const y=t(i);c={value:i,shape:y,shapeBBox:y.bbox()},l.data(n,c)}const u=c.shape.clone(),f=c.shapeBBox.clone(),d=f.getOrigin(),h=a.getOrigin();f.x=h.x,f.y=h.y;const p=a.getMaxScaleToFit(f,h),g=f.width===0||a.width===0?1:p.sx,m=f.height===0||a.height===0?1:p.sy;return u.scale(g,m,d),r&&u.translate(-d.x,-d.y),u}}function tre(t){function e(r){return dr.parse(r)}const n=ere(e,t);return(r,i)=>({d:n(r,i).serialize()})}function nre(t){const e=ere(n=>new xa(n),t);return(n,r)=>({points:e(n,r).serialize()})}const wOe={qualify:gu,set(t,{view:e}){return`url(#${e.graph.defineGradient(t)})`}},COe={qualify:gu,set(t,{view:e}){const n=e.cell,r=Object.assign({},t);if(n.isEdge()&&r.type==="linearGradient"){const i=e,o=i.sourcePoint,s=i.targetPoint;r.id=`gradient-${r.type}-${n.id}`,r.attrs=Object.assign(Object.assign({},r.attrs),{x1:o.x,y1:o.y,x2:s.x,y2:s.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(r.id)}return`url(#${e.graph.defineGradient(r)})`}},rre={qualify(t,{attrs:e}){return e.textWrap==null||!gu(e.textWrap)},set(t,{view:e,elem:n,attrs:r}){const i="x6-text",o=e.$(n),s=o.data(i),a=f=>{try{return JSON.parse(f)}catch{return f}},l={x:r.x,eol:r.eol,annotations:a(r.annotations),textPath:a(r["text-path"]||r.textPath),textVerticalAnchor:r["text-vertical-anchor"]||r.textVerticalAnchor,displayEmpty:(r["display-empty"]||r.displayEmpty)==="true",lineHeight:r["line-height"]||r.lineHeight},c=r["font-size"]||r.fontSize,u=JSON.stringify([t,l]);if(c&&n.setAttribute("font-size",c),s==null||s!==u){const f=l.textPath;if(f!=null&&typeof f=="object"){const d=f.selector;if(typeof d=="string"){const h=e.find(d)[0];h instanceof SVGPathElement&&(Rk(h),l.textPath=Object.assign({"xlink:href":`#${h.id}`},f))}}$ne(n,`${t}`,l),o.data(i,u)}}},SOe={qualify:gu,set(t,{view:e,elem:n,attrs:r,refBBox:i}){const o=t,s=o.width||0;id(s)?i.width*=parseFloat(s)/100:s<=0?i.width+=s:i.width=s;const a=o.height||0;id(a)?i.height*=parseFloat(a)/100:a<=0?i.height+=a:i.height=a;let l,c=o.text;c==null&&(c=r.text),c!=null?l=Lne(`${c}`,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{svgDocument:e.graph.view.svg,ellipsis:o.ellipsis,hyphen:o.hyphen,breakWord:o.breakWord}):l="",$n(rre.set,this,l,{view:e,elem:n,attrs:r,refBBox:i,cell:e.cell})}},S2=(t,{attrs:e})=>e.text!==void 0,EOe={qualify:S2},_Oe={qualify:S2},TOe={qualify:S2},POe={qualify:S2},OOe={qualify:S2},MOe={qualify:S2},AOe={qualify(t,{elem:e}){return e instanceof SVGElement},set(t,{view:e,elem:n}){const r="x6-title",i=`${t}`,o=e.$(n),s=o.data(r);if(s==null||s!==i){o.data(r,i);const a=n.firstChild;if(a&&a.tagName.toUpperCase()==="TITLE"){const l=a;l.textContent=i}else{const l=document.createElementNS(n.namespaceURI,"title");l.textContent=i,n.insertBefore(l,a)}}}},kOe={offset:ire("x","width","right")},DOe={offset:ire("y","height","bottom")},NOe={offset(t,{refBBox:e}){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}};function ire(t,e,n){return(r,{refBBox:i})=>{const o=new Ce;let s;return r==="middle"?s=i[e]/2:r===n?s=i[e]:typeof r=="number"&&Number.isFinite(r)?s=r>-1&&r<1?-i[e]*r:-r:id(r)?s=i[e]*parseFloat(r)/100:s=0,o[t]=-(i[t]+s),o}}const ROe={qualify:gu,set(t,{view:e,elem:n}){e.$(n).css(t)}},IOe={set(t,{view:e,elem:n}){e.$(n).html(`${t}`)}},$Oe={qualify:gu,set(t,{view:e}){return`url(#${e.graph.defineFilter(t)})`}},LOe={set(t){return t!=null&&typeof t=="object"&&t.id?t.id:t}};function em(t,e,n){let r,i;typeof e=="object"?(r=e.x,i=e.y):(r=e,i=n);const o=dr.parse(t),s=o.bbox();if(s){let a=-s.height/2-s.y,l=-s.width/2-s.x;typeof r=="number"&&(l-=r),typeof i=="number"&&(a-=i),o.translate(l,a)}return o.serialize()}var ore=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FOe=t=>{var{size:e,width:n,height:r,offset:i,open:o}=t,s=ore(t,["size","width","height","offset","open"]);return sre({size:e,width:n,height:r,offset:i},o===!0,!0,void 0,s)},zOe=t=>{var{size:e,width:n,height:r,offset:i,factor:o}=t,s=ore(t,["size","width","height","offset","factor"]);return sre({size:e,width:n,height:r,offset:i},!1,!1,o,s)};function sre(t,e,n,r=3/4,i={}){const o=t.size||10,s=t.width||o,a=t.height||o,l=new dr,c={};if(e)l.moveTo(s,0).lineTo(0,a/2).lineTo(s,a),c.fill="none";else{if(l.moveTo(0,a/2),l.lineTo(s,0),!n){const u=Zl(r,0,1);l.lineTo(s*u,a/2)}l.lineTo(s,a),l.close()}return Object.assign(Object.assign(Object.assign({},c),i),{tagName:"path",d:em(l.serialize(),{x:t.offset!=null?t.offset:-s/2})})}var GOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const BOe=t=>{var{size:e,width:n,height:r,offset:i}=t,o=GOe(t,["size","width","height","offset"]);const s=e||10,a=n||s,l=r||s,c=new dr;return c.moveTo(0,l/2).lineTo(a/2,0).lineTo(a,l/2).lineTo(a/2,l).close(),Object.assign(Object.assign({},o),{tagName:"path",d:em(c.serialize(),i==null?-a/2:i)})};var jOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const VOe=t=>{var{d:e,offsetX:n,offsetY:r}=t,i=jOe(t,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},i),{tagName:"path",d:em(e,n,r)})};var UOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const HOe=t=>{var{size:e,width:n,height:r,offset:i}=t,o=UOe(t,["size","width","height","offset"]);const s=e||10,a=n||s,l=r||s,c=new dr;return c.moveTo(0,0).lineTo(a,l).moveTo(0,l).lineTo(a,0),Object.assign(Object.assign({},o),{tagName:"path",fill:"none",d:em(c.serialize(),i||-a/2)})};var WOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const YOe=t=>{var{width:e,height:n,offset:r,open:i,flip:o}=t,s=WOe(t,["width","height","offset","open","flip"]);let a=n||6;const l=e||10,c=i===!0,u=o===!0,f=Object.assign(Object.assign({},s),{tagName:"path"});u&&(a=-a);const d=new dr;return d.moveTo(0,a).lineTo(l,0),c?f.fill="none":(d.lineTo(l,a),d.close()),f.d=em(d.serialize(),{x:r||-l/2,y:a/2}),f};var are=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lre=t=>{var{r:e}=t,n=are(t,["r"]);const r=e||5;return Object.assign(Object.assign({cx:r},n),{tagName:"circle",r})},qOe=t=>{var{r:e}=t,n=are(t,["r"]);const r=e||5,i=new dr;return i.moveTo(r,0).lineTo(r,r*2),i.moveTo(0,r).lineTo(r*2,r),{children:[Object.assign(Object.assign({},lre({r})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:em(i.serialize(),-r)})]}};var XOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const KOe=t=>{var{rx:e,ry:n}=t,r=XOe(t,["rx","ry"]);const i=e||5,o=n||5;return Object.assign(Object.assign({cx:i},r),{tagName:"ellipse",rx:i,ry:o})},ZOe=Object.freeze(Object.defineProperty({__proto__:null,block:FOe,classic:zOe,diamond:BOe,path:VOe,cross:HOe,async:YOe,circle:lre,circlePlus:qOe,ellipse:KOe},Symbol.toStringTag,{value:"Module"}));var Rv;(function(t){t.presets=ZOe,t.registry=Vs.create({type:"marker"}),t.registry.register(t.presets,!0)})(Rv||(Rv={}));(function(t){t.normalize=em})(Rv||(Rv={}));var QOe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function W5(t){return typeof t=="string"||gu(t)}const JOe={qualify:W5,set(t,{view:e,attrs:n}){return Y5("marker-start",t,e,n)}},eMe={qualify:W5,set(t,{view:e,attrs:n}){return Y5("marker-end",t,e,n,{transform:"rotate(180)"})}},tMe={qualify:W5,set(t,{view:e,attrs:n}){return Y5("marker-mid",t,e,n)}};function Y5(t,e,n,r,i={}){const o=typeof e=="string"?{name:e}:e,{name:s,args:a}=o,l=QOe(o,["name","args"]);let c=l;if(s&&typeof s=="string"){const f=Rv.registry.get(s);if(f)c=f(Object.assign(Object.assign({},l),a));else return Rv.registry.onNotFound(s)}const u=Object.assign(Object.assign(Object.assign({},nMe(r,t)),i),c);return{[t]:`url(#${n.graph.defineMarker(u)})`}}function nMe(t,e){const n={},r=t.stroke;typeof r=="string"&&(n.stroke=r,n.fill=r);let i=t.strokeOpacity;if(i==null&&(i=t["stroke-opacity"]),i==null&&(i=t.opacity),i!=null&&(n["stroke-opacity"]=i,n["fill-opacity"]=i),e!=="marker-mid"){const o=parseFloat(t.strokeWidth||t["stroke-width"]);if(Number.isFinite(o)&&o>1){const s=Math.ceil(o/2);n.refX=e==="marker-start"?s:-s}}return n}const CE=(t,{view:e})=>e.cell.isEdge(),rMe={qualify:CE,set(t,e){const n=e.view,r=t.stubs||0;let i;if(Number.isFinite(r)&&r!==0){let o;r<0?o=((n.getConnectionLength()||0)+r)/2:o=r;const s=n.getConnection();if(s){const a=s.divideAtLength(o),l=s.divideAtLength(-o);a&&l&&(i=`${a[0].serialize()} ${l[1].serialize()}`)}}return{d:i||n.getConnectionPathData()}}},cre={qualify:CE,set:Fk("getTangentAtLength",{rotate:!0})},iMe={qualify:CE,set:Fk("getTangentAtLength",{rotate:!1})},ure={qualify:CE,set:Fk("getTangentAtRatio",{rotate:!0})},oMe={qualify:CE,set:Fk("getTangentAtRatio",{rotate:!1})},sMe=cre,aMe=ure;function Fk(t,e){const n={x:1,y:0};return(r,i)=>{let o,s;const a=i.view,l=a[t](Number(r));return l?(s=e.rotate?l.vector().vectorAngle(n):0,o=l.start):(o=a.path.start,s=0),s===0?{transform:`translate(${o.x},${o.y}')`}:{transform:`translate(${o.x},${o.y}') rotate(${s})`}}}const lMe=Object.freeze(Object.defineProperty({__proto__:null,ref:iOe,refX:Yne,refY:qne,refDx:oOe,refDy:sOe,refWidth:Xne,refHeight:Kne,refRx:aOe,refRy:lOe,refRInscribed:Zne,refRCircumscribed:cOe,refCx:uOe,refCy:fOe,refDResetOffset:Qne,refDKeepOffset:dOe,refPointsResetOffset:Jne,refPointsKeepOffset:hOe,refR:pOe,refD:gOe,refPoints:vOe,refX2:mOe,refY2:yOe,refWidth2:bOe,refHeight2:xOe,fill:wOe,stroke:COe,text:rre,textWrap:SOe,lineHeight:EOe,textVerticalAnchor:_Oe,textPath:TOe,annotations:POe,eol:OOe,displayEmpty:MOe,title:AOe,xAlign:kOe,yAlign:DOe,resetOffset:NOe,style:ROe,html:IOe,filter:$Oe,port:LOe,sourceMarker:JOe,targetMarker:eMe,vertexMarker:tMe,connection:rMe,atConnectionLengthKeepGradient:cre,atConnectionLengthIgnoreGradient:iMe,atConnectionRatioKeepGradient:ure,atConnectionRatioIgnoreGradient:oMe,atConnectionLength:sMe,atConnectionRatio:aMe},Symbol.toStringTag,{value:"Module"}));var hh;(function(t){function e(n,r,i){return!!(n!=null&&(typeof n=="string"||typeof n.qualify!="function"||$n(n.qualify,this,r,i)))}t.isValidDefinition=e})(hh||(hh={}));(function(t){t.presets=Object.assign(Object.assign({},rOe),lMe),t.registry=Vs.create({type:"attribute definition"}),t.registry.register(t.presets,!0)})(hh||(hh={}));const cMe={color:"#aaaaaa",thickness:1,markup:"rect",update(t,e){const n=e.thickness*e.sx,r=e.thickness*e.sy;to(t,{width:n,height:r,rx:n,ry:r,fill:e.color})}},uMe={color:"#aaaaaa",thickness:1,markup:"rect",update(t,e){const n=e.sx<=1?e.thickness*e.sx:e.thickness;to(t,{width:n,height:n,rx:n,ry:n,fill:e.color})}},fMe={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(t,e){let n;const r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",to(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}},dMe=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(t,e){let n;const r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",to(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(t,e){let n;const r=e.factor||1,i=e.width*r,o=e.height*r,s=e.thickness;i-s>=0&&o-s>=0?n=["M",i,0,"H0 M0 0 V0",o].join(" "):n="M 0 0 0 0",e.width=i,e.height=o,to(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}}],hMe=Object.freeze(Object.defineProperty({__proto__:null,dot:cMe,fixedDot:uMe,mesh:fMe,doubleMesh:dMe},Symbol.toStringTag,{value:"Module"}));class sv{constructor(){this.patterns={},this.root=Bn.create(kM(),{width:"100%",height:"100%"},[ec("defs")]).node}add(e,n){const r=this.root.childNodes[0];r&&r.appendChild(n),this.patterns[e]=n,Bn.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return this.patterns[e]!=null}}(function(t){t.presets=hMe,t.registry=Vs.create({type:"grid"}),t.registry.register(t.presets,!0)})(sv||(sv={}));function q5(t,e){return t!=null?t:e}function Wa(t,e){return t!=null&&Number.isFinite(t)?t:e}function pMe(t={}){const e=q5(t.color,"blue"),n=Wa(t.width,1),r=Wa(t.margin,2),i=Wa(t.opacity,1),o=r,s=r+n;return`
    <filter>
      <feFlood flood-color="${e}" flood-opacity="${i}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${s}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${o}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function gMe(t={}){const e=q5(t.color,"red"),n=Wa(t.blur,0),r=Wa(t.width,1),i=Wa(t.opacity,1);return`
      <filter>
        <feFlood flood-color="${e}" flood-opacity="${i}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${r}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${n}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function vMe(t={}){const e=Wa(t.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${t.y!=null&&Number.isFinite(t.y)?[e,t.y]:e}"/>
    </filter>
  `.trim()}function mMe(t={}){const e=Wa(t.dx,0),n=Wa(t.dy,0),r=q5(t.color,"black"),i=Wa(t.blur,4),o=Wa(t.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${i}" dx="${e}" dy="${n}" flood-color="${r}" flood-opacity="${o}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${i}" />
         <feOffset dx="${e}" dy="${n}" result="offsetblur" />
         <feFlood flood-color="${r}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${o}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function yMe(t={}){const e=Wa(t.amount,1),n=.2126+.7874*(1-e),r=.7152-.7152*(1-e),i=.0722-.0722*(1-e),o=.2126-.2126*(1-e),s=.7152+.2848*(1-e),a=.0722-.0722*(1-e),l=.2126-.2126*(1-e),c=.0722+.9278*(1-e);return`
    <filter>
      <feColorMatrix type="matrix" values="${n} ${r} ${i} 0 0 ${o} ${s} ${a} 0 0 ${l} ${r} ${c} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function bMe(t={}){const e=Wa(t.amount,1),n=.393+.607*(1-e),r=.769-.769*(1-e),i=.189-.189*(1-e),o=.349-.349*(1-e),s=.686+.314*(1-e),a=.168-.168*(1-e),l=.272-.272*(1-e),c=.534-.534*(1-e),u=.131+.869*(1-e);return`
      <filter>
        <feColorMatrix type="matrix" values="${n} ${r} ${i} 0 0 ${o} ${s} ${a} 0 0 ${l} ${c} ${u} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function xMe(t={}){const e=Wa(t.amount,1);return`
      <filter>
        <feColorMatrix type="saturate" values="${1-e}"/>
      </filter>
    `.trim()}function wMe(t={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Wa(t.angle,0)}"/>
      </filter>
    `.trim()}function CMe(t={}){const e=Wa(t.amount,1),n=1-e;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${e} ${n}"/>
          <feFuncG type="table" tableValues="${e} ${n}"/>
          <feFuncB type="table" tableValues="${e} ${n}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function SMe(t={}){const e=Wa(t.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${e}"/>
        <feFuncG type="linear" slope="${e}"/>
        <feFuncB type="linear" slope="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function EMe(t={}){const e=Wa(t.amount,1),n=.5-e/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${e}" intercept="${n}"/>
        <feFuncG type="linear" slope="${e}" intercept="${n}"/>
        <feFuncB type="linear" slope="${e}" intercept="${n}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}const _Me=Object.freeze(Object.defineProperty({__proto__:null,outline:pMe,highlight:gMe,blur:vMe,dropShadow:mMe,grayScale:yMe,sepia:bMe,saturate:xMe,hueRotate:wMe,invert:CMe,brightness:SMe,contrast:EMe},Symbol.toStringTag,{value:"Module"}));var $1;(function(t){t.presets=_Me,t.registry=Vs.create({type:"filter"}),t.registry.register(t.presets,!0)})($1||($1={}));const fre=function(t){const e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;const i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(t,0,0,n,r),e},dre=function(t){const e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;const i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(t,0,0,n,r),e},hre=function(t){const e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;const i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,-1,e.width,e.height),i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,1,e.width,0),i.drawImage(t,0,0,n,r),i.setTransform(1,0,0,-1,0,e.height),i.drawImage(t,0,0,n,r),e},TMe=function(t,e){const n=t.width,r=t.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;const o=i.getContext("2d"),s=e.angle!=null?-e.angle:-20,a=pi.toRad(s),l=i.width/4,c=i.height/4;for(let u=0;u<4;u+=1)for(let f=0;f<4;f+=1)(u+f)%2>0&&(o.setTransform(1,0,0,1,(2*u-1)*l,(2*f-1)*c),o.rotate(a),o.drawImage(t,-n/2,-r/2,n,r));return i},PMe=Object.freeze(Object.defineProperty({__proto__:null,flipX:fre,flipY:dre,flipXY:hre,watermark:TMe},Symbol.toStringTag,{value:"Module"}));var KC;(function(t){t.presets=Object.assign({},PMe),t.presets["flip-x"]=fre,t.presets["flip-y"]=dre,t.presets["flip-xy"]=hre,t.registry=Vs.create({type:"background pattern"}),t.registry.register(t.presets,!0)})(KC||(KC={}));const ph={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(t){ph.trackable=t}};var Js;(function(t){t.snapToGrid=H6,t.normalizeMarker=em;function e(n){return`${ph.prefixCls}-${n}`}t.prefix=e})(Js||(Js={}));(function(t){function e(n,r,i,o=[]){const s=typeof r.children=="function"?r.children(n):n[r.children||"children"];return i||(i=r.createNode(n),o.push(i)),Array.isArray(s)&&s.forEach(a=>{const l=r.createNode(a),c=r.createEdge(i,l);o.push(l,c),this.makeTree(a,r,l,o)}),o}t.makeTree=e})(Js||(Js={}));const OMe="1.32.8",Gj=Js.prefix("highlighted"),MMe={highlight(t,e,n){const r=n&&n.className||Gj;eo(e,r)},unhighlight(t,e,n){const r=n&&n.className||Gj;sf(e,r)}},Bj=Js.prefix("highlight-opacity"),AMe={highlight(t,e){eo(e,Bj)},unhighlight(t,e){sf(e,Bj)}},kMe={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},DMe={highlight(t,e,n){const r=Wg.getHighlighterId(e,n);if(Wg.hasCache(r))return;n=dne({},n,kMe);const i=Bn.create(e);let o,s;try{o=i.toPathData()}catch{s=i.bbox(!0),o=zne(Object.assign(Object.assign({},n),s))}const a=ec("path");if(to(a,Object.assign({d:o,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?YC(n.attrs):null)),t.isEdgeElement(e))to(a,"d",t.getConnectionPathData());else{let u=i.getTransformToElement(t.container);const f=n.padding;if(f){s==null&&(s=i.bbox(!0));const d=s.x+s.width/2,h=s.y+s.height/2;s=su(s,u);const p=Math.max(s.width,1),g=Math.max(s.height,1),m=(p+f)/p,y=(g+f)/g,b=Ka({a:m,b:0,c:0,d:y,e:d-m*d,f:h-y*h});u=u.multiply(b)}I1(a,u)}eo(a,Js.prefix("highlight-stroke"));const l=t.cell,c=()=>Wg.removeHighlighter(r);l.on("removed",c),l.model&&l.model.on("reseted",c),t.container.appendChild(a),Wg.setCache(r,a)},unhighlight(t,e,n){Wg.removeHighlighter(Wg.getHighlighterId(e,n))}};var Wg;(function(t){function e(s,a){return Rk(s),s.id+JSON.stringify(a)}t.getHighlighterId=e;const n={};function r(s,a){n[s]=a}t.setCache=r;function i(s){return n[s]!=null}t.hasCache=i;function o(s){const a=n[s];a&&(dh(a),delete n[s])}t.removeHighlighter=o})(Wg||(Wg={}));const NMe=Object.freeze(Object.defineProperty({__proto__:null,className:MMe,opacity:AMe,stroke:DMe},Symbol.toStringTag,{value:"Module"}));var kp;(function(t){function e(n,r){if(typeof r.highlight!="function")throw new Error(`Highlighter '${n}' is missing required \`highlight()\` method`);if(typeof r.unhighlight!="function")throw new Error(`Highlighter '${n}' is missing required \`unhighlight()\` method`)}t.check=e})(kp||(kp={}));(function(t){t.presets=NMe,t.registry=Vs.create({type:"highlighter"}),t.registry.register(t.presets,!0)})(kp||(kp={}));function K6(t,e={}){return new Ce(fh(e.x,t.width),fh(e.y,t.height))}function X5(t,e,n){return Object.assign({angle:e,position:t.toJSON()},n)}const RMe=(t,e)=>t.map(({x:n,y:r,angle:i})=>X5(K6(e,{x:n,y:r}),i||0)),IMe=(t,e,n)=>{const r=n.start||0,i=n.step||20;return pre(t,e,r,(o,s)=>(o+.5-s/2)*i)},$Me=(t,e,n)=>{const r=n.start||0,i=n.step||360/t.length;return pre(t,e,r,o=>o*i)};function pre(t,e,n,r){const i=e.getCenter(),o=e.getTopCenter(),s=e.width/e.height,a=lf.fromRect(e),l=t.length;return t.map((c,u)=>{const f=n+r(u,l),d=o.clone().rotate(-f,i).scale(s,1,i),h=c.compensateRotate?-a.tangentTheta(d):0;return(c.dx||c.dy)&&d.translate(c.dx||0,c.dy||0),c.dr&&d.move(i,c.dr),X5(d.round(),h,c)})}var LMe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FMe=(t,e,n)=>{const r=K6(e,n.start||e.getOrigin()),i=K6(e,n.end||e.getCorner());return SE(t,r,i,n)},zMe=(t,e,n)=>SE(t,e.getTopLeft(),e.getBottomLeft(),n),GMe=(t,e,n)=>SE(t,e.getTopRight(),e.getBottomRight(),n),BMe=(t,e,n)=>SE(t,e.getTopLeft(),e.getTopRight(),n),jMe=(t,e,n)=>SE(t,e.getBottomLeft(),e.getBottomRight(),n);function SE(t,e,n,r){const i=new Xn(e,n),o=t.length;return t.map((s,a)=>{var{strict:l}=s,c=LMe(s,["strict"]);const u=l||r.strict?(a+1)/(o+1):(a+.5)/o,f=i.pointAt(u);return(c.dx||c.dy)&&f.translate(c.dx||0,c.dy||0),X5(f.round(),0,c)})}const VMe=Object.freeze(Object.defineProperty({__proto__:null,absolute:RMe,ellipse:IMe,ellipseSpread:$Me,line:FMe,left:zMe,right:GMe,top:BMe,bottom:jMe},Symbol.toStringTag,{value:"Module"}));var m0;(function(t){t.presets=VMe,t.registry=Vs.create({type:"port layout"}),t.registry.register(t.presets,!0)})(m0||(m0={}));const UMe={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function tm(t,e){const{x:n,y:r,angle:i,attrs:o}=e||{};return dne({},{angle:i,attrs:o,position:{x:n,y:r}},t,UMe)}const HMe=(t,e,n)=>tm({position:e.getTopLeft()},n),WMe=(t,e,n)=>tm({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n),YMe=(t,e,n)=>tm({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n),qMe=(t,e,n)=>tm({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n),XMe=(t,e,n)=>tm({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n),KMe=(t,e,n)=>gre(t,e,!1,n),ZMe=(t,e,n)=>gre(t,e,!0,n),QMe=(t,e,n)=>vre(t,e,!1,n),JMe=(t,e,n)=>vre(t,e,!0,n);function gre(t,e,n,r){const i=r.offset!=null?r.offset:15,o=e.getCenter().theta(t),s=mre(e);let a,l,c,u,f=0;return o<s[1]||o>s[2]?(a=".3em",l=i,c=0,u="start"):o<s[0]?(a="0",l=0,c=-i,n?(f=-90,u="start"):u="middle"):o<s[3]?(a=".3em",l=-i,c=0,u="end"):(a=".6em",l=0,c=i,n?(f=90,u="start"):u="middle"),tm({position:{x:Math.round(l),y:Math.round(c)},angle:f,attrs:{".":{y:a,"text-anchor":u}}},r)}function vre(t,e,n,r){const i=r.offset!=null?r.offset:15,o=e.getCenter().theta(t),s=mre(e);let a,l,c,u,f=0;return o<s[1]||o>s[2]?(a=".3em",l=-i,c=0,u="end"):o<s[0]?(a=".6em",l=0,c=i,n?(f=90,u="start"):u="middle"):o<s[3]?(a=".3em",l=i,c=0,u="start"):(a="0em",l=0,c=-i,n?(f=-90,u="start"):u="middle"),tm({position:{x:Math.round(l),y:Math.round(c)},angle:f,attrs:{".":{y:a,"text-anchor":u}}},r)}function mre(t){const e=t.getCenter(),n=e.theta(t.getTopLeft()),r=e.theta(t.getBottomLeft()),i=e.theta(t.getBottomRight()),o=e.theta(t.getTopRight());return[n,o,i,r]}const e3e=(t,e,n)=>yre(t.diff(e.getCenter()),!1,n),t3e=(t,e,n)=>yre(t.diff(e.getCenter()),!0,n);function yre(t,e,n){const r=n.offset!=null?n.offset:20,i=new Ce(0,0),o=-t.theta(i),s=t.clone().move(i,r).diff(t).round();let a=".3em",l,c=o;return(o+90)%180===0?(l=e?"end":"middle",!e&&o===-270&&(a="0em")):o>-270&&o<-90?(l="start",c=o-180):l="end",tm({position:s.round().toJSON(),angle:e?c:0,attrs:{".":{y:a,"text-anchor":l}}},n)}const n3e=Object.freeze(Object.defineProperty({__proto__:null,manual:HMe,left:WMe,right:YMe,top:qMe,bottom:XMe,outside:KMe,outsideOriented:ZMe,inside:QMe,insideOriented:JMe,radial:e3e,radialOriented:t3e},Symbol.toStringTag,{value:"Module"}));var L1;(function(t){t.presets=n3e,t.registry=Vs.create({type:"port label layout"}),t.registry.register(t.presets,!0)})(L1||(L1={}));class Sp{constructor(e,n,r,i){if(e==null)return this.set(255,255,255,1);if(typeof e=="number")return this.set(e,n,r,i);if(typeof e=="string")return Sp.fromString(e)||this;if(Array.isArray(e))return this.set(e);this.set(e.r,e.g,e.b,e.a==null?1:e.a)}blend(e,n,r){this.set(e.r+(n.r-e.r)*r,e.g+(n.g-e.g)*r,e.b+(n.b-e.b)*r,e.a+(n.a-e.a)*r)}lighten(e){const n=Sp.lighten(this.toArray(),e);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}darken(e){this.lighten(-e)}set(e,n,r,i){const o=Array.isArray(e)?e[0]:e,s=Array.isArray(e)?e[1]:n,a=Array.isArray(e)?e[2]:r,l=Array.isArray(e)?e[3]:i;return this.r=Math.round(Zl(o,0,255)),this.g=Math.round(Zl(s,0,255)),this.b=Math.round(Zl(a,0,255)),this.a=l==null?1:Zl(l,0,1),this}toHex(){return`#${["r","g","b"].map(n=>{const r=this[n].toString(16);return r.length<2?`0${r}`:r}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Sp.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const n=`${this.r},${this.g},${this.b},`;return e?`rgb(${n})`:`rgba(${n},${this.a})`}toGrey(){return Sp.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(t){function e(C){return new t(C)}t.fromArray=e;function n(C){return new t([...p(C),1])}t.fromHex=n;function r(C){const E=C.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(E){const _=E[1].split(/\s*,\s*/).map(w=>parseInt(w,10));return new t(_)}return null}t.fromRGBA=r;function i(C,E,_){_<0&&++_,_>1&&--_;const w=6*_;return w<1?C+(E-C)*w:2*_<1?E:3*_<2?C+(E-C)*(2/3-_)*6:C}function o(C){const E=C.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(E){const _=E[2].split(/\s*,\s*/),w=(parseFloat(_[0])%360+360)%360/360,M=parseFloat(_[1])/100,k=parseFloat(_[2])/100,I=_[3]==null?1:parseInt(_[3],10);return new t(c(w,M,k,I))}return null}t.fromHSLA=o;function s(C){if(C.startsWith("#"))return n(C);if(C.startsWith("rgb"))return r(C);const E=t.named[C];return E?n(E):o(C)}t.fromString=s;function a(C,E){return t.fromArray([C,C,C,E])}t.makeGrey=a;function l(C,E,_,w){const M=Array.isArray(C)?C[0]:C,k=Array.isArray(C)?C[1]:E,I=Array.isArray(C)?C[2]:_,A=Array.isArray(C)?C[3]:w,N=Math.max(M,k,I),$=Math.min(M,k,I),L=(N+$)/2;let B=0,j=0;if($!==N){const H=N-$;switch(j=L>.5?H/(2-N-$):H/(N+$),N){case M:B=(k-I)/H+(k<I?6:0);break;case k:B=(I-M)/H+2;break;case I:B=(M-k)/H+4;break}B/=6}return[B,j,L,A==null?1:A]}t.rgba2hsla=l;function c(C,E,_,w){const M=Array.isArray(C)?C[0]:C,k=Array.isArray(C)?C[1]:E,I=Array.isArray(C)?C[2]:_,A=Array.isArray(C)?C[3]:w,N=I<=.5?I*(k+1):I+k-I*k,$=2*I-N;return[i($,N,M+1/3)*256,i($,N,M)*256,i($,N,M-1/3)*256,A==null?1:A]}t.hsla2rgba=c;function u(C){return new t(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),C?void 0:parseFloat(Math.random().toFixed(2)))}t.random=u;function f(){const C="0123456789ABCDEF";let E="#";for(let _=0;_<6;_+=1)E+=C[Math.floor(Math.random()*16)];return E}t.randomHex=f;function d(C){return u(C).toString()}t.randomRGBA=d;function h(C,E){if(typeof C=="string"){const I=C[0]==="#",[A,N,$]=p(C);return E?A*.299+N*.587+$*.114>186?"#000000":"#ffffff":`${I?"#":""}${g(255-A,255-N,255-$)}`}const _=C[0],w=C[1],M=C[2],k=C[3];return E?_*.299+w*.587+M*.114>186?[0,0,0,k]:[255,255,255,k]:[255-_,255-w,255-M,k]}t.invert=h;function p(C){const E=C.indexOf("#")===0?C:`#${C}`;let _=Number(`0x${E.substr(1)}`);if(!(E.length===4||E.length===7)||Number.isNaN(_))throw new Error("Invalid hex color.");const w=E.length===4?4:8,M=(1<<w)-1,k=["b","g","r"].map(()=>{const I=_&M;return _>>=w,w===4?17*I:I});return[k[2],k[1],k[0]]}function g(C,E,_){const w=M=>M.length<2?`0${M}`:M;return`${w(C.toString(16))}${w(E.toString(16))}${w(_.toString(16))}`}function m(C,E){return b(C,E)}t.lighten=m;function y(C,E){return b(C,-E)}t.darken=y;function b(C,E){if(typeof C=="string"){const M=C[0]==="#",k=parseInt(M?C.substr(1):C,16),I=Zl((k>>16)+E,0,255),A=Zl((k>>8&255)+E,0,255),N=Zl((k&255)+E,0,255);return`${M?"#":""}${(N|A<<8|I<<16).toString(16)}`}const _=g(C[0],C[1],C[2]),w=p(b(_,E));return[w[0],w[1],w[2],C[3]]}})(Sp||(Sp={}));(function(t){t.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(Sp||(Sp={}));class r3e{constructor(){this.listeners={}}on(e,n,r){return n==null?this:(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n,r),this)}once(e,n,r){const i=(...o)=>(this.off(e,i),Kw.call([n,r],o));return this.on(e,i,this)}off(e,n,r){if(!(e||n||r))return this.listeners={},this;const i=this.listeners;return(e?[e]:Object.keys(i)).forEach(s=>{const a=i[s];if(!!a){if(!(n||r)){delete i[s];return}for(let l=a.length-2;l>=0;l-=2)n&&a[l]!==n||r&&a[l+1]!==r||a.splice(l,2)}}),this}trigger(e,...n){let r=!0;if(e!=="*"){const o=this.listeners[e];o!=null&&(r=Kw.call([...o],n))}const i=this.listeners["*"];return i!=null?F5([r,Kw.call([...i],[e,...n])]):r}emit(e,...n){return this.trigger(e,...n)}}var Kw;(function(t){function e(n,r){const i=[];for(let o=0;o<n.length;o+=2){const s=n[o],a=n[o+1],l=Array.isArray(r)?r:[r],c=_ne(s,a,l);i.push(c)}return F5(i)}t.call=e})(Kw||(Kw={}));class od{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(t){function e(){return(n,r,i)=>{const o=i.value,s=n.__proto__;i.value=function(){this.disposed||(o.call(this),s.dispose.call(this))}}}t.dispose=e})(od||(od={}));class jj{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(function(t){function e(n){const r=new t;return n.forEach(i=>{r.add(i)}),r}t.from=e})(jj||(jj={}));class yl extends r3e{}(function(t){t.dispose=od.dispose})(yl||(yl={}));wne(yl,od);class bre extends yl{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var i3e=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class $M extends od{constructor(){super(),this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,n){this.map.set(e,n),this.arr.push(e)}delete(e){const n=this.arr.indexOf(e);n>=0&&this.arr.splice(n,1);const r=this.map.get(e);return this.map.delete(e),r}each(e){this.arr.forEach(n=>{const r=this.map.get(n);e(r,n)})}dispose(){this.clear()}}i3e([od.dispose()],$M.prototype,"dispose",null);class ZC{constructor(e={}){this.comparator=e.comparator||ZC.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(e,n,r){const i={priority:e,value:n},o=this.data.length-1;return r&&(i.id=r,this.index[r]=o),this.data.push(i),this.bubbleUp(o),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,n){const r=this.index[e];if(typeof r>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const i=this.data,o=i[r].priority,s=this.comparator(n,o);s<0?(i[r].priority=n,this.bubbleUp(r)):s>0&&(i[r].priority=n,this.bubbleDown(r))}remove(){const e=this.data,n=e[0],r=e.pop();return delete this.index[e.length],e.length>0&&(e[0]=r,r.id&&(this.index[r.id]=0),this.bubbleDown(0)),n?n.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const n=this.data;let r,i,o=e;for(;o>0&&(i=o-1>>>1,this.comparator(n[o].priority,n[i].priority)<0);){r=n[i],n[i]=n[o];let s=n[o].id;s!=null&&(this.index[s]=i),n[o]=r,s=n[o].id,s!=null&&(this.index[s]=o),o=i}}bubbleDown(e){const n=this.data,r=n.length-1;let i=e;for(;;){const o=(i<<1)+1,s=o+1;let a=i;if(o<=r&&this.comparator(n[o].priority,n[a].priority)<0&&(a=o),s<=r&&this.comparator(n[s].priority,n[a].priority)<0&&(a=s),a!==i){const l=n[a];n[a]=n[i];let c=n[i].id;c!=null&&(this.index[c]=a),n[i]=l,c=n[i].id,c!=null&&(this.index[c]=i),i=a}else break}}}(function(t){t.defaultComparator=(e,n)=>e-n})(ZC||(ZC={}));var Z6;(function(t){function e(n,r,i=(o,s)=>1){const o={},s={},a={},l=new ZC;for(o[r]=0,Object.keys(n).forEach(c=>{c!==r&&(o[c]=1/0),l.insert(o[c],c,c)});!l.isEmpty();){const c=l.remove();a[c]=!0;const u=n[c]||[];for(let f=0;f<u.length;f+=1){const d=u[f];if(!a[d]){const h=o[c]+i(c,d);h<o[d]&&(o[d]=h,s[d]=c,l.updatePriority(d,h))}}}return s}t.run=e})(Z6||(Z6={}));var O0;(function(t){t.linear=e=>e,t.quad=e=>e*e,t.cubic=e=>e*e*e,t.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const n=e*e,r=n*e;return 4*(e<.5?r:3*(e-n)+r-.75)},t.exponential=e=>Math.pow(2,10*(e-1)),t.bounce=e=>{for(let n=0,r=1;;n+=r,r/=2)if(e>=(7-4*n)/11){const i=(11-6*n-11*e)/4;return-i*i+r*r}}})(O0||(O0={}));(function(t){t.decorators={reverse(e){return n=>1-e(1-n)},reflect(e){return n=>.5*(n<.5?e(2*n):2-e(2-2*n))},clamp(e,n=0,r=1){return i=>{const o=e(i);return o<n?n:o>r?r:o}},back(e=1.70158){return n=>n*n*((e+1)*n-e)},elastic(e=1.5){return n=>Math.pow(2,10*(n-1))*Math.cos(20*Math.PI*e/3*n)}}})(O0||(O0={}));(function(t){function e(j){return-1*Math.cos(j*(Math.PI/2))+1}t.easeInSine=e;function n(j){return Math.sin(j*(Math.PI/2))}t.easeOutSine=n;function r(j){return-.5*(Math.cos(Math.PI*j)-1)}t.easeInOutSine=r;function i(j){return j*j}t.easeInQuad=i;function o(j){return j*(2-j)}t.easeOutQuad=o;function s(j){return j<.5?2*j*j:-1+(4-2*j)*j}t.easeInOutQuad=s;function a(j){return j*j*j}t.easeInCubic=a;function l(j){const H=j-1;return H*H*H+1}t.easeOutCubic=l;function c(j){return j<.5?4*j*j*j:(j-1)*(2*j-2)*(2*j-2)+1}t.easeInOutCubic=c;function u(j){return j*j*j*j}t.easeInQuart=u;function f(j){const H=j-1;return 1-H*H*H*H}t.easeOutQuart=f;function d(j){const H=j-1;return j<.5?8*j*j*j*j:1-8*H*H*H*H}t.easeInOutQuart=d;function h(j){return j*j*j*j*j}t.easeInQuint=h;function p(j){const H=j-1;return 1+H*H*H*H*H}t.easeOutQuint=p;function g(j){const H=j-1;return j<.5?16*j*j*j*j*j:1+16*H*H*H*H*H}t.easeInOutQuint=g;function m(j){return j===0?0:Math.pow(2,10*(j-1))}t.easeInExpo=m;function y(j){return j===1?1:-Math.pow(2,-10*j)+1}t.easeOutExpo=y;function b(j){if(j===0||j===1)return j;const H=j*2,te=H-1;return H<1?.5*Math.pow(2,10*te):.5*(-Math.pow(2,-10*te)+2)}t.easeInOutExpo=b;function C(j){const H=j/1;return-1*(Math.sqrt(1-H*j)-1)}t.easeInCirc=C;function E(j){const H=j-1;return Math.sqrt(1-H*H)}t.easeOutCirc=E;function _(j){const H=j*2,te=H-2;return H<1?-.5*(Math.sqrt(1-H*H)-1):.5*(Math.sqrt(1-te*te)+1)}t.easeInOutCirc=_;function w(j,H=1.70158){return j*j*((H+1)*j-H)}t.easeInBack=w;function M(j,H=1.70158){const te=j/1-1;return te*te*((H+1)*te+H)+1}t.easeOutBack=M;function k(j,H=1.70158){const te=j*2,Y=te-2,ue=H*1.525;return te<1?.5*te*te*((ue+1)*te-ue):.5*(Y*Y*((ue+1)*Y+ue)+2)}t.easeInOutBack=k;function I(j,H=.7){if(j===0||j===1)return j;const Y=j/1-1,ue=1-H,ce=ue/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*Y)*Math.sin((Y-ce)*(2*Math.PI)/ue))}t.easeInElastic=I;function A(j,H=.7){const te=1-H,Y=j*2;if(j===0||j===1)return j;const ue=te/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*Y)*Math.sin((Y-ue)*(2*Math.PI)/te)+1}t.easeOutElastic=A;function N(j,H=.65){const te=1-H;if(j===0||j===1)return j;const Y=j*2,ue=Y-1,ce=te/(2*Math.PI)*Math.asin(1);return Y<1?-.5*(Math.pow(2,10*ue)*Math.sin((ue-ce)*(2*Math.PI)/te)):Math.pow(2,-10*ue)*Math.sin((ue-ce)*(2*Math.PI)/te)*.5+1}t.easeInOutElastic=N;function $(j){const H=j/1;if(H<1/2.75)return 7.5625*H*H;if(H<2/2.75){const te=H-.5454545454545454;return 7.5625*te*te+.75}if(H<2.5/2.75){const te=H-.8181818181818182;return 7.5625*te*te+.9375}{const te=H-.9545454545454546;return 7.5625*te*te+.984375}}t.easeOutBounce=$;function L(j){return 1-$(1-j)}t.easeInBounce=L;function B(j){return j<.5?L(j*2)*.5:$(j*2-1)*.5+.5}t.easeInOutBounce=B})(O0||(O0={}));var l0;(function(t){t.number=(e,n)=>{const r=n-e;return i=>e+r*i},t.object=(e,n)=>{const r=Object.keys(e);return i=>{const o={};for(let s=r.length-1;s!==-1;s-=1){const a=r[s];o[a]=e[a]+(n[a]-e[a])*i}return o}},t.unit=(e,n)=>{const r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=r.exec(e),o=r.exec(n),s=o?o[1]:"",a=i?+i[1]:0,l=o?+o[1]:0,c=s.indexOf("."),u=c>0?s[1].length-c-1:0,f=l-a,d=i?i[2]:"";return h=>(a+f*h).toFixed(u)+d},t.color=(e,n)=>{const r=parseInt(e.slice(1),16),i=parseInt(n.slice(1),16),o=r&255,s=(i&255)-o,a=r&65280,l=(i&65280)-a,c=r&16711680,u=(i&16711680)-c;return f=>{const d=o+s*f&255,h=a+l*f&65280,p=c+u*f&16711680;return`#${(1<<24|d|h|p).toString(16).slice(1)}`}}})(l0||(l0={}));var Vj;(function(t){const e=`${ph.prefixCls}.storage`;function n(f,d,h){const p=d.id||ZTe("doc-"),g=l(f);g.keys.push(p),s(c(f,p),d),s(u(f),g),o(h,null,Object.assign(Object.assign({},d),{id:p}))}t.insert=n;function r(f,d,h){const p=l(f),g=[];if(d==null)p.keys.forEach(m=>{const y=a(c(f,m));y?g.push(y):o(h,new Error(`No document found for an ID '${m}' from index.`))}),o(h,null,g);else if(d.id){const m=a(c(f,d.id));o(h,null,m?[m]:[])}else o(h,null,[])}t.find=r;function i(f,d,h){const p=l(f);if(d==null)p.keys.forEach(g=>{localStorage.removeItem(c(f,g))}),localStorage.removeItem(u(f)),o(h,null);else if(d.id){const g=p.keys.indexOf(d.id);g>=0&&p.keys.splice(g,1),localStorage.removeItem(c(f,d.id)),s(u(f),p),o(h,null)}}t.remove=i;function o(f,d,h){f&&D_e(()=>{f(d,h)})}function s(f,d){localStorage.setItem(f,JSON.stringify(d))}function a(f){const d=localStorage.getItem(f);return d?JSON.parse(d):null}function l(f){const d=a(u(f));return d?(d.keys==null&&(d.keys=[]),d):{keys:[]}}function c(f,d){return`${e}.${f}.docs.${d}`}function u(f){return`${e}.${f}.index`}})(Vj||(Vj={}));class wi extends yl{constructor(){super(),this.cid=Q6.uniqueId(),wi.views[this.cid]=this}get priority(){return 2}confirmUpdate(e,n){return 0}$(e){return wi.$(e)}empty(e=this.container){return this.$(e).empty(),this}unmount(e=this.container){return this.$(e).remove(),this}remove(e=this.container){return e===this.container&&(this.removeEventListeners(document),this.onRemove(),delete wi.views[this.cid]),this.unmount(e),this}onRemove(){}setClass(e,n=this.container){n.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,n=this.container){return this.$(n).addClass(Array.isArray(e)?e.join(" "):e),this}removeClass(e,n=this.container){return this.$(n).removeClass(Array.isArray(e)?e.join(" "):e),this}setStyle(e,n=this.container){return this.$(n).css(e),this}setAttrs(e,n=this.container){return e!=null&&n!=null&&(n instanceof SVGElement?to(n,e):this.$(n).attr(e)),this}findAttr(e,n=this.container){let r=n;for(;r&&r.nodeType===1;){const i=r.getAttribute(e);if(i!=null)return i;if(r===this.container)return null;r=r.parentNode}return null}find(e,n=this.container,r=this.selectors){return wi.find(e,n,r).elems}findOne(e,n=this.container,r=this.selectors){const i=this.find(e,n,r);return i.length>0?i[0]:null}findByAttr(e,n=this.container){let r=n;for(;r&&r.getAttribute;){const i=r.getAttribute(e);if((i!=null||r===this.container)&&i!=="false")return r;r=r.parentNode}return null}getSelector(e,n){let r;if(e===this.container)return typeof n=="string"&&(r=`> ${n}`),r;if(e){const i=B5(e)+1;r=`${e.tagName.toLowerCase()}:nth-child(${i})`,n&&(r+=` > ${n}`),r=this.getSelector(e.parentNode,r)}return r}prefixClassName(e){return Js.prefix(e)}delegateEvents(e,n){if(e==null)return this;n||this.undelegateEvents();const r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(i=>{const o=i.match(r);if(o==null)return;const s=this.getEventHandler(e[i]);typeof s=="function"&&this.delegateEvent(o[1],o[2],s)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(e,n){return this.addEventListeners(document,e,n),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,n,r){return this.$(this.container).on(e+this.getEventNamespace(),n,r),this}undelegateEvent(e,n,r){const i=e+this.getEventNamespace();return n==null?this.$(this.container).off(i):typeof n=="string"?this.$(this.container).off(i,n,r):this.$(this.container).off(i,n),this}addEventListeners(e,n,r){if(n==null)return this;const i=this.getEventNamespace(),o=this.$(e);return Object.keys(n).forEach(s=>{const a=this.getEventHandler(n[s]);typeof a=="function"&&o.on(s+i,r,a)}),this}removeEventListeners(e){return e!=null&&this.$(e).off(this.getEventNamespace()),this}getEventNamespace(){return`.${ph.prefixCls}-event-${this.cid}`}getEventHandler(e){let n;if(typeof e=="string"){const r=this[e];typeof r=="function"&&(n=(...i)=>r.call(this,...i))}else n=(...r)=>e.call(this,...r);return n}getEventTarget(e,n={}){const{target:r,type:i,clientX:o=0,clientY:s=0}=e;return n.fromPoint||i==="touchmove"||i==="touchend"?document.elementFromPoint(o,s):r}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return this.getEventData(e).propagationStopped===!0}getEventData(e){return this.eventData(e)}setEventData(e,n){return this.eventData(e,n)}eventData(e,n){if(e==null)throw new TypeError("Event object required");let r=e.data;const i=`__${this.cid}__`;return n==null?r==null?{}:r[i]||{}:(r==null&&(r=e.data={}),r[i]==null?r[i]=Object.assign({},n):r[i]=Object.assign(Object.assign({},r[i]),n),r[i])}normalizeEvent(e){return wi.normalizeEvent(e)}}(function(t){function e(o){return Is(o)}t.$=e;function n(o,s){return s?ec(o||"g"):HC(o||"div")}t.createElement=n;function r(o,s,a){if(!o||o===".")return{elems:[s]};if(a){const l=a[o];if(l)return{elems:Array.isArray(l)?l:[l]}}return{isCSSSelector:!0,elems:e(s).find(o).toArray()}}t.find=r;function i(o){let s=o;const a=o.originalEvent,l=a&&a.changedTouches&&a.changedTouches[0];if(l){for(const u in o)l[u]===void 0&&(l[u]=o[u]);s=l}const c=s.target;if(c){const u=c.correspondingUseElement;u&&(s.target=u)}return s}t.normalizeEvent=i})(wi||(wi={}));(function(t){t.views={};function e(n){return t.views[n]||null}t.getView=e})(wi||(wi={}));var Q6;(function(t){let e=0;function n(){const r=`v${e}`;return e+=1,r}t.uniqueId=n})(Q6||(Q6={}));const o3e=t=>t;function Uj(t,e){return e===0?"0%":`${Math.round(t/e*100)}%`}function xre(t){return(n,r,i,o)=>r.isEdgeElement(i)?a3e(t,n,r,i,o):s3e(t,n,r,i,o)}function s3e(t,e,n,r,i){const o=n.cell,s=o.getAngle(),a=n.getUnrotatedBBoxOfElement(r),l=o.getBBox().getCenter(),c=Ce.create(i).rotate(s,l);let u=c.x-a.x,f=c.y-a.y;return t&&(u=Uj(u,a.width),f=Uj(f,a.height)),e.anchor={name:"topLeft",args:{dx:u,dy:f,rotate:!0}},e}function a3e(t,e,n,r,i){const o=n.getConnection();if(!o)return e;const s=o.closestPointLength(i);if(t){const a=o.length();e.anchor={name:"ratio",args:{ratio:s/a}}}else e.anchor={name:"length",args:{length:s}};return e}const l3e=xre(!0),c3e=xre(!1),u3e=Object.freeze(Object.defineProperty({__proto__:null,noop:o3e,pinRelative:l3e,pinAbsolute:c3e},Symbol.toStringTag,{value:"Module"}));var F1;(function(t){t.presets=u3e,t.registry=Vs.create({type:"connection strategy"}),t.registry.register(t.presets,!0)})(F1||(F1={}));class f3e{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new $M,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const n=this.get(e);return n.data||(n.data={}),n.data}getMatrix(e){const n=this.get(e);if(n.matrix==null){const r=this.view.rotatableNode||this.view.container;n.matrix=C2(e,r)}return Ka(n.matrix)}getShape(e){const n=this.get(e);return n.shape==null&&(n.shape=jne(e)),n.shape.clone()}getBoundingRect(e){const n=this.get(e);return n.boundingRect==null&&(n.boundingRect=Xa(e)),n.boundingRect.clone()}}var Si;(function(t){function e(u){return u!=null&&!n(u)}t.isJSONMarkup=e;function n(u){return u!=null&&typeof u=="string"}t.isStringMarkup=n;function r(u){return u==null||n(u)?u:Fs(u)}t.clone=r;function i(u){return`${u}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}t.sanitize=i;function o(u){const f=document.createDocumentFragment(),d={},h={},p=i(u);return Ene(p,{raw:!0}).forEach(m=>{f.appendChild(m)}),{fragment:f,selectors:h,groups:d}}t.parseStringMarkup=o;function s(u,f={ns:zs.svg}){const d=document.createDocumentFragment(),h={},p={},g=[{markup:Array.isArray(u)?u:[u],parent:d,ns:f.ns}];for(;g.length>0;){const m=g.pop();let y=m.ns||zs.svg;const b=m.markup,C=m.parent;b.forEach(E=>{const _=E.tagName;if(!_)throw new TypeError("Invalid tagName");E.ns&&(y=E.ns);const w=y===zs.svg,M=y?HC(_,y):Nj(_),k=E.attrs;k&&(w?to(M,YC(k)):Is(M).attr(k));const I=E.style;I&&Is(M).css(I);const A=E.className;A!=null&&M.setAttribute("class",Array.isArray(A)?A.join(" "):A),E.textContent&&(M.textContent=E.textContent);const N=E.selector;if(N!=null){if(p[N])throw new TypeError("Selector must be unique");p[N]=M}if(E.groupSelector){let L=E.groupSelector;Array.isArray(L)||(L=[L]),L.forEach(B=>{h[B]||(h[B]=[]),h[B].push(M)})}C.appendChild(M);const $=E.children;Array.isArray($)&&g.push({ns:y,markup:$,parent:M})})}return Object.keys(h).forEach(m=>{if(p[m])throw new Error("Ambiguous group selector");p[m]=h[m]}),{fragment:d,selectors:p,groups:h}}t.parseJSONMarkup=s;function a(u){return u instanceof SVGElement?ec("g"):Nj("div")}function l(u){if(n(u)){const p=Bn.createVectors(u),g=p.length;if(g===1)return{elem:p[0].node};if(g>1){const m=a(p[0].node);return p.forEach(y=>{m.appendChild(y.node)}),{elem:m}}return{}}const f=s(u),d=f.fragment;let h=null;return d.childNodes.length>1?(h=a(d.firstChild),h.appendChild(d)):h=d.firstChild,{elem:h,selectors:f.selectors}}t.renderMarkup=l;function c(u){const f=Bn.createVectors(u),d=document.createDocumentFragment();for(let h=0,p=f.length;h<p;h+=1){const g=f[h].node;d.appendChild(g)}return{fragment:d,selectors:{}}}t.parseLabelStringMarkup=c})(Si||(Si={}));(function(t){function e(i,o,s){if(i!=null){let a;const l=i.tagName.toLowerCase();if(i===o)return typeof s=="string"?a=`> ${l} > ${s}`:a=`> ${l}`,a;const c=i.parentNode;if(c&&c.childNodes.length>1){const u=B5(i)+1;a=`${l}:nth-child(${u})`}else a=l;return s&&(a+=` > ${s}`),e(i.parentNode,o,a)}return s}t.getSelector=e;function n(i,o,s){if(i.nodeName==="#text")return null;let a=null,l=null,c=null,u=!1;const f={tagName:i.tagName};if(i.attributes){c={};for(let d=0,h=i.attributes.length;d<h;d+=1){const p=i.attributes[d],g=p.nodeName,m=p.nodeValue;g==="selector"?a=m:g==="groupSelector"?l=m:g==="class"?f.attrs={class:m}:c[g]=m}}return a==null&&(u=!0,a=e(i,o)),i.namespaceURI&&(f.ns=i.namespaceURI),f.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(i.tagName)?f.ns=zs.xhtml:s&&(f.ns=s)),a&&(f.selector=a),l!=null&&(f.groupSelector=l),{markup:f,attrs:c,isCSSSelector:u}}function r(i){const o=t.sanitize(i),s=Pne(o,{mimeType:"image/svg+xml"}),a=Array.prototype.slice.call(s.childNodes),l={},c=new WeakMap,u=(d,h,p)=>{const g=n(d,h,p);if(g==null){const m=c.get(d.parentNode);m&&d.textContent&&(m.textContent=d.textContent)}else{const{markup:m,attrs:y,isCSSSelector:b}=g;if(c.set(d,m),m.selector&&y!=null&&(Object.keys(y).length&&(l[m.selector]=y),b&&delete m.selector),d.childNodes&&d.childNodes.length>0)for(let C=0,E=d.childNodes.length;C<E;C+=1){const _=d.childNodes[C],w=u(_,h,m.ns);w&&(m.children==null&&(m.children=[]),m.children.push(w))}return m}};return{markup:a.map(d=>u(d,d)).filter(d=>d!=null),attrs:l}}t.xml2json=r})(Si||(Si={}));(function(t){function e(){return"g"}t.getPortContainerMarkup=e;function n(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}t.getPortMarkup=n;function r(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}t.getPortLabelMarkup=r})(Si||(Si={}));(function(t){function e(){return t.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}t.getEdgeMarkup=e;function n(){return t.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}t.getEdgeToolMarkup=n;function r(){return t.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}t.getEdgeVertexMarkup=r;function i(){return t.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}t.getEdgeArrowheadMarkup=i})(Si||(Si={}));(function(t){function e(n=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:zs.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:zs.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:n?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}t.getForeignObjectMarkup=e})(Si||(Si={}));class M0{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,n){let r,i,o,s,a;const l=[];return Object.keys(n).forEach(c=>{const u=n[c],f=this.getDefinition(c),d=$n(hh.isValidDefinition,this.view,f,u,{elem:e,attrs:n,cell:this.cell,view:this.view});if(f&&d)typeof f=="string"?(r==null&&(r={}),r[f]=u):u!==null&&l.push({name:c,definition:f});else{r==null&&(r={});const h=M0.CASE_SENSITIVE_ATTR.includes(c)?c:Sne(c);r[h]=u}}),l.forEach(({name:c,definition:u})=>{const f=n[c];typeof u.set=="function"&&(!z6(e)&&M0.DELAY_ATTRS.includes(c)?(a==null&&(a={}),a[c]=f):(i==null&&(i={}),i[c]=f)),typeof u.offset=="function"&&(o==null&&(o={}),o[c]=f),typeof u.position=="function"&&(s==null&&(s={}),s[c]=f)}),{raw:n,normal:r,set:i,offset:o,position:s,delay:a}}mergeProcessedAttrs(e,n){e.set=Object.assign(Object.assign({},e.set),n.set),e.position=Object.assign(Object.assign({},e.position),n.position),e.offset=Object.assign(Object.assign({},e.offset),n.offset);const r=e.normal&&e.normal.transform;r!=null&&n.normal&&(n.normal.transform=r),e.normal=n.normal}findAttrs(e,n,r,i){const o=[],s=new $M;return Object.keys(e).forEach(a=>{const l=e[a];if(!gu(l))return;const{isCSSSelector:c,elems:u}=wi.find(a,n,i);r[a]=u;for(let f=0,d=u.length;f<d;f+=1){const h=u[f],p=i&&i[a]===h,g=s.get(h);if(g){g.array||(o.push(h),g.array=!0,g.attrs=[g.attrs],g.priority=[g.priority]);const m=g.attrs,y=g.priority;if(p)m.unshift(l),y.unshift(-1);else{const b=ETe(y,c?-1:d);m.splice(b,0,l),y.splice(b,0,d)}}else s.set(h,{elem:h,attrs:l,priority:p?-1:d,array:!1})}}),o.forEach(a=>{const l=s.get(a),c=l.attrs;l.attrs=c.reduceRight((u,f)=>Io(u,f),{})}),s}updateRelativeAttrs(e,n,r,i){const o=n.raw||{};let s=n.normal||{};const a=n.set,l=n.position,c=n.offset,u=n.delay,f=()=>({elem:e,cell:this.cell,view:this.view,attrs:o,refBBox:r.clone()});if(a!=null&&Object.keys(a).forEach(_=>{const w=a[_],M=this.getDefinition(_);if(M!=null){const k=$n(M.set,this.view,w,f());typeof k=="object"?s=Object.assign(Object.assign({},s),k):k!=null&&(s[_]=k)}}),z6(e)){this.view.setAttrs(s,e);return}const d=s.transform,h=d?`${d}`:null,p=RM(h),g=new Ce(p.e,p.f);d&&(delete s.transform,p.e=0,p.f=0);let m=1,y=1;if(l||c){const _=this.view.getScaleOfElement(e,i.scalableNode);m=_.sx,y=_.sy}let b=!1;l!=null&&Object.keys(l).forEach(_=>{const w=l[_],M=this.getDefinition(_);if(M!=null){const k=$n(M.position,this.view,w,f());k!=null&&(b=!0,g.translate(Ce.create(k).scale(m,y)))}}),this.view.setAttrs(s,e);let C=!1;if(c!=null){const _=this.view.getBoundingRectOfElement(e);if(_.width>0&&_.height>0){const w=su(_,p).scale(1/m,1/y);Object.keys(c).forEach(M=>{const k=c[M],I=this.getDefinition(M);if(I!=null){const A=$n(I.offset,this.view,k,{elem:e,cell:this.cell,view:this.view,attrs:o,refBBox:w});A!=null&&(C=!0,g.translate(Ce.create(A).scale(m,y)))}})}}(d!=null||b||C)&&(g.round(1),p.e=g.x,p.f=g.y,e.setAttribute("transform",Z0(p)));const E=()=>{u!=null&&Object.keys(u).forEach(_=>{const w=u[_],M=this.getDefinition(_);if(M!=null){const k=$n(M.set,this.view,w,f());typeof k=="object"?this.view.setAttrs(k,e):k!=null&&this.view.setAttrs({[_]:k},e)}})};i.forceSync?E():XC.scheduleTask(E)}update(e,n,r){const i={},o=this.findAttrs(r.attrs||n,e,i,r.selectors),s=r.attrs?this.findAttrs(n,e,i,r.selectors):o,a=[];o.each(u=>{const f=u.elem,d=u.attrs,h=this.processAttrs(f,d);if(h.set==null&&h.position==null&&h.offset==null&&h.delay==null)this.view.setAttrs(h.normal,f);else{const p=s.get(f),g=p?p.attrs:null,m=g&&d.ref==null?g.ref:d.ref;let y;if(m){if(y=(i[m]||this.view.find(m,e,r.selectors))[0],!y)throw new Error(`"${m}" reference does not exist.`)}else y=null;const b={node:f,refNode:y,attributes:g,processedAttributes:h},C=a.findIndex(E=>E.refNode===f);C>-1?a.splice(C,0,b):a.push(b)}});const l=new $M;let c;a.forEach(u=>{const f=u.node,d=u.refNode;let h;const p=d!=null&&r.rotatableNode!=null&&j5(r.rotatableNode,d);if(d&&(h=l.get(d)),!h){const b=p?r.rotatableNode:e;h=d?Xa(d,{target:b}):r.rootBBox,d&&l.set(d,h)}let g;r.attrs&&u.attributes?(g=this.processAttrs(f,u.attributes),this.mergeProcessedAttrs(g,u.processedAttributes)):g=u.processedAttributes;let m=h;p&&r.rotatableNode!=null&&!r.rotatableNode.contains(f)&&(c||(c=RM(to(r.rotatableNode,"transform"))),m=su(h,c)),a.find(b=>b.refNode===f)&&(r.forceSync=!0),this.updateRelativeAttrs(f,g,m,r)})}}(function(t){t.CASE_SENSITIVE_ATTR=["viewBox"],t.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(M0||(M0={}));class wre{constructor(e,n,r=[]){this.view=e;const i={},o={};let s=0;Object.keys(n).forEach(l=>{let c=n[l];Array.isArray(c)||(c=[c]),c.forEach(u=>{let f=i[u];f||(s+=1,f=i[u]=1<<s),o[l]|=f})});let a=r;if(Array.isArray(a)||(a=[a]),a.forEach(l=>{i[l]||(s+=1,i[l]=1<<s)}),s>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=o,this.bootstrap=r}get cell(){return this.view.cell}getFlag(e){const n=this.flags;return n==null?0:Array.isArray(e)?e.reduce((r,i)=>r|n[i],0):n[e]|0}hasAction(e,n){return e&this.getFlag(n)}removeAction(e,n){return e^e&this.getFlag(n)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(n=>{this.cell.hasChanged(n)&&(e|=this.attrs[n])}),e}}var d3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class hs extends wi{constructor(e,n={}){super(),this.cell=e,this.options=this.ensureOptions(n),this.graph=this.options.graph,this.attr=new M0(this),this.flag=new wre(this,this.options.actions,this.options.bootstrap),this.cache=new f3e(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const n=(c,u)=>u!=null?xne([...Array.isArray(c)?c:[c],...Array.isArray(u)?u:[u]]):Array.isArray(c)?[...c]:[c],r=Fs(this.getDefaults()),{bootstrap:i,actions:o,events:s,documentEvents:a}=e,l=d3e(e,["bootstrap","actions","events","documentEvents"]);return i&&(r.bootstrap=n(r.bootstrap,i)),o&&Object.keys(o).forEach(c=>{const u=o[c],f=r.actions[c];u&&f?r.actions[c]=n(f,u):u&&(r.actions[c]=n(u))}),s&&(r.events=Object.assign(Object.assign({},r.events),s)),e.documentEvents&&(r.documentEvents=Object.assign(Object.assign({},r.documentEvents),a)),Io(r,l)}get[Symbol.toStringTag](){return hs.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return wi.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,this.options.events!=null&&this.delegateEvents(this.options.events);const n=this.getContainerAttrs();n!=null&&this.setAttrs(n,e);const r=this.getContainerStyle();r!=null&&this.setStyle(r,e);const i=this.getContainerClassName();i!=null&&this.addClass(i,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,n={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,n){return this.flag.hasAction(e,n)}removeAction(e,n){return this.flag.removeAction(e,n)}handleAction(e,n,r,i){if(this.hasAction(e,n)){r();const o=[n];return i&&(typeof i=="string"?o.push(i):o.push(...i)),this.removeAction(e,o)}return e}setup(){this.cell.on("changed",({options:e})=>this.onAttrsChange(e))}onAttrsChange(e){let n=this.flag.getChangedFlag();e.updated||!n||(e.dirty&&this.hasAction(n,"update")&&(n|=this.getFlag("render")),e.toolId&&(e.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,n,this.priority,e))}parseJSONMarkup(e,n){const r=Si.parseJSONMarkup(e),i=r.selectors,o=this.rootSelector;if(n&&o){if(i[o])throw new Error("Invalid root selector");i[o]=n}return r}can(e){let n=this.graph.options.interacting;if(typeof n=="function"&&(n=$n(n,this.graph,this)),typeof n=="object"){let r=n[e];return typeof r=="function"&&(r=$n(r,this.graph,this)),r!==!1}return typeof n=="boolean"?n:!1}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getScaleOfElement(e,n){let r,i;if(n&&n.contains(e)){const o=ov(n);r=1/o.sx,i=1/o.sy}else r=1,i=1;return{sx:r,sy:i}}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),i=this.getRootRotatedMatrix(),o=this.getRootTranslatedMatrix();return su(n,o.multiply(i).multiply(r))}getUnrotatedBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),i=this.getRootTranslatedMatrix();return su(n,i.multiply(r))}getBBox(e={}){let n;if(e.useCellGeometry){const r=this.cell,i=r.isNode()?r.getAngle():0;n=r.getBBox().bbox(i)}else n=this.getBBoxOfElement(this.container);return this.graph.localToGraph(n)}getRootTranslatedMatrix(){const e=this.cell,n=e.isNode()?e.getPosition():{x:0,y:0};return Ka().translate(n.x,n.y)}getRootRotatedMatrix(){let e=Ka();const n=this.cell,r=n.isNode()?n.getAngle():0;if(r){const i=n.getBBox(),o=i.width/2,s=i.height/2;e=e.translate(o,s).rotate(r).translate(-o,-s)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,n,r={}){r.rootBBox==null&&(r.rootBBox=new mn),r.selectors==null&&(r.selectors=this.selectors),this.attr.update(e,n,r)}isEdgeElement(e){return this.cell.isEdge()&&(e==null||e===this.container)}prepareHighlight(e,n={}){const r=e&&this.$(e)[0]||this.container;return n.partial=r===this.container,r}highlight(e,n={}){const r=this.prepareHighlight(e,n);return this.notify("cell:highlight",{magnet:r,options:n,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:r,options:n,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:r,options:n,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,n={}){const r=this.prepareHighlight(e,n);return this.notify("cell:unhighlight",{magnet:r,options:n,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:r,options:n,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:r,options:n,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,n){}getEdgeTerminal(e,n,r,i,o){const s=this.cell,a=this.findAttr("port",e),l=e.getAttribute("data-selector"),c={cell:s.id};return l!=null&&(c.magnet=l),a!=null?(c.port=a,s.isNode()&&!s.hasPort(a)&&l==null&&(c.selector=this.getSelector(e))):l==null&&this.container!==e&&(c.selector=this.getSelector(e)),this.customizeEdgeTerminal(c,e,n,r,i,o)}customizeEdgeTerminal(e,n,r,i,o,s){const a=o.getStrategy()||this.graph.options.connecting.strategy;if(a){const l=typeof a=="string"?a:a.name,c=typeof a=="string"?{}:a.args||{},u=F1.registry;if(l){const f=u.get(l);if(f==null)return u.onNotFound(l);const d=$n(f,this.graph,e,this,n,new Ce(r,i),o,s,c);if(d)return d}}return e}getMagnetFromEdgeTerminal(e){const n=this.cell,r=this.container,i=e.port;let o=e.magnet,s;return i!=null&&n.isNode()&&n.hasPort(i)?s=this.findPortElem(i,o)||r:(o||(o=e.selector),!o&&i!=null&&(o=`[port="${i}"]`),s=this.findOne(o,r,this.selectors)),s}animate(e,n){const r=typeof e=="string"?this.findOne(e):e;if(r==null)throw new Error("Invalid animation element.");const i=r.parentNode,o=()=>{i||dh(r)},s=Bn.create(r);i||s.appendTo(this.graph.view.stage);const a=n.complete;return n.complete=l=>{o(),a&&a(l)},s.animate(n)}animateTransform(e,n){const r=typeof e=="string"?this.findOne(e):e;if(r==null)throw new Error("Invalid animation element.");const i=r.parentNode,o=()=>{i||dh(r)},s=Bn.create(r);i||s.appendTo(this.graph.view.stage);const a=n.complete;return n.complete=l=>{o(),a&&a(l)},s.animateTransform(n)}hasTools(e){const n=this.tools;return n==null?!1:e==null?!0:n.name===e}addTools(e){if(!this.can("toolsAddable"))return this;if(this.removeTools(),e){const n=wa.isToolsView(e)?e:new wa(e);this.tools=n,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),n.config({view:this}),n.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,n){return this.trigger(e,n),this.graph.trigger(e,n),this}getEventArgs(e,n,r){const i=this,o=i.cell;return n==null||r==null?{e,view:i,cell:o}:{e,x:n,y:r,view:i,cell:o}}onClick(e,n,r){this.notify("cell:click",this.getEventArgs(e,n,r))}onDblClick(e,n,r){this.notify("cell:dblclick",this.getEventArgs(e,n,r))}onContextMenu(e,n,r){this.notify("cell:contextmenu",this.getEventArgs(e,n,r))}onMouseDown(e,n,r){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,n,r))}onMouseUp(e,n,r){this.notify("cell:mouseup",this.getEventArgs(e,n,r)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,n,r){this.notify("cell:mousemove",this.getEventArgs(e,n,r))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,r,i){this.notify("cell:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}onCustomEvent(e,n,r,i){this.notify("cell:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),this.notify(n,Object.assign({},this.getEventArgs(e,r,i)))}onMagnetMouseDown(e,n,r,i){}onMagnetDblClick(e,n,r,i){}onMagnetContextMenu(e,n,r,i){}onLabelMouseDown(e,n,r){}checkMouseleave(e){const n=this.graph;n.renderer.isAsync()&&n.renderer.dumpView(this);const r=this.getEventTarget(e,{fromPoint:!0}),i=n.renderer.findViewByElem(r);i!==this&&(this.onMouseLeave(e),i&&i.onMouseEnter(e))}}hs.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};(function(t){t.Flag=wre,t.Attr=M0})(hs||(hs={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"}t.isCellView=e})(hs||(hs={}));(function(t){function e(r){return function(i){i.config({priority:r})}}t.priority=e;function n(r){return function(i){i.config({bootstrap:r})}}t.bootstrap=n})(hs||(hs={}));(function(t){t.registry=Vs.create({type:"view"})})(hs||(hs={}));class wa extends wi{constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return wa.toStringTag}createContainer(e,n){const r=e?wi.createElement("g",!0):wi.createElement("div",!1);return eo(r,this.prefixClassName("cell-tools")),n.className&&eo(r,n.className),r}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!hs.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(eo(this.svgContainer,this.prefixClassName("edge-tools")),eo(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(eo(this.svgContainer,this.prefixClassName("node-tools")),eo(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const n=this.options.items;if(!Array.isArray(n))return this;this.tools=[];const r=[];n.forEach(i=>{wa.ToolItem.isToolItem(i)?i.name==="vertices"?r.unshift(i):r.push(i):(typeof i=="object"?i.name:i)==="vertices"?r.unshift(i):r.push(i)});for(let i=0;i<r.length;i+=1){const o=r[i];let s;if(wa.ToolItem.isToolItem(o))s=o;else{const a=typeof o=="object"?o.name:o,l=typeof o=="object"?o.args||{}:{};if(a){if(this.cell.isNode()){const c=G1.registry.get(a);if(c)s=new c(l);else return G1.registry.onNotFound(a)}else if(this.cell.isEdge()){const c=B1.registry.get(a);if(c)s=new c(l);else return B1.registry.onNotFound(a)}}}s&&(s.config(this.cellView,this),s.render(),(s.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(s.container),this.tools.push(s))}return this}update(e={}){const n=this.tools;return n&&n.forEach(r=>{e.toolId!==r.cid&&r.isVisible()&&r.update()}),this}focus(e){const n=this.tools;return n&&n.forEach(r=>{e===r?r.show():r.hide()}),this}blur(e){const n=this.tools;return n&&n.forEach(r=>{r!==e&&!r.isVisible()&&(r.show(),r.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(n=>n.remove()),this.tools=null),dh(this.svgContainer),dh(this.htmlContainer),super.remove()}mount(){const e=this.tools,n=this.cellView;if(n&&e){const r=e.some(o=>o.options.isSVGElement!==!1),i=e.some(o=>o.options.isSVGElement===!1);r&&(this.options.local?n.container:n.graph.view.decorator).appendChild(this.svgContainer),i&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&i.graph!=null&&i.cell!=null&&typeof i.config=="function"&&typeof i.update=="function"&&typeof i.focus=="function"&&typeof i.blur=="function"&&typeof i.show=="function"&&typeof i.hide=="function"}t.isToolsView=e})(wa||(wa={}));(function(t){class e extends wi{constructor(r={}){super(),this.visible=!0,this.options=this.getOptions(r),this.container=wi.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),eo(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&eo(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(r){this.defaults=this.getOptions(r)}static getOptions(r){return Io(Fs(this.getDefaults()),r)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return e.toStringTag}init(){}getOptions(r){return this.constructor.getOptions(r)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(r,i){return this.cellView=r,this.parent=i,this.stamp(this.container),this.cell.isEdge()?eo(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&eo(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const r=this.options.markup;if(r){const i=Si.isStringMarkup(r)?Si.parseStringMarkup(r):Si.parseJSONMarkup(r);this.container.appendChild(i.fragment),this.childNodes=i.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(r=this.container){r&&r.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return!!this.visible}focus(){const r=this.options.focusOpacity;return r!=null&&Number.isFinite(r)&&(this.container.style.opacity=`${r}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(r){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(r,this.cellView)}}e.defaults={isSVGElement:!0,tagName:"g"},t.ToolItem=e,function(n){let r=0;function i(s){return s?L5(s):(r+=1,`CustomTool${r}`)}function o(s){const a=I5(i(s.name),this);return a.config(s),a}n.define=o}(e=t.ToolItem||(t.ToolItem={})),function(n){n.toStringTag=`X6.${n.name}`;function r(i){if(i==null)return!1;if(i instanceof n)return!0;const o=i[Symbol.toStringTag],s=i;return(o==null||o===n.toStringTag)&&s.graph!=null&&s.cell!=null&&typeof s.config=="function"&&typeof s.update=="function"&&typeof s.focus=="function"&&typeof s.blur=="function"&&typeof s.show=="function"&&typeof s.hide=="function"&&typeof s.isVisible=="function"}n.isToolItem=r}(e=t.ToolItem||(t.ToolItem={}))})(wa||(wa={}));function Cre(t,e,n,r){return $n(F1.presets.pinRelative,this.graph,{},e,n,t,this.cell,r,{}).anchor}function Sre(t,e){return e?t.cell.getBBox():t.cell.isEdge()?t.getConnection().bbox():t.getUnrotatedBBoxOfElement(t.container)}class Iv extends wa.ToolItem{onRender(){eo(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const n=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();I1(this.container,n,{absolute:!0})}getNodeMatrix(){const e=this.cellView,n=this.options;let{x:r=0,y:i=0}=n;const{offset:o,useCellGeometry:s,rotate:a}=n;let l=Sre(e,s);const c=e.cell.getAngle();a||(l=l.bbox(c));let u=0,f=0;typeof o=="number"?(u=o,f=o):typeof o=="object"&&(u=o.x,f=o.y),r=fh(r,l.width),i=fh(i,l.height);let d=Ka().translate(l.x+l.width/2,l.y+l.height/2);return a&&(d=d.rotate(c)),d=d.translate(r+u-l.width/2,i+f-l.height/2),d}getEdgeMatrix(){const e=this.cellView,n=this.options,{offset:r=0,distance:i=0,rotate:o}=n;let s,a,l;id(i)?s=e.getTangentAtRatio(parseFloat(i)/100):s=e.getTangentAtLength(i),s?(a=s.start,l=s.vector().vectorAngle(new Ce(1,0))||0):(a=e.getConnection().start,l=0);let c=Ka().translate(a.x,a.y).rotate(l);return typeof r=="object"?c=c.translate(r.x||0,r.y||0):c=c.translate(0,r),o||(c=c.rotate(-l)),c}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.options.onClick;typeof n=="function"&&$n(n,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(t){t.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Iv||(Iv={}));(function(t){t.Remove=t.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:e,btn:n}){n.parent.remove(),e.cell.remove({ui:!0,toolId:n.cid})}})})(Iv||(Iv={}));var h3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class LM extends wa.ToolItem{onRender(){if(eo(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:n}=e,r=h3e(e,["class"]);to(this.container,YC(r)),n&&eo(this.container,n)}this.update()}update(){const e=this.cellView,n=this.options,{useCellGeometry:r,rotate:i}=n,o=Ac(n.padding);let s=Sre(e,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});const a=e.cell;if(a.isNode()){const l=a.getAngle();if(l)if(i){const c=a.getBBox().getCenter();q6(this.container,l,c.x,c.y,{absolute:!0})}else s=s.bbox(l)}return to(this.container,s.toJSON()),this}}(function(t){t.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(LM||(LM={}));class QC extends wa.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}renderHandles(){const e=this.vertices;for(let n=0,r=e.length;n<r;n+=1){const i=e[n],o=this.options.createHandle,s=this.options.processHandle,a=o({index:n,graph:this.graph,guard:l=>this.guard(l),attrs:this.options.attrs||{}});s&&s(a),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:a}),a.updatePosition(i.x,i.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const e=this.vertices;for(let n=0,r=e.length;n<r;n+=1){const i=e[n],o=this.handles[n];o&&o.updatePosition(i.x,i.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const n=this.cellView,r=this.vertices,i=e>0?r[e-1]:n.sourceAnchor,o=e<r.length-1?r[e+1]:n.targetAnchor;return{prev:Ce.create(i),next:Ce.create(o)}}getMouseEventArgs(e){const n=this.normalizeEvent(e),{x:r,y:i}=this.graph.snapToGrid(n.clientX,n.clientY);return{e:n,x:r,y:i}}onHandleChange({e}){this.focus();const n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:r,x:i,y:o}=this.getMouseEventArgs(e);n.notifyMouseDown(r,i,o)}}onHandleChanging({handle:e,e:n}){const r=this.cellView,i=e.options.index,{e:o,x:s,y:a}=this.getMouseEventArgs(n),l={x:s,y:a};this.snapVertex(l,i),r.cell.setVertexAt(i,l,{ui:!0,toolId:this.cid}),e.updatePosition(l.x,l.y),this.options.stopPropagation||r.notifyMouseMove(o,s,a)}onHandleChanged({e}){const n=this.options,r=this.cellView;if(n.addable&&this.updatePath(),!n.removeRedundancies)return;r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),r.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(e).vertexAdded&&r.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:o,x:s,y:a}=this.getMouseEventArgs(e);this.options.stopPropagation||r.notifyMouseUp(o,s,a),r.checkMouseleave(o),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}snapVertex(e,n){const r=this.options.snapRadius||0;if(r>0){const i=this.getNeighborPoints(n),o=i.prev,s=i.next;Math.abs(e.x-o.x)<r?e.x=o.x:Math.abs(e.x-s.x)<r&&(e.x=s.x),Math.abs(e.y-o.y)<r?e.y=i.prev.y:Math.abs(e.y-s.y)<r&&(e.y=s.y)}}onHandleRemove({handle:e,e:n}){if(this.options.removable){const r=e.options.index,i=this.cellView;i.cell.removeVertexAt(r,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(n))}}onPathMouseDown(e){const n=this.cellView;if(this.guard(e)||!this.options.addable||!n.can("vertexAddable"))return;e.stopPropagation(),e.preventDefault();const r=this.normalizeEvent(e),i=this.graph.snapToGrid(r.clientX,r.clientY).toJSON();n.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const o=n.getVertexIndex(i.x,i.y);this.snapVertex(i,o),n.cell.insertVertex(i,o,{ui:!0,toolId:this.cid}),this.render();const s=this.handles[o];this.eventData(r,{vertexAdded:!0}),s.onMouseDown(r)}onRemove(){this.resetHandles()}}(function(t){class e extends wi{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=wi.createElement("circle",!0);const r=this.options.attrs;if(typeof r=="function"){const i=t.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(r,i){this.setAttrs({cx:r,cy:i})}onMouseDown(r){this.options.guard(r)||(r.stopPropagation(),r.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data),this.emit("change",{e:r,handle:this}))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(r){this.emit("remove",{e:r,handle:this})}}t.Handle=e})(QC||(QC={}));(function(t){const e=Js.prefix("edge-tool-vertex-path");t.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:n=>new t.Handle(n),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})})(QC||(QC={}));class JC extends wa.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){eo(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,n=[...this.vertices];n.unshift(e.sourcePoint),n.push(e.targetPoint);for(let r=0,i=n.length;r<i-1;r+=1){const o=n[r],s=n[r+1],a=this.renderHandle(o,s,r);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(e,n,r){const i=this.options.createHandle({index:r,graph:this.graph,guard:o=>this.guard(o),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:i}),this.updateHandle(i,e,n),this.container.appendChild(i.container),this.startHandleListening(i),i}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}shiftHandleIndexes(e){const n=this.handles;for(let r=0,i=n.length;r<i;r+=1)n[r].options.index+=e}resetAnchor(e,n){const r=this.cellView.cell,i={ui:!0,toolId:this.cid};n?r.prop([e,"anchor"],n,i):r.removeProp([e,"anchor"],i)}snapHandle(e,n,r){const i=e.options.axis,o=e.options.index,l=this.cellView.cell.getVertices(),c=l[o-2]||r.sourceAnchor,u=l[o+1]||r.targetAnchor,f=this.options.snapRadius;return Math.abs(n[i]-c[i])<f?n[i]=c[i]:Math.abs(n[i]-u[i])<f&&(n[i]=u[i]),n}onHandleChanging({handle:e,e:n}){const r=this.graph,i=this.options,o=this.cellView,s=i.anchor,a=e.options.axis,l=e.options.index-1,c=this.getEventData(n),u=this.normalizeEvent(n),f=r.snapToGrid(u.clientX,u.clientY),d=this.snapHandle(e,f.clone(),c),h=Fs(this.vertices);let p=h[l],g=h[l+1];const m=o.sourceView,y=o.sourceBBox;let b=!1,C=!1;if(p?l===0?y.containsPoint(p)?(h.shift(),this.shiftHandleIndexes(-1),b=!0):(p[a]=d[a],C=!0):p[a]=d[a]:(p=o.sourceAnchor.toJSON(),p[a]=d[a],y.containsPoint(p)?b=!0:(h.unshift(p),this.shiftHandleIndexes(1),C=!0)),typeof s=="function"&&m){if(b){const k=c.sourceAnchor.clone();k[a]=d[a];const I=$n(s,o,k,m,o.sourceMagnet||m.container,"source",o,this);this.resetAnchor("source",I)}C&&this.resetAnchor("source",c.sourceAnchorDef)}const E=o.targetView,_=o.targetBBox;let w=!1,M=!1;if(g?l===h.length-2?_.containsPoint(g)?(h.pop(),w=!0):(g[a]=d[a],M=!0):g[a]=d[a]:(g=o.targetAnchor.toJSON(),g[a]=d[a],_.containsPoint(g)?w=!0:(h.push(g),M=!0)),typeof s=="function"&&E){if(w){const k=c.targetAnchor.clone();k[a]=d[a];const I=$n(s,o,k,E,o.targetMagnet||E.container,"target",o,this);this.resetAnchor("target",I)}M&&this.resetAnchor("target",c.targetAnchorDef)}Ce.equalPoints(h,this.vertices)||this.cellView.cell.setVertices(h,{ui:!0,toolId:this.cid}),this.updateHandle(e,p,g,0),i.stopPropagation||o.notifyMouseMove(u,f.x,f.y)}onHandleChange({handle:e,e:n}){const r=this.options,i=this.handles,o=this.cellView,s=e.options.index;if(!!Array.isArray(i)){for(let a=0,l=i.length;a<l;a+=1)a!==s&&i[a].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:o.sourceAnchor.clone(),targetAnchor:o.targetAnchor.clone(),sourceAnchorDef:Fs(this.cell.prop(["source","anchor"])),targetAnchorDef:Fs(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){const a=this.normalizeEvent(n),l=this.graph.snapToGrid(a.clientX,a.clientY);o.notifyMouseDown(a,l.x,l.y)}}}onHandleChanged({e}){const n=this.options,r=this.cellView;n.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const i=this.normalizeEvent(e),o=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||r.notifyMouseUp(i,o.x,o.y),r.checkMouseleave(i),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}updateHandle(e,n,r,i=0){const o=this.options.precision||0,s=Math.abs(n.x-r.x)<o,a=Math.abs(n.y-r.y)<o;if(s||a){const l=new Xn(n,r);if(l.length()<this.options.threshold)e.hide();else{const u=l.getCenter(),f=s?"x":"y";u[f]+=i||0;const d=l.vector().vectorAngle(new Ce(1,0));e.updatePosition(u.x,u.y,d,this.cellView),e.show(),e.options.axis=f}}else e.hide()}onRemove(){this.resetHandles()}}(function(t){class e extends wi{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=wi.createElement("rect",!0);const r=this.options.attrs;if(typeof r=="function"){const i=t.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(r,i,o,s){const a=s.getClosestPoint(new Ce(r,i))||new Ce(r,i);let l=Ka().translate(a.x,a.y);if(a.equals({x:r,y:i}))l=l.rotate(o);else{let u=new Xn(r,i,a.x,a.y).vector().vectorAngle(new Ce(1,0));u!==0&&(u+=90),l=l.rotate(u)}this.setAttrs({transform:Z0(l),cursor:o%180===0?"row-resize":"col-resize"})}onMouseDown(r){this.options.guard(r)||(this.trigger("change",{e:r,handle:this}),r.stopPropagation(),r.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}t.Handle=e})(JC||(JC={}));(function(t){t.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new t.Handle(e),anchor:Cre})})(JC||(JC={}));class FM extends wa.ToolItem{get type(){return this.options.type}onRender(){eo(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const n=e.anchor;if(!n)return;const r=this.type,i=this.cellView,o=this.options,s=i.getTerminalAnchor(r),a=i.cell.prop([r,"anchor"]);n.setAttribute("transform",`translate(${s.x}, ${s.y})`);const l=a?o.customAnchorAttrs:o.defaultAnchorAttrs;l&&Object.keys(l).forEach(c=>{n.setAttribute(c,l[c])})}updateArea(){const e=this.childNodes;if(!e)return;const n=e.area;if(!n)return;const r=this.type,i=this.cellView,o=i.getTerminalView(r);if(o){const s=o.cell,a=i.getTerminalMagnet(r);let l=this.options.areaPadding||0;Number.isFinite(l)||(l=0);let c,u,f;o.isEdgeElement(a)?(c=o.getBBox(),u=0,f=c.getCenter()):(c=o.getUnrotatedBBoxOfElement(a),u=s.getAngle(),f=c.getCenter(),u&&f.rotate(-u,s.getBBox().getCenter())),c.inflate(l),to(n,{x:-c.width/2,y:-c.height/2,width:c.width,height:c.height,transform:`translate(${f.x}, ${f.y}) rotate(${u})`})}}toggleArea(e){if(this.childNodes){const n=this.childNodes.area;n&&(n.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const n=this.type,r=this.cell;e?r.prop([n,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):r.removeProp([n,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const n=this.type,r=this.cellView,i=r.getTerminalView(n);if(i==null)return;const o=this.normalizeEvent(e),s=i.cell,a=r.getTerminalMagnet(n);let l=this.graph.clientToLocal(o.clientX,o.clientY);const c=this.options.snap;if(typeof c=="function"){const d=$n(c,r,l,i,a,n,r,this);l=Ce.create(d)}if(this.options.restrictArea)if(i.isEdgeElement(a)){const d=i.getClosestPoint(l);d&&(l=d)}else{const d=i.getUnrotatedBBoxOfElement(a),h=s.getAngle(),p=s.getBBox().getCenter(),g=l.clone().rotate(h,p);d.containsPoint(g)||(l=d.getNearestPointToPoint(g).rotate(-h,p))}let u;const f=this.options.anchor;typeof f=="function"&&(u=$n(f,r,l,i,a,n,r,this)),this.resetAnchor(u),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const n=this.cellView;this.options.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(e===!0?void 0:e),this.update()}}(function(t){t.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Cre,snap(e,n,r,i,o,s){const a=s.options.snapRadius||0,l=i==="source",c=l?0:-1,u=this.cell.getVertexAt(c)||this.getTerminalAnchor(l?"target":"source");return u&&(Math.abs(u.x-e.x)<a&&(e.x=u.x),Math.abs(u.y-e.y)<a&&(e.y=u.y)),e}})})(FM||(FM={}));const p3e=FM.define({name:"source-anchor",type:"source"}),g3e=FM.define({name:"target-anchor",type:"target"});var v3e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class zM extends wa.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:n}=e,r=v3e(e,["class"]);this.setAttrs(r,this.container),n&&eo(this.container,n)}}onRender(){eo(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,n=this.cellView,r=n.getTangentAtRatio(e),i=r?r.start:n.getPointAtRatio(e),o=r&&r.vector().vectorAngle(new Ce(1,0))||0;if(!i)return this;const s=Ka().translate(i.x,i.y).rotate(o);return I1(this.container,s,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.cellView;if(n.can("arrowheadMovable")){n.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const r=this.graph.snapToGrid(e.clientX,e.clientY),i=n.prepareArrowheadDragging(this.type,{x:r.x,y:r.y,options:{toolId:this.cid}});this.cellView.setEventData(e,i),this.delegateDocumentEvents(this.options.documentEvents,e.data),n.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const n=this.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY);this.cellView.onMouseMove(n,r.x,r.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),r=this.cellView,i=this.graph.snapToGrid(n.clientX,n.clientY);r.onMouseUp(n,i.x,i.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",r.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(t){t.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(zM||(zM={}));const m3e=zM.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),y3e=zM.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class z1 extends wa.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.update(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:e}=this,n=[this.prefixClassName(`${e.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=wa.createElement("div",!1),this.addClass(n,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}update(){const{graph:e,cell:n,editor:r}=this,i=r.style;let o=new Ce,s=20;if(n.isNode())o=n.getBBox().center,s=n.size().width-4;else if(n.isEdge()){const f=this.options.event,d=f.target,h=d.parentElement;if(h&&wE(h,this.prefixClassName("edge-label"))){const g=h.getAttribute("data-index")||"0";this.labelIndex=parseInt(g,10);const m=h.getAttribute("transform"),{translation:y}=$k(m);o=new Ce(y.tx,y.ty),s=Xa(d).width}else{if(!this.options.labelAddable)return this;o=e.clientToLocal(Ce.create(f.clientX,f.clientY));const m=this.cellView.path.closestPointLength(o);this.distance=m}}o=e.localToGraph(o),i.left=`${o.x}px`,i.top=`${o.y}px`,i.minWidth=`${s}px`;const a=e.scale();i.transform=`scale(${a.sx}, ${a.sy}) translate(-50%, -50%)`;const l=this.options.attrs;i.fontSize=`${l.fontSize}px`,i.fontFamily=l.fontFamily,i.color=l.color,i.backgroundColor=l.backgroundColor;const c=this.options.getText;let u;return typeof c=="function"&&(u=$n(c,this.cellView,{cell:this.cell,index:this.labelIndex})),r.innerText=u||"",this}onDocumentMouseDown(e){if(e.target!==this.editor){const n=this.cell,r=this.editor.innerText.replace(/\n$/,"")||"",i=this.options.setText;typeof i=="function"&&$n(i,this.cellView,{cell:this.cell,value:r,index:this.labelIndex,distance:this.distance}),n.removeTool(n.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(e){e.stopPropagation()}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(this.editor),n.removeAllRanges(),n.addRange(e)}}}(function(t){t.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(z1||(z1={}));(function(t){t.NodeEditor=t.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:e}){return e.attr("text/text")},setText({cell:e,value:n}){e.attr("text/text",n)}}),t.EdgeEditor=t.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText({cell:e,index:n}){return n===-1?"":e.prop(`labels/${n}/attrs/label/text`)},setText({cell:e,value:n,index:r,distance:i}){const o=e;r===-1?o.appendLabel({position:{distance:i},attrs:{label:{text:n}}}):n?o.prop(`labels/${r}/attrs/label/text`,n):typeof r=="number"&&o.removeLabelAt(r)}})})(z1||(z1={}));var Ere=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},G1;(function(t){t.presets={boundary:LM,button:Iv,"button-remove":Iv.Remove,"node-editor":z1.NodeEditor},t.registry=Vs.create({type:"node tool",process(e,n){if(typeof n=="function")return n;let r=wa.ToolItem;const{inherit:i}=n,o=Ere(n,["inherit"]);if(i){const s=this.get(i);s==null?this.onNotFound(i,"inherited"):r=s}return o.name==null&&(o.name=e),r.define.call(r,o)}}),t.registry.register(t.presets,!0)})(G1||(G1={}));var B1;(function(t){t.presets={boundary:LM,vertices:QC,segments:JC,button:Iv,"button-remove":Iv.Remove,"source-anchor":p3e,"target-anchor":g3e,"source-arrowhead":m3e,"target-arrowhead":y3e,"edge-editor":z1.EdgeEditor},t.registry=Vs.create({type:"edge tool",process(e,n){if(typeof n=="function")return n;let r=wa.ToolItem;const{inherit:i}=n,o=Ere(n,["inherit"]);if(i){const s=this.get(i);s==null?this.onNotFound(i,"inherited"):r=s}return o.name==null&&(o.name=e),r.define.call(r,o)}}),t.registry.register(t.presets,!0)})(B1||(B1={}));const b3e=Kp("center"),x3e=Kp("topCenter"),w3e=Kp("bottomCenter"),C3e=Kp("leftMiddle"),S3e=Kp("rightMiddle"),E3e=Kp("topLeft"),_3e=Kp("topRight"),T3e=Kp("bottomLeft"),P3e=Kp("bottomRight");function Kp(t){return function(e,n,r,i={}){const o=i.rotate?e.getUnrotatedBBoxOfElement(n):e.getBBoxOfElement(n),s=o[t];s.x+=fh(i.dx,o.width),s.y+=fh(i.dy,o.height);const a=e.cell;return i.rotate?s.rotate(-a.getAngle(),a.getBBox().getCenter()):s}}function zk(t){return function(e,n,r,i){if(r instanceof Element){const o=this.graph.renderer.findViewByElem(r);let s;if(o)if(o.isEdgeElement(r)){const a=i.fixedAt!=null?i.fixedAt:"50%";s=_re(o,a)}else s=o.getBBoxOfElement(r).getCenter();else s=new Ce;return t.call(this,e,n,s,i)}return t.apply(this,arguments)}}function _re(t,e){const n=id(e),r=typeof e=="string"?parseFloat(e):e;return n?t.getPointAtRatio(r/100):t.getPointAtLength(r)}const O3e=function(t,e,n,r){const i=t.cell.getAngle(),o=t.getBBoxOfElement(e),s=o.getCenter(),a=o.getTopLeft(),l=o.getBottomRight();let c=r.padding;if(Number.isFinite(c)||(c=0),a.y+c<=n.y&&n.y<=l.y-c){const u=n.y-s.y;s.x+=i===0||i===180?0:u*1/Math.tan(pi.toRad(i)),s.y+=u}else if(a.x+c<=n.x&&n.x<=l.x-c){const u=n.x-s.x;s.y+=i===90||i===270?0:u*Math.tan(pi.toRad(i)),s.x+=u}return s},M3e=zk(O3e),A3e=function(t,e,n,r,i){const o=t.cell.getConnectionPoint(this.cell,i);return(r.dx||r.dy)&&o.translate(r.dx||0,r.dy||0),o},k3e=function(t,e,n,r){let i,o=0,s;const a=t.cell;r.rotate?(i=t.getUnrotatedBBoxOfElement(e),s=a.getBBox().getCenter(),o=a.getAngle()):i=t.getBBoxOfElement(e);const l=r.padding;l!=null&&Number.isFinite(l)&&i.inflate(l),r.rotate&&n.rotate(o,s);const c=i.getNearestSideToPoint(n);let u;switch(c){case"left":u=i.getLeftMiddle();break;case"right":u=i.getRightMiddle();break;case"top":u=i.getTopCenter();break;case"bottom":u=i.getBottomCenter();break}const f=r.direction;return f==="H"?(c==="top"||c==="bottom")&&(n.x<=i.x+i.width?u=i.getLeftMiddle():u=i.getRightMiddle()):f==="V"&&(n.y<=i.y+i.height?u=i.getTopCenter():u=i.getBottomCenter()),r.rotate?u.rotate(-o,s):u},D3e=zk(k3e),N3e=Object.freeze(Object.defineProperty({__proto__:null,center:b3e,top:x3e,bottom:w3e,left:C3e,right:S3e,topLeft:E3e,topRight:_3e,bottomLeft:T3e,bottomRight:P3e,orth:M3e,nodeCenter:A3e,midSide:D3e},Symbol.toStringTag,{value:"Module"}));var j1;(function(t){t.presets=N3e,t.registry=Vs.create({type:"node endpoint"}),t.registry.register(t.presets,!0)})(j1||(j1={}));const R3e=function(t,e,n,r){let i=r.ratio!=null?r.ratio:.5;return i>1&&(i/=100),t.getPointAtRatio(i)},I3e=function(t,e,n,r){const i=r.length!=null?r.length:20;return t.getPointAtLength(i)},Tre=function(t,e,n,r){const i=t.getClosestPoint(n);return i!=null?i:new Ce},$3e=zk(Tre),L3e=function(t,e,n,r){const o=t.getConnection(),s=t.getConnectionSubdivisions(),a=new Xn(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),l=new Xn(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),c=a.intersect(o,{segmentSubdivisions:s}),u=l.intersect(o,{segmentSubdivisions:s}),f=[];return c&&f.push(...c),u&&f.push(...u),f.length>0?n.closest(f):r.fallbackAt!=null?_re(t,r.fallbackAt):$n(Tre,this,t,e,n,r)},F3e=zk(L3e),z3e=Object.freeze(Object.defineProperty({__proto__:null,closest:$3e,ratio:R3e,length:I3e,orth:F3e},Symbol.toStringTag,{value:"Module"}));var V1;(function(t){t.presets=z3e,t.registry=Vs.create({type:"edge endpoint"}),t.registry.register(t.presets,!0)})(V1||(V1={}));function Gk(t,e,n){let r;if(typeof n=="object"){if(Number.isFinite(n.y)){const o=new Xn(e,t),{start:s,end:a}=o.parallel(n.y);e=s,t=a}r=n.x}else r=n;if(r==null||!Number.isFinite(r))return t;const i=t.distance(e);return r===0&&i>0?t:t.move(e,-Math.min(r,i-1))}function GM(t){const e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function G3e(t){if(t==null)return null;let e=t;do{let n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}const Pre=function(t,e,n,r){const i=e.getBBoxOfElement(n);r.stroked&&i.inflate(GM(n)/2);const o=t.intersect(i),s=o&&o.length?t.start.closest(o):t.end;return Gk(s,t.start,r.offset)},B3e=function(t,e,n,r,i){const o=e.cell,s=o.isNode()?o.getAngle():0;if(s===0)return $n(Pre,this,t,e,n,r,i);const a=e.getUnrotatedBBoxOfElement(n);r.stroked&&a.inflate(GM(n)/2);const l=a.getCenter(),c=t.clone().rotate(s,l),u=c.setLength(1e6).intersect(a),f=u&&u.length?c.start.closest(u).rotate(-s,l):t.end;return Gk(f,t.start,r.offset)},j3e=function(t,e,n,r){let i,o;const s=t.end,a=r.selector;if(typeof a=="string"?i=e.findOne(a):Array.isArray(a)?i=$5(n,a):i=G3e(n),!UC(i)){if(i===n||!UC(n))return s;i=n}const l=e.getShapeOfElement(i),c=e.getMatrixOfElement(i),u=e.getRootTranslatedMatrix(),f=e.getRootRotatedMatrix(),d=u.multiply(f).multiply(c),h=d.inverse(),p=WPe(t,h),g=p.start.clone(),m=e.getDataOfElement(i);if(r.insideout===!1){m.shapeBBox==null&&(m.shapeBBox=l.bbox());const E=m.shapeBBox;if(E!=null&&E.containsPoint(g))return s}r.extrapolate===!0&&p.setLength(1e6);let y;if(dr.isPath(l)){const E=r.precision||2;m.segmentSubdivisions==null&&(m.segmentSubdivisions=l.getSegmentSubdivisions({precision:E})),y={precision:E,segmentSubdivisions:m.segmentSubdivisions},o=p.intersect(l,y)}else o=p.intersect(l);o?Array.isArray(o)&&(o=g.closest(o)):r.sticky===!0&&(mn.isRectangle(l)?o=l.getNearestPointToPoint(g):lf.isEllipse(l)?o=l.intersectsWithLineFromCenterToPoint(g):o=l.closestPoint(g,y));const b=o?bp(o,d):s;let C=r.offset||0;return r.stroked!==!1&&(typeof C=="object"?(C=Object.assign({},C),C.x==null&&(C.x=0),C.x+=GM(i)/2):C+=GM(i)/2),Gk(b,t.start,C)};function V3e(t,e,n=0){const{start:r,end:i}=t;let o,s,a,l;switch(e){case"left":l="x",o=i,s=r,a=-1;break;case"right":l="x",o=r,s=i,a=1;break;case"top":l="y",o=i,s=r,a=-1;break;case"bottom":l="y",o=r,s=i,a=1;break;default:return}r[l]<i[l]?o[l]=s[l]:s[l]=o[l],Number.isFinite(n)&&(o[l]+=a*n,s[l]+=a*n)}const U3e=function(t,e,n,r){const{alignOffset:i,align:o}=r;return o&&V3e(t,o,i),Gk(t.end,t.start,r.offset)},H3e=Object.freeze(Object.defineProperty({__proto__:null,bbox:Pre,rect:B3e,boundary:j3e,anchor:U3e},Symbol.toStringTag,{value:"Module"}));var U1;(function(t){t.presets=H3e,t.registry=Vs.create({type:"connection point"}),t.registry.register(t.presets,!0)})(U1||(U1={}));const W3e=function(t){return[...t]},Y3e=function(t,e,n){const r=e.side||"bottom",i=Ac(e.padding||40),o=n.sourceBBox,s=n.targetBBox,a=o.getCenter(),l=s.getCenter();let c,u,f;switch(r){case"top":f=-1,c="y",u="height";break;case"left":f=-1,c="x",u="width";break;case"right":f=1,c="x",u="width";break;case"bottom":default:f=1,c="y",u="height";break}return a[c]+=f*(o[u]/2+i[r]),l[c]+=f*(s[u]/2+i[r]),f*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a.toJSON(),...t,l.toJSON()]};function nP(t){return new mn(t.x,t.y,0,0)}function BM(t={}){const e=Ac(t.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function Ore(t,e={}){return t.sourceBBox.clone().moveAndExpand(BM(e))}function Mre(t,e={}){return t.targetBBox.clone().moveAndExpand(BM(e))}function q3e(t,e={}){return t.sourceAnchor?t.sourceAnchor:Ore(t,e).getCenter()}function X3e(t,e={}){return t.targetAnchor?t.targetAnchor:Mre(t,e).getCenter()}const Are=function(t,e,n){let r=Ore(n,e),i=Mre(n,e);const o=q3e(n,e),s=X3e(n,e);r=r.union(nP(o)),i=i.union(nP(s));const a=t.map(u=>Ce.create(u));a.unshift(o),a.push(s);let l=null;const c=[];for(let u=0,f=a.length-1;u<f;u+=1){let d=null;const h=a[u],p=a[u+1],g=Xu.getBearing(h,p)!=null;if(u===0)u+1===f?r.intersectsWithRect(i.clone().inflate(1))?d=Xu.insideNode(h,p,r,i):g||(d=Xu.nodeToNode(h,p,r,i)):r.containsPoint(p)?d=Xu.insideNode(h,p,r,nP(p).moveAndExpand(BM(e))):g||(d=Xu.nodeToVertex(h,p,r));else if(u+1===f){const m=g&&Xu.getBearing(p,h)===l;i.containsPoint(h)||m?d=Xu.insideNode(h,p,nP(h).moveAndExpand(BM(e)),i,l):g||(d=Xu.vertexToNode(h,p,i,l))}else g||(d=Xu.vertexToVertex(h,p,l));d?(c.push(...d.points),l=d.direction):l=Xu.getBearing(h,p),u+1<f&&c.push(p)}return c};var Xu;(function(t){const e={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(f,d,h){let p=new Ce(f.x,d.y);return h.containsPoint(p)&&(p=new Ce(d.x,f.y)),p}function i(f,d){return f[d==="W"||d==="E"?"width":"height"]}t.getBBoxSize=i;function o(f,d){return f.x===d.x?f.y>d.y?"N":"S":f.y===d.y?f.x>d.x?"W":"E":null}t.getBearing=o;function s(f,d,h){const p=new Ce(f.x,d.y),g=new Ce(d.x,f.y),m=o(f,p),y=o(f,g),b=h?e[h]:null,C=m===h||m!==b&&(y===b||y!==h)?p:g;return{points:[C],direction:o(C,d)}}t.vertexToVertex=s;function a(f,d,h){const p=r(f,d,h);return{points:[p],direction:o(p,d)}}t.nodeToVertex=a;function l(f,d,h,p){const g=[new Ce(f.x,d.y),new Ce(d.x,f.y)],m=g.filter(C=>!h.containsPoint(C)),y=m.filter(C=>o(C,f)!==p);let b;if(y.length>0)return b=y.filter(C=>o(f,C)===p).pop(),b=b||y[0],{points:[b],direction:o(b,d)};{b=$_e(g,m)[0];const C=Ce.create(d).move(b,-i(h,p)/2);return{points:[r(C,f,h),C],direction:o(C,d)}}}t.vertexToNode=l;function c(f,d,h,p){let g=a(d,f,p);const m=g.points[0];if(h.containsPoint(m)){g=a(f,d,h);const y=g.points[0];if(p.containsPoint(y)){const b=Ce.create(f).move(y,-i(h,o(f,y))/2),C=Ce.create(d).move(m,-i(p,o(d,m))/2),E=new Xn(b,C).getCenter(),_=a(f,E,h),w=s(E,d,_.direction);g.points=[_.points[0],w.points[0]],g.direction=w.direction}}return g}t.nodeToNode=c;function u(f,d,h,p,g){const m=h.union(p).inflate(1),y=m.getCenter(),b=y.distance(d)>y.distance(f),C=b?d:f,E=b?f:d;let _,w,M;g?(_=Ce.fromPolar(m.width+m.height,n[g],C),_=m.getNearestPointToPoint(_).move(_,-1)):_=m.getNearestPointToPoint(C).move(C,1),w=r(_,E,m);let k;_.round().equals(w.round())?(w=Ce.fromPolar(m.width+m.height,pi.toRad(_.theta(C))+Math.PI/2,E),w=m.getNearestPointToPoint(w).move(E,1).round(),M=r(_,w,m),k=b?[w,M,_]:[_,M,w]):k=b?[w,_]:[_,w];const I=o(b?_:w,d);return{points:k,direction:I}}t.insideNode=u})(Xu||(Xu={}));const K3e={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeNodes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return ev(this.step,this)},directions(){const t=ev(this.step,this),e=ev(this.cost,this);return[{cost:e,offsetX:t,offsetY:0},{cost:e,offsetX:-t,offsetY:0},{cost:e,offsetX:0,offsetY:t},{cost:e,offsetX:0,offsetY:-t}]},penalties(){const t=ev(this.step,this);return{0:0,45:t/2,90:t/2}},paddingBox(){const t=ev(this.step,this);return{x:-t,y:-t,width:2*t,height:2*t}},fallbackRouter:Are,draggingRouter:null};function ev(t,e){return typeof t=="function"?t.call(e):t}function Z3e(t){const e=Object.keys(t).reduce((n,r)=>{const i=n;return r==="fallbackRouter"||r==="draggingRouter"||r==="fallbackRoute"?i[r]=t[r]:i[r]=ev(t[r],t),n},{});if(e.padding){const n=Ac(e.padding);e.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return e.directions.forEach(n=>{const r=new Ce(0,0),i=new Ce(n.offsetX,n.offsetY);n.angle=pi.normalize(r.theta(i))}),e}const Hj=1,Wj=2;class Q3e{constructor(){this.items=[],this.hash={},this.values={}}add(e,n){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=Hj,this.values[e]=n;const r=_Te(this.items,e,i=>this.values[i]);this.items.splice(r,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=Wj),e}isOpen(e){return this.hash[e]===Hj}isClose(e){return this.hash[e]===Wj}isEmpty(){return this.items.length===0}}class J3e{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,n){const r=this.options,i=r.excludeTerminals.reduce((c,u)=>{const f=n[u];if(f){const d=e.getCell(f.cell);d&&c.push(d)}return c},[]);let o=[];const s=e.getCell(n.getSourceCellId());s&&(o=Oj(o,s.getAncestors().map(c=>c.id)));const a=e.getCell(n.getTargetCellId());a&&(o=Oj(o,a.getAncestors().map(c=>c.id)));const l=this.mapGridSize;return e.getNodes().reduce((c,u)=>{const f=u.shape,d=r.excludeShapes,h=f?d.includes(f):!1,p=i.some(C=>C.id===u.id),g=r.excludeNodes.includes(u),m=o.includes(u.id),y=r.excludeHiddenNodes&&!u.isVisible();if(!(h||p||g||m||y)){const C=u.getBBox().moveAndExpand(r.paddingBox),E=C.getOrigin().snapToGrid(l),_=C.getCorner().snapToGrid(l);for(let w=E.x;w<=_.x;w+=l)for(let M=E.y;M<=_.y;M+=l){const k=new Ce(w,M).toString();c[k]==null&&(c[k]=[]),c[k].push(C)}}return c},this.map),this}isAccessible(e){const n=e.clone().snapToGrid(this.mapGridSize).toString(),r=this.map[n];return r?r.every(i=>!i.containsPoint(e)):!0}}function kre(t,e){const n=t.sourceBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function Dre(t,e){const n=t.targetBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function Nre(t,e){return t.sourceAnchor?t.sourceAnchor:kre(t,e).getCenter()}function eAe(t,e){return t.targetAnchor?t.targetAnchor:Dre(t,e).getCenter()}function LR(t,e,n,r,i){const o=360/n,s=t.theta(tAe(t,e,r,i)),a=pi.normalize(s+o/2);return o*Math.floor(a/o)}function tAe(t,e,n,r){const i=r.step,o=e.x-t.x,s=e.y-t.y,a=o/n.x,l=s/n.y,c=a*i,u=l*i;return new Ce(t.x+c,t.y+u)}function Yj(t,e){const n=Math.abs(t-e);return n>180?360-n:n}function nAe(t,e){const n=e.step;return e.directions.forEach(r=>{r.gridOffsetX=r.offsetX/n*t.x,r.gridOffsetY=r.offsetY/n*t.y}),e.directions}function rAe(t,e,n){return{source:e.clone(),x:qj(n.x-e.x,t),y:qj(n.y-e.y,t)}}function qj(t,e){if(!t)return e;const n=Math.abs(t),r=Math.round(n/e);if(!r)return n;const i=r*e,s=(n-i)/r;return e+s}function iAe(t,e){const n=e.source,r=Js.snapToGrid(t.x-n.x,e.x)+n.x,i=Js.snapToGrid(t.y-n.y,e.y)+n.y;return new Ce(r,i)}function ww(t,e){return t.round(e)}function PO(t,e,n){return ww(iAe(t.clone(),e),n)}function Zw(t){return t.toString()}function FR(t){return new Ce(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function Xj(t,e){let n=1/0;for(let r=0,i=e.length;r<i;r+=1){const o=t.manhattanDistance(e[r]);o<n&&(n=o)}return n}function Kj(t,e,n,r,i){const o=i.precision,s=i.directionMap,a=t.diff(e.getCenter()),l=Object.keys(s).reduce((c,u)=>{if(n.includes(u)){const f=s[u],d=new Ce(t.x+f.x*(Math.abs(a.x)+e.width),t.y+f.y*(Math.abs(a.y)+e.height)),p=new Xn(t,d).intersect(e)||[];let g,m=null;for(let y=0;y<p.length;y+=1){const b=p[y],C=t.squaredDistance(b);(g==null||C>g)&&(g=C,m=b)}if(m){let y=PO(m,r,o);e.containsPoint(y)&&(y=PO(y.translate(f.x*r.x,f.y*r.y),r,o)),c.push(y)}}return c},[]);return e.containsPoint(t)||l.push(PO(t,r,o)),l}function oAe(t,e,n,r,i){const o=[];let s=FR(i.diff(n)),a=Zw(n),l=t[a],c;for(;l;){c=e[a];const d=FR(c.diff(l));d.equals(s)||(o.unshift(c),s=d),a=Zw(l),l=t[a]}const u=e[a];return FR(u.diff(r)).equals(s)||o.unshift(u),o}function sAe(t,e,n,r,i){const o=i.precision;let s,a;mn.isRectangle(e)?s=ww(Nre(t,i).clone(),o):s=ww(e.clone(),o),mn.isRectangle(n)?a=ww(eAe(t,i).clone(),o):a=ww(n.clone(),o);const l=rAe(i.step,s,a),c=s,u=a;let f,d;if(mn.isRectangle(e)?f=Kj(c,e,i.startDirections,l,i):f=[c],mn.isRectangle(n)?d=Kj(a,n,i.endDirections,l,i):d=[u],f=f.filter(h=>r.isAccessible(h)),d=d.filter(h=>r.isAccessible(h)),f.length>0&&d.length>0){const h=new Q3e,p={},g={},m={};for(let A=0,N=f.length;A<N;A+=1){const $=f[A],L=Zw($);h.add(L,Xj($,d)),p[L]=$,m[L]=0}const y=i.previousDirectionAngle,b=y===void 0;let C,E;const _=nAe(l,i),w=_.length,M=d.reduce((A,N)=>{const $=Zw(N);return A.push($),A},[]),k=Ce.equalPoints(f,d);let I=i.maxLoopCount;for(;!h.isEmpty()&&I>0;){const A=h.pop(),N=p[A],$=g[A],L=m[A],B=N.equals(c),j=$==null;let H;if(j?b?B?H=null:H=LR(c,N,w,l,i):H=y:H=LR($,N,w,l,i),!(j&&k)&&M.indexOf(A)>=0)return i.previousDirectionAngle=H,oAe(g,p,N,c,u);for(let Y=0;Y<w;Y+=1){C=_[Y];const ue=C.angle;if(E=Yj(H,ue),!(b&&B)&&E>i.maxDirectionChange)continue;const ce=PO(N.clone().translate(C.gridOffsetX||0,C.gridOffsetY||0),l,o),se=Zw(ce);if(h.isClose(se)||!r.isAccessible(ce))continue;if(M.indexOf(se)>=0&&!ce.equals(u)){const Ne=LR(ce,u,w,l,i);if(Yj(ue,Ne)>i.maxDirectionChange)continue}const fe=C.cost,me=B?0:i.penalties[E],K=L+fe+me;(!h.isOpen(se)||K<m[se])&&(p[se]=ce,g[se]=N,m[se]=K,h.add(se,K+Xj(ce,d)))}I-=1}}return i.fallbackRoute?$n(i.fallbackRoute,this,c,u,i):null}const aAe=function(t,e,n){const r=Z3e(e),i=kre(n,r),o=Dre(n,r),s=Nre(n,r),a=new J3e(r).build(n.graph.model,n.cell),l=t.map(h=>Ce.create(h)),c=[];let u=s,f,d;for(let h=0,p=l.length;h<=p;h+=1){let g=null;if(f=d||i,d=l[h],d==null){d=o;const y=n.cell;if((y.getSourceCellId()==null||y.getTargetCellId()==null)&&typeof r.draggingRouter=="function"){const C=f===i?s:f,E=d.getOrigin();g=$n(r.draggingRouter,n,C,E,r)}}if(g==null&&(g=sAe(n,f,d,a,r)),g===null)return $n(r.fallbackRouter,this,t,r,n);const m=g[0];m&&m.equals(u)&&g.shift(),u=g[g.length-1]||u,c.push(...g)}return c},Rre=function(t,e,n){return $n(aAe,this,t,Object.assign(Object.assign({},K3e),e),n)},lAe={maxDirectionChange:45,directions(){const t=ev(this.step,this),e=ev(this.cost,this),n=Math.ceil(Math.sqrt(t*t<<1));return[{cost:e,offsetX:t,offsetY:0},{cost:n,offsetX:t,offsetY:t},{cost:e,offsetX:0,offsetY:t},{cost:n,offsetX:-t,offsetY:t},{cost:e,offsetX:-t,offsetY:0},{cost:n,offsetX:-t,offsetY:-t},{cost:e,offsetX:0,offsetY:-t},{cost:n,offsetX:t,offsetY:-t}]},fallbackRoute(t,e,n){const r=t.theta(e),i=[];let o={x:e.x,y:t.y},s={x:t.x,y:e.y};if(r%180>90){const C=o;o=s,s=C}const a=r%90<45?o:s,l=new Xn(t,a),c=90*Math.ceil(r/90),u=Ce.fromPolar(l.squaredLength(),pi.toRad(c+135),a),f=new Xn(e,u),d=l.intersectsWithLine(f),h=d||e,p=d?h:t,g=360/n.directions.length,m=p.theta(e),y=pi.normalize(m+g/2),b=g*Math.floor(y/g);return n.previousDirectionAngle=b,h&&i.push(h.round()),i.push(e),i}},cAe=function(t,e,n){return $n(Rre,this,t,Object.assign(Object.assign({},lAe),e),n)},uAe=function(t,e,n){const r=e.offset||32,i=e.min==null?16:e.min;let o=0,s=e.direction;const a=n.sourceBBox,l=n.targetBBox,c=a.getCenter(),u=l.getCenter();if(typeof r=="number"&&(o=r),s==null){let y=l.left-a.right,b=l.top-a.bottom;y>=0&&b>=0?s=y>=b?"L":"T":y<=0&&b>=0?(y=a.left-l.right,y>=0?s=y>=b?"R":"T":s="T"):y>=0&&b<=0?(b=a.top-l.bottom,b>=0?s=y>=b?"L":"B":s="L"):(y=a.left-l.right,b=a.top-l.bottom,y>=0&&b>=0?s=y>=b?"R":"B":y<=0&&b>=0?s="B":y>=0&&b<=0?s="R":s=Math.abs(y)>Math.abs(b)?"R":"B")}s==="H"?s=u.x-c.x>=0?"L":"R":s==="V"&&(s=u.y-c.y>=0?"T":"B"),r==="center"&&(s==="L"?o=(l.left-a.right)/2:s==="R"?o=(a.left-l.right)/2:s==="T"?o=(l.top-a.bottom)/2:s==="B"&&(o=(a.top-l.bottom)/2));let f,d,h;const p=s==="L"||s==="R";if(p){if(u.y===c.y)return[...t];h=s==="L"?1:-1,f="x",d="width"}else{if(u.x===c.x)return[...t];h=s==="T"?1:-1,f="y",d="height"}const g=c.clone(),m=u.clone();if(g[f]+=h*(a[d]/2+o),m[f]-=h*(l[d]/2+o),p){const y=g.x,b=m.x,C=a.width/2+i,E=l.width/2+i;u.x>c.x?b<=y&&(g.x=Math.max(b,c.x+C),m.x=Math.min(y,u.x-E)):b>=y&&(g.x=Math.min(b,c.x-C),m.x=Math.max(y,u.x+E))}else{const y=g.y,b=m.y,C=a.height/2+i,E=l.height/2+i;u.y>c.y?b<=y&&(g.y=Math.max(b,c.y+C),m.y=Math.min(y,u.y-E)):b>=y&&(g.y=Math.min(b,c.y-C),m.y=Math.max(y,u.y+E))}return[g.toJSON(),...t,m.toJSON()]};function qy(t,e){if(e!=null&&e!==!1){const n=typeof e=="boolean"?0:e;if(n>0){const r=Ce.create(t[1]).move(t[2],n),i=Ce.create(t[1]).move(t[0],n);return[r.toJSON(),...t,i.toJSON()]}{const r=t[1];return[Object.assign({},r),...t,Object.assign({},r)]}}return t}const fAe=function(t,e,n){const r=e.width||50,o=(e.height||80)/2,s=e.angle||"auto",a=n.sourceAnchor,l=n.targetAnchor,c=n.sourceBBox,u=n.targetBBox;if(a.equals(l)){const f=y=>{const b=pi.toRad(y),C=Math.sin(b),E=Math.cos(b),_=new Ce(a.x+E*r,a.y+C*r),w=new Ce(_.x-E*o,_.y-C*o),M=w.clone().rotate(-90,_),k=w.clone().rotate(90,_);return[M.toJSON(),_.toJSON(),k.toJSON()]},d=y=>{const b=a.clone().move(y,-1),C=new Xn(b,y);return!c.containsPoint(y)&&!c.intersectsWithLine(C)},h=[0,90,180,270,45,135,225,315];if(typeof s=="number")return qy(f(s),e.merge);const p=c.getCenter();if(p.equals(a))return qy(f(0),e.merge);const g=p.angleBetween(a,p.clone().translate(1,0));let m=f(g);if(d(m[1]))return qy(m,e.merge);for(let y=1,b=h.length;y<b;y+=1)if(m=f(g+h[y]),d(m[1]))return qy(m,e.merge);return qy(m,e.merge)}{const f=new Xn(a,l);let d=f.parallel(-r),h=d.getCenter(),p=d.start.clone().move(d.end,o),g=d.end.clone().move(d.start,o);const m=f.parallel(-1),y=new Xn(m.start,h),b=new Xn(m.end,h);if((c.containsPoint(h)||u.containsPoint(h)||c.intersectsWithLine(y)||c.intersectsWithLine(b)||u.intersectsWithLine(y)||u.intersectsWithLine(b))&&(d=f.parallel(r),h=d.getCenter(),p=d.start.clone().move(d.end,o),g=d.end.clone().move(d.start,o)),e.merge){const C=new Xn(a,l),E=new Xn(h,C.center).setLength(Number.MAX_SAFE_INTEGER),_=c.intersectsWithLine(E),w=u.intersectsWithLine(E),M=_?Array.isArray(_)?_:[_]:[];w&&(Array.isArray(w)?M.push(...w):M.push(w));const k=C.center.closest(M);k?(n.sourceAnchor=k.clone(),n.targetAnchor=k.clone()):(n.sourceAnchor=C.center.clone(),n.targetAnchor=C.center.clone())}return qy([p.toJSON(),h.toJSON(),g.toJSON()],e.merge)}},dAe=Object.freeze(Object.defineProperty({__proto__:null,normal:W3e,oneSide:Y3e,orth:Are,metro:cAe,manhattan:Rre,er:uAe,loop:fAe},Symbol.toStringTag,{value:"Module"}));var av;(function(t){t.presets=dAe,t.registry=Vs.create({type:"router"}),t.registry.register(t.presets,!0)})(av||(av={}));const hAe=function(t,e,n,r={}){const i=[t,...n,e],o=new xa(i),s=new dr(o);return r.raw?s:s.serialize()},pAe=function(t,e,n,r={}){const i=n.length===3?0:1,o=Ce.create(n[0+i]),s=Ce.create(n[2+i]),a=Ce.create(n[1+i]);if(!Ce.equals(t,e)){const c=new Ce((t.x+e.x)/2,(t.y+e.y)/2),u=c.angleBetween(Ce.create(t).rotate(90,c),a);u>1&&(o.rotate(180-u,c),s.rotate(180-u,c),a.rotate(180-u,c))}const l=`
     M ${t.x} ${t.y}
     Q ${o.x} ${o.y} ${a.x} ${a.y}
     Q ${s.x} ${s.y} ${e.x} ${e.y}
  `;return r.raw?dr.parse(l):l},gAe=function(t,e,n,r={}){const i=new dr;i.appendSegment(dr.createSegment("M",t));const o=1/3,s=2/3,a=r.radius||10;let l,c;for(let u=0,f=n.length;u<f;u+=1){const d=Ce.create(n[u]),h=n[u-1]||t,p=n[u+1]||e;l=c||d.distance(h)/2,c=d.distance(p)/2;const g=-Math.min(a,l),m=-Math.min(a,c),y=d.clone().move(h,g).round(),b=d.clone().move(p,m).round(),C=new Ce(o*y.x+s*d.x,s*d.y+o*y.y),E=new Ce(o*b.x+s*d.x,s*d.y+o*b.y);i.appendSegment(dr.createSegment("L",y)),i.appendSegment(dr.createSegment("C",C,E,b))}return i.appendSegment(dr.createSegment("L",e)),r.raw?i:i.serialize()},vAe=function(t,e,n,r={}){let i,o=r.direction;if(n&&n.length!==0){const s=[t,...n,e],a=$s.throughPoints(s);i=new dr(a)}else if(i=new dr,i.appendSegment(dr.createSegment("M",t)),o||(o=Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)?"H":"V"),o==="H"){const s=(t.x+e.x)/2;i.appendSegment(dr.createSegment("C",s,t.y,s,e.y,e.x,e.y))}else{const s=(t.y+e.y)/2;i.appendSegment(dr.createSegment("C",t.x,s,e.x,s,e.x,e.y))}return r.raw?i:i.serialize()},Zj=1,rP=1/3,iP=2/3;function mAe(t){let e=t.graph._jumpOverUpdateList;if(e==null&&(e=t.graph._jumpOverUpdateList=[],t.graph.on("cell:mouseup",()=>{const n=t.graph._jumpOverUpdateList;for(let r=0;r<n.length;r+=1)n[r].update()}),t.graph.on("model:reseted",()=>{e=t.graph._jumpOverUpdateList=[]})),e.indexOf(t)<0){e.push(t);const n=()=>e.splice(e.indexOf(t),1);t.cell.once("change:connector",n),t.cell.once("removed",n)}}function zR(t,e,n=[]){const r=[t,...n,e],i=[];return r.forEach((o,s)=>{const a=r[s+1];a!=null&&i.push(new Xn(o,a))}),i}function yAe(t,e){const n=[];return e.forEach(r=>{const i=t.intersectsWithLine(r);i&&n.push(i)}),n}function Qj(t,e){return new Xn(t,e).squaredLength()}function bAe(t,e,n){return e.reduce((r,i,o)=>{if(jM.includes(i))return r;const s=r.pop()||t,a=Ce.create(i).move(s.start,-n);let l=Ce.create(i).move(s.start,+n);const c=e[o+1];if(c!=null){const d=l.distance(c);d<=n&&(l=c.move(s.start,d),jM.push(c))}else if(a.distance(s.end)<n*2+Zj)return r.push(s),r;if(l.distance(s.start)<n*2+Zj)return r.push(s),r;const f=new Xn(a,l);return eS.push(f),r.push(new Xn(s.start,a),f,new Xn(l,s.end)),r},[])}function Jj(t,e,n,r){const i=new dr;let o;return o=dr.createSegment("M",t[0].start),i.appendSegment(o),t.forEach((s,a)=>{if(eS.includes(s)){let l,c,u,f;if(n==="arc"){l=-90,c=s.start.diff(s.end),(c.x<0||c.x===0&&c.y<0)&&(l+=180);const h=s.getCenter(),p=new Xn(h,s.end).rotate(l,h);let g;g=new Xn(s.start,h),u=g.pointAt(2/3).rotate(l,s.start),f=p.pointAt(1/3).rotate(-l,p.end),o=dr.createSegment("C",u,f,p.end),i.appendSegment(o),g=new Xn(h,s.end),u=p.pointAt(1/3).rotate(l,p.end),f=g.pointAt(1/3).rotate(-l,s.end),o=dr.createSegment("C",u,f,s.end),i.appendSegment(o)}else if(n==="gap")o=dr.createSegment("M",s.end),i.appendSegment(o);else if(n==="cubic"){l=s.start.theta(s.end);const d=e*.6;let h=e*1.35;c=s.start.diff(s.end),(c.x<0||c.x===0&&c.y<0)&&(h*=-1),u=new Ce(s.start.x+d,s.start.y+h).rotate(l,s.start),f=new Ce(s.end.x-d,s.end.y+h).rotate(l,s.end),o=dr.createSegment("C",u,f,s.end),i.appendSegment(o)}}else{const l=t[a+1];r===0||!l||eS.includes(l)?(o=dr.createSegment("L",s.end),i.appendSegment(o)):xAe(r,i,s.end,s.start,l.end)}}),i}function xAe(t,e,n,r,i){const o=n.distance(r)/2,s=n.distance(i)/2,a=-Math.min(t,o),l=-Math.min(t,s),c=n.clone().move(r,a).round(),u=n.clone().move(i,l).round(),f=new Ce(rP*c.x+iP*n.x,iP*n.y+rP*c.y),d=new Ce(rP*u.x+iP*n.x,iP*n.y+rP*u.y);let h;h=dr.createSegment("L",c),e.appendSegment(h),h=dr.createSegment("C",f,d,u),e.appendSegment(h)}let eS,jM;const wAe=function(t,e,n,r={}){eS=[],jM=[],mAe(this);const i=r.size||5,o=r.type||"arc",s=r.radius||0,a=r.ignoreConnectors||["smooth"],l=this.graph,u=l.model.getEdges();if(u.length===1)return Jj(zR(t,e,n),i,o,s);const f=this.cell,d=u.indexOf(f),h=l.options.connecting.connector||{},p=u.filter((E,_)=>{const w=E.getConnector()||h;return a.includes(w.name)?!1:_>d?w.name!=="jumpover":!0}),g=p.map(E=>l.renderer.findViewByCell(E)),m=zR(t,e,n),y=g.map(E=>E==null?[]:E===this?m:zR(E.sourcePoint,E.targetPoint,E.routePoints)),b=[];m.forEach(E=>{const _=p.reduce((w,M,k)=>{if(M!==f){const I=yAe(E,y[k]);w.push(...I)}return w},[]).sort((w,M)=>Qj(E.start,w)-Qj(E.start,M));_.length>0?b.push(...bAe(E,_,i)):b.push(E)});const C=Jj(b,i,o,s);return eS=[],jM=[],r.raw?C:C.serialize()},CAe=Object.freeze(Object.defineProperty({__proto__:null,normal:hAe,loop:pAe,rounded:gAe,smooth:vAe,jumpover:wAe},Symbol.toStringTag,{value:"Module"}));var ih;(function(t){t.presets=CAe,t.registry=Vs.create({type:"connector"}),t.registry.register(t.presets,!0)})(ih||(ih={}));const SAe=Vs.create;class tS{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,n,r={},i="/"){const o=this.cell.getPropByPath(e),s=S_e(r,tS.defaultOptions),a=this.getTiming(s.timing),l=this.getInterp(s.interp,o,n);let c=0;const u=Array.isArray(e)?e.join(i):e,f=Array.isArray(e)?e:e.split(i),d=()=>{const h=new Date().getTime();c===0&&(c=h);let g=(h-c)/s.duration;g<1?this.ids[u]=V6(d):g=1;const m=l(a(g));this.cell.setPropByPath(f,m),r.progress&&r.progress(Object.assign({progress:g,currentValue:m},this.getArgs(u))),g===1&&(this.cell.notify("transition:end",this.getArgs(u)),this.cell.notify("transition:complete",this.getArgs(u)),r.complete&&r.complete(this.getArgs(u)),this.cell.notify("transition:finish",this.getArgs(u)),r.finish&&r.finish(this.getArgs(u)),this.clean(u))};return setTimeout(()=>{this.stop(e,void 0,i),this.cache[u]={startValue:o,targetValue:n,options:s},this.ids[u]=V6(d),this.cell.notify("transition:begin",this.getArgs(u)),this.cell.notify("transition:start",this.getArgs(u)),r.start&&r.start(this.getArgs(u))},r.delay),this.stop.bind(this,e,i,r)}stop(e,n={},r="/"){const i=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter(o=>rh(i,o.split(r).slice(0,i.length))).forEach(o=>{U6(this.ids[o]);const s=this.cache[o],a=this.getArgs(o),l=Object.assign(Object.assign({},s.options),n),c=l.jumpedToEnd;c&&s.targetValue!=null&&(this.cell.setPropByPath(o,s.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),l.complete&&l.complete(Object.assign({},a)));const u=Object.assign({jumpedToEnd:c},a);this.cell.notify("transition:stop",Object.assign({},u)),l.stop&&l.stop(Object.assign({},u)),this.cell.notify("transition:finish",Object.assign({},a)),l.finish&&l.finish(Object.assign({},a)),this.clean(o)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return typeof e=="string"?O0[e]:e}getInterp(e,n,r){return e?e(n,r):typeof r=="number"?l0.number(n,r):typeof r=="string"?r[0]==="#"?l0.color(n,r):l0.unit(n,r):l0.object(n,r)}getArgs(e){const n=this.cache[e];return{path:e,startValue:n.startValue,targetValue:n.targetValue,cell:this.cell}}}(function(t){t.defaultOptions={delay:10,duration:100,timing:"linear"}})(tS||(tS={}));var EAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Ire extends yl{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Fs(e)),this.changed={}}mutate(e,n={}){const r=n.unset===!0,i=n.silent===!0,o=[],s=this.changing;this.changing=!0,s||(this.previous=Fs(this.data),this.changed={});const a=this.data,l=this.previous,c=this.changed;if(Object.keys(e).forEach(u=>{const f=u,d=e[f];rh(a[f],d)||o.push(f),rh(l[f],d)?delete c[f]:c[f]=d,r?delete a[f]:a[f]=d}),!i&&o.length>0&&(this.pending=!0,this.pendingOptions=n,o.forEach(u=>{this.emit("change:*",{key:u,options:n,store:this,current:a[u],previous:l[u]})})),s)return this;if(!i)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,n){if(e==null)return this.data;const r=this.data[e];return r==null?n:r}getPrevious(e){if(this.previous){const n=this.previous[e];return n==null?void 0:n}}set(e,n,r){return e!=null&&(typeof e=="object"?this.mutate(e,n):this.mutate({[e]:n},r)),this}remove(e,n){const i={};let o;if(typeof e=="string")i[e]=void 0,o=n;else if(Array.isArray(e))e.forEach(s=>i[s]=void 0),o=n;else{for(const s in this.data)i[s]=void 0;o=e}return this.mutate(i,Object.assign(Object.assign({},o),{unset:!0})),this}getByPath(e){return $5(this.data,e,"/")}setByPath(e,n,r={}){const i="/",o=Array.isArray(e)?[...e]:e.split(i),s=Array.isArray(e)?e.join(i):e,a=o[0],l=o.length;if(r.propertyPath=s,r.propertyValue=n,r.propertyPathArray=o,l===1)this.set(a,n,r);else{const c={};let u=c,f=a;for(let p=1;p<l;p+=1){const g=o[p],m=Number.isFinite(Number(g));u=u[f]=m?[]:{},f=g}w2(c,o,n,i);const d=Fs(this.data);r.rewrite&&Aj(d,e,i);const h=Io(d,c);this.set(a,h[a],r)}return this}removeByPath(e,n){const r=Array.isArray(e)?e:e.split("/"),i=r[0];if(r.length===1)this.remove(i,n);else{const o=r.slice(1),s=Fs(this.get(i));s&&Aj(s,o),this.set(i,s,n)}return this}hasChanged(e){return e==null?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(e==null)return this.hasChanged()?Fs(this.changed):null;const n=this.changing?this.previous:this.data,r={};let i;for(const o in e){const s=e[o];rh(n[o],s)||(r[o]=s,i=!0)}return i?Fs(r):null}toJSON(){return Fs(this.data)}clone(){const e=this.constructor;return new e(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}EAe([yl.dispose()],Ire.prototype,"dispose",null);var _Ae=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},$re=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class xi extends yl{constructor(e={}){super();const r=this.constructor.getDefaults(!0),i=Io({},this.preprocess(r),this.preprocess(e));this.id=i.id||$6(),this.store=new Ire(i),this.animation=new tS(this),this.setup(),this.init(),this.postprocess(e)}static config(e){const{markup:n,propHooks:r,attrHooks:i}=e,o=$re(e,["markup","propHooks","attrHooks"]);n!=null&&(this.markup=n),r&&(this.propHooks=this.propHooks.slice(),Array.isArray(r)?this.propHooks.push(...r):typeof r=="function"?this.propHooks.push(r):Object.keys(r).forEach(s=>{const a=r[s];typeof a=="function"&&this.propHooks.push(a)})),i&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),i)),this.defaults=Io({},this.defaults,o)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:Fs(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,n){return this.propHooks.reduce((r,i)=>i?$n(i,e,r):r,n)}get[Symbol.toStringTag](){return xi.toStringTag}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,n){const r=e.id,o=this.constructor.applyPropHooks(this,e);return r==null&&n!==!0&&(o.id=$6()),o}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:n,current:r,previous:i,options:o}=e;this.notify("change:*",{key:n,options:o,current:r,previous:i,cell:this}),this.notify(`change:${n}`,{options:o,current:r,previous:i,cell:this});const s=n;(s==="source"||s==="target")&&this.notify("change:terminal",{type:s,current:r,previous:i,options:o,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,n){this.trigger(e,n);const r=this.model;return r&&(r.notify(`cell:${e}`,n),this.isNode()?r.notify(`node:${e}`,Object.assign(Object.assign({},n),{node:this})):this.isEdge()&&r.notify(`edge:${e}`,Object.assign(Object.assign({},n),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,n){return e==null?this.store.get():this.store.get(e,n)}setProp(e,n,r){if(typeof e=="string")this.store.set(e,n,r);else{const i=this.preprocess(e,!0);this.store.set(Io({},this.getProp(),i),n),this.postprocess(e)}return this}removeProp(e,n){return typeof e=="string"||Array.isArray(e)?this.store.removeByPath(e,n):this.store.remove(n),this}hasChanged(e){return e==null?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,n,r={}){return this.model&&(e==="children"?this._children=n?n.map(i=>this.model.getCell(i)).filter(i=>i!=null):null:e==="parent"&&(this._parent=n?this.model.getCell(n):null)),this.store.setByPath(e,n,r),this}removePropByPath(e,n={}){const r=Array.isArray(e)?e:e.split("/");return r[0]==="attrs"&&(n.dirty=!0),this.store.removeByPath(r,n),this}prop(e,n,r){return e==null?this.getProp():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getPropByPath(e):n==null?this.removePropByPath(e,r||{}):this.setPropByPath(e,n,r||{}):this.setProp(e,n||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){e==null?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,n={}){return this.store.set("zIndex",e,n),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const n=this.model;if(n){let r=n.getMaxZIndex(),i;e.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this],r=r-i.length+1;const o=n.total();let s=n.indexOf(this)!==o-i.length;s||(s=i.some((a,l)=>a.getZIndex()!==r+l)),s&&this.batchUpdate("to-front",()=>{r+=i.length,i.forEach((a,l)=>{a.setZIndex(r+l,e)})})}return this}toBack(e={}){const n=this.model;if(n){let r=n.getMinZIndex(),i;e.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this];let o=n.indexOf(this)!==0;o||(o=i.some((s,a)=>s.getZIndex()!==r+a)),o&&this.batchUpdate("to-back",()=>{r-=i.length,i.forEach((s,a)=>{s.setZIndex(r+a,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){e==null?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return e==null&&(e=this.constructor.getMarkup()),e}setMarkup(e,n={}){return this.store.set("markup",e,n),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){e==null?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,n={}){if(e==null)this.removeAttrs(n);else{const r=i=>this.store.set("attrs",i,n);if(n.overwrite===!0)r(e);else{const i=this.getAttrs();n.deep===!1?r(Object.assign(Object.assign({},i),e)):r(Io({},i,e))}}return this}replaceAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const r=this.constructor.getAttrHooks()||{};let i=r[e]||hh.registry.get(e);if(!i){const o=O5(e);i=r[o]||hh.registry.get(o)}return i||null}getAttrByPath(e){return e==null||e===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,n,r={}){return this.setPropByPath(this.prefixAttrPath(e),n,r),this}removeAttrByPath(e,n={}){return this.removePropByPath(this.prefixAttrPath(e),n),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,n,r){return e==null?this.getAttrByPath():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getAttrByPath(e):n==null?this.removeAttrByPath(e,r||{}):this.setAttrByPath(e,n,r||{}):this.setAttrs(e,n||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,n={}){return this.store.set("visible",e,n),this}isVisible(){return this.store.get("visible")!==!1}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,n={}){const r=typeof e=="boolean"?e:!this.isVisible(),i=typeof e=="boolean"?n:e;return r?this.show(i):this.hide(i),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,n={}){if(e==null)this.removeData(n);else{const r=i=>this.store.set("data",i,n);if(n.overwrite===!0)r(e);else{const i=this.getData();n.deep===!1?r(typeof e=="object"?Object.assign(Object.assign({},i),e):e):r(Io({},i,e))}}return this}replaceData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const n=this.model.getCell(e);return this._parent=n,n}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const n=e.map(r=>{var i;return(i=this.model)===null||i===void 0?void 0:i.getCell(r)}).filter(r=>r!=null);return this._children=n,[...n]}return null}hasParent(){return this.parent!=null}isParentOf(e){return e!=null&&e.getParent()===this}isChildOf(e){return e!=null&&this.getParent()===e}eachChild(e,n){return this.children&&this.children.forEach(e,n),this}filterChild(e,n){return this.children?this.children.filter(e,n):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(e){return this.children==null?-1:this.children.indexOf(e)}getChildAt(e){return this.children!=null&&e>=0?this.children[e]:null}getAncestors(e={}){const n=[];let r=this.getParent();for(;r;)n.push(r),r=e.deep!==!1?r.getParent():null;return n}getDescendants(e={}){if(e.deep!==!1){if(e.breadthFirst){const n=[],r=this.getChildren()||[];for(;r.length>0;){const i=r.shift(),o=i.getChildren();n.push(i),o&&r.push(...o)}return n}{const n=this.getChildren()||[];return n.forEach(r=>{n.push(...r.getDescendants(e))}),n}}return this.getChildren()||[]}isDescendantOf(e,n={}){if(e==null)return!1;if(n.deep!==!1){let r=this.getParent();for(;r;){if(r===e)return!0;r=r.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,n={}){return e==null?!1:e.isDescendantOf(this,n)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return xi.getCommonAncestor(this,...e)}setParent(e,n={}){return this._parent=e,e?this.store.set("parent",e.id,n):this.store.remove("parent",n),this}setChildren(e,n={}){return this._children=e,e!=null?this.store.set("children",e.map(r=>r.id),n):this.store.remove("children",n),this}unembed(e,n={}){const r=this.children;if(r!=null&&e!=null){const i=this.getChildIndex(e);i!==-1&&(r.splice(i,1),e.setParent(null,n),this.setChildren(r,n))}return this}embed(e,n={}){return e.addTo(this,n),this}addTo(e,n={}){return xi.isCell(e)?e.addChild(this,n):e.addCell(this,n),this}insertTo(e,n,r={}){return e.insertChild(this,n,r),this}addChild(e,n={}){return this.insertChild(e,void 0,n)}insertChild(e,n,r={}){if(e!=null&&e!==this){const i=e.getParent(),o=this!==i;let s=n;if(s==null&&(s=this.getChildCount(),o||(s-=1)),i){const l=i.getChildren();if(l){const c=l.indexOf(e);c>=0&&(e.setParent(null,r),l.splice(c,1),i.setChildren(l,r))}}let a=this.children;if(a==null?(a=[],a.push(e)):a.splice(s,0,e),e.setParent(this,r),this.setChildren(a,r),o&&this.model){const l=this.model.getIncomingEdges(this),c=this.model.getOutgoingEdges(this);l&&l.forEach(u=>u.updateParent(r)),c&&c.forEach(u=>u.updateParent(r))}this.model&&this.model.addCell(e,r)}return this}removeFromParent(e={}){const n=this.getParent();if(n!=null){const r=n.getChildIndex(this);n.removeChildAt(r,e)}return this}removeChild(e,n={}){const r=this.getChildIndex(e);return this.removeChildAt(r,n)}removeChildAt(e,n={}){const r=this.getChildAt(e);return this.children!=null&&r!=null&&(this.unembed(r,n),r.remove(n)),r}remove(e={}){return this.batchUpdate("remove",()=>{const n=this.getParent();n&&n.removeChild(this,e),e.deep!==!1&&this.eachChild(r=>r.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,n,r={},i="/"){return this.animation.start(e,n,r,i)}stopTransition(e,n,r="/"){return this.animation.stop(e,n,r),this}getTransitions(){return this.animation.get()}translate(e,n,r){return this}scale(e,n,r,i){return this}addTools(e,n,r){const i=Array.isArray(e)?e:[e],o=typeof n=="string"?n:null,s=typeof n=="object"?n:typeof r=="object"?r:{};if(s.reset)return this.setTools({name:o,items:i,local:s.local},s);let a=Fs(this.getTools());if(a==null||o==null||a.name===o)return a==null&&(a={}),a.items||(a.items=[]),a.name=o,a.items=[...a.items,...i],this.setTools(Object.assign({},a),s)}setTools(e,n={}){return e==null?this.removeTools():this.store.set("tools",xi.normalizeTools(e),n),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const n=this.getTools();return n==null?!1:e==null?!0:n.name===e}hasTool(e){const n=this.getTools();return n==null?!1:n.items.some(r=>typeof r=="string"?r===e:r.name===e)}removeTool(e,n={}){const r=Fs(this.getTools());if(r){let i=!1;const o=r.items.slice(),s=a=>{o.splice(a,1),i=!0};if(typeof e=="number")s(e);else for(let a=o.length-1;a>=0;a-=1){const l=o[a];(typeof l=="string"?l===e:l.name===e)&&s(a)}i&&(r.items=o,this.setTools(r,n))}return this}getBBox(e){return new mn}getConnectionPoint(e,n){return new Ce}toJSON(e={}){const n=Object.assign({},this.store.get()),r=Object.prototype.toString,i=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){const p=this.constructor;throw new Error(`Unable to serialize ${i} missing "shape" prop, check the ${i} "${p.name||r.call(p)}"`)}const o=this.constructor,s=e.diff===!0,a=n.attrs||{},l=o.getDefaults(!0),c=s?this.preprocess(l,!0):l,u=c.attrs||{},f={};Object.keys(n).forEach(p=>{const g=n[p];if(g!=null&&!Array.isArray(g)&&typeof g=="object"&&!gu(g))throw new Error(`Can only serialize ${i} with plain-object props, but got a "${r.call(g)}" type of key "${p}" on ${i} "${this.id}"`);if(p!=="attrs"&&p!=="shape"&&s){const m=c[p];rh(g,m)&&delete n[p]}}),Object.keys(a).forEach(p=>{const g=a[p],m=u[p];Object.keys(g).forEach(y=>{const b=g[y],C=m?m[y]:null;b!=null&&typeof b=="object"&&!Array.isArray(b)?Object.keys(b).forEach(E=>{const _=b[E];if(m==null||C==null||!aa(C)||!rh(C[E],_)){f[p]==null&&(f[p]={}),f[p][y]==null&&(f[p][y]={});const w=f[p][y];w[E]=_}}):(m==null||!rh(C,b))&&(f[p]==null&&(f[p]={}),f[p][y]=b)})});const d=Object.assign(Object.assign({},n),{attrs:gne(f)?void 0:f});d.attrs==null&&delete d.attrs;const h=d;return h.angle===0&&delete h.angle,Fs(h)}clone(e={}){if(!e.deep){const r=Object.assign({},this.store.get());e.keepId||delete r.id,delete r.parent,delete r.children;const i=this.constructor;return new i(r)}return xi.deepClone(this)[this.id]}findView(e){return e.renderer.findViewByCell(this)}startBatch(e,n={},r=this.model){return this.notify("batch:start",{name:e,data:n,cell:this}),r&&r.startBatch(e,Object.assign(Object.assign({},n),{cell:this})),this}stopBatch(e,n={},r=this.model){return r&&r.stopBatch(e,Object.assign(Object.assign({},n),{cell:this})),this.notify("batch:stop",{name:e,data:n,cell:this}),this}batchUpdate(e,n,r){const i=this.model;this.startBatch(e,r,i);const o=n();return this.stopBatch(e,r,i),o}dispose(){this.removeFromParent(),this.store.dispose()}}xi.defaults={};xi.attrHooks={};xi.propHooks=[];_Ae([yl.dispose()],xi.prototype,"dispose",null);(function(t){function e(n){return typeof n=="string"?{items:[n]}:Array.isArray(n)?{items:n}:n.items?n:{items:[n]}}t.normalizeTools=e})(xi||(xi={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"}t.isCell=e})(xi||(xi={}));(function(t){function e(...o){const s=o.filter(l=>l!=null).map(l=>l.getAncestors()).sort((l,c)=>l.length-c.length);return s.shift().find(l=>s.every(c=>c.includes(l)))||null}t.getCommonAncestor=e;function n(o,s={}){let a=null;for(let l=0,c=o.length;l<c;l+=1){const u=o[l];let f=u.getBBox(s);if(f){if(u.isNode()){const d=u.getAngle();d!=null&&d!==0&&(f=f.bbox(d))}a=a==null?f:a.union(f)}}return a}t.getCellsBBox=n;function r(o){const s=[o,...o.getDescendants({deep:!0})];return t.cloneCells(s)}t.deepClone=r;function i(o){const s=xne(o),a=s.reduce((l,c)=>(l[c.id]=c.clone(),l),{});return s.forEach(l=>{const c=a[l.id];if(c.isEdge()){const d=c.getSourceCellId(),h=c.getTargetCellId();d&&a[d]&&c.setSource(Object.assign(Object.assign({},c.getSource()),{cell:a[d].id})),h&&a[h]&&c.setTarget(Object.assign(Object.assign({},c.getTarget()),{cell:a[h].id}))}const u=l.getParent();u&&a[u.id]&&c.setParent(a[u.id]);const f=l.getChildren();if(f&&f.length){const d=f.reduce((h,p)=>(a[p.id]&&h.push(a[p.id]),h),[]);d.length>0&&c.setChildren(d)}}),a}t.cloneCells=i})(xi||(xi={}));(function(t){t.config({propHooks(e){var{tools:n}=e,r=$re(e,["tools"]);return n&&(r.tools=t.normalizeTools(n)),r}})})(xi||(xi={}));var H1;(function(t){let e,n;function r(s,a){return a?e!=null&&e.exist(s):n!=null&&n.exist(s)}t.exist=r;function i(s){e=s}t.setEdgeRegistry=i;function o(s){n=s}t.setNodeRegistry=o})(H1||(H1={}));class TAe{constructor(e){this.ports=[],this.groups={},this.init(Fs(e))}getPorts(){return this.ports}getGroup(e){return e!=null?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(n=>n.group===e||n.group==null&&e==null)}getPortsLayoutByGroup(e,n){const r=this.getPortsByGroup(e),i=e?this.getGroup(e):null,o=i?i.position:null,s=o?o.name:null;let a;if(s!=null){const f=m0.registry.get(s);if(f==null)return m0.registry.onNotFound(s);a=f}else a=m0.presets.left;const l=r.map(f=>f&&f.position&&f.position.args||{}),c=o&&o.args||{};return a(l,n,c).map((f,d)=>{const h=r[d];return{portLayout:f,portId:h.id,portSize:h.size,portAttrs:h.attrs,labelSize:h.label.size,labelLayout:this.getPortLabelLayout(h,Ce.create(f.position),n)}})}init(e){const{groups:n,items:r}=e;n!=null&&Object.keys(n).forEach(i=>{this.groups[i]=this.parseGroup(n[i])}),Array.isArray(r)&&r.forEach(i=>{this.ports.push(this.parsePort(i))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const n=Object.assign({},e),r=this.getGroup(e.group)||{};return n.markup=n.markup||r.markup,n.attrs=Io({},r.attrs,n.attrs),n.position=this.createPosition(r,n),n.label=Io({},r.label,this.getLabel(n)),n.zIndex=this.getZIndex(r,n),n.size=Object.assign(Object.assign({},r.size),n.size),n}getZIndex(e,n){return typeof n.zIndex=="number"?n.zIndex:typeof e.zIndex=="number"||e.zIndex==="auto"?e.zIndex:"auto"}createPosition(e,n){return Io({name:"left",args:{}},e.position,{args:n.args})}getPortPosition(e,n=!1){if(e==null){if(n)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if(typeof e=="object")return e}return{args:{}}}getPortLabelPosition(e,n=!1){if(e==null){if(n)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(typeof e=="object")return e}return{args:{}}}getLabel(e,n=!1){const r=e.label||{};return r.position=this.getPortLabelPosition(r.position,n),r}getPortLabelLayout(e,n,r){const i=e.label.position.name||"left",o=e.label.position.args||{},s=L1.registry.get(i)||L1.presets.left;return s?s(n,r,o):null}}var Bk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class fo extends xi{constructor(e={}){super(e),this.initPorts()}get[Symbol.toStringTag](){return fo.toStringTag}preprocess(e,n){const{x:r,y:i,width:o,height:s}=e,a=Bk(e,["x","y","width","height"]);if(r!=null||i!=null){const l=a.position;a.position=Object.assign(Object.assign({},l),{x:r!=null?r:l?l.x:0,y:i!=null?i:l?l.y:0})}if(o!=null||s!=null){const l=a.size;a.size=Object.assign(Object.assign({},l),{width:o!=null?o:l?l.width:0,height:s!=null?s:l?l.height:0})}return super.preprocess(a,n)}isNode(){return!0}size(e,n,r){return e===void 0?this.getSize():typeof e=="number"?this.setSize(e,n,r):this.setSize(e,n)}getSize(){const e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}setSize(e,n,r){return typeof e=="object"?this.resize(e.width,e.height,n):this.resize(e,n,r),this}resize(e,n,r={}){this.startBatch("resize",r);const i=r.direction;if(i){const o=this.getSize();switch(i){case"left":case"right":n=o.height;break;case"top":case"bottom":e=o.width;break}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[i];const l=pi.normalize(this.getAngle()||0);r.absolute&&(a+=Math.floor((l+45)/90),a%=4);const c=this.getBBox();let u;a===0?u=c.getBottomLeft():a===1?u=c.getCorner():a===2?u=c.getTopRight():u=c.getOrigin();const f=u.clone().rotate(-l,c.getCenter()),d=Math.sqrt(e*e+n*n)/2;let h=a*Math.PI/2;h+=Math.atan(a%2===0?n/e:e/n),h-=pi.toRad(l);const g=Ce.fromPolar(d,h,f).clone().translate(e/-2,n/-2);this.store.set("size",{width:e,height:n},r),this.setPosition(g.x,g.y,r)}else this.store.set("size",{width:e,height:n},r);return this.stopBatch("resize",r),this}scale(e,n,r,i={}){const o=this.getBBox().scale(e,n,r==null?void 0:r);return this.startBatch("scale",i),this.setPosition(o.x,o.y,i),this.resize(o.width,o.height,i),this.stopBatch("scale"),this}position(e,n,r){return typeof e=="number"?this.setPosition(e,n,r):this.getPosition(e)}getPosition(e={}){if(e.relative){const r=this.getParent();if(r!=null&&r.isNode()){const i=this.getPosition(),o=r.getPosition();return{x:i.x-o.x,y:i.y-o.y}}}const n=this.store.get("position");return n?Object.assign({},n):{x:0,y:0}}setPosition(e,n,r={}){let i,o,s;if(typeof e=="object"?(i=e.x,o=e.y,s=n||{}):(i=e,o=n,s=r||{}),s.relative){const a=this.getParent();if(a!=null&&a.isNode()){const l=a.getPosition();i+=l.x,o+=l.y}}if(s.deep){const a=this.getPosition();this.translate(i-a.x,o-a.y,s)}else this.store.set("position",{x:i,y:o},s);return this}translate(e=0,n=0,r={}){if(e===0&&n===0)return this;r.translateBy=r.translateBy||this.id;const i=this.getPosition();if(r.restrict!=null&&r.translateBy===this.id){const s=this.getBBox({deep:!0}),a=r.restrict,l=i.x-s.x,c=i.y-s.y,u=Math.max(a.x+l,Math.min(a.x+a.width+l-s.width,i.x+e)),f=Math.max(a.y+c,Math.min(a.y+a.height+c-s.height,i.y+n));e=u-i.x,n=f-i.y}const o={x:i.x+e,y:i.y+n};return r.tx=e,r.ty=n,r.transition?(typeof r.transition!="object"&&(r.transition={}),this.transition("position",o,Object.assign(Object.assign({},r.transition),{interp:l0.object})),this.eachChild(s=>{var a;((a=r.exclude)===null||a===void 0?void 0:a.includes(s))||s.translate(e,n,r)})):(this.startBatch("translate",r),this.store.set("position",o,r),this.eachChild(s=>{var a;((a=r.exclude)===null||a===void 0?void 0:a.includes(s))||s.translate(e,n,r)}),this.stopBatch("translate",r)),this}angle(e,n){return e==null?this.getAngle():this.rotate(e,n)}getAngle(){return this.store.get("angle",0)}rotate(e,n={}){const r=this.getAngle();if(n.center){const i=this.getSize(),o=this.getPosition(),s=this.getBBox().getCenter();s.rotate(r-e,n.center);const a=s.x-i.width/2-o.x,l=s.y-i.height/2-o.y;this.startBatch("rotate",{angle:e,options:n}),this.setPosition(o.x+a,o.y+l,n),this.rotate(e,Object.assign(Object.assign({},n),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",n.absolute?e:(r+e)%360,n);return this}getBBox(e={}){if(e.deep){const n=this.getDescendants({deep:!0,breadthFirst:!0});return n.push(this),xi.getCellsBBox(n)}return mn.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(e,n){const r=this.getBBox(),i=r.getCenter(),o=e.getTerminal(n);if(o==null)return i;const s=o.port;if(!s||!this.hasPort(s))return i;const a=this.getPort(s);if(!a||!a.group)return i;const c=this.getPortsPosition(a.group)[s].position,u=Ce.create(c).translate(r.getOrigin()),f=this.getAngle();return f&&u.rotate(-f,i),u}fit(e={}){const r=(this.getChildren()||[]).filter(c=>c.isNode());if(r.length===0)return this;this.startBatch("fit-embeds",e),e.deep&&r.forEach(c=>c.fit(e));let{x:i,y:o,width:s,height:a}=xi.getCellsBBox(r);const l=Ac(e.padding);return i-=l.left,o-=l.top,s+=l.left+l.right,a+=l.bottom+l.top,this.store.set({position:{x:i,y:o},size:{width:s,height:a}},e),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(e){this.setPortContainerMarkup(e)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Si.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(e,n={}){return this.store.set("portContainerMarkup",Si.clone(e),n),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(e){this.setPortMarkup(e)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Si.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(e,n={}){return this.store.set("portMarkup",Si.clone(e),n),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(e){this.setPortLabelMarkup(e)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Si.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(e,n={}){return this.store.set("portLabelMarkup",Si.clone(e),n),this}get ports(){const e=this.store.get("ports",{items:[]});return e.items==null&&(e.items=[]),e}getPorts(){return Fs(this.ports.items)}getPortsByGroup(e){return this.getPorts().filter(n=>n.group===e)}getPort(e){return Fs(this.ports.items.find(n=>n.id&&n.id===e))}getPortAt(e){return this.ports.items[e]||null}hasPorts(){return this.ports.items.length>0}hasPort(e){return this.getPortIndex(e)!==-1}getPortIndex(e){const n=typeof e=="string"?e:e.id;return n!=null?this.ports.items.findIndex(r=>r.id===n):-1}getPortsPosition(e){const n=this.getSize();return this.port.getPortsLayoutByGroup(e,new mn(0,0,n.width,n.height)).reduce((i,o)=>{const s=o.portLayout;return i[o.portId]={position:Object.assign({},s.position),angle:s.angle||0},i},{})}getPortProp(e,n){return this.getPropByPath(this.prefixPortPath(e,n))}setPortProp(e,n,r,i){if(typeof n=="string"||Array.isArray(n)){const a=this.prefixPortPath(e,n),l=r;return this.setPropByPath(a,l,i)}const o=this.prefixPortPath(e),s=n;return this.setPropByPath(o,s,r)}removePortProp(e,n,r){return typeof n=="string"||Array.isArray(n)?this.removePropByPath(this.prefixPortPath(e,n),r):this.removePropByPath(this.prefixPortPath(e),n)}portProp(e,n,r,i){return n==null?this.getPortProp(e):typeof n=="string"||Array.isArray(n)?arguments.length===2?this.getPortProp(e,n):r==null?this.removePortProp(e,n,i):this.setPortProp(e,n,r,i):this.setPortProp(e,n,r)}prefixPortPath(e,n){const r=this.getPortIndex(e);if(r===-1)throw new Error(`Unable to find port with id: "${e}"`);return n==null||n===""?["ports","items",`${r}`]:Array.isArray(n)?["ports","items",`${r}`,...n]:`ports/items/${r}/${n}`}addPort(e,n){const r=[...this.ports.items];return r.push(e),this.setPropByPath("ports/items",r,n),this}addPorts(e,n){return this.setPropByPath("ports/items",[...this.ports.items,...e],n),this}insertPort(e,n,r){const i=[...this.ports.items];return i.splice(e,0,n),this.setPropByPath("ports/items",i,r),this}removePort(e,n={}){return this.removePortAt(this.getPortIndex(e),n)}removePortAt(e,n={}){if(e>=0){const r=[...this.ports.items];r.splice(e,1),n.rewrite=!0,this.setPropByPath("ports/items",r,n)}return this}removePorts(e,n){let r;if(Array.isArray(e)){if(r=n||{},e.length){r.rewrite=!0;const o=[...this.ports.items].filter(s=>!e.some(a=>{const l=typeof a=="string"?a:a.id;return s.id===l}));this.setPropByPath("ports/items",o,r)}}else r=e||{},r.rewrite=!0,this.setPropByPath("ports/items",[],r);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(e,n){return this.port.getPortsLayoutByGroup(e,n)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const e=this.ports,n={};e.items.forEach(s=>{s.id&&(n[s.id]=!0)});const r={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(s=>{s.id&&!n[s.id]&&(r[s.id]=!0)});const o=this.model;o&&!gne(r)&&(o.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const c=l.getTargetPortId();c&&r[c]&&l.remove()}),o.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const c=l.getSourcePortId();c&&r[c]&&l.remove()}))}validatePorts(){const e={},n=[];return this.ports.items.forEach(r=>{typeof r!="object"&&n.push(`Invalid port ${r}.`),r.id==null&&(r.id=this.generatePortId()),e[r.id]&&n.push("Duplicitied port id."),e[r.id]=!0}),n}generatePortId(){return $6()}updatePortData(){const e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));const n=this.port?this.port.getPorts():null;this.port=new TAe(this.ports);const r=this.port.getPorts(),i=n?r.filter(s=>n.find(a=>a.id===s.id)?null:s):[...r],o=n?n.filter(s=>r.find(a=>a.id===s.id)?null:s):[];i.length>0&&this.notify("ports:added",{added:i,cell:this,node:this}),o.length>0&&this.notify("ports:removed",{removed:o,cell:this,node:this})}}fo.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"&&typeof i.size=="function"&&typeof i.position=="function"}t.isNode=e})(fo||(fo={}));(function(t){t.config({propHooks(e){var{ports:n}=e,r=Bk(e,["ports"]);return n&&(r.ports=Array.isArray(n)?{items:n}:n),r}})})(fo||(fo={}));(function(t){t.registry=Vs.create({type:"node",process(e,n){if(H1.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if(typeof n=="function")return n.config({shape:e}),n;let r=t;const{inherit:i}=n,o=Bk(n,["inherit"]);if(i)if(typeof i=="string"){const a=this.get(i);a==null?this.onNotFound(i,"inherited"):r=a}else r=i;o.constructorName==null&&(o.constructorName=e);const s=r.define.call(r,o);return s.config({shape:e}),s}}),H1.setNodeRegistry(t.registry)})(fo||(fo={}));(function(t){let e=0;function n(o){return o?L5(o):(e+=1,`CustomNode${e}`)}function r(o){const{constructorName:s,overwrite:a}=o,l=Bk(o,["constructorName","overwrite"]),c=I5(n(s||l.shape),this);return c.config(l),l.shape&&t.registry.register(l.shape,c,a),c}t.define=r;function i(o){const s=o.shape||"rect",a=t.registry.get(s);return a?new a(o):t.registry.onNotFound(s)}t.create=i})(fo||(fo={}));var PAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Ya extends fo{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,n){return e==null?this.removeLabel():this.setAttrByPath("text/text",e,n),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(t){t.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},t.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},t.config({attrs:{text:Object.assign({},t.labelAttr)},propHooks(e){const{label:n}=e,r=PAe(e,["label"]);return n&&w2(r,"attrs/text/text",n),r},visible:!0})})(Ya||(Ya={}));var OAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function MAe(t,e=!1){return`<g class="rotatable"><g class="scalable"><${t}/></g>${e?"":"<text/>"}</g>`}function K5(t){return`basic.${t}`}function EE(t="xlink:href"){return n=>{const{imageUrl:r,imageWidth:i,imageHeight:o}=n,s=OAe(n,["imageUrl","imageWidth","imageHeight"]);if(r!=null||i!=null||o!=null){const a=()=>{if(s.attrs){const l=s.attrs.image;r!=null&&(l[t]=r),i!=null&&(l.width=i),o!=null&&(l.height=o),s.attrs.image=l}};s.attrs?(s.attrs.image==null&&(s.attrs.image={}),a()):(s.attrs={image:{}},a())}return s}}function yh(t,e,n={}){const r=K5(t),i={constructorName:r,attrs:{".":{fill:"#ffffff",stroke:"none"},[t]:{fill:"#ffffff",stroke:"#000000"}}};return n.ignoreMarkup||(i.markup=MAe(t,n.noText===!0)),(n.parent||Ya).define(Io(i,e,{shape:r}))}yh("rect",{attrs:{rect:{width:100,height:60}}});yh("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}});yh("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}});yh("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});yh("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});yh("image",{attrs:{text:{refY:null,refDy:16}},propHooks:EE()});var AAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Lre=yh("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(t){const{d:e}=t,n=AAe(t,["d"]);return e!=null&&w2(n,"attrs/path/d",e),n}});yh("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:Lre,ignoreMarkup:!0});yh("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:Lre,ignoreMarkup:!0});var jk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Yo extends xi{constructor(e={}){super(e)}get[Symbol.toStringTag](){return Yo.toStringTag}preprocess(e,n){const{source:r,sourceCell:i,sourcePort:o,sourcePoint:s,target:a,targetCell:l,targetPort:c,targetPoint:u}=e,d=jk(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),h=p=>typeof p=="string"||typeof p=="number";if(r!=null)if(xi.isCell(r))d.source={cell:r.id};else if(h(r))d.source={cell:r};else if(Ce.isPoint(r))d.source=r.toJSON();else if(Array.isArray(r))d.source={x:r[0],y:r[1]};else{const p=r.cell;xi.isCell(p)?d.source=Object.assign(Object.assign({},r),{cell:p.id}):d.source=r}if(i!=null||o!=null){let p=d.source;if(i!=null){const g=h(i)?i:i.id;p?p.cell=g:p=d.source={cell:g}}o!=null&&p&&(p.port=o)}else s!=null&&(d.source=Ce.create(s).toJSON());if(a!=null)if(xi.isCell(a))d.target={cell:a.id};else if(h(a))d.target={cell:a};else if(Ce.isPoint(a))d.target=a.toJSON();else if(Array.isArray(a))d.target={x:a[0],y:a[1]};else{const p=a.cell;xi.isCell(p)?d.target=Object.assign(Object.assign({},a),{cell:p.id}):d.target=a}if(l!=null||c!=null){let p=d.target;if(l!=null){const g=h(l)?l:l.id;p?p.cell=g:p=d.target={cell:g}}c!=null&&p&&(p.port=c)}else u!=null&&(d.target=Ce.create(u).toJSON());return super.preprocess(d,n)}setup(){super.setup(),this.on("change:labels",e=>this.onLabelsChanged(e)),this.on("change:vertices",e=>this.onVertexsChanged(e))}isEdge(){return!0}disconnect(e={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}get source(){return this.getSource()}set source(e){this.setSource(e)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(e,n,r={}){return this.setTerminal("source",e,n,r)}get target(){return this.getTarget()}set target(e){this.setTarget(e)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(e,n,r={}){return this.setTerminal("target",e,n,r)}getTerminal(e){return Object.assign({},this.store.get(e))}setTerminal(e,n,r,i={}){if(xi.isCell(n))return this.store.set(e,Io({},r,{cell:n.id}),i),this;const o=n;return Ce.isPoint(n)||o.x!=null&&o.y!=null?(this.store.set(e,Io({},r,{x:o.x,y:o.y}),i),this):(this.store.set(e,Fs(n),i),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(e){const n=this[e];if(Ce.isPointLike(n))return Ce.create(n);const r=this.getTerminalCell(e);return r?r.getConnectionPoint(this,e):new Ce}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(e){if(this.model){const n=e==="source"?this.getSourceCellId():this.getTargetCellId();if(n)return this.model.getCell(n)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(e){let n=this;const r={};for(;n&&n.isEdge();){if(r[n.id])return null;r[n.id]=!0,n=n.getTerminalCell(e)}return n&&n.isNode()?n:null}get router(){return this.getRouter()}set router(e){e==null?this.removeRouter():this.setRouter(e)}getRouter(){return this.store.get("router")}setRouter(e,n,r){return typeof e=="object"?this.store.set("router",e,n):this.store.set("router",{name:e,args:n},r),this}removeRouter(e={}){return this.store.remove("router",e),this}get connector(){return this.getConnector()}set connector(e){e==null?this.removeConnector():this.setConnector(e)}getConnector(){return this.store.get("connector")}setConnector(e,n,r){return typeof e=="object"?this.store.set("connector",e,n):this.store.set("connector",{name:e,args:n},r),this}removeConnector(e={}){return this.store.remove("connector",e)}get strategy(){return this.getStrategy()}set strategy(e){e==null?this.removeStrategy():this.setStrategy(e)}getStrategy(){return this.store.get("strategy")}setStrategy(e,n,r){return typeof e=="object"?this.store.set("strategy",e,n):this.store.set("strategy",{name:e,args:n},r),this}removeStrategy(e={}){return this.store.remove("strategy",e)}getDefaultLabel(){const e=this.constructor,n=this.store.get("defaultLabel")||e.defaultLabel||{};return Fs(n)}get labels(){return this.getLabels()}set labels(e){this.setLabels(e)}getLabels(){return[...this.store.get("labels",[])].map(e=>this.parseLabel(e))}setLabels(e,n={}){return this.store.set("labels",Array.isArray(e)?e:[e],n),this}insertLabel(e,n,r={}){const i=this.getLabels(),o=i.length;let s=n!=null&&Number.isFinite(n)?n:o;return s<0&&(s=o+s+1),i.splice(s,0,this.parseLabel(e)),this.setLabels(i,r)}appendLabel(e,n={}){return this.insertLabel(e,-1,n)}getLabelAt(e){const n=this.getLabels();return e!=null&&Number.isFinite(e)?this.parseLabel(n[e]):null}setLabelAt(e,n,r={}){if(e!=null&&Number.isFinite(e)){const i=this.getLabels();i[e]=this.parseLabel(n),this.setLabels(i,r)}return this}removeLabelAt(e,n={}){const r=this.getLabels(),i=e!=null&&Number.isFinite(e)?e:-1,o=r.splice(i,1);return this.setLabels(r,n),o.length?o[0]:null}parseLabel(e){return typeof e=="string"?this.constructor.parseStringLabel(e):e}onLabelsChanged({previous:e,current:n}){const r=e&&n?n.filter(o=>e.find(s=>o===s||rh(o,s))?null:o):n?[...n]:[],i=e&&n?e.filter(o=>n.find(s=>o===s||rh(o,s))?null:o):e?[...e]:[];r.length>0&&this.notify("labels:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("labels:removed",{removed:i,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(e){this.setVertexMarkup(e)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||Si.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(e,n={}){return this.store.set("vertexMarkup",Si.clone(e),n),this}get vertices(){return this.getVertices()}set vertices(e){this.setVertices(e)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(e,n={}){const r=Array.isArray(e)?e:[e];return this.store.set("vertices",r.map(i=>Ce.toJSON(i)),n),this}insertVertex(e,n,r={}){const i=this.getVertices(),o=i.length;let s=n!=null&&Number.isFinite(n)?n:o;return s<0&&(s=o+s+1),i.splice(s,0,Ce.toJSON(e)),this.setVertices(i,r)}appendVertex(e,n={}){return this.insertVertex(e,-1,n)}getVertexAt(e){return e!=null&&Number.isFinite(e)?this.getVertices()[e]:null}setVertexAt(e,n,r={}){if(e!=null&&Number.isFinite(e)){const i=this.getVertices();i[e]=n,this.setVertices(i,r)}return this}removeVertexAt(e,n={}){const r=this.getVertices(),i=e!=null&&Number.isFinite(e)?e:-1;return r.splice(i,1),this.setVertices(r,n)}onVertexsChanged({previous:e,current:n}){const r=e&&n?n.filter(o=>e.find(s=>Ce.equals(o,s))?null:o):n?[...n]:[],i=e&&n?e.filter(o=>n.find(s=>Ce.equals(o,s))?null:o):e?[...e]:[];r.length>0&&this.notify("vertexs:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("vertexs:removed",{removed:i,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Si.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(e){this.setToolMarkup(e)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||Si.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(e,n={}){return this.store.set("toolMarkup",e,n),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(e){this.setDoubleToolMarkup(e)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(e,n={}){return this.store.set("doubleToolMarkup",e,n),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(e){this.setArrowheadMarkup(e)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||Si.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(e,n={}){return this.store.set("arrowheadMarkup",e,n),this}translate(e,n,r={}){return r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=n,this.applyToPoints(i=>({x:(i.x||0)+e,y:(i.y||0)+n}),r)}scale(e,n,r,i={}){return this.applyToPoints(o=>Ce.create(o).scale(e,n,r).toJSON(),i)}applyToPoints(e,n={}){const r={},i=this.getSource(),o=this.getTarget();Ce.isPointLike(i)&&(r.source=e(i)),Ce.isPointLike(o)&&(r.target=e(o));const s=this.getVertices();return s.length>0&&(r.vertices=s.map(e)),this.store.set(r,n),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const e=[this.getSourcePoint(),...this.getVertices().map(n=>Ce.create(n)),this.getTargetPoint()];return new xa(e)}updateParent(e){let n=null;const r=this.getSourceCell(),i=this.getTargetCell(),o=this.getParent();return r&&i&&(r===i||r.isDescendantOf(i)?n=i:i.isDescendantOf(r)?n=r:n=xi.getCommonAncestor(r,i)),o&&(!n||n.id!==o.id)&&o.unembed(this,e),n&&n.embed(this,e),n}hasLoop(e={}){const n=this.getSource(),r=this.getTarget(),i=n.cell,o=r.cell;if(!i||!o)return!1;let s=i===o;if(!s&&e.deep&&this._model){const a=this.getSourceCell(),l=this.getTargetCell();a&&l&&(s=a.isAncestorOf(l,e)||l.isAncestorOf(a,e))}return s}getFragmentAncestor(){const e=[this,this.getSourceNode(),this.getTargetNode()].filter(n=>n!=null);return this.getCommonAncestor(...e)}isFragmentDescendantOf(e){const n=this.getFragmentAncestor();return!!n&&(n.id===e.id||n.isDescendantOf(e))}}Yo.defaults={};(function(t){function e(n,r){const i=n,o=r;return i.cell===o.cell?i.port===o.port||i.port==null&&o.port==null:!1}t.equalTerminals=e})(Yo||(Yo={}));(function(t){t.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function e(n){return{attrs:{label:{text:n}}}}t.parseStringLabel=e})(Yo||(Yo={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"&&typeof i.disconnect=="function"&&typeof i.getSource=="function"&&typeof i.getTarget=="function"}t.isEdge=e})(Yo||(Yo={}));(function(t){t.registry=Vs.create({type:"edge",process(e,n){if(H1.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if(typeof n=="function")return n.config({shape:e}),n;let r=t;const{inherit:i="edge"}=n,o=jk(n,["inherit"]);if(typeof i=="string"){const a=this.get(i||"edge");a==null&&i?this.onNotFound(i,"inherited"):r=a}else r=i;o.constructorName==null&&(o.constructorName=e);const s=r.define.call(r,o);return s.config({shape:e}),s}}),H1.setEdgeRegistry(t.registry)})(Yo||(Yo={}));(function(t){let e=0;function n(o){return o?L5(o):(e+=1,`CustomEdge${e}`)}function r(o){const{constructorName:s,overwrite:a}=o,l=jk(o,["constructorName","overwrite"]),c=I5(n(s||l.shape),this);return c.config(l),l.shape&&t.registry.register(l.shape,c,a),c}t.define=r;function i(o){const s=o.shape||"edge",a=t.registry.get(s);return a?new a(o):t.registry.onNotFound(s)}t.create=i})(Yo||(Yo={}));(function(t){const e="basic.edge";t.config({shape:e,propHooks(n){const{label:r,vertices:i}=n,o=jk(n,["label","vertices"]);if(r){o.labels==null&&(o.labels=[]);const s=typeof r=="string"?t.parseStringLabel(r):r;o.labels.push(s)}return i&&Array.isArray(i)&&(o.vertices=i.map(s=>Ce.create(s).toJSON())),o}}),t.registry.register(e,t)})(Yo||(Yo={}));var kAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Gp extends hs{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return Gp.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const r=this.cell.getSource();return new mn(r.x,r.y)}const n=this.sourceMagnet;return e.isEdgeElement(n)?new mn(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}get targetBBox(){const e=this.targetView;if(!e){const r=this.cell.getTarget();return new mn(r.x,r.y)}const n=this.targetMagnet;return e.isEdgeElement(n)?new mn(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}isEdgeView(){return!0}confirmUpdate(e,n={}){let r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}const i=this.graph,o=this.sourceView,s=this.targetView;return i&&(o&&!i.renderer.isViewMounted(o)||s&&!i.renderer.isViewMounted(s))?r:this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","vertices","labels","tools","widget"]),r):(r=this.handleAction(r,"vertices",()=>this.renderVertexMarkers()),r=this.handleAction(r,"update",()=>this.update(null,n)),r=this.handleAction(r,"labels",()=>this.onLabelsChange(n)),r=this.handleAction(r,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),r=this.handleAction(r,"widget",()=>this.renderExternalTools()),r)}onLabelsChange(e={}){this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const n=this.cell.previous("labels");if(n==null)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const r=e.propertyPathArray||[],i=r.length;if(i>1){const o=r[1];if(n[o]){if(i===2)return typeof e.propertyValue=="object"&&bw(e.propertyValue,"markup");if(r[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this.renderExternalTools(),this}renderMarkup(){const e=this.cell.markup;if(e)return typeof e=="string"?this.renderStringMarkup(e):this.renderJSONMarkup(e);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.append(n.fragment)}renderStringMarkup(e){const n=this.containers,r=Bn.createVectors(e);r.forEach(i=>{const o=i.attr("class");o&&(n[O5(o)]=i.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),WC(this.container,r.map(i=>i.node))}renderLabels(){const e=this.cell,n=e.getLabels(),r=n.length;let i=this.containers.labels;if(this.labelCache={},this.labelSelectors={},r<=0)return i&&i.parentNode&&i.parentNode.removeChild(i),this;i?this.empty(i):(i=ec("g"),this.addClass(this.prefixClassName("edge-labels"),i),this.containers.labels=i);for(let o=0,s=n.length;o<s;o+=1){const a=n[o],l=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup));let c,u;if(l)c=l.node,u=l.selectors;else{const d=e.getDefaultLabel(),h=this.normalizeLabelMarkup(this.parseLabelMarkup(d.markup));c=h.node,u=h.selectors}c.setAttribute("data-index",`${o}`),i.appendChild(c);const f=this.rootSelector;if(u[f])throw new Error("Ambiguous label root selector.");u[f]=c,this.labelCache[o]=c,this.labelSelectors[o]=u}return i.parentNode==null&&this.container.appendChild(i),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(e){return e?typeof e=="string"?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const n=Bn.createVectors(e),r=document.createDocumentFragment();for(let i=0,o=n.length;i<o;i+=1){const s=n[i].node;r.appendChild(s)}return{fragment:r,selectors:{}}}normalizeLabelMarkup(e){if(e==null)return;const n=e.fragment;if(!(n instanceof DocumentFragment)||!n.hasChildNodes())throw new Error("Invalid label markup.");let r;const i=n.childNodes;return i.length>1||i[0].nodeName.toUpperCase()!=="G"?r=Bn.create("g").append(n):r=Bn.create(i[0]),r.addClass(this.prefixClassName("edge-label")),{node:r.node,selectors:e.selectors}}updateLabels(){if(this.containers.labels){const e=this.cell,n=e.labels,r=this.can("edgeLabelMovable"),i=e.getDefaultLabel();for(let o=0,s=n.length;o<s;o+=1){const a=this.labelCache[o],l=this.labelSelectors[o];a.setAttribute("cursor",r?"move":"default");const c=n[o],u=Io({},i.attrs,c.attrs);this.updateAttrs(a,u,{selectors:l,rootBBox:c.size?mn.fromSize(c.size):void 0})}}}mergeLabelAttrs(e,n,r){if(n===null)return null;if(n===void 0)return r===null?null:r===void 0?void 0:e?r:Io({},r);if(e)return Io({},r,n)}customizeLabels(){if(this.containers.labels){const e=this.cell,n=e.labels;for(let r=0,i=n.length;r<i;r+=1){const o=n[r],s=this.labelCache[r],a=this.labelSelectors[r];this.graph.hook.onEdgeLabelRendered({edge:e,label:o,container:s,selectors:a})}}}renderTools(){const e=this.containers.tools;if(e==null)return this;const n=this.cell.toolMarkup,r=this.$(e).empty();if(Si.isStringMarkup(n)){let i=Yb(n);const o=Bn.create(i());if(r.append(o.node),this.toolCache=o.node,this.options.doubleTools){let s;const a=this.cell.doubleToolMarkup;Si.isStringMarkup(a)?(i=Yb(a),s=Bn.create(i())):s=o.clone(),r.append(s.node),this.tool2Cache=s.node}}return this}renderExternalTools(){const e=this.cell.getTools();return this.addTools(e),this}renderVertexMarkers(){const e=this.containers.vertices;if(e==null)return this;const n=this.cell.vertexMarkup,r=this.$(e).empty();if(Si.isStringMarkup(n)){const i=Yb(n);this.cell.getVertices().forEach((o,s)=>{r.append(Bn.create(i(Object.assign({index:s},o))).node)})}return this}renderArrowheadMarkers(){const e=this.containers.arrowheads;if(e==null)return this;const n=this.cell.arrowheadMarkup,r=this.$(e).empty();if(Si.isStringMarkup(n)){const i=Yb(n),o=Bn.create(i({end:"source"})).node,s=Bn.create(i({end:"target"})).node;this.containers.sourceArrowhead=o,this.containers.targetArrowhead=s,r.append(o,s)}return this}update(e,n={}){this.cleanCache(),this.updateConnection(n);const r=this.cell.getAttrs();return r!=null&&this.updateAttrs(this.container,r,{attrs:e===r?null:e,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(n),this}removeRedundantLinearVertices(e={}){const n=this.cell,r=n.getVertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,s=new xa(i);s.simplify({threshold:.01});const a=s.points.map(c=>c.toJSON()),l=a.length;return o===l?0:(n.setVertices(a.slice(1,l-1),e),o-l)}updateConnectionPath(){const e=this.containers;if(e.connection){const n=this.getConnectionPathData();e.connection.setAttribute("d",n)}if(e.connectionWrap){const n=this.getConnectionPathData();e.connectionWrap.setAttribute("d",n)}e.sourceMarker&&e.targetMarker&&this.translateAndAutoOrientArrows(e.sourceMarker,e.targetMarker)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return Ce.create(this.sourceAnchor);case"target":return Ce.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return Ce.create(this.sourcePoint);case"target":return Ce.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,n={}){switch(e){case"source":{if(n.raw)return this.sourceMagnet;const r=this.sourceView;return r?this.sourceMagnet||r.container:null}case"target":{if(n.raw)return this.targetMagnet;const r=this.targetView;return r?this.targetMagnet||r.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const n=this.cell;if(e.translateBy&&n.isFragmentDescendantOf(e.translateBy)){const r=e.tx||0,i=e.ty||0;this.routePoints=new xa(this.routePoints).translate(r,i).points,this.translateConnectionPoints(r,i),this.path.translate(r,i)}else{const r=n.getVertices(),i=this.findAnchors(r);this.sourceAnchor=i.source,this.targetAnchor=i.target,this.routePoints=this.findRoutePoints(r);const o=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=o.source,this.targetPoint=o.target;const s=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,s.source||this.sourcePoint,s.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const n=this.cell,r=n.source,i=n.target,o=e[0],s=e[e.length-1];return i.priority&&!r.priority?this.findAnchorsOrdered("target",s,"source",o):this.findAnchorsOrdered("source",o,"target",s)}findAnchorsOrdered(e,n,r,i){let o,s;const a=this.cell,l=a[e],c=a[r],u=this.getTerminalView(e),f=this.getTerminalView(r),d=this.getTerminalMagnet(e),h=this.getTerminalMagnet(r);if(u){let p;n?p=Ce.create(n):f?p=h:p=Ce.create(c),o=this.getAnchor(l.anchor,u,d,p,e)}else o=Ce.create(l);if(f){const p=Ce.create(i||o);s=this.getAnchor(c.anchor,f,h,p,r)}else s=Ce.isPointLike(c)?Ce.create(c):new Ce;return{[e]:o,[r]:s}}getAnchor(e,n,r,i,o){const s=n.isEdgeElement(r),a=this.graph.options.connecting;let l=typeof e=="string"?{name:e}:e;if(!l){const f=s?(o==="source"?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:(o==="source"?a.sourceAnchor:a.targetAnchor)||a.anchor;l=typeof f=="string"?{name:f}:f}if(!l)throw new Error("Anchor should be specified.");let c;const u=l.name;if(s){const f=V1.registry.get(u);if(typeof f!="function")return V1.registry.onNotFound(u);c=$n(f,this,n,r,i,l.args||{},o)}else{const f=j1.registry.get(u);if(typeof f!="function")return j1.registry.onNotFound(u);c=$n(f,this,n,r,i,l.args||{},o)}return c?c.round(this.POINT_ROUNDING):new Ce}findRoutePoints(e=[]){const n=this.graph.options.connecting.router||av.presets.normal,r=this.cell.getRouter()||n;let i;if(typeof r=="function")i=$n(r,this,e,{},this);else{const o=typeof r=="string"?r:r.name,s=typeof r=="string"?{}:r.args||{},a=o?av.registry.get(o):av.presets.normal;if(typeof a!="function")return av.registry.onNotFound(o);i=$n(a,this,e,s,this)}return i==null?e.map(o=>Ce.create(o)):i.map(o=>Ce.create(o))}findConnectionPoints(e,n,r){const i=this.cell,o=this.graph.options.connecting,s=i.getSource(),a=i.getTarget(),l=this.sourceView,c=this.targetView,u=e[0],f=e[e.length-1];let d;if(l&&!l.isEdgeElement(this.sourceMagnet)){const p=this.sourceMagnet||l.container,g=u||r,m=new Xn(g,n),y=s.connectionPoint||o.sourceConnectionPoint||o.connectionPoint;d=this.getConnectionPoint(y,l,p,m,"source")}else d=n;let h;if(c&&!c.isEdgeElement(this.targetMagnet)){const p=this.targetMagnet||c.container,g=a.connectionPoint||o.targetConnectionPoint||o.connectionPoint,m=f||n,y=new Xn(m,r);h=this.getConnectionPoint(g,c,p,y,"target")}else h=r;return{source:d,target:h}}getConnectionPoint(e,n,r,i,o){const s=i.end;if(e==null)return s;const a=typeof e=="string"?e:e.name,l=typeof e=="string"?{}:e.args,c=U1.registry.get(a);if(typeof c!="function")return U1.registry.onNotFound(a);const u=$n(c,this,i,n,r,l||{},o);return u?u.round(this.POINT_ROUNDING):s}updateMarkerAttr(e){const n=this.cell.getAttrs(),r=`.${e}-marker`,i=n&&n[r];i&&this.updateAttrs(this.container,{},{attrs:{[r]:i},selectors:this.selectors})}findMarkerPoints(e,n,r){const i=d=>{const h=this.cell.getAttrs(),p=Object.keys(h);for(let g=0,m=p.length;g<m;g+=1){const y=h[p[g]];if(y[`${d}Marker`]||y[`${d}-marker`]){const b=y.strokeWidth||y["stroke-width"];if(b)return parseFloat(b);break}}return null},o=e[0],s=e[e.length-1],a=this.containers.sourceMarker,l=this.containers.targetMarker,c=this.markerCache;let u,f;if(a){if(this.updateMarkerAttr("source"),c.sourceBBox=c.sourceBBox||Xa(a),c.sourceBBox.width>0){const d=ov(a);u=n.clone().move(o||r,c.sourceBBox.width*d.sx*-1)}}else{const d=i("source");d&&(u=n.clone().move(o||r,-d))}if(l){if(this.updateMarkerAttr("target"),c.targetBBox=c.targetBBox||Xa(l),c.targetBBox.width>0){const d=ov(l);f=r.clone().move(s||n,c.targetBBox.width*d.sx*-1)}}else{const d=i("target");d&&(f=r.clone().move(s||n,-d))}return c.sourcePoint=u||n.clone(),c.targetPoint=f||r.clone(),{source:u,target:f}}findPath(e,n,r){const i=this.cell.getConnector()||this.graph.options.connecting.connector;let o,s,a;if(typeof i=="string"?o=i:(o=i.name,s=i.args),o){const c=ih.registry.get(o);if(typeof c!="function")return ih.registry.onNotFound(o);a=c}else a=ih.presets.normal;const l=$n(a,this,n,r,e,Object.assign(Object.assign({},s),{raw:!0}),this);return typeof l=="string"?dr.parse(l):l}translateConnectionPoints(e,n){const r=this.markerCache;r.sourcePoint&&r.sourcePoint.translate(e,n),r.targetPoint&&r.targetPoint.translate(e,n),this.sourcePoint.translate(e,n),this.targetPoint.translate(e,n),this.sourceAnchor.translate(e,n),this.targetAnchor.translate(e,n)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const n=this.cell,r=n.getLabels();if(r.length===0)return this;const i=n.getDefaultLabel(),o=this.normalizeLabelPosition(i.position);for(let s=0,a=r.length;s<a;s+=1){const l=r[s],c=this.normalizeLabelPosition(l.position),u=Io({},o,c),f=this.getLabelTransformationMatrix(u);this.labelCache[s].setAttribute("transform",Z0(f))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let e="",n=this.options.toolsOffset;const r=this.getConnectionLength();if(r!=null){r<this.options.shortLength&&(e="scale(.5)",n/=2);let i=this.getPointAtLength(n);if(i!=null&&to(this.toolCache,"transform",`translate(${i.x},${i.y}) ${e}`),this.options.doubleTools&&r>=this.options.longLength){const o=this.options.doubleToolsOffset||n;i=this.getPointAtLength(r-o),i!=null&&to(this.tool2Cache,"transform",`translate(${i.x},${i.y}) ${e}`),to(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&to(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const e=this.containers.arrowheads;if(e==null)return this;if(e.style.display==="none")return this;const n=this.containers.sourceArrowhead,r=this.containers.targetArrowhead;if(n&&r){const o=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;ov(n,o),ov(r,o),this.translateAndAutoOrientArrows(n,r)}return this}updateTerminalProperties(e){const n=this.cell,r=this.graph,i=n[e],o=i&&i.cell,s=`${e}View`;if(!o)return this[s]=null,this.updateTerminalMagnet(e),!0;const a=r.getCellById(o);if(!a)throw new Error(`Edge's ${e} node with id "${o}" not exists`);const l=a.findView(r);return l?(this[s]=l,this.updateTerminalMagnet(e),!0):!1}updateTerminalMagnet(e){const n=`${e}Magnet`,r=this.getTerminalView(e);if(r){let i=r.getMagnetFromEdgeTerminal(this.cell[e]);i===r.container&&(i=null),this[n]=i}else this[n]=null}translateAndAutoOrientArrows(e,n){const r=this.routePoints;e&&X6(e,this.sourcePoint,r[0]||this.targetPoint,this.graph.view.stage),n&&X6(n,this.targetPoint,r[r.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(e){const n=this.cell.getLabelAt(e);return n&&n.position&&typeof n.position=="object"&&n.position.angle||0}getLabelPositionArgs(e){const n=this.cell.getLabelAt(e);if(n&&n.position&&typeof n.position=="object")return n.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&typeof e.position=="object")return e.position.options}mergeLabelPositionArgs(e,n){return e===null?null:e===void 0?n===null?null:n:Io({},n,e)}addLabel(e,n,r,i){let o,s,a=0,l;typeof e!="number"?(o=e.x,s=e.y,typeof n=="number"?(a=n,l=r):l=n):(o=e,s=n,typeof r=="number"?(a=r,l=i):l=r);const c=this.getDefaultLabelPositionArgs(),u=l,f=this.mergeLabelPositionArgs(u,c),d={position:this.getLabelPosition(o,s,a,f)},h=-1;return this.cell.insertLabel(d,h,l),h}addVertex(e,n,r){const i=typeof e!="number",o=i?e.x:e,s=i?e.y:n,a=i?n:r,l={x:o,y:s},c=this.getVertexIndex(o,s);return this.cell.insertVertex(l,c,a),c}sendToken(e,n,r){let i,o,s,a,l="linear";typeof n=="object"?(i=n.duration,o=n.reversed===!0,s=n.selector,n.rotate===!1?a="":n.rotate===!0?a="auto":n.rotate!=null&&(a=`${n.rotate}`),n.timing&&(l=n.timing)):(i=n,o=!1,s=null),i=i||1e3;const c={dur:`${i}ms`,repeatCount:"1",calcMode:l,fill:"freeze"};if(a&&(c.rotate=a),o&&(c.keyPoints="1;0",c.keyTimes="0;1"),typeof n=="object"){const y=kAe(n,["duration","reversed","selector","rotate","timing"]);Object.keys(y).forEach(b=>{c[b]=y[b]})}let u;if(typeof s=="string"?u=this.findOne(s,this.container,this.selectors):u=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(u instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const f=typeof e=="string"?this.findOne(e):e;if(f==null)throw new Error("Token animation requires a valid token element.");const d=f.parentNode,h=()=>{d||dh(f)},p=Bn.create(f);d||p.appendTo(this.graph.view.stage);const g=c.complete;c.complete=y=>{h(),r&&r(),g&&g(y)};const m=p.animateAlongPath(c,u);return()=>{h(),m()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const e=this.cache.pathCache;return bw(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const e=this.cache.pathCache;return bw(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const e=this.cache.pathCache;return bw(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return this.path==null?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return this.path==null?null:(id(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return this.path==null?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return this.path==null?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return this.path==null?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return this.path==null?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return this.path==null?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,n,r,i){const o={distance:0};let s=0,a;typeof r=="number"?(s=r,a=i):a=r,a!=null&&(o.options=a);const l=a&&a.absoluteOffset,c=!(a&&a.absoluteDistance),u=a&&a.absoluteDistance&&a.reverseDistance,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},h=new Ce(e,n),p=f.closestPointT(h,d),g=this.getConnectionLength()||0;let m=f.lengthAtT(p,d);c&&(m=g>0?m/g:0),u&&(m=-1*(g-m)||1),o.distance=m;let y;l||(y=f.tangentAtT(p));let b;if(y)b=y.pointOffset(h);else{const C=f.pointAtT(p),E=h.diff(C);b={x:E.x,y:E.y}}return o.offset=b,o.angle=s,o}normalizeLabelPosition(e){return typeof e=="number"?{distance:e}:e}getLabelTransformationMatrix(e){const n=this.normalizeLabelPosition(e),r=n.options||{},i=n.angle||0,o=n.distance,s=o>0&&o<=1;let a=0;const l={x:0,y:0},c=n.offset;c&&(typeof c=="number"?a=c:(c.x!=null&&(l.x=c.x),c.y!=null&&(l.y=c.y)));const u=l.x!==0||l.y!==0||a===0,f=r.keepGradient,d=r.ensureLegibility,h=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},g=s?o*this.getConnectionLength():o,m=h.tangentAtLength(g,p);let y,b=i;if(m){if(u)y=m.start,y.translate(l);else{const C=m.clone();C.rotate(-90,m.start),C.setLength(a),y=C.end}f&&(b=m.angle()+i,d&&(b=pi.normalize((b+90)%180-90)))}else y=h.start,u&&y.translate(l);return Ka().translate(y.x,y.y).rotate(b)}getLabelCoordinates(e){const n=this.getLabelTransformationMatrix(e);return new Ce(n.e,n.f)}getVertexIndex(e,n){const i=this.cell.getVertices(),o=this.getClosestPointLength(new Ce(e,n));let s=0;if(o!=null)for(const a=i.length;s<a;s+=1){const l=i[s],c=this.getClosestPointLength(l);if(c!=null&&o<c)break}return s}getEventArgs(e,n,r){const i=this,o=i.cell,s=o;return n==null||r==null?{e,view:i,edge:o,cell:s}:{e,x:n,y:r,view:i,edge:o,cell:s}}notifyUnhandledMouseDown(e,n,r){this.notify("edge:unhandled:mousedown",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,n,r){super.onMouseDown(e,n,r),this.notify("edge:mousedown",this.getEventArgs(e,n,r))}notifyMouseMove(e,n,r){super.onMouseMove(e,n,r),this.notify("edge:mousemove",this.getEventArgs(e,n,r))}notifyMouseUp(e,n,r){super.onMouseUp(e,n,r),this.notify("edge:mouseup",this.getEventArgs(e,n,r))}onClick(e,n,r){super.onClick(e,n,r),this.notify("edge:click",this.getEventArgs(e,n,r))}onDblClick(e,n,r){super.onDblClick(e,n,r),this.notify("edge:dblclick",this.getEventArgs(e,n,r))}onContextMenu(e,n,r){super.onContextMenu(e,n,r),this.notify("edge:contextmenu",this.getEventArgs(e,n,r))}onMouseDown(e,n,r){switch(this.notifyMouseDown(e,n,r),e.target.getAttribute("class")){case"vertex":{this.startVertexDragging(e,n,r);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(e,n,r);return}case"connection":case"connection-wrap":{this.handleVertexAdding(e,n,r);return}case"arrowhead":{this.startArrowheadDragging(e,n,r);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(e,n,r);return}}this.startEdgeDragging(e,n,r)}onMouseMove(e,n,r){const i=this.getEventData(e);switch(i.action){case"drag-vertex":{this.dragVertex(e,n,r);break}case"drag-label":{this.dragLabel(e,n,r);break}case"drag-arrowhead":{this.dragArrowhead(e,n,r);break}case"drag-edge":{this.dragEdge(e,n,r);break}}return this.notifyMouseMove(e,n,r),i}onMouseUp(e,n,r){const i=this.getEventData(e);switch(i.action){case"drag-vertex":{this.stopVertexDragging(e,n,r);break}case"drag-label":{this.stopLabelDragging(e,n,r);break}case"drag-arrowhead":{this.stopArrowheadDragging(e,n,r);break}case"drag-edge":{this.stopEdgeDragging(e,n,r);break}}return this.notifyMouseUp(e,n,r),this.checkMouseleave(e),i}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,r,i){super.onMouseWheel(e,n,r,i),this.notify("edge:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}onCustomEvent(e,n,r,i){if(One(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if(n==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,r,i)))}this.notifyMouseDown(e,r,i)}else this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),super.onCustomEvent(e,n,r,i)}onLabelMouseDown(e,n,r){this.notifyMouseDown(e,n,r),this.startLabelDragging(e,n,r),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,n,r){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(e,n,r);return}this.setEventData(e,{x:n,y:r,moving:!1,action:"drag-edge"})}dragEdge(e,n,r){const i=this.getEventData(e);i.moving||(i.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(n-i.x,r-i.y,{ui:!0}),this.setEventData(e,{x:n,y:r}),this.notify("edge:moving",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,n,r){const i=this.getEventData(e);i.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})),i.moving=!1}prepareArrowheadDragging(e,n){const r=this.getTerminalMagnet(e),i={action:"drag-arrowhead",x:n.x,y:n.y,isNewEdge:n.isNewEdge===!0,terminalType:e,initialMagnet:r,initialTerminal:VC(this.cell[e]),fallbackAction:n.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:n.options};return this.beforeArrowheadDragging(i),i}createValidateConnectionArgs(e){const n=[];n[4]=e,n[5]=this;let r,i=0,o=0;e==="source"?(i=2,r="target"):(o=2,r="source");const s=this.cell[r],a=s.cell;if(a){let l;const c=n[i]=this.graph.renderer.findViewByCell(a);c&&(l=c.getMagnetFromEdgeTerminal(s),l===c.container&&(l=void 0)),n[i+1]=l}return(l,c)=>(n[o]=l,n[o+1]=l.container===c?void 0:c,n)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const n=this.container.style;e.pointerEvents=n.pointerEvents,n.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){e.zIndex!=null&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null);const n=this.container;n.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}arrowheadDragging(e,n,r,i){i.x=n,i.y=r,i.currentTarget!==e&&(i.currentMagnet&&i.currentView&&i.currentView.unhighlight(i.currentMagnet,{type:"magnetAdsorbed"}),i.currentView=this.graph.renderer.findViewByElem(e),i.currentView?(i.currentMagnet=i.currentView.findMagnet(e),i.currentMagnet&&this.graph.hook.validateConnection(...i.getValidateConnectionArgs(i.currentView,i.currentMagnet),i.currentView.getEdgeTerminal(i.currentMagnet,n,r,this.cell,i.terminalType))?i.currentView.highlight(i.currentMagnet,{type:"magnetAdsorbed"}):i.currentMagnet=null):i.currentMagnet=null),i.currentTarget=e,this.cell.prop(i.terminalType,{x:n,y:r},Object.assign(Object.assign({},i.options),{ui:!0}))}arrowheadDragged(e,n,r){const i=e.currentView,o=e.currentMagnet;if(!o||!i)return;i.unhighlight(o,{type:"magnetAdsorbed"});const s=e.terminalType,a=i.getEdgeTerminal(o,n,r,this.cell,s);this.cell.setTerminal(s,a,{ui:!0})}snapArrowhead(e,n,r){const i=this.graph,{snap:o,allowEdge:s}=i.options.connecting,a=typeof o=="object"&&o.radius||50,l={x:e-a,y:n-a,width:2*a,height:2*a},c=i.renderer.findViewsInArea(l);if(s){const E=i.renderer.findEdgeViewsInArea(l).filter(_=>_!==this);c.push(...E)}const u=r.closestView||null,f=r.closestMagnet||null;r.closestView=null,r.closestMagnet=null;let d,h=Number.MAX_SAFE_INTEGER;const p=new Ce(e,n);c.forEach(E=>{E.container.getAttribute("magnet")!=="false"&&(d=E.cell.getBBox().getCenter().distance(p),d<a&&d<h&&(f===E.container||i.hook.validateConnection(...r.getValidateConnectionArgs(E,null),E.getEdgeTerminal(E.container,e,n,this.cell,r.terminalType)))&&(h=d,r.closestView=E,r.closestMagnet=E.container)),E.container.querySelectorAll("[magnet]").forEach(_=>{if(_.getAttribute("magnet")!=="false"){const w=E.getBBoxOfElement(_);d=p.distance(w.getCenter()),d<a&&d<h&&(f===_||i.hook.validateConnection(...r.getValidateConnectionArgs(E,_),E.getEdgeTerminal(_,e,n,this.cell,r.terminalType)))&&(h=d,r.closestView=E,r.closestMagnet=_)}})});let g;const m=r.terminalType,y=r.closestView,b=r.closestMagnet,C=f!==b;if(u&&C&&u.unhighlight(f,{type:"magnetAdsorbed"}),y){if(!C)return;y.highlight(b,{type:"magnetAdsorbed"}),g=y.getEdgeTerminal(b,e,n,this.cell,m)}else g={x:e,y:n};this.cell.setTerminal(m,g,{},Object.assign(Object.assign({},r.options),{ui:!0}))}snapArrowheadEnd(e){const n=e.closestView,r=e.closestMagnet;n&&r&&(n.unhighlight(r,{type:"magnetAdsorbed"}),e.currentMagnet=n.findMagnet(r)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){switch(e.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0});break}}notifyConnectionEvent(e,n){const r=e.terminalType,i=e.initialTerminal,o=this.cell[r];if(o&&!Yo.equalTerminals(i,o)){const a=this.graph,l=i,c=l.cell?a.getCellById(l.cell):null,u=l.port,f=c?a.findViewByCell(c):null,d=c||e.isNewEdge?null:Ce.create(i).toJSON(),h=o,p=h.cell?a.getCellById(h.cell):null,g=h.port,m=p?a.findViewByCell(p):null,y=p?null:Ce.create(o).toJSON();this.notify("edge:connected",{e:n,previousCell:c,previousPort:u,previousView:f,previousPoint:d,currentCell:p,currentView:m,currentPort:g,currentPoint:y,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:r,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const n=this.graph,r=n.model.getCells();e.marked={};for(let i=0,o=r.length;i<o;i+=1){const s=n.renderer.findViewByCell(r[i]);if(!s)continue;const a=Array.prototype.slice.call(s.container.querySelectorAll("[magnet]"));s.container.getAttribute("magnet")!=="false"&&a.push(s.container);const l=a.filter(c=>n.hook.validateConnection(...e.getValidateConnectionArgs(s,c),s.getEdgeTerminal(c,e.x,e.y,this.cell,e.terminalType)));if(l.length>0){for(let c=0,u=l.length;c<u;c+=1)s.highlight(l[c],{type:"magnetAvailable"});s.highlight(null,{type:"nodeAvailable"}),e.marked[s.cell.id]=l}}}unhighlightAvailableMagnets(e){const n=e.marked||{};Object.keys(n).forEach(r=>{const i=this.graph.renderer.findViewByCell(r);i&&(n[r].forEach(s=>{i.unhighlight(s,{type:"magnetAvailable"})}),i.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,n,r){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(e,n,r);return}const o=e.target.getAttribute("data-terminal"),s=this.prepareArrowheadDragging(o,{x:n,y:r});this.setEventData(e,s)}dragArrowhead(e,n,r){const i=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(n,r,i):this.arrowheadDragging(this.getEventTarget(e),n,r,i)}stopArrowheadDragging(e,n,r){const i=this.graph,o=this.getEventData(e);i.options.connecting.snap?this.snapArrowheadEnd(o):this.arrowheadDragged(o,n,r),i.hook.validateEdge(this.cell,o.terminalType,o.initialTerminal)?(this.finishEmbedding(o),this.notifyConnectionEvent(o,e)):this.fallbackConnection(o),this.afterArrowheadDragging(o)}startLabelDragging(e,n,r){if(this.can("edgeLabelMovable")){const i=e.currentTarget,o=parseInt(i.getAttribute("data-index"),10),s=this.getLabelPositionAngle(o),a=this.getLabelPositionArgs(o),l=this.getDefaultLabelPositionArgs(),c=this.mergeLabelPositionArgs(a,l);this.setEventData(e,{index:o,positionAngle:s,positionArgs:c,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,n,r){const i=this.getEventData(e),o=this.cell.getLabelAt(i.index),s=Io({},o,{position:this.getLabelPosition(n,r,i.positionAngle,i.positionArgs)});this.cell.setLabelAt(i.index,s)}stopLabelDragging(e,n,r){}handleVertexAdding(e,n,r){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(e,n,r);return}const i=this.addVertex({x:n,y:r},{ui:!0});this.setEventData(e,{index:i,action:"drag-vertex"})}handleVertexRemoving(e,n,r){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(e,n,r);return}const i=e.target,o=parseInt(i.getAttribute("idx"),10);this.cell.removeVertexAt(o)}startVertexDragging(e,n,r){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(e,n,r);return}const i=e.target,o=parseInt(i.getAttribute("idx"),10);this.setEventData(e,{index:o,action:"drag-vertex"})}dragVertex(e,n,r){const i=this.getEventData(e);this.cell.setVertexAt(i.index,{x:n,y:r},{ui:!0})}stopVertexDragging(e,n,r){}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"&&typeof i.update=="function"&&typeof i.getConnection=="function"}t.isEdgeView=e})(Gp||(Gp={}));Gp.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50});Gp.registry.register("edge",Gp,!0);class la extends hs{constructor(){super(...arguments),this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=Si.getPortMarkup(),this.defaultPortLabelMarkup=Si.getPortLabelMarkup(),this.defaultPortContainerMarkup=Si.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return la.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const n=e.target;if(n.hasAttribute("magnet")){const r=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?sf(n,r):eo(n,r)}else{const r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}isNodeView(){return!0}confirmUpdate(e,n={}){let r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",()=>this.resize(n),"update"),r=this.handleAction(r,"update",()=>this.update(),"ports"),r=this.handleAction(r,"translate",()=>this.translate()),r=this.handleAction(r,"rotate",()=>this.rotate()),r=this.handleAction(r,"ports",()=>this.renderPorts()),r=this.handleAction(r,"tools",()=>this.renderTools())),r}update(e){this.cleanCache(),this.removePorts();const n=this.cell,r=n.getSize(),i=n.getAttrs();this.updateAttrs(this.container,i,{attrs:e===i?null:e,rootBBox:new mn(0,0,r.width,r.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e)return typeof e=="string"?this.renderStringMarkup(e):this.renderJSONMarkup(e);throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container),r=i=>Array.isArray(i)?i[0]:i;this.selectors=n.selectors,this.rotatableNode=r(this.selectors[this.rotatableSelector]),this.scalableNode=r(this.selectors[this.scalableSelector]),this.container.appendChild(n.fragment)}renderStringMarkup(e){WC(this.container,Bn.toNodes(Bn.createVectors(e))),this.rotatableNode=F6(this.container,`.${this.rotatableSelector}`),this.scalableNode=F6(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),this.renderTools(),this}resize(e={}){if(this.scalableNode)return this.updateSize(e);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const n=this.cell.getSize();return`rotate(${e},${n.width/2},${n.height/2})`}}updateTransform(){let e=this.getTranslationString();const n=this.getRotationString();n&&(e+=` ${n}`),this.container.setAttribute("transform",e)}updateRotation(){if(this.rotatableNode!=null){const e=this.getRotationString();e!=null?this.rotatableNode.setAttribute("transform",e):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(e={}){const n=this.cell,r=n.getSize(),i=n.getAngle(),o=this.scalableNode;let s=!1;o.getElementsByTagName("path").length>0&&(s=!0);const a=Xa(o,{recursive:s}),l=r.width/(a.width||1),c=r.height/(a.height||1);o.setAttribute("transform",`scale(${l},${c})`);const u=this.rotatableNode;if(u!=null){const f=u.getAttribute("transform");if(f){u.setAttribute("transform",`${f} rotate(${-i},${r.width/2},${r.height/2})`);const d=Xa(o,{target:this.graph.view.stage});n.prop("position",{x:d.x,y:d.y},Object.assign({updated:!0},e)),this.translate(),this.rotate()}}this.update()}findPortElem(e,n){const r=e?this.portsCache[e]:null;if(!r)return null;const i=r.portContentElement,o=r.portContentSelectors||{};return this.findOne(n,i,o)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(e=>{const n=this.portsCache[e];dh(n.portElement)})}renderPorts(){const e=this.getPortsContainer(),n=[];e.childNodes.forEach(o=>{n.push(o)});const r=Cj(this.cell.getParsedPorts(),"zIndex"),i="auto";r[i]&&r[i].forEach(o=>{const s=this.getPortElement(o);e.append(s),n.push(s)}),Object.keys(r).forEach(o=>{if(o!==i){const s=parseInt(o,10);this.appendPorts(r[o],s,n)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(e,n,r){const i=e.map(o=>this.getPortElement(o));r[n]||n<0?U5(r[Math.max(n,0)],i):WC(this.getPortsContainer(),i)}getPortElement(e){const n=this.portsCache[e.id];return n?n.portElement:this.createPortElement(e)}createPortElement(e){let n=Si.renderMarkup(this.getPortContainerMarkup());const r=n.elem;if(r==null)throw new Error("Invalid port container markup.");n=Si.renderMarkup(this.getPortMarkup(e));const i=n.elem,o=n.selectors;if(i==null)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},i),n=Si.renderMarkup(this.getPortLabelMarkup(e.label));const s=n.elem,a=n.selectors;if(s==null)throw new Error("Invalid port label markup.");let l;if(o&&a){for(const u in a)if(o[u]&&u!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},o),a)}else l=o||a;let c="x6-port";return e.group&&(c+=` x6-port-${e.group}`),eo(r,c),eo(i,"x6-port-body"),eo(s,"x6-port-label"),r.appendChild(i),r.appendChild(s),this.portsCache[e.id]={portElement:r,portSelectors:l,portLabelElement:s,portLabelSelectors:a,portContentElement:i,portContentSelectors:o},this.graph.hook.onPortRendered({port:e,node:this.cell,container:r,selectors:l,labelContainer:s,labelSelectors:a,contentContainer:i,contentSelectors:o}),r}updatePorts(){this.updatePortGroup();const e=this.cell.getParsedGroups();Object.keys(e).forEach(n=>this.updatePortGroup(n))}updatePortGroup(e){const n=mn.fromSize(this.cell.getSize()),r=this.cell.getPortsLayoutByGroup(e,n);for(let i=0,o=r.length;i<o;i+=1){const s=r[i],a=s.portId,l=this.portsCache[a]||{},c=s.portLayout;if(this.applyPortTransform(l.portElement,c),s.portAttrs!=null){const f={selectors:l.portSelectors||{}};s.portSize&&(f.rootBBox=mn.fromSize(s.portSize)),this.updateAttrs(l.portElement,s.portAttrs,f)}const u=s.labelLayout;if(u&&(this.applyPortTransform(l.portLabelElement,u,-(c.angle||0)),u.attrs)){const f={selectors:l.portLabelSelectors||{}};s.labelSize&&(f.rootBBox=mn.fromSize(s.labelSize)),this.updateAttrs(l.portLabelElement,u.attrs,f)}}}applyPortTransform(e,n,r=0){const i=n.angle,o=n.position,s=Ka().rotate(r).translate(o.x||0,o.y||0).rotate(i||0);I1(e,s,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(e){return e.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(e,n,r){const i=this,o=i.cell,s=o;return n==null||r==null?{e,view:i,node:o,cell:s}:{e,x:n,y:r,view:i,node:o,cell:s}}notifyMouseDown(e,n,r){super.onMouseDown(e,n,r),this.notify("node:mousedown",this.getEventArgs(e,n,r))}notifyMouseMove(e,n,r){super.onMouseMove(e,n,r),this.notify("node:mousemove",this.getEventArgs(e,n,r))}notifyMouseUp(e,n,r){super.onMouseUp(e,n,r),this.notify("node:mouseup",this.getEventArgs(e,n,r))}onClick(e,n,r){super.onClick(e,n,r),this.notify("node:click",this.getEventArgs(e,n,r))}onDblClick(e,n,r){super.onDblClick(e,n,r),this.notify("node:dblclick",this.getEventArgs(e,n,r))}onContextMenu(e,n,r){super.onContextMenu(e,n,r),this.notify("node:contextmenu",this.getEventArgs(e,n,r))}onMouseDown(e,n,r){this.isPropagationStopped(e)||(this.notifyMouseDown(e,n,r),this.startNodeDragging(e,n,r))}onMouseMove(e,n,r){const i=this.getEventData(e),o=i.action;if(o==="magnet")this.dragMagnet(e,n,r);else{if(o==="move"){const a=i.targetView||this;a.dragNode(e,n,r),a.notify("node:moving",{e,x:n,y:r,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(e,n,r)}this.setEventData(e,i)}onMouseUp(e,n,r){const i=this.getEventData(e),o=i.action;o==="magnet"?this.stopMagnetDragging(e,n,r):(this.notifyMouseUp(e,n,r),o==="move"&&(i.targetView||this).stopNodeDragging(e,n,r));const s=i.targetMagnet;s&&this.onMagnetClick(e,s,n,r),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,r,i){super.onMouseWheel(e,n,r,i),this.notify("node:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}onMagnetClick(e,n,r,i){this.graph.view.getMouseMovedCount(e)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:n},this.getEventArgs(e,r,i)))}onMagnetDblClick(e,n,r,i){this.notify("node:magnet:dblclick",Object.assign({magnet:n},this.getEventArgs(e,r,i)))}onMagnetContextMenu(e,n,r,i){this.notify("node:magnet:contextmenu",Object.assign({magnet:n},this.getEventArgs(e,r,i)))}onMagnetMouseDown(e,n,r,i){this.startMagnetDragging(e,r,i)}onCustomEvent(e,n,r,i){this.notify("node:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),super.onCustomEvent(e,n,r,i)}prepareEmbedding(e){const r=this.getEventData(e).cell||this.cell,i=this.graph.findViewByCell(r),o=this.graph.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:r,view:i,cell:r,x:o.x,y:o.y,currentParent:r.getParent()})}processEmbedding(e,n){const r=n.cell||this.cell,i=n.graph||this.graph,o=i.options.embedding,s=o.findParent;let a=typeof s=="function"?$n(s,i,{view:this,node:this.cell}).filter(d=>xi.isCell(d)&&this.cell.id!==d.id&&!d.isDescendantOf(this.cell)):i.model.getNodesUnderNode(r,{by:s});if(o.frontOnly&&a.length>0){const d=Cj(a,"zIndex"),h=sTe(Object.keys(d));h&&(a=d[h])}a=a.filter(d=>d.visible);let l=null;const c=n.candidateEmbedView,u=o.validate;for(let d=a.length-1;d>=0;d-=1){const h=a[d];if(c&&c.cell.id===h.id){l=c;break}else{const p=h.findView(i);if($n(u,i,{child:this.cell,parent:p.cell,childView:this,parentView:p})){l=p;break}}}this.clearEmbedding(n),l&&l.highlight(null,{type:"embedding"}),n.candidateEmbedView=l;const f=i.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:r,node:r,view:i.findViewByCell(r),x:f.x,y:f.y,currentParent:r.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(e){const n=e.candidateEmbedView;n&&(n.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,n){const r=n.cell||this.cell,i=n.graph||this.graph,o=i.findViewByCell(r),s=r.getParent(),a=n.candidateEmbedView;if(a?(a.unhighlight(null,{type:"embedding"}),n.candidateEmbedView=null,(s==null||s.id!==a.cell.id)&&a.cell.insertChild(r,void 0,{ui:!0})):s&&s.unembed(r,{ui:!0}),i.model.getConnectedEdges(r,{deep:!0}).forEach(l=>{l.updateParent({ui:!0})}),o&&a){const l=i.snapToGrid(e.clientX,e.clientY);o.notify("node:embedded",{e,cell:r,x:l.x,y:l.y,node:r,view:i.findViewByCell(r),previousParent:s,currentParent:r.getParent()})}}getDelegatedView(){let e=this.cell,n=this;for(;n&&!e.isEdge();){if(!e.hasParent()||n.can("stopDelegateOnDragging"))return n;e=e.getParent(),n=this.graph.renderer.findViewByCell(e)}return null}startMagnetDragging(e,n,r){if(!this.can("magnetConnectable"))return;e.stopPropagation();const i=e.currentTarget,o=this.graph;this.setEventData(e,{targetMagnet:i}),o.hook.validateMagnet(this,i,e)?(o.options.magnetThreshold<=0&&this.startConnectting(e,i,n,r),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):((wE(i,"x6-port-body")||Is(i).closest(".x6-port-body").length>0)&&this.stopPropagation(e),this.onMouseDown(e,n,r)),o.view.delegateDragEvents(e,this)}startConnectting(e,n,r,i){this.graph.model.startBatch("add-edge");const o=this.createEdgeFromMagnet(n,r,i);o.notifyMouseDown(e,r,i),o.setEventData(e,o.prepareArrowheadDragging("target",{x:r,y:i,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:o})}createEdgeFromMagnet(e,n,r){const i=this.graph,o=i.model,s=i.hook.getDefaultEdge(this,e);return s.setSource(Object.assign(Object.assign({},s.getSource()),this.getEdgeTerminal(e,n,r,s,"source"))),s.setTarget(Object.assign(Object.assign({},s.getTarget()),{x:n,y:r})),s.addTo(o,{async:!1,ui:!0}),s.findView(i)}dragMagnet(e,n,r){const i=this.getEventData(e),o=i.edgeView;if(o)o.onMouseMove(e,n,r),this.autoScrollGraph(e.clientX,e.clientY);else{const s=this.graph,a=s.options.magnetThreshold,l=this.getEventTarget(e),c=i.targetMagnet;if(a==="onleave"){if(c===l||c.contains(l))return}else if(s.view.getMouseMovedCount(e)<=a)return;this.startConnectting(e,c,n,r)}}stopMagnetDragging(e,n,r){const o=this.eventData(e).edgeView;o&&(o.onMouseUp(e,n,r),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,n,r){this.notify("node:unhandled:mousedown",{e,x:n,y:r,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,n,r,i,o){let s=[o];const a=this.graph.selection.widget;if(a&&a.options.movable){const l=this.graph.getSelectedCells();l.includes(o)&&(s=l.filter(c=>c.isNode()))}s.forEach(l=>{this.notify(e,{e:n,x:r,y:i,cell:l,node:l,view:l.findView(this.graph)})})}startNodeDragging(e,n,r){const i=this.getDelegatedView();if(i==null||!i.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,n,r);this.setEventData(e,{targetView:i,action:"move"});const o=Ce.create(i.cell.getPosition());i.setEventData(e,{moving:!1,offset:o.diff(n,r),restrict:this.graph.hook.getRestrictArea(i)})}dragNode(e,n,r){const i=this.cell,o=this.graph,s=o.getGridSize(),a=this.getEventData(e),l=a.offset,c=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,n,r,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const u=Js.snapToGrid(n+l.x,s),f=Js.snapToGrid(r+l.y,s);i.setPosition(u,f,{restrict:c,deep:!0,ui:!0}),o.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(e),a.embedding=!0),this.processEmbedding(e,a))}stopNodeDragging(e,n,r){const i=this.getEventData(e);i.embedding&&this.finalizeEmbedding(e,i),i.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,n,r,this.cell)),i.moving=!1,i.embedding=!1}autoScrollGraph(e,n){const r=this.graph.scroller.widget;r&&r.autoScroll(e,n)}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"&&typeof i.update=="function"&&typeof i.findPortElem=="function"&&typeof i.resize=="function"&&typeof i.rotate=="function"&&typeof i.translate=="function"}t.isNodeView=e})(la||(la={}));la.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});la.registry.register("node",la,!0);const Fre=K5("text");class e9 extends yh("text",{view:Fre,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(t){class e extends la{confirmUpdate(r,i={}){let o=super.confirmUpdate(r,i);return this.hasAction(o,"scale")&&(this.resize(),o=this.removeAction(o,"scale")),o}}t.View=e,e.config({actions:{attrs:["scale"]}}),la.registry.register(Fre,e)})(e9||(e9={}));class zre extends yl{constructor(e,n={}){super(),this.length=0,this.comparator=n.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,n,r){let i,o;typeof n=="number"?(i=n,o=Object.assign({merge:!1},r)):(i=this.length,o=Object.assign({merge:!1},n)),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);const s=Array.isArray(e)?e:[e],a=this.comparator&&typeof n!="number"&&o.sort!==!1,l=this.comparator||null;let c=!1;const u=[],f=[];return s.forEach(d=>{const h=this.get(d);h?o.merge&&!d.isSameStore(h)&&(h.setProp(d.getProp(),r),f.push(h),a&&!c&&(l==null||typeof l=="function"?c=h.hasChanged():typeof l=="string"?c=h.hasChanged(l):c=l.some(p=>h.hasChanged(p)))):(u.push(d),this.reference(d))}),u.length&&(a&&(c=!0),this.cells.splice(i,0,...u),this.length=this.cells.length),c&&this.sort({silent:!0}),o.silent||(u.forEach((d,h)=>{const p={cell:d,index:i+h,options:o};this.trigger("added",p),o.dryrun||d.notify("added",Object.assign({},p))}),c&&this.trigger("sorted"),(u.length||f.length)&&this.trigger("updated",{added:u,merged:f,removed:[],options:o})),this}remove(e,n={}){const r=Array.isArray(e)?e:[e],i=this.removeCells(r,n);return!n.silent&&i.length>0&&this.trigger("updated",{options:n,removed:i,added:[],merged:[]}),Array.isArray(e)?i:i[0]}removeCells(e,n){const r=[];for(let i=0;i<e.length;i+=1){const o=this.get(e[i]);if(o==null)continue;const s=this.cells.indexOf(o);this.cells.splice(s,1),this.length-=1,delete this.map[o.id],r.push(o),this.unreference(o),n.dryrun||o.remove(),n.silent||(this.trigger("removed",{cell:o,index:s,options:n}),n.dryrun||o.notify("removed",{cell:o,index:s,options:n}))}return r}reset(e,n={}){const r=this.cells.slice();if(r.forEach(i=>this.unreference(i)),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){const i=this.cells.slice();this.trigger("reseted",{options:n,previous:r,current:i});const o=[],s=[];i.forEach(a=>{r.some(c=>c.id===a.id)||o.push(a)}),r.forEach(a=>{i.some(c=>c.id===a.id)||s.push(a)}),this.trigger("updated",{options:n,added:o,removed:s,merged:[]})}return this}push(e,n){return this.add(e,this.length,n)}pop(e){const n=this.at(this.length-1);return this.remove(n,e)}unshift(e,n){return this.add(e,0,n)}shift(e){const n=this.at(0);return this.remove(n,e)}get(e){if(e==null)return null;const n=typeof e=="string"||typeof e=="number"?e:e.id;return this.map[n]||null}has(e){return this.get(e)!=null}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return this.comparator!=null&&(this.cells=R5(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){const e=this.constructor;return new e(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,n){const r=n.cell;this.trigger(`cell:${e}`,n),r&&(r.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},n),{node:r})):r.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},n),{edge:r})))}clean(){this.length=0,this.cells=[],this.map={}}}class pl extends yl{constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new zre(e),this.setup()}get[Symbol.toStringTag](){return pl.toStringTag}notify(e,n){this.trigger(e,n);const r=this.graph;return r&&(e==="sorted"||e==="reseted"||e==="updated"?r.trigger(`model:${e}`,n):r.trigger(e,n)),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",n=>this.notify("updated",n)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:n})=>{this.onCellAdded(n)}),e.on("removed",n=>{const r=n.cell;this.onCellRemoved(r,n.options),this.notify("cell:removed",n),r.isNode()?this.notify("node:removed",Object.assign(Object.assign({},n),{node:r})):r.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},n),{edge:r}))}),e.on("reseted",n=>{this.onReset(n.current),this.notify("reseted",n)}),e.on("edge:change:source",({edge:n})=>this.onEdgeTerminalChanged(n,"source")),e.on("edge:change:target",({edge:n})=>{this.onEdgeTerminalChanged(n,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const n=e.id;e.isEdge()?(e.updateParent(),this.edges[n]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[n]=!0}onCellRemoved(e,n){const r=e.id;if(e.isEdge()){delete this.edges[r];const i=e.getSource(),o=e.getTarget();if(i&&i.cell){const s=this.outgoings[i.cell],a=s?s.indexOf(r):-1;a>=0&&(s.splice(a,1),s.length===0&&delete this.outgoings[i.cell])}if(o&&o.cell){const s=this.incomings[o.cell],a=s?s.indexOf(r):-1;a>=0&&(s.splice(a,1),s.length===0&&delete this.incomings[o.cell])}}else delete this.nodes[r];n.clear||(n.disconnectEdges?this.disconnectConnectedEdges(e,n):this.removeConnectedEdges(e,n)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(n=>this.onCellAdded(n))}onEdgeTerminalChanged(e,n){const r=n==="source"?this.outgoings:this.incomings,i=e.previous(n);if(i&&i.cell){const s=r[i.cell],a=s?s.indexOf(e.id):-1;a>=0&&(s.splice(a,1),s.length===0&&delete r[i.cell])}const o=e.getTerminal(n);if(o&&o.cell){const s=r[o.cell]||[];s.indexOf(e.id)===-1&&s.push(e.id),r[o.cell]=s}}prepareCell(e,n){return!e.model&&(!n||!n.dryrun)&&(e.model=this),e.zIndex==null&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,n={}){return e.map(r=>this.prepareCell(r,Object.assign(Object.assign({},n),{dryrun:!0}))),this.collection.reset(e,n),e.map(r=>this.prepareCell(r,{options:n})),this}clear(e={}){const n=this.getCells();if(n.length===0)return this;const r=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const i=n.sort((o,s)=>{const a=o.isEdge()?1:2,l=s.isEdge()?1:2;return a-l});for(;i.length>0;){const o=i.shift();o&&o.remove(r)}},r),this}addNode(e,n={}){const r=fo.isNode(e)?e:this.createNode(e);return this.addCell(r,n),r}createNode(e){return fo.create(e)}addEdge(e,n={}){const r=Yo.isEdge(e)?e:this.createEdge(e);return this.addCell(r,n),r}createEdge(e){return Yo.create(e)}addCell(e,n={}){return Array.isArray(e)?this.addCells(e,n):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild(r=>this.addCell(r,n)),this.addings.delete(e)),this)}addCells(e,n={}){const r=e.length;if(r===0)return this;const i=Object.assign(Object.assign({},n),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:e})),e.forEach(o=>{this.addCell(o,i),i.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:e})),this}removeCell(e,n={}){const r=typeof e=="string"?this.getCell(e):e;return r&&this.has(r)?this.collection.remove(r,n):null}updateCellId(e,n){this.startBatch("update",{id:n}),e.prop("id",n);const r=e.clone({keepId:!0});return this.addCell(r),this.getConnectedEdges(e).forEach(o=>{const s=o.getSourceCell(),a=o.getTargetCell();s===e&&o.setSource(Object.assign(Object.assign({},o.getSource()),{cell:n})),a===e&&o.setTarget(Object.assign(Object.assign({},o.getTarget()),{cell:n}))}),this.removeCell(e),this.stopBatch("update",{id:n}),r}removeCells(e,n={}){return e.length?this.batchUpdate("remove",()=>e.map(r=>this.removeCell(r,n))):[]}removeConnectedEdges(e,n={}){const r=this.getConnectedEdges(e);return r.forEach(i=>{i.remove(n)}),r}disconnectConnectedEdges(e,n={}){const r=typeof e=="string"?e:e.id;this.getConnectedEdges(e).forEach(i=>{const o=i.getSourceCell(),s=i.getTargetCell();o&&o.id===r&&i.setSource({x:0,y:0},n),s&&s.id===r&&i.setTarget({x:0,y:0},n)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(n=>this.getCell(n)).filter(n=>n!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const n=typeof e=="string"?e:e.id,r=this.outgoings[n];return r?r.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getIncomingEdges(e){const n=typeof e=="string"?e:e.id,r=this.incomings[n];return r?r.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getConnectedEdges(e,n={}){const r=[],i=typeof e=="string"?this.getCell(e):e;if(i==null)return r;const o={},s=n.indirect;let a=n.incoming,l=n.outgoing;a==null&&l==null&&(a=l=!0);const c=(u,f)=>{const d=f?this.getOutgoingEdges(u):this.getIncomingEdges(u);if(d!=null&&d.forEach(h=>{o[h.id]||(r.push(h),o[h.id]=!0,s&&(a&&c(h,!1),l&&c(h,!0)))}),s&&u.isEdge()){const h=f?u.getTargetCell():u.getSourceCell();h&&h.isEdge()&&(o[h.id]||(r.push(h),c(h,f)))}};if(l&&c(i,!0),a&&c(i,!1),n.deep){const u=i.getDescendants({deep:!0}),f={};u.forEach(h=>{h.isNode()&&(f[h.id]=!0)});const d=(h,p)=>{const g=p?this.getOutgoingEdges(h.id):this.getIncomingEdges(h.id);g!=null&&g.forEach(m=>{if(!o[m.id]){const y=m.getSourceCell(),b=m.getTargetCell();if(!n.enclosed&&y&&f[y.id]&&b&&f[b.id])return;r.push(m),o[m.id]=!0}})};u.forEach(h=>{h.isEdge()||(l&&d(h,!0),a&&d(h,!1))})}return r}isBoundary(e,n){const r=typeof e=="string"?this.getCell(e):e,i=n?this.getIncomingEdges(r):this.getOutgoingEdges(r);return i==null||i.length===0}getBoundaryNodes(e){const n=[];return Object.keys(this.nodes).forEach(r=>{if(this.isBoundary(r,e)){const i=this.getCell(r);i&&n.push(i)}}),n}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,n={}){let r=n.incoming,i=n.outgoing;r==null&&i==null&&(r=i=!0);const s=this.getConnectedEdges(e,n).reduce((a,l)=>{const c=l.hasLoop(n),u=l.getSourceCell(),f=l.getTargetCell();return r&&u&&u.isNode()&&!a[u.id]&&(c||u!==e&&(!n.deep||!u.isDescendantOf(e)))&&(a[u.id]=u),i&&f&&f.isNode()&&!a[f.id]&&(c||f!==e&&(!n.deep||!f.isDescendantOf(e)))&&(a[f.id]=f),a},{});if(e.isEdge()){if(r){const a=e.getSourceCell();a&&a.isNode()&&!s[a.id]&&(s[a.id]=a)}if(i){const a=e.getTargetCell();a&&a.isNode()&&!s[a.id]&&(s[a.id]=a)}}return Object.keys(s).map(a=>s[a])}isNeighbor(e,n,r={}){let i=r.incoming,o=r.outgoing;return i==null&&o==null&&(i=o=!0),this.getConnectedEdges(e,r).some(s=>{const a=s.getSourceCell(),l=s.getTargetCell();return!!(i&&a&&a.id===n.id||o&&l&&l.id===n.id)})}getSuccessors(e,n={}){const r=[];return this.search(e,(i,o)=>{i!==e&&this.matchDistance(o,n.distance)&&r.push(i)},Object.assign(Object.assign({},n),{outgoing:!0})),r}isSuccessor(e,n,r={}){let i=!1;return this.search(e,(o,s)=>{if(o===n&&o!==e&&this.matchDistance(s,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{outgoing:!0})),i}getPredecessors(e,n={}){const r=[];return this.search(e,(i,o)=>{i!==e&&this.matchDistance(o,n.distance)&&r.push(i)},Object.assign(Object.assign({},n),{incoming:!0})),r}isPredecessor(e,n,r={}){let i=!1;return this.search(e,(o,s)=>{if(o===n&&o!==e&&this.matchDistance(s,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{incoming:!0})),i}matchDistance(e,n){return n==null?!0:typeof n=="function"?n(e):Array.isArray(n)&&n.includes(e)?!0:e===n}getCommonAncestor(...e){const n=[];return e.forEach(r=>{r&&(Array.isArray(r)?n.push(...r):n.push(r))}),xi.getCommonAncestor(...n)}getSubGraph(e,n={}){const r=[],i={},o=[],s=[],a=l=>{i[l.id]||(r.push(l),i[l.id]=l,l.isEdge()&&s.push(l),l.isNode()&&o.push(l))};return e.forEach(l=>{a(l),n.deep&&l.getDescendants({deep:!0}).forEach(u=>a(u))}),s.forEach(l=>{const c=l.getSourceCell(),u=l.getTargetCell();c&&!i[c.id]&&(r.push(c),i[c.id]=c,c.isNode()&&o.push(c)),u&&!i[u.id]&&(r.push(u),i[u.id]=u,u.isNode()&&o.push(u))}),o.forEach(l=>{this.getConnectedEdges(l,n).forEach(u=>{const f=u.getSourceCell(),d=u.getTargetCell();!i[u.id]&&f&&i[f.id]&&d&&i[d.id]&&(r.push(u),i[u.id]=u)})}),r}cloneSubGraph(e,n={}){const r=this.getSubGraph(e,n);return this.cloneCells(r)}cloneCells(e){return xi.cloneCells(e)}getNodesFromPoint(e,n){const r=typeof e=="number"?{x:e,y:n||0}:e;return this.getNodes().filter(i=>i.getBBox().containsPoint(r))}getNodesInArea(e,n,r,i,o){const s=typeof e=="number"?new mn(e,n,r,i):mn.create(e),a=typeof e=="number"?o:n,l=a&&a.strict;return this.getNodes().filter(c=>{const u=c.getBBox();return l?s.containsRect(u):s.isIntersectWithRect(u)})}getEdgesInArea(e,n,r,i,o){const s=typeof e=="number"?new mn(e,n,r,i):mn.create(e),a=typeof e=="number"?o:n,l=a&&a.strict;return this.getEdges().filter(c=>{const u=c.getBBox();return u.width===0?u.inflate(1,0):u.height===0&&u.inflate(0,1),l?s.containsRect(u):s.isIntersectWithRect(u)})}getNodesUnderNode(e,n={}){const r=e.getBBox();return(n.by==null||n.by==="bbox"?this.getNodesInArea(r):this.getNodesFromPoint(r[n.by])).filter(o=>e.id!==o.id&&!o.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,n={}){return xi.getCellsBBox(e,n)}search(e,n,r={}){r.breadthFirst?this.breadthFirstSearch(e,n,r):this.depthFirstSearch(e,n,r)}breadthFirstSearch(e,n,r={}){const i=[],o={},s={};for(i.push(e),s[e.id]=0;i.length>0;){const a=i.shift();if(a==null||o[a.id]||(o[a.id]=!0,$n(n,this,a,s[a.id])===!1))continue;this.getNeighbors(a,r).forEach(c=>{s[c.id]=s[a.id]+1,i.push(c)})}}depthFirstSearch(e,n,r={}){const i=[],o={},s={};for(i.push(e),s[e.id]=0;i.length>0;){const a=i.pop();if(a==null||o[a.id]||(o[a.id]=!0,$n(n,this,a,s[a.id])===!1))continue;const l=this.getNeighbors(a,r),c=i.length;l.forEach(u=>{s[u.id]=s[a.id]+1,i.splice(c,0,u)})}}getShortestPath(e,n,r={}){const i={};this.getEdges().forEach(c=>{const u=c.getSourceCellId(),f=c.getTargetCellId();u&&f&&(i[u]||(i[u]=[]),i[f]||(i[f]=[]),i[u].push(f),r.directed||i[f].push(u))});const o=typeof e=="string"?e:e.id,s=Z6.run(i,o,r.weight),a=[];let l=typeof n=="string"?n:n.id;for(s[l]&&a.push(l);l=s[l];)a.unshift(l);return a}translate(e,n,r){return this.getCells().filter(i=>!i.hasParent()).forEach(i=>i.translate(e,n,r)),this}resize(e,n,r){return this.resizeCells(e,n,this.getCells(),r)}resizeCells(e,n,r,i={}){const o=this.getCellsBBox(r);if(o){const s=Math.max(e/o.width,0),a=Math.max(n/o.height,0),l=o.getOrigin();r.forEach(c=>c.scale(s,a,l,i))}return this}toJSON(e={}){return pl.toJSON(this.getCells(),e)}parseJSON(e){return pl.fromJSON(e)}fromJSON(e,n={}){const r=this.parseJSON(e);return this.resetCells(r,n),this}startBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:n}),this}stopBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:n}),this}batchUpdate(e,n,r={}){this.startBatch(e,r);const i=n();return this.stopBatch(e,r),i}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(r=>this.batches[r]>0)}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.addNode=="function"&&typeof i.addEdge=="function"&&i.collection!=null}t.isModel=e})(pl||(pl={}));(function(t){function e(r,i={}){return{cells:r.map(o=>o.toJSON(i))}}t.toJSON=e;function n(r){const i=[];return Array.isArray(r)?i.push(...r):(r.cells&&i.push(...r.cells),r.nodes&&r.nodes.forEach(o=>{o.shape==null&&(o.shape="rect"),i.push(o)}),r.edges&&r.edges.forEach(o=>{o.shape==null&&(o.shape="edge"),i.push(o)})),i.map(o=>{const s=o.shape;if(s){if(fo.registry.exist(s))return fo.create(o);if(Yo.registry.exist(s))return Yo.create(o)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}t.fromJSON=n})(pl||(pl={}));const Qd=".text-block-content",OO=K5("text-block");class VM extends fo{get content(){return this.getContent()}set content(e){this.setContent(e)}getContent(){return this.store.get("content","")}setContent(e,n={}){this.store.set("content",e,n)}setup(){super.setup(),this.store.on("change:*",e=>{const n=e.key;n==="content"?this.updateContent(this.getContent()):n==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(e){Zs.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},e),[Qd]:{style:Object.assign({},e)}})}updateContent(e){Zs.SUPPORT_FOREIGNOBJECT?this.setAttrs({[Qd]:{html:e?Ene(e):""}}):this.setAttrs({[Qd]:{text:e}})}}(function(t){t.config({type:OO,view:OO,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Zs.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${Qd.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${Qd.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[Qd]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),fo.registry.register(OO,t)})(VM||(VM={}));(function(t){const e="content";class n extends la{confirmUpdate(i,o={}){let s=super.confirmUpdate(i,o);return this.hasAction(s,e)&&(this.updateContent(),s=this.removeAction(s,e)),s}update(i){if(Zs.SUPPORT_FOREIGNOBJECT)super.update(i);else{const o=this.cell,s=Object.assign({},i||o.getAttrs());delete s[Qd],super.update(s),(!i||bw(i,Qd))&&this.updateContent(i)}}updateContent(i){if(Zs.SUPPORT_FOREIGNOBJECT)super.update(i);else{const o=this.cell,s=(i||o.getAttrs())[Qd],a=Lne(o.getContent(),o.getSize(),s,{svgDocument:this.graph.view.svg}),l={[Qd]:Io({},s,{text:a})};super.update(l)}}}t.View=n,function(r){r.config({bootstrap:["render",e],actions:Zs.SUPPORT_FOREIGNOBJECT?{}:{size:e,content:e}}),la.registry.register(OO,r)}(n=t.View||(t.View={}))})(VM||(VM={}));Ya.define({shape:"empty"});function DAe(t,e="body"){return[{tagName:t,selector:e},{tagName:"text",selector:"label"}]}function Zp(t,e,n={}){const r={constructorName:t,markup:DAe(t,n.selector),attrs:{[t]:Object.assign({},Ya.bodyAttr)}};return(n.parent||Ya).define(Io(r,e,{shape:t}))}Zp("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});fo.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},Ya.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},Ya.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},Ya.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},Ya.labelAttr),{refY2:15})}});Zp("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});const GR=10;Ya.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},Ya.bodyAttr),{lateral:GR}),top:Object.assign(Object.assign({},Ya.bodyAttr),{refCx:"50%",refRx:"50%",cy:GR,ry:GR})},attrHooks:{lateral:{set(t,{refBBox:e}){const n=id(t);n&&(t=parseFloat(t)/100);const r=e.x,i=e.y,o=e.width,s=e.height,a=o/2,l=n?s*t:t,c=.551784,u=c*a,f=c*l,d=r,h=r+o/2,p=r+o,g=i+l,m=g-l,y=i+s-l,b=i+s;return{d:["M",d,g,"L",d,y,"C",r,y+f,h-u,b,h,b,"C",h+u,b,p,y+f,p,y,"L",p,g,"C",p,g-f,h+u,m,h,m,"C",h-u,m,d,g-f,d,g,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:t}){const e=t.attr("body/lateral");return{x:0,y:e}},onMouseMove({node:t,data:e,deltaY:n}){if(n!==0){const r=t.getBBox(),i=t.attr("body/lateral");e.round==null&&(e.round=i);const o=0,s=r.height/2,a=Zl(e.round+n,o,s);a!==i&&t.attr({body:{lateral:a},top:{cy:a,ry:a}})}}}});Zp("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var NAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class W1 extends Ya{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,n){return e==null?this.removePoints():this.setAttrByPath("body/refPoints",W1.pointsToString(e),n),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(t){function e(n){return typeof n=="string"?n:n.map(r=>Array.isArray(r)?r.join(","):Ce.isPointLike(r)?`${r.x}, ${r.y}`:"").join(" ")}t.pointsToString=e,t.config({propHooks(n){const{points:r}=n,i=NAe(n,["points"]);if(r){const o=e(r);o&&w2(i,"attrs/body/refPoints",o)}return i}})})(W1||(W1={}));Zp("polygon",{},{parent:W1});Zp("polyline",{},{parent:W1});var RAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Ya.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(t){const{path:e}=t,n=RAe(t,["path"]);return e&&w2(n,"attrs/body/refD",e),n}});var IAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Ya.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},Zs.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:zs.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Ya.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(t){const{text:e}=t,n=IAe(t,["text"]);return e&&w2(n,"attrs/label/text",e),n},attrHooks:{text:{set(t,{cell:e,view:n,refBBox:r,elem:i,attrs:o}){if(i instanceof HTMLElement)i.textContent=t;else{const s=o.style||{},a={text:t,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},s),c=hh.presets.textWrap;return $n(c.set,this,a,{cell:e,view:n,elem:i,refBBox:r,attrs:l}),{fill:s.color||null}}},position(t,{refBBox:e,elem:n}){if(n instanceof SVGElement)return e.getCenter()}}}});Zp("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:EE()},{selector:"image"});Zp("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:EE()});Zp("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:EE()});Zp("image-inscribed",{propHooks:EE(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}});const oh=Yo.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});Yo.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}});Yo.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class gh extends Ya{get html(){return this.getHTML()}set html(e){this.setHTML(e)}getHTML(){return this.store.get("html")}setHTML(e,n={}){return e==null?this.removeHTML(n):this.store.set("html",e,n),this}removeHTML(e={}){return this.store.remove("html",e)}}(function(t){class e extends la{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(r){const i=super.confirmUpdate(r);return this.handleAction(i,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const r=this.selectors.foContent;if(r){const i=this.$(r).empty(),o=this.graph.hook.getHTMLComponent(this.cell);o&&(typeof o=="string"?i.html(o):i.append(o))}}}t.View=e,function(n){n.action="html",n.config({bootstrap:[n.action],actions:{html:n.action}}),la.registry.register("html-view",n)}(e=t.View||(t.View={}))})(gh||(gh={}));(function(t){t.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Si.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),fo.registry.register("html",t)})(gh||(gh={}));(function(t){t.componentRegistry=Vs.create({type:"html componnet"})})(gh||(gh={}));var $Ae=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class nS extends bre{constructor(e){super(),this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},nS.defaultOptions),e),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const n=(new Date().getTime()-this.timestamp)/1e3;n>this.delay||this.changeCount>=this.threshold&&n>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}$Ae([bre.dispose()],nS.prototype,"dispose",null);(function(t){t.defaultOptions={delay:10,throttle:2,threshold:5}})(nS||(nS={}));class Mo extends od{constructor(e){super(),this.graph=e,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var LAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class sd extends wi{constructor(e){super(),this.graph=e;const{selectors:n,fragment:r}=Si.parseJSONMarkup(sd.markup);this.background=n.background,this.grid=n.grid,this.svg=n.svg,this.defs=n.defs,this.viewport=n.viewport,this.primer=n.primer,this.stage=n.stage,this.decorator=n.decorator,this.overlay=n.overlay,this.container=this.options.container,this.restore=sd.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(r),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const e=this.constructor;return super.delegateEvents(e.events),this}guard(e,n){return e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,n)?!0:e.data&&e.data.guarded!==void 0?e.data.guarded:!(n&&n.cell&&xi.isCell(n.cell)||this.svg===e.target||this.container===e.target||Is.contains(this.svg,e.target))}findView(e){return this.graph.renderer.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onDblClick(n,i.x,i.y):this.graph.trigger("blank:dblclick",{e:n,x:i.x,y:i.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onClick(n,i.x,i.y):this.graph.trigger("blank:click",{e:n,x:i.x,y:i.y})}}onContextMenu(e){this.options.preventDefaultContextMenu&&e.preventDefault();const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onContextMenu(n,i.x,i.y):this.graph.trigger("blank:contextmenu",{e:n,x:i.x,y:i.y})}delegateDragEvents(e,n){e.data==null&&(e.data={}),this.setEventData(e,{currentView:n||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});const r=this.constructor;this.delegateDocumentEvents(r.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;this.options.preventDefaultMouseDown&&n.preventDefault();const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onMouseDown(n,i.x,i.y):(this.options.preventDefaultBlankAction&&n.preventDefault(),this.graph.trigger("blank:mousedown",{e:n,x:i.x,y:i.y})),this.delegateDragEvents(n,r)}onMouseMove(e){const n=this.getEventData(e),r=n.startPosition;if(r&&r.x===e.clientX&&r.y===e.clientY||(n.mouseMovedCount==null&&(n.mouseMovedCount=0),n.mouseMovedCount+=1,n.mouseMovedCount<=this.options.moveThreshold))return;const o=this.normalizeEvent(e),s=this.graph.snapToGrid(o.clientX,o.clientY),a=n.currentView;a?a.onMouseMove(o,s.x,s.y):this.graph.trigger("blank:mousemove",{e:o,x:s.x,y:s.y}),this.setEventData(o,n)}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY),o=this.getEventData(e).currentView;o?o.onMouseUp(n,r.x,r.y):this.graph.trigger("blank:mouseup",{e:n,x:r.x,y:r.y}),e.isPropagationStopped()||this.onClick(Is.Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(!this.guard(n,r))if(r)r.onMouseOver(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseover",{e:n})}}onMouseOut(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(!this.guard(n,r))if(r)r.onMouseOut(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseout",{e:n})}}onMouseEnter(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.renderer.findViewByElem(n.relatedTarget);if(r){if(i===r)return;r.onMouseEnter(n)}else{if(i)return;this.graph.trigger("graph:mouseenter",{e:n})}}onMouseLeave(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.renderer.findViewByElem(n.relatedTarget);if(r){if(i===r)return;r.onMouseLeave(n)}else{if(i)return;this.graph.trigger("graph:mouseleave",{e:n})}}onMouseWheel(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=n.originalEvent,o=this.graph.snapToGrid(i.clientX,i.clientY),s=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));r?r.onMouseWheel(n,o.x,o.y,s):this.graph.trigger("blank:mousewheel",{e:n,delta:s,x:o.x,y:o.y})}onCustomEvent(e){const n=e.currentTarget,r=n.getAttribute("event")||n.getAttribute("data-event");if(r){const i=this.findView(n);if(i){const o=this.normalizeEvent(e);if(this.guard(o,i))return;const s=this.graph.snapToGrid(o.clientX,o.clientY);i.onCustomEvent(o,r,s.x,s.y)}}}handleMagnetEvent(e,n){const r=e.currentTarget,i=r.getAttribute("magnet");if(i&&i.toLowerCase()!=="false"){const o=this.findView(r);if(o){const s=this.normalizeEvent(e);if(this.guard(s,o))return;const a=this.graph.snapToGrid(s.clientX,s.clientY);$n(n,this.graph,o,s,r,a.x,a.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(n,r,i,o,s)=>{n.onMagnetMouseDown(r,i,o,s)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(n,r,i,o,s)=>{n.onMagnetDblClick(r,i,o,s)})}onMagnetContextMenu(e){this.options.preventDefaultContextMenu&&e.preventDefault(),this.handleMagnetEvent(e,(n,r,i,o,s)=>{n.onMagnetContextMenu(r,i,o,s)})}onLabelMouseDown(e){const n=e.currentTarget,r=this.findView(n);if(r){const i=this.normalizeEvent(e);if(this.guard(i,r))return;const o=this.graph.snapToGrid(i.clientX,i.clientY);r.onLabelMouseDown(i,o.x,o.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}LAe([wi.dispose()],sd.prototype,"dispose",null);(function(t){const e=`${ph.prefixCls}-graph`;t.markup=[{ns:zs.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:zs.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:zs.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":zs.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}];function n(r){const i=r.cloneNode();return r.childNodes.forEach(o=>i.appendChild(o)),()=>{for(V5(r);r.attributes.length>0;)r.removeAttribute(r.attributes[0].name);for(let o=0,s=i.attributes.length;o<s;o+=1){const a=i.attributes[o];r.setAttribute(a.name,a.value)}i.childNodes.forEach(o=>r.appendChild(o))}}t.snapshoot=n})(sd||(sd={}));(function(t){const e=ph.prefixCls;t.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(sd||(sd={}));var hf;(function(t){function e(n,r){return(i,o,s)=>{const a=s.value;s.value=function(...l){if(this.scroller.widget==null){const u=`Shoule enable scroller to use method '${o}'`;if(n!==!1)throw console.error(u),new Error(u);return r!==!1&&console.warn(u),this}return a.call(this,...l)}}}t.checkScroller=e})(hf||(hf={}));const FAe=`.x6-graph {
  position: relative;
  outline: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  stroke: #2ecc71;
  stroke-width: 1px;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var zAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class $v extends Mo{init(){$v.ensure()}dispose(){$v.clean()}}zAe([$v.dispose()],$v.prototype,"dispose",null);(function(t){let e,n=0;function r(){if(n+=1,!(n>1)&&!Zs.isApplyingHMR()){e=document.createElement("style"),e.setAttribute("type","text/css"),e.textContent=FAe;const o=document.querySelector("head");o&&o.insertBefore(e,o.firstChild)}}t.ensure=r;function i(){n-=1,!(n>0)&&(e&&e.parentNode&&e.parentNode.removeChild(e),e=null)}t.clean=i})($v||($v={}));var GAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class A0{get handleClassName(){return Po.handle}get pie(){return Object.assign(Object.assign({},A0.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(e=>this.addHandle(e)),this.handleOptions.type==="pie"){if(this.pie.toggles){const e=Po.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(n=>{const r=this.$("<div/>");this.applyAttrs(r,n.attrs),r.addClass(e).addClass(`${e}-pos-${n.position||"e"}`).attr("data-name",n.name).appendTo(this.container),this.$pieToggles[n.name]=r})}this.setPieIcons()}if(this.$handleContainer){const e=this.handleOptions.type||"surround";this.$handleContainer.addClass(Po.wrap).addClass(Po.animate).addClass(`${Po.handle}-${e}`)}this.delegateEvents({[`mousedown .${Po.handle}`]:"onHandleMouseDown",[`touchstart .${Po.handle}`]:"onHandleMouseDown",[`mousedown .${Po.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${Po.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(e){const n=this.$(e.currentTarget).closest(`.${Po.handle}`).attr("data-action");n&&(e.preventDefault(),e.stopPropagation(),this.setEventData(e,{action:n,clientX:e.clientX,clientY:e.clientY,startX:e.clientX,startY:e.clientY}),e.type==="mousedown"&&e.button===2?this.triggerHandleAction(n,"contextmenu",e):(this.triggerHandleAction(n,"mousedown",e),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},e.data)))}onHandleMouseMove(e){const r=this.getEventData(e).action;r&&this.triggerHandleAction(r,"mousemove",e)}onHandleMouseUp(e){const r=this.getEventData(e).action;r&&(this.triggerHandleAction(r,"mouseup",e),this.undelegateDocumentEvents())}triggerHandleAction(e,n,r,i){r.preventDefault(),r.stopPropagation();const o=this.normalizeEvent(r),s=this.getEventData(o),a=this.graph.snapToGrid(o.clientX,o.clientY),l=this.graph.snapToGrid(s.clientX,s.clientY),c=a.x-l.x,u=a.y-l.y;this.trigger(`action:${e}:${n}`,Object.assign({e:o,dx:c,dy:u,x:a.x,y:a.y,offsetX:r.clientX-s.startX,offsetY:r.clientY-s.startY},i)),s.clientX=r.clientX,s.clientY=r.clientY}onPieToggleMouseDown(e){e.stopPropagation();const n=this.$(e.target).closest(`.${Po.pieToggle}`).attr("data-name");this.isOpen(n)||this.isOpen()&&this.toggleState(),this.toggleState(n)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${Po.handle}`).each((e,n)=>{const r=this.$(n),i=r.attr("data-action"),o=Po.pieSlice,s=this.getHandle(i);if(!s||!s.icon){const a=window.getComputedStyle(n,":before").getPropertyValue("content");if(a&&a!=="none"){const c=r.find(`.${o}-txt`);c.length&&Bn.create(c[0]).text(a.replace(/['"]/g,""))}const l=r.css("background-image");if(l){const c=l.match(/url\(['"]?([^'"]+)['"]?\)/);if(c){const u=c[1],f=r.find(`.${o}-img`);f.length>0&&Bn.create(f[0]).attr("xlink:href",u)}}}})}getHandleIdx(e){return this.handles.findIndex(n=>n.name===e)}hasHandle(e){return this.getHandleIdx(e)>=0}getHandle(e){return this.handles.find(n=>n.name===e)}renderHandle(e){const n=this.$("<div/>").addClass(`${Po.handle} ${Po.handle}-${e.name}`).attr("data-action",e.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const r=this.getHandleIdx(e.name),i=this.pie,o=i.outerRadius,s=i.innerRadius,a=(o+s)/2,l=new Ce(o,o),c=pi.toRad(i.sliceAngle),u=r*c+pi.toRad(i.startAngle),f=u+c,d=FPe(s,o,u,f),h=Bn.create("svg").addClass(`${Po.pieSlice}-svg`),p=Bn.create("path").addClass(Po.pieSlice).attr("d",d).translate(o,o),g=Ce.fromPolar(a,-u-c/2,l).toJSON(),m=i.iconSize,y=Bn.create("image").attr(g).addClass(`${Po.pieSlice}-img`);g.y=g.y+m-2;const b=Bn.create("text",{"font-size":m}).attr(g).addClass(`${Po.pieSlice}-txt`);y.attr({width:m,height:m}),y.translate(-m/2,-m/2),b.translate(-m/2,-m/2),h.append([p,y,b]),n.append(h.node)}else n.addClass(`${Po.handle}-pos-${e.position}`),e.content&&(typeof e.content=="string"?n.html(e.content):n.append(e.content));return this.updateHandleIcon(n,e.icon),this.applyAttrs(n,e.attrs),n}addHandle(e){if(!this.hasHandle(e.name)){this.handles.push(e);const n=e.events;n&&Object.keys(n).forEach(r=>{const i=n[r],o=`action:${e.name}:${r}`;typeof i=="string"?this.on(o,this[i],this):this.on(o,i)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(e))}return this}addHandles(e){return e.forEach(n=>this.addHandle(n)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(e){const n=this.getHandleIdx(e),r=this.handles[n];return r&&(r.events&&Object.keys(r.events).forEach(i=>{this.off(`action:${e}:${i}`)}),this.getHandleElem(e).remove(),this.handles.splice(n,1)),this}changeHandle(e,n){const r=this.getHandle(e);return r&&(this.removeHandle(e),this.addHandle(Object.assign(Object.assign({},r),n))),this}toggleHandle(e,n){const r=this.getHandle(e);if(r){const i=this.getHandleElem(e),o=`${Po.handle}-selected`;n===void 0&&(n=!i.hasClass(o)),i.toggleClass(o,n);const s=n?r.iconSelected:r.icon;s&&this.updateHandleIcon(i,s)}return this}selectHandle(e){return this.toggleHandle(e,!0)}deselectHandle(e){return this.toggleHandle(e,!1)}deselectAllHandles(){return this.handles.forEach(e=>this.deselectHandle(e.name)),this}getHandleElem(e){return this.$handleContainer.find(`.${Po.handle}-${e}`)}updateHandleIcon(e,n){if(this.handleOptions.type==="pie"){const r=e.find(`.${Po.pieSliceImg}`);this.$(r[0]).attr("xlink:href",n||"")}else e.css("background-image",n?`url(${n})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(e){return this.isRendered()?e?this.$pieToggles[e].hasClass(Po.pieToggleOpened):this.$handleContainer.hasClass(`${Po.pieOpended}`):!1}toggleState(e){if(this.isRendered()){const n=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(r=>{this.$pieToggles[r].removeClass(Po.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:e}),n.removeClass(Po.pieOpended);else{if(this.trigger("pie:open",{name:e}),e){const r=this.pie.toggles,i=r&&r.find(o=>o.name===e);i&&n.attr({"data-pie-toggle-name":i.name,"data-pie-toggle-position":i.position}),this.$pieToggles[e].addClass(Po.pieToggleOpened)}n.addClass(Po.pieOpended)}}}applyAttrs(e,n){if(n){const r=wi.$(e);Object.keys(n).forEach(i=>{const o=r.find(i).addBack().filter(i),s=n[i],{class:a}=s,l=GAe(s,["class"]);a&&o.addClass(a),o.attr(l)})}}}(function(t){t.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(A0||(A0={}));var Po;(function(t){t.handle=wi.prototype.prefixClassName("widget-handle"),t.wrap=`${t.handle}-wrap`,t.animate=`${t.handle}-animate`,t.pieOpended=`${t.handle}-pie-opened`,t.pieToggle=`${t.handle}-pie-toggle`,t.pieToggleOpened=`${t.handle}-pie-toggle-opened`,t.pieSlice=`${t.handle}-pie-slice`,t.pieSliceImg=`${t.handle}-pie-slice-img`})(Po||(Po={}));var BAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},jAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class _E extends wi{constructor(e){super();const n=e,{view:r,cell:i,node:o,edge:s,graph:a}=n,l=jAe(n,["view","cell","node","edge","graph"]);r?(this.view=r,this.cell=r.cell,this.graph=r.graph,this.model=this.graph.model):(i||s||o)&&a&&(this.cell=o||s||i,this.view=a.renderer.findViewByCell(this.cell),this.graph=a,this.model=this.graph.model);const c=this.constructor;e.clearAll!==!1&&c.removeInstances(this.graph),c.register(this),this.init(l)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(e,n){n==null&&(n=e.graph);const r=this.ensureCache();let i=r[n.view.cid];i==null&&(i=r[n.view.cid]={}),i[e.cid]=e}static unregister(e,n){n==null&&(n=e.graph);const r=this.ensureCache();r[n.view.cid]&&delete r[n.view.cid][e.cid]}static removeInstances(e){const r=this.ensureCache()[e.view.cid];r&&Object.keys(r).forEach(i=>{const o=r[i];o&&o.remove()})}static getInstances(e){return this.ensureCache()[e.view.cid]||{}}init(e){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}_E.instanceCache=new WeakMap;BAe([wi.dispose()],_E.prototype,"dispose",null);class t9 extends _E{get node(){return this.cell}get metadata(){const e=this.cell.prop("knob");return Array.isArray(e)?this.options.index!=null?e[this.options.index]:null:e}init(e){this.options=Object.assign({},e),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),eo(this.container,this.prefixClassName("widget-knob")),this.options.className&&eo(this.container,this.options.className),this.view.addClass(Qm.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(Qm.KNOB),super.remove()}update(){if(this.metadata){const{update:e,position:n}=this.metadata,r={knob:this,cell:this.cell,node:this.node};if(n){const i=n.call(this.graph,Object.assign({},r));if(i){const o=this.graph.matrix(),s=this.node.getBBox(),a=pi.normalize(this.node.getAngle()),l=Ce.create(i);a!==0&&l.rotate(-a,{x:s.width/2,y:s.height/2}),l.translate(s).scale(o.a,o.d).translate(o.e,o.f),this.container.style.left=`${l.x}px`,this.container.style.top=`${l.y}px`}}e&&e.call(this.graph,Object.assign({},r))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:e}){this.cid!==e.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(e,n){if(this.view){const r=this.view.normalizeEvent(n),i=this.graph.snapToGrid(r.clientX,r.clientY);this.view.notify(`cell:${e}`,{e:r,view:this.view,node:this.node,cell:this.cell,x:i.x,y:i.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${e}`,{e:r,view:this.view,node:this.node,cell:this.cell,x:i.x,y:i.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${e}`,{e:r,view:this.view,edge:this.cell,cell:this.cell,x:i.x,y:i.y,knob:this})}}onMouseDown(e){e.stopPropagation(),this.setEventData(e,{knobbing:!1,originX:e.clientX,originY:e.clientY,clientX:e.clientX,clientY:e.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Qm.documentEvents,e.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e,data:this.getEventData(e),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",e)}onMouseMove(e){const n=this.getEventData(e),r=this.graph.findViewByCell(this.node);if(n.knobbing||(n.knobbing=!0,r&&(r.addClass(Qm.KNOBBING),this.notify("knob",e)),this.model.startBatch("knob",{cid:this.cid})),n.clientX=e.clientX,n.clientY=e.clientY,this.metadata&&this.metadata.onMouseMove){const i=this.graph.matrix(),o=(e.clientX-n.originX)/i.a,s=(e.clientY-n.originY)/i.d,a=this.node.getAngle(),l=new Ce(o,s).rotate(a);this.metadata.onMouseMove.call(this.graph,{e,data:n,deltaX:l.x,deltaY:l.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",e),this.notify("knob:mousemove",e)}onMouseUp(e){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const n=this.getEventData(e),r=this.graph.findViewByCell(this.node);n.knobbing&&(r&&r.removeClass(Qm.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e,data:n,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",e)),this.notify("knob:mouseup",e)}}var Qm;(function(t){t.KNOB="has-widget-knob",t.KNOBBING="node-knobbing",t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Qm||(Qm={}));var VAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Qw;(function(t){t.root="widget-minimap",t.viewport=`${t.root}-viewport`,t.zoom=`${t.viewport}-zoom`})(Qw||(Qw={}));class Gre extends wi{constructor(e){super(),this.options=Object.assign(Object.assign({},UM.defaultOptions),e),this.updateViewport=cne(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Qw.root));const n=document.createElement("div");this.container.appendChild(n),this.$viewport=this.$("<div>").addClass(this.prefixClassName(Qw.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(Qw.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const r=Object.assign(Object.assign({},this.options.graphOptions),{container:n,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(r):new gi(r),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}onTransform(e){(e.ui||this.targetGraphTransforming)&&this.updateViewport()}onModelUpdated(){this.targetGraph.zoomToFit()}updatePaper(e,n){let r,i;typeof e=="object"?(r=e.width,i=e.height):(r=e,i=n);const o=this.sourceGraph.options,s=this.sourceGraph.transform.getScale(),a=this.options.width-2*this.options.padding,l=this.options.height-2*this.options.padding;r/=s.sx,i/=s.sy,this.ratio=Math.min(a/r,l/i);const c=this.ratio,u=o.x*c/s.sx,f=o.y*c/s.sy;return r*=c,i*=c,this.targetGraph.resizeGraph(r,i),this.targetGraph.translate(u,f),this.scroller?this.targetGraph.scale(c,c):this.targetGraph.zoomToFit(),this.updateViewport(),this}updateViewport(){const e=this.sourceGraph.transform.getScale(),n=this.targetGraph.transform.getScale();let r=null;this.scroller?r=this.scroller.clientToLocalPoint(0,0):r=this.graph.graphToLocal(0,0);const i=this.$(this.targetGraph.container).position(),o=this.targetGraph.translate();o.ty=o.ty||0,this.geometry={top:i.top+r.y*n.sy+o.ty,left:i.left+r.x*n.sx+o.tx,width:this.$graphContainer.innerWidth()*n.sx/e.sx,height:this.$graphContainer.innerHeight()*n.sy/e.sy},this.$viewport.css(this.geometry)}startAction(e){const n=this.normalizeEvent(e),r=n.target===this.zoomHandle?"zooming":"panning",{tx:i,ty:o}=this.sourceGraph.translate(),s={action:r,clientX:n.clientX,clientY:n.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:i,translateY:o};this.targetGraphTransforming=!0,this.delegateDocumentEvents(UM.documentEvents,s)}doAction(e){const n=this.normalizeEvent(e),r=n.clientX,i=n.clientY,o=n.data;switch(o.action){case"panning":{const s=this.sourceGraph.transform.getScale(),a=(r-o.clientX)*s.sx,l=(i-o.clientY)*s.sy;this.scroller?(this.graphContainer.scrollLeft=o.scrollLeft+a/this.ratio,this.graphContainer.scrollTop=o.scrollTop+l/this.ratio):this.sourceGraph.translate(o.translateX-a/this.ratio,o.translateY-l/this.ratio);break}case"zooming":{const s=o.scale,a=o.geometry,l=1+(o.clientX-r)/a.width/s.sx;o.frameId&&cancelAnimationFrame(o.frameId),o.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(l*o.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}}}stopAction(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1}scrollTo(e){const n=this.normalizeEvent(e);let r,i;const o=this.targetGraph.translate();if(o.ty=o.ty||0,n.offsetX==null){const l=this.$(this.targetGraph.container).offset();r=n.pageX-l.left,i=n.pageY-l.top}else r=n.offsetX,i=n.offsetY;const s=(r-o.tx)/this.ratio,a=(i-o.ty)/this.ratio;this.sourceGraph.centerPoint(s,a)}dispose(){this.remove()}}VAe([wi.dispose()],Gre.prototype,"dispose",null);var UM;(function(t){t.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:e=>new gi(e)},t.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(UM||(UM={}));var UAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},HAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Bre extends wi{constructor(e){super();const{graph:n}=e,r=HAe(e,["graph"]);this.graph=n,this.options=Object.assign({tolerance:10},r),this.offset={x:0,y:0},this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(e){this.options.filter=e,this.parseFilter()}render(){const e=this.containerWrapper=new Bn("svg"),n=this.horizontal=new Bn("path"),r=this.vertical=new Bn("path");e.addClass(this.containerClassName),n.addClass(this.horizontalClassName),r.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),n.setAttribute("display","none"),r.setAttribute("display","none"),e.append([n,r]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const e=this.options.filter;Array.isArray(e)?e.forEach(n=>{typeof n=="string"?this.filterShapes[n]=!0:this.filterCells[n.id]=!0}):typeof e=="function"&&(this.filterFunction=e)}onBatchStop({name:e,data:n}){e==="resize"&&this.snapOnResizing(n.cell,n)}captureCursorOffset({view:e,x:n,y:r}){const i=e.getDelegatedView();if(i&&this.isNodeMovable(i)){const o=e.cell.getPosition();this.offset={x:n-o.x,y:r-o.y}}}isNodeMovable(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}snapOnResizing(e,n){if(this.options.resizing&&!n.snapped&&n.ui&&n.direction&&n.trueDirection){const r=this.graph.renderer.findViewByCell(e);if(r&&r.cell.isNode()){const i=e.getBBox(),o=i.bbox(e.getAngle()),s=o.getTopLeft(),a=o.getBottomRight(),l=pi.normalize(e.getAngle()),c=this.options.tolerance||0;let u,f,d,h,p,g;const m={vertical:0,horizontal:0},y=n.direction,b=n.trueDirection,C=n.relativeDirection;b.indexOf("right")!==-1?m.vertical=a.x:m.vertical=s.x,b.indexOf("bottom")!==-1?m.horizontal=a.y:m.horizontal=s.y,this.model.getNodes().some($=>{if(this.isIgnored(e,$))return!1;const L=$.getBBox().bbox($.getAngle()),B=L.getTopLeft(),j=L.getBottomRight(),H={vertical:[B.x,j.x],horizontal:[B.y,j.y]},te={};return Object.keys(H).forEach(Y=>{const ue=Y,ce=H[ue].map(se=>({position:se,distance:Math.abs(se-m[ue])})).filter(se=>se.distance<=c);te[ue]=R5(ce,se=>se.distance)}),u==null&&te.vertical.length>0&&(u=te.vertical[0].position,f=Math.min(o.y,L.y),d=Math.max(a.y,j.y)-f),h==null&&te.horizontal.length>0&&(h=te.horizontal[0].position,p=Math.min(o.x,L.x),g=Math.max(a.x,j.x)-p),u!=null&&h!=null}),this.hide();let E=0,_=0;(h!=null||u!=null)&&(u!=null&&(E=b.indexOf("right")!==-1?u-a.x:s.x-u),h!=null&&(_=b.indexOf("bottom")!==-1?h-a.y:s.y-h));let w=0,M=0;if(l%90===0)l===90||l===270?(w=_,M=E):(w=E,M=_);else{const $=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;h!=null&&u!=null&&(E<_?(_=0,h=void 0):(E=0,u=void 0));const L=pi.toRad(l%90);E&&(w=$===3?E/Math.cos(L):E/Math.sin(L)),_&&(M=$===3?_/Math.cos(L):_/Math.sin(L));const B=$===1||$===3;switch(C){case"top":case"bottom":M=_?_/(B?Math.cos(L):Math.sin(L)):E/(B?Math.sin(L):Math.cos(L));break;case"left":case"right":w=E?E/(B?Math.cos(L):Math.sin(L)):_/(B?Math.sin(L):Math.cos(L));break}}switch(C){case"top":case"bottom":w=0;break;case"left":case"right":M=0;break}const k=this.graph.getGridSize();let I=Math.max(i.width+w,k),A=Math.max(i.height+M,k);n.minWidth&&n.minWidth>k&&(I=Math.max(I,n.minWidth)),n.minHeight&&n.minHeight>k&&(A=Math.max(A,n.minHeight)),n.maxWidth&&(I=Math.min(I,n.maxWidth)),n.maxHeight&&(A=Math.min(A,n.maxHeight)),n.preserveAspectRatio&&(M<w?A=I*(i.height/i.width):I=A*(i.width/i.height)),(I!==i.width||A!==i.height)&&(e.resize(I,A,{direction:y,relativeDirection:C,trueDirection:b,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(r)}),d&&(d+=A-i.height),g&&(g+=I-i.width));const N=e.getBBox().bbox(l);u&&Math.abs(N.x-u)>1&&Math.abs(N.width+N.x-u)>1&&(u=void 0),h&&Math.abs(N.y-h)>1&&Math.abs(N.height+N.y-h)>1&&(h=void 0),this.update({verticalLeft:u,verticalTop:f,verticalHeight:d,horizontalTop:h,horizontalLeft:p,horizontalWidth:g})}}}snapOnMoving({view:e,e:n,x:r,y:i}){const o=e.getEventData(n).delegatedView||e;if(!this.isNodeMovable(o))return;const s=o.cell,a=s.getSize(),l=s.getPosition(),c=new mn(r-this.offset.x,i-this.offset.y,a.width,a.height),u=s.getAngle(),f=c.getCenter(),d=c.bbox(u),h=d.getTopLeft(),p=d.getBottomRight(),g=this.options.tolerance||0;let m,y,b,C,E,_,w=0,M=0;if(this.model.getNodes().some(k=>{if(this.isIgnored(s,k))return!1;const I=k.getBBox().bbox(k.getAngle()),A=I.getCenter(),N=I.getTopLeft(),$=I.getBottomRight();return m==null&&(Math.abs(A.x-f.x)<g?(m=A.x,w=.5):Math.abs(N.x-h.x)<g?(m=N.x,w=0):Math.abs(N.x-p.x)<g?(m=N.x,w=1):Math.abs($.x-p.x)<g?(m=$.x,w=1):Math.abs($.x-h.x)<g&&(m=$.x),m!=null&&(y=Math.min(d.y,I.y),b=Math.max(p.y,$.y)-y)),C==null&&(Math.abs(A.y-f.y)<g?(C=A.y,M=.5):Math.abs(N.y-h.y)<g?C=N.y:Math.abs(N.y-p.y)<g?(C=N.y,M=1):Math.abs($.y-p.y)<g?(C=$.y,M=1):Math.abs($.y-h.y)<g&&(C=$.y),C!=null&&(E=Math.min(d.x,I.x),_=Math.max(p.x,$.x)-E)),m!=null&&C!=null}),this.hide(),C!=null||m!=null){C!=null&&(d.y=C-M*d.height),m!=null&&(d.x=m-w*d.width);const k=d.getCenter(),I=k.x-c.width/2,A=k.y-c.height/2,N=I-l.x,$=A-l.y;(N!==0||$!==0)&&(s.translate(N,$,{snapped:!0,restrict:this.graph.hook.getRestrictArea(o)}),_&&(_+=N),b&&(b+=$)),this.update({verticalLeft:m,verticalTop:y,verticalHeight:b,horizontalTop:C,horizontalLeft:E,horizontalWidth:_})}}isIgnored(e,n){return n.id===e.id||n.isDescendantOf(e)||this.filterShapes[n.shape]||this.filterCells[n.id]||this.filterFunction&&$n(this.filterFunction,this.graph,n)}update(e){if(e.horizontalTop){const n=this.graph.localToGraph(new Ce(e.horizontalLeft,e.horizontalTop)),r=this.graph.localToGraph(new Ce(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({d:`M ${n.x},${n.y} L ${r.x},${r.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){const n=this.graph.localToGraph(new Ce(e.verticalLeft,e.verticalTop)),r=this.graph.localToGraph(new Ce(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({d:`M ${n.x},${n.y} L ${r.x},${r.y}`,display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const e=this.options.clean,n=typeof e=="number"?e:e!==!1?3e3:0;return n>0&&(this.timer=window.setTimeout(()=>{this.container.parentNode!==null&&this.unmount()},n)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}UAe([wi.dispose()],Bre.prototype,"dispose",null);var WAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class qi extends Mo{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(qi.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:e}){this.removeZPivots(),this.resetViews(this.model.getCells(),e)}onBatchStop({name:e,data:n}){if(this.isFrozen())return;const r=this.model;if(!this.isAsync()){const o=qi.UPDATE_DELAYING_BATCHES;o.includes(e)&&!r.hasActiveBatch(o)&&this.updateViews(n)}const i=qi.SORT_DELAYING_BATCHES;i.includes(e)&&!r.hasActiveBatch(i)&&this.sortViews()}onCellAdded({cell:e,options:n}){const r=n.position;this.isAsync()||typeof r!="number"?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),r===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:e,options:n}){const r=this.findViewByCell(e);r&&this.requestViewUpdate(r,qi.FLAG_REMOVE,r.priority,n)}onCellZIndexChanged({cell:e,options:n}){if(this.options.sorting==="approx"){const r=this.findViewByCell(e);r&&this.requestViewUpdate(r,qi.FLAG_INSERT,r.priority,n)}}onCellVisibleChanged({cell:e,current:n,options:r}){n||this.processEdgeOnTerminalVisibleChanged(e,!1);const i=this.findViewByCell(e);!n&&i?this.removeView(e):n&&i==null&&this.renderView(e,r),n&&this.processEdgeOnTerminalVisibleChanged(e,!0)}processEdgeOnTerminalVisibleChanged(e,n){const r=(i,o)=>i.getSourceCellId()!==o.id?i.getSourceCell():i.getTargetCellId()!==o.id?i.getTargetCell():null;this.model.getConnectedEdges(e).forEach(i=>{const o=r(i,e);(o==null||o.isVisible())&&(n?i.show():i.hide())})}isEdgeTerminalVisible(e,n){const r=n==="source"?e.getSourceCellId():e.getTargetCellId(),i=r?this.model.getCell(r):null;return!(i&&!i.isVisible())}requestConnectedEdgesUpdate(e,n={}){if(hs.isCellView(e)){const r=e.cell,i=this.model.getConnectedEdges(r);for(let o=0,s=i.length;o<s;o+=1){const a=i[o],l=this.findViewByCell(a);if(!l)continue;const c=["update"];a.getTargetCell()===r&&c.push("target"),a.getSourceCell()===r&&c.push("source"),this.scheduleViewUpdate(l,l.getFlag(c),l.priority,n)}}}forcePostponedViewUpdate(e,n){if(!e||!hs.isCellView(e))return!1;const r=e.cell;if(r.isNode())return!1;const i=e;if(r.isEdge()&&(n&e.getFlag(["source","target"]))===0){let o=0;const s=this.findViewByCell(r.getSourceCell());s&&!this.isViewMounted(s)&&(o=this.dumpView(s),i.updateTerminalMagnet("source"));let a=0;const l=this.findViewByCell(r.getTargetCell());if(l&&!this.isViewMounted(l)&&(a=this.dumpView(l),i.updateTerminalMagnet("target")),o===0&&a===0)return!this.dumpView(i)}return!1}scheduleViewUpdate(e,n,r,i={}){const o=e.cid,s=this.updates;let a=s.priorities[r];a||(a=s.priorities[r]={});const l=a[o]||0;(l&n)!==n&&(l||(s.count+=1),n&qi.FLAG_REMOVE&&l&qi.FLAG_INSERT?a[o]^=qi.FLAG_INSERT:n&qi.FLAG_INSERT&&l&qi.FLAG_REMOVE&&(a[o]^=qi.FLAG_REMOVE),a[o]|=n,this.graph.hook.onViewUpdated(e,n,i))}requestViewUpdate(e,n,r,i={}){this.scheduleViewUpdate(e,n,r,i);const o=this.isAsync();if(this.isFrozen()||o&&i.async!==!1||this.model.hasActiveBatch(qi.UPDATE_DELAYING_BATCHES))return;const s=this.updateViews(i);o&&this.graph.trigger("render:done",{stats:s,options:i})}dumpView(e,n={}){if(e==null)return 0;const r=e.cid,o=this.updates.priorities[e.priority],s=this.registerMountedView(e)|o[r];return delete o[r],s?this.updateView(e,s,n):0}dumpViews(e={}){this.checkView(e),this.updateViews(e)}requireView(e,n={}){const r=this.findViewByCell(e);return r==null?null:(this.dumpView(r,n),r)}updateView(e,n,r={}){if(e==null)return 0;if(hs.isCellView(e)){if(n&qi.FLAG_REMOVE)return this.removeView(e.cell),0;n&qi.FLAG_INSERT&&(this.insertView(e),n^=qi.FLAG_INSERT)}return n?e.confirmUpdate(n,r):0}updateViews(e={}){let n,r=0,i=0,o=qi.MIN_PRIORITY;do n=this.updateViewsBatch(e),r+=1,i+=n.updatedCount,o=Math.min(n.priority,o);while(!n.empty);return{priority:o,batchCount:r,updatedCount:i}}updateViewsBatch(e={}){const n=this.updates,r=n.priorities,i=e.batchSize||qi.UPDATE_BATCH_SIZE;let o=!0,s=qi.MIN_PRIORITY,a=0,l=0,c=0,u=0,f=e.checkView||this.options.checkView;typeof f!="function"&&(f=null);e:for(let d=0,h=r.length;d<h;d+=1){const p=r[d];for(const g in p){if(c>=i){o=!1;break e}const m=wi.views[g];if(!m){delete p[g];continue}let y=p[g];if((y&qi.FLAG_REMOVE)===0){const E=g in n.unmounted;if(f&&!$n(f,this.graph,{view:m,unmounted:E})){E||(this.registerUnmountedView(m),m.unmount()),n.unmounted[g]|=y,delete p[g],l+=1;continue}E&&(y|=qi.FLAG_INSERT,a+=1),y|=this.registerMountedView(m)}const b=m;let C=this.updateView(m,y,e);if(C>0){const E=b.cell;E&&E.isEdge()&&(b.hasAction(C,"source")&&!this.isEdgeTerminalVisible(E,"source")&&(C=b.removeAction(C,"source"),C|=qi.FLAG_REMOVE),b.hasAction(C,"target")&&!this.isEdgeTerminalVisible(E,"target")&&(C=b.removeAction(C,"target"),C|=qi.FLAG_REMOVE))}if(C>0&&(p[g]=C,!this.graph.hook.onViewPostponed(b,C,e)||p[g])){u+=1,o=!1;continue}s>d&&(s=d),c+=1,delete p[g]}}return{empty:o,priority:s,mountedCount:a,unmountedCount:l,updatedCount:c,postponedCount:u}}updateViewsAsync(e={},n={processed:0,priority:qi.MIN_PRIORITY}){const r=this.updates,i=r.animationId;if(i){if(U6(i),n.processed===0){const d=e.before;typeof d=="function"&&$n(d,this.graph,this.graph)}const o=this.updateViewsBatch(e),s=this.checkViewImpl({checkView:e.checkView,mountedBatchSize:qi.MOUNT_BATCH_SIZE-o.mountedCount,unmountedBatchSize:qi.MOUNT_BATCH_SIZE-o.unmountedCount});let a=n.processed;const l=r.count,c=s.mountedCount,u=s.unmountedCount;o.updatedCount>0&&(a+=o.updatedCount+o.unmountedCount,n.priority=Math.min(o.priority,n.priority),o.empty&&c===0?(o.priority=n.priority,o.mountedCount+=c,o.unmountedCount+=u,this.graph.trigger("render:done",{stats:o,options:e}),n.processed=0,r.count=0):n.processed=a);const f=e.progress;if(l&&typeof f=="function"&&$n(f,this.graph,{total:l,done:o.empty,current:a}),r.animationId!==i)return}r.animationId=V6(()=>{this.updateViewsAsync(e,n)})}registerMountedView(e){const n=e.cid,r=this.updates;if(n in r.mounted)return 0;r.mounted[n]=!0,r.mountedCids.push(n);const i=r.unmounted[n]||0;return delete r.unmounted[n],i}registerUnmountedView(e){const n=e.cid,r=this.updates;if(n in r.unmounted)return 0;r.unmounted[n]|=qi.FLAG_INSERT;const i=r.unmounted[n];return r.unmountedCids.push(n),delete r.mounted[n],i}isViewMounted(e){return e==null?!1:e.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(e=>hs.views[e])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(e=>hs.views[e])}checkMountedViews(e,n){let r=0;if(typeof e!="function")return r;const i=this.updates,o=i.mounted,s=i.mountedCids,a=n==null?s.length:Math.min(s.length,n);for(let l=0;l<a;l+=1){const c=s[l];if(!(c in o))continue;const u=hs.views[c];if(u==null)continue;if($n(e,this.graph,{view:u,unmounted:!0})){s.push(c);continue}r+=1,this.registerUnmountedView(u)&&u.unmount()}return s.splice(0,a),r}checkUnmountedViews(e,n){let r=0;typeof e!="function"&&(e=null);const i=this.updates,o=i.unmounted,s=i.unmountedCids,a=n==null?s.length:Math.min(s.length,n);for(let l=0;l<a;l+=1){const c=s[l];if(!(c in o))continue;const u=hs.views[c];if(u==null)continue;if(e&&!$n(e,this.graph,{view:u,unmounted:!1})){s.push(c);continue}r+=1;const f=this.registerMountedView(u);f&&this.scheduleViewUpdate(u,f,u.priority,{mounting:!0})}return s.splice(0,a),r}checkViewImpl(e={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const n=e.checkView||this.options.checkView,r=this.checkMountedViews(n,e.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(n,r>0?Math.min(this.updates.unmountedCids.length-r,e.mountedBatchSize):e.mountedBatchSize),unmountedCount:r}}checkView(e={}){return this.checkViewImpl(e)}isFrozen(){return!!this.options.frozen}freeze(e={}){const n=e.key,r=this.updates,i=this.options.frozen,o=r.freezeKey;if(n&&n!==o){if(i&&o)return;r.frozen=i,r.freezeKey=n}this.options.frozen=!0;const s=r.animationId;r.animationId=null,this.isAsync()&&s!=null&&U6(s),this.graph.trigger("freeze",{key:n})}unfreeze(e={}){const n=e.key,r=this.updates,i=r.freezeKey;if(n&&i&&n!==i||(r.freezeKey=null,n&&n===i&&r.frozen))return;const o=()=>{this.options.frozen=r.frozen=!1,r.sort&&(this.sortViews(),r.sort=!1);const s=e.after;s&&$n(s,this.graph,this.graph),this.graph.trigger("unfreeze",{key:n})};if(this.isAsync()){this.freeze();const s=e.progress;this.updateViewsAsync(Object.assign(Object.assign({},e),{progress:({done:a,current:l,total:c})=>{s&&$n(s,this.graph,{done:a,current:l,total:c}),a&&o()}}))}else this.updateViews(e),o()}isAsync(){return!!this.options.async}setAsync(e){this.options.async=e}onRemove(){this.freeze(),this.removeViews()}resetViews(e=[],n={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let r=0,i=e.length;r<i;r+=1)this.renderView(e[r],n);this.unfreeze({key:"reset"}),this.sortViews()}removeView(e){const n=this.views[e.id];if(n){const r=n.cid,i=this.updates,o=i.mounted,s=i.unmounted;n.remove(),delete this.views[e.id],delete o[r],delete s[r]}return n}removeViews(){this.views&&Object.keys(this.views).forEach(e=>{const n=this.views[e];n&&this.removeView(n.cell)}),this.views={}}renderView(e,n={}){const r=e.id,i=this.views;let o=0,s=i[r];if(!!e.isVisible()&&!(e.isEdge()&&(!this.isEdgeTerminalVisible(e,"source")||!this.isEdgeTerminalVisible(e,"target")))){if(s)o=qi.FLAG_INSERT;else{const a=this.graph.hook.createCellView(e);a&&(s=i[e.id]=a,s.graph=this.graph,o=this.registerUnmountedView(s)|s.getBootstrapFlag())}s&&this.requestViewUpdate(s,o,s.priority,n)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(!!this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(e,n){const r=e.map(i=>{const o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return a=>{if(o===a)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(a,s),o.removeChild(s)}});e.sort(n).forEach((i,o)=>r[o](i))}sortViewsExact(){const e=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),n=this.model;this.sortElements(e,(r,i)=>{const o=n.getCell(r.getAttribute("data-cell-id")||""),s=n.getCell(i.getAttribute("data-cell-id")||""),a=o.getZIndex()||0,l=s.getZIndex()||0;return a===l?0:a<l?-1:1})}addZPivot(e=0){this.zPivots==null&&(this.zPivots={});const n=this.zPivots;let r=n[e];if(r)return r;r=n[e]=document.createComment(`z-index:${e+1}`);let i=-1/0;for(const s in n){const a=+s;a<e&&a>i&&(i=a,e-1)}const o=this.view.stage;if(i!==-1/0){const s=n[i];o.insertBefore(r,s.nextSibling)}else o.insertBefore(r,o.firstChild);return r}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(e=>{const n=this.zPivots[e];n&&n.parentNode&&n.parentNode.removeChild(n)}),this.zPivots={}}insertView(e){const n=this.view.stage;switch(this.options.sorting){case"approx":{const r=e.cell.getZIndex(),i=this.addZPivot(r);n.insertBefore(e.container,i);break}case"exact":default:n.appendChild(e.container);break}}findViewByCell(e){if(e==null)return null;const n=xi.isCell(e)?e.id:e;return this.views[n]}findViewByElem(e){if(e==null)return null;const n=typeof e=="string"?this.view.stage.querySelector(e):e instanceof Element?e:e[0];if(n){const r=this.view.findAttr("data-cell-id",n);if(r)return this.views[r]}return null}findViewsFromPoint(e){const n={x:e.x,y:e.y};return this.model.getCells().map(r=>this.findViewByCell(r)).filter(r=>r!=null?Xa(r.container,{target:this.view.stage}).containsPoint(n):!1)}findEdgeViewsInArea(e,n={}){const r=mn.create(e);return this.model.getEdges().map(i=>this.findViewByCell(i)).filter(i=>{if(i){const o=Xa(i.container,{target:this.view.stage});return o.width===0?o.inflate(1,0):o.height===0&&o.inflate(0,1),n.strict?r.containsRect(o):r.isIntersectWithRect(o)}return!1})}findViewsInArea(e,n={}){const r=mn.create(e);return this.model.getNodes().map(i=>this.findViewByCell(i)).filter(i=>{if(i){const o=Xa(i.container,{target:this.view.stage});return n.strict?r.containsRect(o):r.isIntersectWithRect(o)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}WAe([Mo.dispose()],qi.prototype,"dispose",null);(function(t){t.FLAG_INSERT=1<<30,t.FLAG_REMOVE=1<<29,t.MOUNT_BATCH_SIZE=1e3,t.UPDATE_BATCH_SIZE=1e3,t.MIN_PRIORITY=2,t.SORT_DELAYING_BATCHES=["add","to-front","to-back"],t.UPDATE_DELAYING_BATCHES=["translate"]})(qi||(qi={}));var YAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Vk extends Mo{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let n=e.size||"auto auto",r=e.position||"center";const i=this.graph.transform.getScale(),o=this.graph.translate();if(typeof r=="object"){const s=o.tx+i.sx*(r.x||0),a=o.ty+i.sy*(r.y||0);r=`${s}px ${a}px`}typeof n=="object"&&(n=mn.fromSize(n).scale(i.sx,i.sy),n=`${n.width}px ${n.height}px`),this.elem.style.backgroundSize=n,this.elem.style.backgroundPosition=r}drawBackgroundImage(e,n={}){if(!(e instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const r=this.optionsCache;if(r&&r.image!==n.image)return;let i;const o=n.opacity,s=n.size;let a=n.repeat||"no-repeat";const l=KC.registry.get(a);if(typeof l=="function"){const u=n.quality||1;e.width*=u,e.height*=u;const f=l(e,n);if(!(f instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");i=f.toDataURL("image/png"),n.repeat&&a!==n.repeat?a=n.repeat:a="repeat",typeof s=="object"?(s.width*=f.width/e.width,s.height*=f.height/e.height):s===void 0&&(n.size={width:f.width/u,height:f.height/u})}else i=e.src,s===void 0&&(n.size={width:e.width,height:e.height});r!=null&&typeof n.size=="object"&&n.image===r.image&&n.repeat===r.repeat&&n.quality===r.quality&&(r.size=VC(n.size));const c=this.elem.style;c.backgroundImage=`url(${i})`,c.backgroundRepeat=a,c.opacity=o==null||o>=1?"":`${o}`,this.updateBackgroundImage(n)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=VC(n);const r=document.createElement("img");r.onload=()=>this.drawBackgroundImage(r,e),r.setAttribute("crossorigin","anonymous"),r.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}YAe([Mo.dispose()],Vk.prototype,"dispose",null);var qAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},XAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Y1 extends wi{constructor(e){super(),this.padding={left:0,top:0,right:0,bottom:0},this.options=Ku.getOptions(e);const n=this.graph.transform.getScale();this.sx=n.sx,this.sy=n.sy;const r=this.options.width||this.graph.options.width,i=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Ku.containerClass)).css({width:r,height:i}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(Ku.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const o=this.graph.container;o.parentNode&&this.$container.insertBefore(o);const s=o.getAttribute("style");if(s){const a={};s.split(";").forEach(c=>{const u=c.trim();if(u){const f=u.split(":");f.length&&(a[f[0].trim()]=f[1]?f[1].trim():"")}}),Object.keys(a).forEach(c=>{c==="width"||c==="height"||(o.style[c]="",this.container.style[c]=a[c])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(Ku.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(Ku.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(o),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new Y1.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const e=this.graph,n=this.model;e.on("scale",this.onScale,this),e.on("resize",this.onResize,this),e.on("before:print",this.storeScrollPosition,this),e.on("before:export",this.storeScrollPosition,this),e.on("after:print",this.restoreScrollPosition,this),e.on("after:export",this.restoreScrollPosition,this),e.on("render:done",this.onRenderDone,this),e.on("unfreeze",this.onUpdate,this),n.on("reseted",this.onUpdate,this),n.on("cell:added",this.onUpdate,this),n.on("cell:removed",this.onUpdate,this),n.on("cell:changed",this.onUpdate,this),n.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const e=this.graph,n=this.model;e.off("scale",this.onScale,this),e.off("resize",this.onResize,this),e.off("beforeprint",this.storeScrollPosition,this),e.off("beforeexport",this.storeScrollPosition,this),e.off("afterprint",this.restoreScrollPosition,this),e.off("afterexport",this.restoreScrollPosition,this),e.off("render:done",this.onRenderDone,this),e.off("unfreeze",this.onUpdate,this),n.off("reseted",this.onUpdate,this),n.off("cell:added",this.onUpdate,this),n.off("cell:removed",this.onUpdate,this),n.off("cell:changed",this.onUpdate,this),n.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(e){this.graph.isAsync()||!this.options.autoResize||qi.UPDATE_DELAYING_BATCHES.includes(e.name)&&this.update()}delegateBackgroundEvents(e){const n=e||sd.events;this.delegatedHandlers=Object.keys(n).reduce((r,i)=>{const o=n[i];if(i.indexOf(" ")===-1)if(typeof o=="function")r[i]=o;else{let s=this.graph.view[o];typeof s=="function"&&(s=s.bind(this.graph.view),r[i]=s)}return r},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(r=>{this.delegateEvent(r,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(e=>{this.undelegateEvent(e,this.onBackgroundEvent)})}onBackgroundEvent(e){let n=!1;const r=e.target;if(this.options.pageVisible)this.options.background?n=this.background===r:n=this.content===r;else{const i=this.graph.view;n=i.background===r||i.grid===r}if(n){const i=this.delegatedHandlers[e.type];typeof i=="function"&&i.apply(this.graph,arguments)}}onRenderDone({stats:e}){this.options.autoResize&&e.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:e,sy:n,ox:r,oy:i}){this.updateScale(e,n),(r||i)&&(this.centerPoint(r,i),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(Zs.IS_IE||Zs.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(Zs.IS_IE||Zs.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(e,n){e!=null&&(this.options.pageWidth=e),n!=null&&(this.options.pageHeight=n),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const e=this.graph.options.width,n=this.graph.options.height,r=this.options.pageWidth*this.sx,i=this.options.pageHeight*this.sy;if(e>r||n>i){let o=!1;const s=document.createElement("div");for(let a=1,l=Math.floor(e/r);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:a*r}).appendTo(s),o=!0;for(let a=1,l=Math.floor(n/i);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:a*i}).appendTo(s),o=!0;o&&(eo(s,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(s),this.pageBreak=s)}}}update(){const e=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(e.width/2,e.height/2);let n=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof n=="function"&&(n=$n(n,this,this));const r=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative"},n);this.graph.fitToContent(this.getFitToContentOptions(r))}getFitToContentOptions(e){const n=this.sx,r=this.sy;return e.gridWidth&&(e.gridWidth*=n),e.gridHeight&&(e.gridHeight*=r),e.minWidth&&(e.minWidth*=n),e.minHeight&&(e.minHeight*=r),typeof e.padding=="object"?e.padding={left:(e.padding.left||0)*n,right:(e.padding.right||0)*n,top:(e.padding.top||0)*r,bottom:(e.padding.bottom||0)*r}:typeof e.padding=="number"&&(e.padding*=n),this.options.autoResize||(e.contentArea=mn.create()),e}updateScale(e,n){const r=this.graph.options,i=e/this.sx,o=n/this.sy;this.sx=e,this.sy=n,this.graph.translate(r.x*i,r.y*o),this.graph.resizeGraph(r.width*i,r.height*o)}scrollbarPosition(e,n,r){if(e==null&&n==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const i={};return typeof e=="number"&&(i.scrollLeft=e),typeof n=="number"&&(i.scrollTop=n),r&&r.animation?this.$container.animate(i,r.animation):this.$container.prop(i),this}scrollToPoint(e,n,r){const i=this.getClientSize(),o=this.graph.matrix(),s={};return typeof e=="number"&&(s.scrollLeft=e-i.width/2+o.e+(this.padding.left||0)),typeof n=="number"&&(s.scrollTop=n-i.height/2+o.f+(this.padding.top||0)),r&&r.animation?this.$container.animate(s,r.animation):this.$container.prop(s),this}scrollToContent(e){const n=this.sx,r=this.sy,i=this.graph.getContentArea().getCenter();return this.scrollToPoint(i.x*n,i.y*r,e)}scrollToCell(e,n){const r=this.sx,i=this.sy,o=e.getBBox().getCenter();return this.scrollToPoint(o.x*r,o.y*i,n)}center(e){return this.centerPoint(e)}centerPoint(e,n,r){const i=this.graph.matrix(),o=i.a,s=i.d,a=-i.e,l=-i.f,c=a+this.graph.options.width,u=l+this.graph.options.height;let f;if(this.storeClientSize(),typeof e=="number"||typeof n=="number"){f=r;const _=this.getVisibleArea().getCenter();typeof e=="number"?e*=o:e=_.x,typeof n=="number"?n*=s:n=_.y}else f=e,e=(a+c)/2,n=(l+u)/2;if(f&&f.padding)return this.positionPoint({x:e,y:n},"50%","50%",f);const d=this.getPadding(),h=this.getClientSize(),p=h.width/2,g=h.height/2,m=p-d.left-e+a,y=p-d.right+e-c,b=g-d.top-n+l,C=g-d.bottom+n-u;this.addPadding(Math.max(m,0),Math.max(y,0),Math.max(b,0),Math.max(C,0));const E=this.scrollToPoint(e,n,f||void 0);return this.restoreClientSize(),E}centerContent(e){return this.positionContent("center",e)}centerCell(e,n){return this.positionCell(e,"center",n)}positionContent(e,n){const r=this.graph.getContentArea(n);return this.positionRect(r,e,n)}positionCell(e,n,r){const i=e.getBBox();return this.positionRect(i,n,r)}positionRect(e,n,r){const i=mn.create(e);switch(n){case"center":return this.positionPoint(i.getCenter(),"50%","50%",r);case"top":return this.positionPoint(i.getTopCenter(),"50%",0,r);case"top-right":return this.positionPoint(i.getTopRight(),"100%",0,r);case"right":return this.positionPoint(i.getRightMiddle(),"100%","50%",r);case"bottom-right":return this.positionPoint(i.getBottomRight(),"100%","100%",r);case"bottom":return this.positionPoint(i.getBottomCenter(),"50%","100%",r);case"bottom-left":return this.positionPoint(i.getBottomLeft(),0,"100%",r);case"left":return this.positionPoint(i.getLeftMiddle(),0,"50%",r);case"top-left":return this.positionPoint(i.getTopLeft(),0,0,r);default:return this}}positionPoint(e,n,r,i={}){const{padding:o}=i,s=XAe(i,["padding"]),a=Ac(o),l=mn.fromSize(this.getClientSize()),c=l.clone().moveAndExpand({x:a.left,y:a.top,width:-a.right-a.left,height:-a.top-a.bottom});n=fh(n,Math.max(0,c.width)),n<0&&(n=c.width+n),r=fh(r,Math.max(0,c.height)),r<0&&(r=c.height+r);const u=c.getTopLeft().translate(n,r),f=l.getCenter().diff(u),d=this.zoom(),h=f.scale(1/d,1/d),p=Ce.create(e).translate(h);return this.centerPoint(p.x,p.y,s)}zoom(e,n){if(e==null)return this.sx;n=n||{};let r,i;const o=this.getClientSize(),s=this.clientToLocalPoint(o.width/2,o.height/2);let a=e,l=e;if(n.absolute||(a+=this.sx,l+=this.sy),n.scaleGrid&&(a=Math.round(a/n.scaleGrid)*n.scaleGrid,l=Math.round(l/n.scaleGrid)*n.scaleGrid),n.maxScale&&(a=Math.min(n.maxScale,a),l=Math.min(n.maxScale,l)),n.minScale&&(a=Math.max(n.minScale,a),l=Math.max(n.minScale,l)),a=this.graph.transform.clampScale(a),l=this.graph.transform.clampScale(l),n.center){const c=a/this.sx,u=l/this.sy;r=n.center.x-(n.center.x-s.x)/c,i=n.center.y-(n.center.y-s.y)/u}else r=s.x,i=s.y;return this.beforeManipulation(),this.graph.transform.scale(a,l),this.centerPoint(r,i),this.afterManipulation(),this}zoomToRect(e,n={}){const r=mn.create(e),i=this.graph;n.contentArea=r,n.viewportArea==null&&(n.viewportArea={x:i.options.x,y:i.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),i.transform.scaleContentToFitImpl(n,!1);const o=r.getCenter();return this.centerPoint(o.x,o.y),this.afterManipulation(),this}zoomToFit(e={}){return this.zoomToRect(this.graph.getContentArea(e),e)}transitionToPoint(e,n,r){typeof e=="object"?(r=n,n=e.y,e=e.x):n=n,r==null&&(r={});let i,o;const s=this.sx,a=Math.max(r.scale||s,1e-6),l=this.getClientSize(),c=new Ce(e,n),u=this.clientToLocalPoint(l.width/2,l.height/2);if(s===a){const d=u.diff(c).scale(s,s).round();i=`translate(${d.x}px,${d.y}px)`}else{const d=a/(s-a)*c.distance(u),h=u.clone().move(c,d),p=this.localToBackgroundPoint(h).round();i=`scale(${a/s})`,o=`${p.x}px ${p.y}px`}const f=r.onTransitionEnd;return this.$container.addClass(Ku.transitionClassName),this.$content.off(Ku.transitionEventName).on(Ku.transitionEventName,d=>{this.syncTransition(a,{x:e,y:n}),typeof f=="function"&&$n(f,this,d.originalEvent)}).css({transform:i,transformOrigin:o,transition:"transform",transitionDuration:r.duration||"1s",transitionDelay:r.delay,transitionTimingFunction:r.timing}),this}syncTransition(e,n){return this.beforeManipulation(),this.graph.scale(e),this.removeTransition(),this.centerPoint(n.x,n.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(Ku.transitionClassName),this.$content.off(Ku.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(e,n={}){const r=mn.create(e),i=n.maxScale||1/0,o=n.minScale||Number.MIN_VALUE,s=n.scaleGrid||null,a=n.visibility||1,l=n.center?Ce.create(n.center):r.getCenter(),c=this.getClientSize(),u=c.width*a,f=c.height*a;let d=new mn(l.x-u/2,l.y-f/2,u,f).getMaxUniformScaleToFit(r,l);return d=Math.min(d,i),s&&(d=Math.floor(d/s)*s),d=Math.max(o,d),this.transitionToPoint(l,Object.assign({scale:d},n))}startPanning(e){const n=this.normalizeEvent(e);this.clientX=n.clientX,this.clientY=n.clientY,this.trigger("pan:start",{e:n}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(e){const n=this.normalizeEvent(e),r=n.clientX-this.clientX,i=n.clientY-this.clientY;this.container.scrollTop-=i,this.container.scrollLeft-=r,this.clientX=n.clientX,this.clientY=n.clientY,this.trigger("panning",{e:n})}stopPanning(e){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e})}clientToLocalPoint(e,n){let r=typeof e=="object"?e.x:e,i=typeof e=="object"?e.y:n;const o=this.graph.matrix();return r+=this.container.scrollLeft-this.padding.left-o.e,i+=this.container.scrollTop-this.padding.top-o.f,new Ce(r/o.a,i/o.d)}localToBackgroundPoint(e,n){const r=typeof e=="object"?Ce.create(e):new Ce(e,n),i=this.graph.matrix(),o=this.padding;return bp(r,i).translate(o.left,o.top)}resize(e,n){let r=e!=null?e:this.container.offsetWidth,i=n!=null?n:this.container.offsetHeight;typeof r=="number"&&(r=Math.round(r)),typeof i=="number"&&(i=Math.round(i)),this.options.width=r,this.options.height=i,this.$container.css({width:r,height:i}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(e,n){const i=this.container,o=i.getBoundingClientRect();let s=0,a=0;return e<=o.left+10&&(s=-10),n<=o.top+10&&(a=-10),e>=o.right-10&&(s=10),n>=o.bottom-10&&(a=10),s!==0&&(i.scrollLeft+=s),a!==0&&(i.scrollTop+=a),{scrollerX:s,scrollerY:a}}addPadding(e,n,r,i){let o=this.getPadding();this.padding={left:Math.round(o.left+(e||0)),top:Math.round(o.top+(r||0)),bottom:Math.round(o.bottom+(i||0)),right:Math.round(o.right+(n||0))},o=this.padding,this.$content.css({width:o.left+this.graph.options.width+o.right,height:o.top+this.graph.options.height+o.bottom});const s=this.graph.container;return s.style.left=`${this.padding.left}px`,s.style.top=`${this.padding.top}px`,this}getPadding(){const e=this.options.padding;return Ac(typeof e=="function"?$n(e,this,this):e)}getVisibleArea(){const e=this.graph.matrix(),n=this.getClientSize(),r={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:n.width,height:n.height},i=su(r,e.inverse());return i.x-=(this.padding.left||0)/this.sx,i.y-=(this.padding.top||0)/this.sy,i}isCellVisible(e,n={}){const r=e.getBBox(),i=this.getVisibleArea();return n.strict?i.containsRect(r):i.isIntersectWithRect(r)}isPointVisible(e){return this.getVisibleArea().containsPoint(e)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}qAe([wi.dispose()],Y1.prototype,"dispose",null);(function(t){class e extends Vk{constructor(r){super(r.graph),this.scroller=r,r.options.background&&this.draw(r.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(r){this.scroller.options.background=r}}t.Background=e})(Y1||(Y1={}));var Ku;(function(t){t.containerClass="graph-scroller",t.panningClass=`${t.containerClass}-panning`,t.pannableClass=`${t.containerClass}-pannable`,t.pagedClass=`${t.containerClass}-paged`,t.contentClass=`${t.containerClass}-content`,t.backgroundClass=`${t.containerClass}-background`,t.transitionClassName="transition-in-progress",t.transitionEventName="transitionend.graph-scroller-transition",t.defaultOptions={padding(){const n=this.getClientSize(),r=Math.max(this.options.minVisibleWidth||0,1)||1,i=Math.max(this.options.minVisibleHeight||0,1)||1,o=Math.max(n.width-r,0),s=Math.max(n.height-i,0);return{left:o,top:s,right:o,bottom:s}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function e(n){const r=Io({},t.defaultOptions,n);return r.pageWidth==null&&(r.pageWidth=n.graph.options.width),r.pageHeight==null&&(r.pageHeight=n.graph.options.height),r}t.getOptions=e})(Ku||(Ku={}));function ya(t,e,n,r={}){if(n){const i=n.graph,o=i.view.normalizeEvent(e),s=i.snapToGrid(o.clientX,o.clientY);n.notify(t,Object.assign({e:o,view:n,node:n.cell,cell:n.cell,x:s.x,y:s.y},r))}}var KAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Z5 extends wi{constructor(e){super(),this.options=Io({},Wl.defaultOptions,e),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new zre([],{comparator:Wl.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(Wl.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const e=this.graph,n=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),n.on("added",this.onCellAdded,this),n.on("removed",this.onCellRemoved,this),n.on("reseted",this.onReseted,this),n.on("updated",this.onCollectionUpdated,this),n.on("node:change:position",this.onNodePositionChanged,this),n.on("cell:changed",this.onCellChanged,this)}stopListening(){const e=this.graph,n=this.collection;this.undelegateEvents(),e.off("scale",this.onGraphTransformed,this),e.off("translate",this.onGraphTransformed,this),e.model.off("updated",this.onModelUpdated,this),n.off("added",this.onCellAdded,this),n.off("removed",this.onCellRemoved,this),n.off("reseted",this.onReseted,this),n.off("updated",this.onCollectionUpdated,this),n.off("node:change:position",this.onNodePositionChanged,this),n.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:e,options:n}){const{showNodeSelectionBox:r,pointerEvents:i}=this.options,{ui:o,selection:s,translateBy:a}=n;let l=!this.translating;if(l=l&&(r!==!0||i==="none"),l=l&&o&&!s,l=l&&a&&e.id===a,l){this.translating=!0;const c=e.position(),u=e.previous("position"),f=c.x-u.x,d=c.y-u.y;(f!==0||d!==0)&&this.translateSelectedNodes(f,d,e,n),this.translating=!1}}onModelUpdated({removed:e}){e&&e.length&&this.unselect(e)}isEmpty(){return this.length<=0}isSelected(e){return this.collection.has(e)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(e,n={}){n.dryrun=!0;const r=this.filter(Array.isArray(e)?e:[e]);return this.collection.add(r,n),this}unselect(e,n={}){return n.dryrun=!0,this.collection.remove(Array.isArray(e)?e:[e],n),this}reset(e,n={}){if(e){if(n.batch){const c=this.filter(Array.isArray(e)?e:[e]);return this.collection.reset(c,Object.assign(Object.assign({},n),{ui:!0})),this}const r=this.cells,i=this.filter(Array.isArray(e)?e:[e]),o={},s={};r.forEach(c=>o[c.id]=c),i.forEach(c=>s[c.id]=c);const a=[],l=[];return i.forEach(c=>{o[c.id]||a.push(c)}),r.forEach(c=>{s[c.id]||l.push(c)}),l.length&&this.unselect(l,Object.assign(Object.assign({},n),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},n),{ui:!0})),l.length===0&&a.length===0&&this.updateContainer(),this}return this.clean(n)}clean(e={}){return this.length&&(e.batch===!1?this.unselect(this.cells,e):this.collection.reset([],Object.assign(Object.assign({},e),{ui:!0}))),this}setFilter(e){this.options.filter=e}setContent(e){this.options.content=e}startSelecting(e){e=this.normalizeEvent(e),this.clean();let n,r;const i=this.graph.container;if(e.offsetX!=null&&e.offsetY!=null&&i.contains(e.target))n=e.offsetX,r=e.offsetY;else{const o=this.$(i).offset(),s=i.scrollLeft,a=i.scrollTop;n=e.clientX-o.left+window.pageXOffset+s,r=e.clientY-o.top+window.pageYOffset+a}this.$container.css({top:r,left:n,width:1,height:1}),this.setEventData(e,{action:"selecting",clientX:e.clientX,clientY:e.clientY,offsetX:n,offsetY:r,scrollerX:0,scrollerY:0}),this.delegateDocumentEvents(Wl.documentEvents,e.data)}filter(e){const n=this.options.filter;return Array.isArray(n)?e.filter(r=>!n.includes(r)&&!n.includes(r.shape)):typeof n=="function"?e.filter(r=>$n(n,this.graph,r)):e}stopSelecting(e){const n=this.graph,r=this.getEventData(e);switch(r.action){case"selecting":{let o=this.$container.width(),s=this.$container.height();const a=this.$container.offset(),l=n.pageToLocal(a.left,a.top),c=n.transform.getScale();o/=c.sx,s/=c.sy;const u=new mn(l.x,l.y,o,s),f=this.getCellViewsInArea(u).map(d=>d.cell);this.reset(f,{batch:!0}),this.hideRubberband();break}case"translating":{const o=n.snapToGrid(e.clientX,e.clientY);if(!this.options.following){const s=r;this.updateSelectedNodesPosition({dx:s.clientX-s.originX,dy:s.clientY-s.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",e,o.x,o.y);break}default:{this.clean();break}}}onMouseUp(e){this.getEventData(e).action&&(this.stopSelecting(e),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(e){this.options.following||e.stopPropagation();const n=this.normalizeEvent(e);this.options.movable&&this.startTranslating(n);const r=this.getCellViewFromElem(n.target);this.setEventData(n,{activeView:r});const i=this.graph.snapToGrid(n.clientX,n.clientY);this.notifyBoxEvent("box:mousedown",n,i.x,i.y),this.delegateDocumentEvents(Wl.documentEvents,n.data)}startTranslating(e){this.graph.model.startBatch("move-selection");const n=this.graph.snapToGrid(e.clientX,e.clientY);this.setEventData(e,{action:"translating",clientX:n.x,clientY:n.y,originX:n.x,originY:n.y})}getSelectionOffset(e,n){let r=e.x-n.clientX,i=e.y-n.clientY;const o=this.graph.hook.getRestrictArea();if(o){const s=this.collection.toArray(),a=xi.getCellsBBox(s,{deep:!0})||mn.create(),l=o.x-a.x,c=o.y-a.y,u=o.x+o.width-(a.x+a.width),f=o.y+o.height-(a.y+a.height);if(r<l&&(r=l),i<c&&(i=c),u<r&&(r=u),f<i&&(i=f),!this.options.following){const d=e.x-n.originX,h=e.y-n.originY;r=d<=l||d>=u?0:r,i=h<=c||h>=f?0:i}}return{dx:r,dy:i}}updateSelectedNodesPosition(e){const{dx:n,dy:r}=e;if(n||r)if(this.translateSelectedNodes(n,r),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const i=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${n*i.sx}`,top:`+=${r*i.sy}`})}}autoScrollGraph(e,n){const r=this.graph.scroller.widget;return r?r.autoScroll(e,n):{scrollerX:0,scrollerY:0}}adjustSelection(e){const n=this.normalizeEvent(e),r=this.getEventData(n);switch(r.action){case"selecting":{const o=r;o.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),o.moving=!0);const{scrollerX:s,scrollerY:a}=this.autoScrollGraph(n.clientX,n.clientY);o.scrollerX+=s,o.scrollerY+=a;const l=n.clientX-o.clientX+o.scrollerX,c=n.clientY-o.clientY+o.scrollerY,u=parseInt(this.$container.css("left"),10),f=parseInt(this.$container.css("top"),10);this.$container.css({left:l<0?o.offsetX+l:u,top:c<0?o.offsetY+c:f,width:Math.abs(l),height:Math.abs(c)});break}case"translating":{const o=this.graph.snapToGrid(n.clientX,n.clientY),s=r,a=this.getSelectionOffset(o,s);this.options.following?this.updateSelectedNodesPosition(a):this.updateContainerPosition(a),a.dx&&(s.clientX=o.x),a.dy&&(s.clientY=o.y),this.notifyBoxEvent("box:mousemove",e,o.x,o.y);break}}this.boxesUpdated=!1}translateSelectedNodes(e,n,r,i){const o={},s=[];if(r&&(o[r.id]=!0),this.collection.toArray().forEach(a=>{a.getDescendants({deep:!0}).forEach(l=>{o[l.id]=!0})}),i&&i.translateBy){const a=this.graph.getCellById(i.translateBy);a&&(o[a.id]=!0,a.getDescendants({deep:!0}).forEach(l=>{o[l.id]=!0}),s.push(a))}this.collection.toArray().forEach(a=>{if(!o[a.id]){const l=Object.assign(Object.assign({},i),{selection:this.cid,exclude:s});a.translate(e,n,l),this.graph.model.getConnectedEdges(a).forEach(c=>{o[c.id]||(c.translate(e,n,l),o[c.id]=!0)})}})}getCellViewsInArea(e){const n=this.graph,r={strict:this.options.strict};let i=[];return this.options.rubberNode&&(this.options.useCellGeometry?i=i.concat(n.model.getNodesInArea(e,r).map(o=>n.renderer.findViewByCell(o)).filter(o=>o!=null)):i=i.concat(n.renderer.findViewsInArea(e,r))),this.options.rubberEdge&&(this.options.useCellGeometry?i=i.concat(n.model.getEdgesInArea(e,r).map(o=>n.renderer.findViewByCell(o)).filter(o=>o!=null)):i=i.concat(n.renderer.findEdgeViewsInArea(e,r))),i}notifyBoxEvent(e,n,r,i){const s=this.getEventData(n).activeView;this.trigger(e,{e:n,view:s,x:r,y:i,cell:s.cell})}getSelectedClassName(e){return this.prefixClassName(`${e.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(e){const n=this.graph.renderer.findViewByCell(e);n&&n.addClass(this.getSelectedClassName(e))}removeCellUnSelectedClassName(e){const n=this.graph.renderer.findViewByCell(e);n&&n.removeClass(this.getSelectedClassName(e))}destroySelectionBox(e){this.removeCellUnSelectedClassName(e),this.canShowSelectionBox(e)&&(this.$container.find(`[data-cell-id="${e.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(e){e.forEach(n=>this.removeCellUnSelectedClassName(n)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(Wl.classNames.rubberband)).removeClass(this.prefixClassName(Wl.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(Wl.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(Wl.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(Wl.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(Wl.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(Wl.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(Wl.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(e){(e.dx||e.dy)&&this.$selectionContainer.css({left:`+=${e.dx}`,top:`+=${e.dy}`})}updateContainer(){const e={x:1/0,y:1/0},n={x:0,y:0};this.collection.toArray().filter(o=>this.canShowSelectionBox(o)).forEach(o=>{const s=this.graph.renderer.findViewByCell(o);if(s){const a=s.getBBox({useCellGeometry:this.options.useCellGeometry});e.x=Math.min(e.x,a.x),e.y=Math.min(e.y,a.y),n.x=Math.max(n.x,a.x+a.width),n.y=Math.max(n.y,a.y+a.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:n.x-e.x,height:n.y-e.y}).attr("data-selection-length",this.collection.length);const i=this.options.content;if(i)if(typeof i=="function"){const o=$n(i,this.graph,this,this.$selectionContent[0]);o&&this.$selectionContent.html(o)}else this.$selectionContent.html(i);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(e){return e.isNode()&&this.options.showNodeSelectionBox===!0||e.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(e){if(this.addCellSelectedClassName(e),this.canShowSelectionBox(e)){const n=this.graph.renderer.findViewByCell(e);if(n){const r=n.getBBox({useCellGeometry:this.options.useCellGeometry}),i=this.boxClassName;this.$("<div/>").addClass(i).addClass(`${i}-${e.isNode()?"node":"edge"}`).attr("data-cell-id",e.id).css({position:"absolute",left:r.x,top:r.y,width:r.width,height:r.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(e={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,e))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((e,n)=>{const r=this.$(n).remove().attr("data-cell-id"),i=this.collection.get(r);i&&this.createSelectionBox(i)}),this.updateContainer()),0}getCellViewFromElem(e){const n=e.getAttribute("data-cell-id");if(n){const r=this.collection.get(n);if(r)return this.graph.renderer.findViewByCell(r)}return null}onCellRemoved({cell:e}){this.destroySelectionBox(e),this.updateContainer()}onReseted({previous:e,current:n}){this.destroyAllSelectionBoxes(e),n.forEach(r=>{this.listenCellRemoveEvent(r),this.createSelectionBox(r)}),this.updateContainer()}onCellAdded({cell:e}){this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()}listenCellRemoveEvent(e){e.off("removed",this.onCellRemoved,this),e.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:e,removed:n,options:r}){e.forEach(o=>{this.trigger("cell:selected",{cell:o,options:r}),this.graph.trigger("cell:selected",{cell:o,options:r}),o.isNode()?(this.trigger("node:selected",{cell:o,options:r,node:o}),this.graph.trigger("node:selected",{cell:o,options:r,node:o})):o.isEdge()&&(this.trigger("edge:selected",{cell:o,options:r,edge:o}),this.graph.trigger("edge:selected",{cell:o,options:r,edge:o}))}),n.forEach(o=>{this.trigger("cell:unselected",{cell:o,options:r}),this.graph.trigger("cell:unselected",{cell:o,options:r}),o.isNode()?(this.trigger("node:unselected",{cell:o,options:r,node:o}),this.graph.trigger("node:unselected",{cell:o,options:r,node:o})):o.isEdge()&&(this.trigger("edge:unselected",{cell:o,options:r,edge:o}),this.graph.trigger("edge:unselected",{cell:o,options:r,edge:o}))});const i={added:e,removed:n,options:r,selected:this.cells};this.trigger("selection:changed",i),this.graph.trigger("selection:changed",i)}deleteSelectedCells(){const e=this.collection.toArray();this.clean(),this.graph.model.removeCells(e,{selection:this.cid})}startRotate({e}){const n=this.collection.toArray(),r=xi.getCellsBBox(n).getCenter(),i=this.graph.snapToGrid(e.clientX,e.clientY),o=n.reduce((s,a)=>(s[a.id]=pi.normalize(a.getAngle()),s),{});this.setEventData(e,{center:r,angles:o,start:i.theta(r)})}doRotate({e}){const n=this.getEventData(e),r=this.graph.options.rotating.grid,i=typeof r=="function"?$n(r,this.graph,null):r,o=this.graph.snapToGrid(e.clientX,e.clientY),s=n.start-o.theta(n.center);n.rotated||(n.rotated=!0),Math.abs(s)>.001&&(this.collection.toArray().forEach(a=>{const l=Js.snapToGrid(n.angles[a.id]+s,i||15);a.rotate(l,{absolute:!0,center:n.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e}){const n=this.getEventData(e);n.rotated&&(n.rotated=!1,this.collection.toArray().forEach(r=>{ya("node:rotated",e,this.graph.findViewByCell(r))}))}startResize({e}){const n=this.graph.getGridSize(),r=this.collection.toArray(),i=xi.getCellsBBox(r),o=r.map(l=>l.getBBox()),s=o.reduce((l,c)=>c.width<l?c.width:l,1/0),a=o.reduce((l,c)=>c.height<l?c.height:l,1/0);this.setEventData(e,{bbox:i,cells:this.graph.model.getSubGraph(r),minWidth:n*i.width/s,minHeight:n*i.height/a})}doResize({e,dx:n,dy:r}){const i=this.eventData(e),o=i.bbox,s=o.width,a=o.height,l=Math.max(s+n,i.minWidth),c=Math.max(a+r,i.minHeight);i.resized||(i.resized=!0),(Math.abs(s-l)>.001||Math.abs(a-c)>.001)&&(this.graph.model.resizeCells(l,c,i.cells,{selection:this.cid}),o.width=l,o.height=c,this.updateSelectionBoxes())}stopResize({e}){const n=this.eventData(e);n.resized&&(n.resized=!1,this.collection.toArray().forEach(r=>{ya("node:resized",e,this.graph.findViewByCell(r))}))}dispose(){this.clean(),this.remove()}}KAe([wi.dispose()],Z5.prototype,"dispose",null);wne(Z5,A0);var Wl;(function(t){const e="widget-selection";t.classNames={root:e,inner:`${e}-inner`,box:`${e}-box`,content:`${e}-content`,rubberband:`${e}-rubberband`,selected:`${e}-selected`},t.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},t.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(r){return Yb('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:r.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function n(r){return r.getAncestors().length}t.depthComparator=n})(Wl||(Wl={}));class n9 extends _E{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(e){this.options=Object.assign(Object.assign({},Pa.defaultOptions),e),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const e=this.$("<div/>").prop("draggable",!1),n=e.clone().addClass(this.rotateClassName),r=Pa.POSITIONS.map(i=>e.clone().addClass(this.resizeClassName).attr("data-position",i));this.empty(),this.$container.append(r,n)}render(){return this.renderHandles(),this.view.addClass(Pa.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const e=this.graph.matrix(),n=this.node.getBBox();n.x*=e.a,n.x+=e.e,n.y*=e.d,n.y+=e.f,n.width*=e.a,n.height*=e.d;const r=pi.normalize(this.node.getAngle()),i=r!==0?`rotate(${r}deg)`:"";return this.$container.css({transform:i,width:n.width,height:n.height,left:n.x,top:n.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(Pa.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const e=pi.normalize(this.node.getAngle()),n=Math.floor(e*(Pa.DIRECTIONS.length/360));if(n!==this.prevShift){const r=Pa.DIRECTIONS.slice(n).concat(Pa.DIRECTIONS.slice(0,n)),i=o=>`${this.containerClassName}-cursor-${o}`;this.$container.find(`.${this.resizeClassName}`).removeClass(Pa.DIRECTIONS.map(o=>i(o)).join(" ")).each((o,s)=>{this.$(s).addClass(i(r[o]))}),this.prevShift=n}}getTrueDirection(e){const n=pi.normalize(this.node.getAngle());let r=Pa.POSITIONS.indexOf(e);return r+=Math.floor(n*(Pa.POSITIONS.length/360)),r%=Pa.POSITIONS.length,Pa.POSITIONS[r]}toValidResizeDirection(e){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[e]||e}startResizing(e){e.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const n=this.$(e.target).attr("data-position"),r=this.graph.findViewByCell(this.node);this.prepareResizing(e,n),this.startAction(e),ya("node:resize:mousedown",e,r)}prepareResizing(e,n){const r=this.getTrueDirection(n);let i=0,o=0;n.split("-").forEach(c=>{i={left:-1,right:1}[c]||i,o={top:-1,bottom:1}[c]||o});const s=this.toValidResizeDirection(n),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[s],l=pi.normalize(this.node.getAngle());this.setEventData(e,{selector:a,direction:s,trueDirection:r,relativeDirection:n,angle:l,resizeX:i,resizeY:o,action:"resizing"})}startRotating(e){e.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const n=this.graph.findViewByCell(this.node),r=this.node.getBBox().getCenter(),i=this.normalizeEvent(e),o=this.graph.snapToGrid(i.clientX,i.clientY);this.setEventData(e,{center:r,action:"rotating",angle:pi.normalize(this.node.getAngle()),start:Ce.create(o).theta(r)}),this.startAction(e),ya("node:rotate:mousedown",e,n)}onMouseMove(e){const n=this.graph.findViewByCell(this.node);let r=this.getEventData(e);if(r.action){const i=this.normalizeEvent(e);let o=i.clientX,s=i.clientY;const a=this.graph.scroller.widget,l=this.options.restrictedResizing;if(l===!0||typeof l=="number"){const h=l===!0?0:l,p=a?Math.max(h,8):h,g=this.graph.container.getBoundingClientRect();o=Zl(o,g.left+p,g.right-p),s=Zl(s,g.top+p,g.bottom-p)}else this.options.autoScrollOnResizing&&a&&a.autoScroll(o,s);const c=this.graph.snapToGrid(o,s),u=this.graph.getGridSize(),f=this.node,d=this.options;if(r.action==="resizing"){r=r,r.resized||(n&&(n.addClass("node-resizing"),ya("node:resize",e,n)),r.resized=!0);const h=f.getBBox(),p=Ce.create(c).rotate(r.angle,h.getCenter()).diff(h[r.selector]);let g=r.resizeX?p.x*r.resizeX:h.width,m=r.resizeY?p.y*r.resizeY:h.height;const y=g,b=m;if(g=Js.snapToGrid(g,u),m=Js.snapToGrid(m,u),g=Math.max(g,d.minWidth||u),m=Math.max(m,d.minHeight||u),g=Math.min(g,d.maxWidth||1/0),m=Math.min(m,d.maxHeight||1/0),d.preserveAspectRatio){const E=h.width*m/h.height,_=h.height*g/h.width;g<E?m=_:g=E}const C=r.relativeDirection;if(d.allowReverse&&(y<=-g||b<=-m)){let E;C==="left"?y<=-g&&(E="right"):C==="right"?y<=-g&&(E="left"):C==="top"?b<=-m&&(E="bottom"):C==="bottom"?b<=-m&&(E="top"):C==="top-left"?y<=-g&&b<=-m?E="bottom-right":y<=-g?E="top-right":b<=-m&&(E="bottom-left"):C==="top-right"?y<=-g&&b<=-m?E="bottom-left":y<=-g?E="top-left":b<=-m&&(E="bottom-right"):C==="bottom-left"?y<=-g&&b<=-m?E="top-right":y<=-g?E="bottom-right":b<=-m&&(E="top-left"):C==="bottom-right"&&(y<=-g&&b<=-m?E="top-left":y<=-g?E="bottom-left":b<=-m&&(E="top-right"));const _=E;this.stopHandle();const w=this.$container.find(`.${this.resizeClassName}[data-position="${_}"]`);this.startHandle(w[0]),this.prepareResizing(e,_),this.onMouseMove(e)}if(h.width!==g||h.height!==m){const E={ui:!0,direction:r.direction,relativeDirection:r.relativeDirection,trueDirection:r.trueDirection,minWidth:d.minWidth,minHeight:d.minHeight,maxWidth:d.maxWidth,maxHeight:d.maxHeight,preserveAspectRatio:d.preserveAspectRatio===!0};f.resize(g,m,E),ya("node:resizing",e,n)}ya("node:resize:mousemove",e,n)}else if(r.action==="rotating"){r=r,r.rotated||(n&&(n.addClass("node-rotating"),ya("node:rotate",e,n)),r.rotated=!0);const h=f.getAngle(),p=r.start-Ce.create(c).theta(r.center);let g=r.angle+p;d.rotateGrid&&(g=Js.snapToGrid(g,d.rotateGrid)),g=pi.normalize(g),h!==g&&(f.rotate(g,{absolute:!0}),ya("node:rotating",e,n)),ya("node:rotate:mousemove",e,n)}}}onMouseUp(e){const n=this.graph.findViewByCell(this.node),r=this.getEventData(e);r.action&&(this.stopAction(e),this.model.stopBatch(r.action==="resizing"?"resize":"rotate",{cid:this.cid}),r.action==="resizing"?ya("node:resize:mouseup",e,n):r.action==="rotating"&&ya("node:rotate:mouseup",e,n))}startHandle(e){if(this.handle=e||null,this.$container.addClass(`${this.containerClassName}-active`),e){this.$(e).addClass(`${this.containerClassName}-active-handle`);const n=e.getAttribute("data-position");if(n){const r=Pa.DIRECTIONS[Pa.POSITIONS.indexOf(n)];this.$container.addClass(`${this.containerClassName}-cursor-${r}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const e=this.handle.getAttribute("data-position");if(e){const n=Pa.DIRECTIONS[Pa.POSITIONS.indexOf(e)];this.$container.removeClass(`${this.containerClassName}-cursor-${n}`)}this.handle=null}}startAction(e){this.startHandle(e.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Pa.documentEvents,e.data)}stopAction(e){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const n=this.graph.findViewByCell(this.node),r=this.getEventData(e);n&&(n.removeClass(`node-${r.action}`),r.action==="resizing"&&r.resized?ya("node:resized",e,n):r.action==="rotating"&&r.rotated&&ya("node:rotated",e,n))}}var Pa;(function(t){t.NODE_CLS="has-widget-transform",t.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],t.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},t.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(Pa||(Pa={}));var ZAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Kf;(function(t){function e(n,r,i){const o={};return Object.keys(i||{}).forEach(s=>{const a=i[s];o[s]=typeof a=="function"?a.call(n,r):a}),o}t.parseOptionGroup=e})(Kf||(Kf={}));(function(t){function e(n){const{grid:r,panning:i,selecting:o,embedding:s,snapline:a,resizing:l,rotating:c,knob:u,clipboard:f,history:d,scroller:h,minimap:p,keyboard:g,mousewheel:m}=n,y=ZAe(n,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),b=n.container;if(b!=null)y.width==null&&(y.width=b.clientWidth),y.height==null&&(y.height=b.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const C=Io({},t.defaults,y),E={size:10,visible:!1};return typeof r=="number"?C.grid={size:r,visible:!1}:typeof r=="boolean"?C.grid=Object.assign(Object.assign({},E),{visible:r}):C.grid=Object.assign(Object.assign({},E),r),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(w=>{const M=n[w];typeof M=="boolean"?C[w].enabled=M:C[w]=Object.assign(Object.assign({},C[w]),M)}),C.background&&C.scroller.enabled&&C.scroller.background==null&&(C.scroller.background=C.background,delete C.background),C}t.get=e})(Kf||(Kf={}));(function(t){t.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Js.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Js.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:e,sourceView:n,targetView:r}){return(e==="target"?r:n)!=null},createEdge(){return new oh}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}})(Kf||(Kf={}));var r9=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class jre extends Mo{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return this.svg.getElementById(e)!=null}filter(e){let n=e.id;const r=e.name;if(n||(n=`filter-${r}-${this.cid}-${IR(JSON.stringify(e))}`),!this.isDefined(n)){const i=$1.registry.get(r);if(i==null)return $1.registry.onNotFound(r);const o=i(e.args||{}),s=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:n});Bn.create(Si.sanitize(o),s).appendTo(this.defs)}return n}gradient(e){let n=e.id;const r=e.type;if(n||(n=`gradient-${r}-${this.cid}-${IR(JSON.stringify(e))}`),!this.isDefined(n)){const o=e.stops.map(l=>{const c=l.opacity!=null&&Number.isFinite(l.opacity)?l.opacity:1;return`<stop offset="${l.offset}" stop-color="${l.color}" stop-opacity="${c}"/>`}),s=`<${r}>${o.join("")}</${r}>`,a=Object.assign({id:n},e.attrs);Bn.create(s,a).appendTo(this.defs)}return n}marker(e){const{id:n,refX:r,refY:i,markerUnits:o,markerOrient:s,tagName:a,children:l}=e,c=r9(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let u=n;if(u||(u=`marker-${this.cid}-${IR(JSON.stringify(e))}`),!this.isDefined(u)){a!=="path"&&delete c.d;const f=Bn.create("marker",{refX:r,refY:i,id:u,overflow:"visible",orient:s!=null?s:"auto",markerUnits:o||"userSpaceOnUse"},l?l.map(d=>{var{tagName:h}=d,p=r9(d,["tagName"]);return Bn.create(`${h}`||"path",YC(Object.assign(Object.assign({},c),p)))}):[Bn.create(a||"path",YC(c))]);this.defs.appendChild(f.node)}return u}remove(e){const n=this.svg.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n)}}var QAe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},JAe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Q5 extends Mo{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const n=this.grid.size;if(n<=1||!this.grid.visible)return this.clear();const r=this.graph.matrix(),i=this.getInstance(),o=Array.isArray(e)?e:[e];this.patterns.forEach((l,c)=>{const u=`pattern_${c}`,f=r.a||1,d=r.d||1,{update:h,markup:p}=l,g=JAe(l,["update","markup"]),m=Object.assign(Object.assign(Object.assign({},g),o[c]),{sx:f,sy:d,ox:r.e||0,oy:r.f||0,width:n*f,height:n*d});i.has(u)||i.add(u,Bn.create("pattern",{id:u,patternUnits:"userSpaceOnUse"},Bn.createVectors(p)).node);const y=i.get(u);typeof h=="function"&&h(y.childNodes[0],m);let b=m.ox%m.width;b<0&&(b+=m.width);let C=m.oy%m.height;C<0&&(C+=m.height),to(y,{x:b,y:C,width:m.width,height:m.height})});const s=new XMLSerializer().serializeToString(i.root),a=`url(data:image/svg+xml;base64,${btoa(s)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new sv),this.instance}resolveGrid(e){if(!e)return[];const n=e.type;if(n==null)return[Object.assign(Object.assign({},sv.presets.dot),e.args)];const r=sv.registry.get(n);if(r){let i=e.args||[];return Array.isArray(i)||(i=[i]),Array.isArray(r)?r.map((o,s)=>Object.assign(Object.assign({},o),i[s])):[Object.assign(Object.assign({},r),i[0])]}return sv.registry.onNotFound(n)}dispose(){this.stopListening(),this.clear()}}QAe([Mo.dispose()],Q5.prototype,"dispose",null);class Vre extends Mo{getClientMatrix(){return Ka(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new Ce(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,n){return(typeof e=="number"?this.clientToLocalPoint(e,n):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,n){const r=Ce.create(e,n);return bp(r,this.graph.matrix())}localToClientPoint(e,n){const r=Ce.create(e,n);return bp(r,this.getClientMatrix())}localToPagePoint(e,n){return(typeof e=="number"?this.localToGraphPoint(e,n):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,n,r,i){const o=mn.create(e,n,r,i);return su(o,this.graph.matrix())}localToClientRect(e,n,r,i){const o=mn.create(e,n,r,i);return su(o,this.getClientMatrix())}localToPageRect(e,n,r,i){return(typeof e=="number"?this.localToGraphRect(e,n,r,i):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,n){const r=Ce.create(e,n);return bp(r,this.graph.matrix().inverse())}clientToLocalPoint(e,n){const r=Ce.create(e,n);return bp(r,this.getClientMatrix().inverse())}clientToGraphPoint(e,n){const r=Ce.create(e,n);return bp(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,n){const i=Ce.create(e,n).diff(this.getPageOffset());return this.graphToLocalPoint(i)}graphToLocalRect(e,n,r,i){const o=mn.create(e,n,r,i);return su(o,this.graph.matrix().inverse())}clientToLocalRect(e,n,r,i){const o=mn.create(e,n,r,i);return su(o,this.getClientMatrix().inverse())}clientToGraphRect(e,n,r,i){const o=mn.create(e,n,r,i);return su(o,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,n,r,i){const o=mn.create(e,n,r,i),s=this.getPageOffset();return o.x-=s.x,o.y-=s.y,this.graphToLocalRect(o)}}var eke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class J5 extends Mo{constructor(){super(...arguments),this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}eke([Mo.dispose()],J5.prototype,"dispose",null);var Lv;(function(t){function e(i){const o=[],s=[];return Array.isArray(i)?o.push(...i):i.split("|").forEach(a=>{a.indexOf("&")===-1?o.push(a):s.push(...a.split("&"))}),{or:o,and:s}}t.parse=e;function n(i,o){if(i!=null&&o!=null){const s=e(i),a=e(o),l=s.or.sort(),c=a.or.sort(),u=s.and.sort(),f=a.and.sort(),d=(h,p)=>h.length===p.length&&(h.length===0||h.every((g,m)=>g===p[m]));return d(l,c)&&d(u,f)}return i==null&&o==null}t.equals=n;function r(i,o,s){if(o==null||Array.isArray(o)&&o.length===0)return s?i.altKey!==!0&&i.ctrlKey!==!0&&i.metaKey!==!0&&i.shiftKey!==!0:!0;const{or:a,and:l}=e(o),c=u=>{const f=`${u.toLowerCase()}Key`;return i[f]===!0};return a.some(u=>c(u))&&l.every(u=>c(u))}t.isMatch=r})(Lv||(Lv={}));var tke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class e8 extends Mo{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let e=[];const n=this.widgetOptions.pannable;typeof n=="object"?e=n.eventTypes||[]:e=["leftMouseDown"],e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let e=[];const n=this.widgetOptions.pannable;typeof n=="object"?e=n.eventTypes||[]:e=["leftMouseDown"],e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(e){e.button===2&&this.allowPanning(e,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(e),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e}){this.widget&&(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&(this.updateClassName(!0),this.widget.startPanning(e),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(e,n){return this.widget&&this.pannable&&Lv.isMatch(e,this.widgetOptions.modifiers,n)&&this.graph.hook.allowPanning(e)}updateClassName(e){if(this.widget==null)return;const n=this.widget.container,r=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(eo(n,r),n.dataset.panning=(!!e).toString()):sf(n,r)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(e,n){this.widget&&this.widget.resize(e,n)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}tke([Mo.dispose()],e8.prototype,"dispose",null);var nke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},rke=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class t8 extends Mo{get commonOptions(){const e=this.instanceOptions;return rke(e,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(e,n={}){this.disabled||(this.widget.copy(e,this.graph,Object.assign(Object.assign({},this.commonOptions),n)),this.graph.trigger("clipboard:changed",{cells:e}))}cut(e,n={}){this.disabled||(this.widget.cut(e,this.graph,Object.assign(Object.assign({},this.commonOptions),n)),this.graph.trigger("clipboard:changed",{cells:e}))}paste(e={},n=this.graph){return this.disabled?[]:this.widget.paste(n,Object.assign(Object.assign({},this.commonOptions),e))}clean(e){(!this.disabled||e)&&(this.widget.clean(),this.graph.trigger("clipboard:changed",{cells:[]}))}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}nke([Mo.dispose()],t8.prototype,"dispose",null);var ike=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class HM extends Mo{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:n,options:r={}}){const i=this.resolveHighlighter(r);if(!i)return;const o=this.getHighlighterId(n,i);if(!this.highlights[o]){const s=i.highlighter;s.highlight(e,n,Object.assign({},i.args)),this.highlights[o]={cellView:e,magnet:n,highlighter:s,args:i.args}}}onCellUnhighlight({magnet:e,options:n={}}){const r=this.resolveHighlighter(n);if(!r)return;const i=this.getHighlighterId(e,r);this.unhighlight(i)}resolveHighlighter(e){const n=this.options;let r=e.highlighter;if(r==null){const a=e.type;r=a&&n.highlighting[a]||n.highlighting.default}if(r==null)return null;const i=typeof r=="string"?{name:r}:r,o=i.name,s=kp.registry.get(o);return s==null?kp.registry.onNotFound(o):(kp.check(o,s),{name:o,highlighter:s,args:i.args||{}})}getHighlighterId(e,n){return Rk(e),n.name+e.id+JSON.stringify(n.args)}unhighlight(e){const n=this.highlights[e];n&&(n.highlighter.unhighlight(n.cellView,n.magnet,n.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}ike([HM.dispose()],HM.prototype,"dispose",null);var oke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class WM extends Mo{constructor(){super(...arguments),this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:e}){if(!this.isSelectionEnabled){const n=this.graph.hook.createTransform(e,{clearAll:!0});n&&this.widgets.set(e,n)}}onNodeSelected({node:e}){if(this.isSelectionEnabled){const n=this.graph.hook.createTransform(e,{clearAll:!1});n&&this.widgets.set(e,n)}}onNodeUnSelected({node:e}){if(this.isSelectionEnabled){const n=this.widgets.get(e);n&&n.dispose(),this.widgets.delete(e)}}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Ka(this.viewportMatrix)}setMatrix(e){const n=Ka(e),r=Z0(n);this.viewport.setAttribute("transform",r),this.viewportMatrix=n,this.viewportTransformString=r}resize(e,n){let r=e===void 0?this.options.width:e,i=n===void 0?this.options.height:n;this.options.width=r,this.options.height=i,typeof r=="number"&&(r=Math.round(r)),typeof i=="number"&&(i=Math.round(i)),this.container.style.width=r==null?"":`${r}px`,this.container.style.height=i==null?"":`${i}px`;const o=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},o)),this}getComputedSize(){let e=this.options.width,n=this.options.height;return Sj(e)||(e=this.container.clientWidth),Sj(n)||(n=this.container.clientHeight),{width:e,height:n}}getScale(){return VPe(this.getMatrix())}scale(e,n=e,r=0,i=0,o={}){if(e=this.clampScale(e),n=this.clampScale(n),r||i){const a=this.getTranslation(),l=a.tx-r*(e-1),c=a.ty-i*(n-1);(l!==a.tx||c!==a.ty)&&this.translate(l,c)}const s=this.getMatrix();return s.a=e,s.d=n,this.setMatrix(s),this.graph.trigger("scale",Object.assign({sx:e,sy:n,ox:r,oy:i},o)),this}clampScale(e){const n=this.graph.options.scaling;return Zl(e,n.min||.01,n.max||16)}getZoom(){return this.getScale().sx}zoom(e,n){n=n||{};let r=e,i=e;const o=this.getScale(),s=this.getComputedSize();let a=s.width/2,l=s.height/2;if(n.absolute||(r+=o.sx,i+=o.sy),n.scaleGrid&&(r=Math.round(r/n.scaleGrid)*n.scaleGrid,i=Math.round(i/n.scaleGrid)*n.scaleGrid),n.maxScale&&(r=Math.min(n.maxScale,r),i=Math.min(n.maxScale,i)),n.minScale&&(r=Math.max(n.minScale,r),i=Math.max(n.minScale,i)),n.center&&(a=n.center.x,l=n.center.y),r=this.clampScale(r),i=this.clampScale(i),a||l){const c=this.getTranslation(),u=a-(a-c.tx)*(r/o.sx),f=l-(l-c.ty)*(i/o.sy);(u!==c.tx||f!==c.ty)&&this.translate(u,f,{ui:n.ui})}return this.scale(r,i,0,0,{ui:n.ui}),this}getRotation(){return UPe(this.getMatrix())}rotate(e,n,r){if(n==null||r==null){const o=Xa(this.graph.view.stage);n=o.width/2,r=o.height/2}const i=this.getMatrix().translate(n,r).rotate(e).translate(-n,-r);return this.setMatrix(i),this}getTranslation(){return HPe(this.getMatrix())}translate(e,n,r={}){const i=this.getMatrix();i.e=e||0,i.f=n||0,this.setMatrix(i);const o=this.getTranslation();return this.options.x=o.tx,this.options.y=o.ty,this.graph.trigger("translate",Object.assign(Object.assign({},o),r)),this}setOrigin(e,n){return this.translate(e||0,n||0)}fitToContent(e,n,r,i){if(typeof e=="object"){const C=e;e=C.gridWidth||1,n=C.gridHeight||1,r=C.padding||0,i=C}else e=e||1,n=n||1,r=r||0,i==null&&(i={});const o=Ac(r),s=i.border||0,a=i.contentArea?mn.create(i.contentArea):this.getContentArea(i);s>0&&a.inflate(s);const l=this.getScale(),c=this.getTranslation(),u=l.sx,f=l.sy;a.x*=u,a.y*=f,a.width*=u,a.height*=f;let d=Math.max(Math.ceil((a.width+a.x)/e),1)*e,h=Math.max(Math.ceil((a.height+a.y)/n),1)*n,p=0,g=0;(i.allowNewOrigin==="negative"&&a.x<0||i.allowNewOrigin==="positive"&&a.x>=0||i.allowNewOrigin==="any")&&(p=Math.ceil(-a.x/e)*e,p+=o.left,d+=p),(i.allowNewOrigin==="negative"&&a.y<0||i.allowNewOrigin==="positive"&&a.y>=0||i.allowNewOrigin==="any")&&(g=Math.ceil(-a.y/n)*n,g+=o.top,h+=g),d+=o.right,h+=o.bottom,d=Math.max(d,i.minWidth||0),h=Math.max(h,i.minHeight||0),d=Math.min(d,i.maxWidth||Number.MAX_SAFE_INTEGER),h=Math.min(h,i.maxHeight||Number.MAX_SAFE_INTEGER);const m=this.getComputedSize(),y=d!==m.width||h!==m.height;return(p!==c.tx||g!==c.ty)&&this.translate(p,g),y&&this.resize(d,h),new mn(-p/u,-g/f,d/u,h/f)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},n=!0){let r,i;if(e.contentArea){const y=e.contentArea;r=this.graph.localToGraph(y),i=Ce.create(y)}else r=this.getContentBBox(e),i=this.graph.graphToLocal(r);if(!r.width||!r.height)return;const o=Ac(e.padding),s=e.minScale||0,a=e.maxScale||Number.MAX_SAFE_INTEGER,l=e.minScaleX||s,c=e.maxScaleX||a,u=e.minScaleY||s,f=e.maxScaleY||a;let d;if(e.viewportArea)d=e.viewportArea;else{const y=this.getComputedSize(),b=this.getTranslation();d={x:b.tx,y:b.ty,width:y.width,height:y.height}}d=mn.create(d).moveAndExpand({x:o.left,y:o.top,width:-o.left-o.right,height:-o.top-o.bottom});const h=this.getScale();let p=d.width/r.width*h.sx,g=d.height/r.height*h.sy;e.preserveAspectRatio!==!1&&(p=g=Math.min(p,g));const m=e.scaleGrid;if(m&&(p=m*Math.floor(p/m),g=m*Math.floor(g/m)),p=Zl(p,l,c),g=Zl(g,u,f),this.scale(p,g),n){const y=this.options,b=d.x-i.x*p-y.x,C=d.y-i.y*g-y.y;this.translate(b,C)}}getContentArea(e={}){return e.useCellGeometry?this.model.getAllCellsBBox()||new mn:Xa(this.graph.view.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=mn.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,n={}){const r=mn.create(e),i=this.graph;n.contentArea=r,n.viewportArea==null&&(n.viewportArea={x:i.options.x,y:i.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(n,!1);const o=r.getCenter();return this.centerPoint(o.x,o.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,n){const r=this.getComputedSize(),i=this.getScale(),o=this.getTranslation(),s=r.width/2,a=r.height/2;e=typeof e=="number"?e:s,n=typeof n=="number"?n:a,e=s-e*i.sx,n=a-n*i.sy,(o.tx!==e||o.ty!==n)&&this.translate(e,n)}centerContent(e){const r=this.graph.getContentArea(e).getCenter();this.centerPoint(r.x,r.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,n,r){const i=this.getComputedSize();n=fh(n,Math.max(0,i.width)),n<0&&(n=i.width+n),r=fh(r,Math.max(0,i.height)),r<0&&(r=i.height+r);const o=this.getTranslation(),s=this.getScale(),a=n-e.x*s.sx,l=r-e.y*s.sy;(o.tx!==a||o.ty!==l)&&this.translate(a,l)}positionRect(e,n){const r=mn.create(e);switch(n){case"center":return this.positionPoint(r.getCenter(),"50%","50%");case"top":return this.positionPoint(r.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%");case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(r.getTopLeft(),0,0);default:return this}}positionCell(e,n){const r=e.getBBox();return this.positionRect(r,n)}positionContent(e,n){const r=this.graph.getContentArea(n);return this.positionRect(r,e)}dispose(){this.widgets.forEach(e=>e.dispose()),this.widgets.clear(),this.stopListening()}}oke([WM.dispose()],WM.prototype,"dispose",null);var ske=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class n8 extends Mo{constructor(){super(...arguments),this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e}){(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!this.graph.scroller.allowPanning(e,!0)&&!this.graph.panning.allowPanning(e,!0))&&this.startRubberband(e)}onBlankClick(){this.clean()}allowRubberband(e,n){return!this.rubberbandDisabled&&Lv.isMatch(e,this.widgetOptions.modifiers,n)&&this.graph.hook.allowRubberband(e)}allowMultipleSelection(e){return this.isMultiple()&&Lv.isMatch(e,this.widgetOptions.multipleSelectionModifiers)}onCellMouseMove({cell:e}){this.movedMap.set(e,!0)}onCellMouseUp({e,cell:n}){const r=this.widgetOptions;let i=this.disabled;!i&&this.movedMap.has(n)&&(i=r.selectCellOnMoved===!1,i||(i=r.selectNodeOnMoved===!1&&n.isNode()),i||(i=r.selectEdgeOnMoved===!1&&n.isEdge())),i||(this.allowMultipleSelection(e)?this.unselectMap.has(n)?this.unselectMap.delete(n):this.isSelected(n)?this.unselect(n):this.select(n):this.reset(n)),this.movedMap.delete(n)}onBoxMouseDown({e,cell:n}){this.disabled||this.allowMultipleSelection(e)&&(this.unselect(n),this.unselectMap.set(n,!0))}isEmpty(){return this.length<=0}isSelected(e){return this.widget.isSelected(e)}getCells(e){return(Array.isArray(e)?e:[e]).map(n=>typeof n=="string"?this.graph.getCellById(n):n).filter(n=>n!=null)}select(e,n={}){const r=this.getCells(e);return r.length&&(this.isMultiple()?this.widget.select(r,n):this.reset(r.slice(0,1),n)),this}unselect(e,n={}){return this.widget.unselect(this.getCells(e),n),this}reset(e,n={}){return this.widget.reset(e?this.getCells(e):[],n),this}clean(e={}){return this.widget.clean(e),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(e){return this.rubberbandDisabled||this.widget.startSelecting(e),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(e){return this.widgetOptions.modifiers=e,this}setContent(e){return this.widget.setContent(e),this}setFilter(e){return this.widget.setFilter(e),this}dispose(){this.stopListening(),this.widget.dispose()}}ske([Mo.dispose()],n8.prototype,"dispose",null);var Ure=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},ake=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class k0 extends yl{constructor(e){super(),this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=e.graph,this.model=e.graph.model,this.options=Rs.getOptions(e),this.validator=new k0.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(e={}){if(!this.disabled){const n=this.undoStack.pop();n&&(this.revertCommand(n,e),this.redoStack.push(n),this.notify("undo",n,e))}return this}redo(e={}){if(!this.disabled){const n=this.redoStack.pop();n&&(this.applyCommand(n,e),this.undoStack.push(n),this.notify("redo",n,e))}return this}cancel(e={}){if(!this.disabled){const n=this.undoStack.pop();n&&(this.revertCommand(n,e),this.redoStack=[],this.notify("cancel",n,e))}return this}clean(e={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,e),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(e,...n){return this.validator.validate(e,...n),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((e,n)=>{this.handlers[n]=this.addCommand.bind(this,e),this.model.on(e,this.handlers[n])}),this.validator.on("invalid",e=>this.trigger("invalid",e))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((e,n)=>{this.model.off(e,this.handlers[n])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(e){return{batch:e?e.batch:!1,data:{}}}revertCommand(e,n){this.freezed=!0;const r=Array.isArray(e)?Rs.sortBatchCommands(e):[e];for(let i=r.length-1;i>=0;i-=1){const o=r[i],s=Object.assign(Object.assign({},n),Ej(o.options,this.options.revertOptionsList||[]));this.executeCommand(o,!0,s)}this.freezed=!1}applyCommand(e,n){this.freezed=!0;const r=Array.isArray(e)?Rs.sortBatchCommands(e):[e];for(let i=0;i<r.length;i+=1){const o=r[i],s=Object.assign(Object.assign({},n),Ej(o.options,this.options.applyOptionsList||[]));this.executeCommand(o,!1,s)}this.freezed=!1}executeCommand(e,n,r){const i=this.model,o=i.getCell(e.data.id),s=e.event;if(Rs.isAddEvent(s)&&n||Rs.isRemoveEvent(s)&&!n)o.remove(r);else if(Rs.isAddEvent(s)&&!n||Rs.isRemoveEvent(s)&&n){const a=e.data;a.node?i.addNode(a.props,r):a.edge&&i.addEdge(a.props,r)}else if(Rs.isChangeEvent(s)){const a=e.data,l=a.key;if(l){const c=n?a.prev[l]:a.next[l];o.prop(l,c,r)}}else{const a=this.options.executeCommand;a&&$n(a,this,e,n,r)}}addCommand(e,n){if(this.freezed||this.disabled)return;const r=n,i=r.options||{};if(i.dryrun||Rs.isAddEvent(e)&&this.options.ignoreAdd||Rs.isRemoveEvent(e)&&this.options.ignoreRemove||Rs.isChangeEvent(e)&&this.options.ignoreChange)return;const o=this.options.beforeAddCommand;if(o!=null&&$n(o,this,e,n)===!1)return;e==="cell:change:*"&&(e=`cell:change:${r.key}`);const s=r.cell,a=pl.isModel(s);let l;if(this.batchCommands){l=this.batchCommands[Math.max(this.lastBatchIndex,0)];const u=a&&!l.modelChange||l.data.id!==s.id,f=l.event!==e;if(this.lastBatchIndex>=0&&(u||f)){const d=this.batchCommands.findIndex(h=>(a&&h.modelChange||h.data.id===s.id)&&h.event===e);d<0||Rs.isAddEvent(e)||Rs.isRemoveEvent(e)?l=this.createCommand({batch:!0}):(l=this.batchCommands[d],this.batchCommands.splice(d,1)),this.batchCommands.push(l),this.lastBatchIndex=this.batchCommands.length-1}}else l=this.createCommand({batch:!1});if(Rs.isAddEvent(e)||Rs.isRemoveEvent(e)){const u=l.data;return l.event=e,l.options=i,u.id=s.id,u.props=Fs(s.toJSON()),s.isEdge()?u.edge=!0:s.isNode()&&(u.node=!0),this.push(l,i)}if(Rs.isChangeEvent(e)){const u=n.key,f=l.data;return(!l.batch||!l.event)&&(l.event=e,l.options=i,f.key=u,f.prev==null&&(f.prev={}),f.prev[u]=VC(s.previous(u)),a?l.modelChange=!0:f.id=s.id),f.next==null&&(f.next={}),f.next[u]=VC(s.prop(u)),this.push(l,i)}const c=this.options.afterAddCommand;c&&$n(c,this,e,n,l),this.push(l,i)}initBatchCommand(e){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(e){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const n=this.filterBatchCommand(this.batchCommands);n.length>0&&(this.redoStack=[],this.undoStack.push(n),this.notify("add",n,e)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(e){let n=e.slice();const r=[];for(;n.length>0;){const i=n.shift(),o=i.event,s=i.data.id;if(o!=null&&(s!=null||i.modelChange)){if(Rs.isAddEvent(o)){const a=n.findIndex(l=>Rs.isRemoveEvent(l.event)&&l.data.id===s);if(a>=0){n=n.filter((l,c)=>a<c||l.data.id!==s);continue}}else if(Rs.isRemoveEvent(o)){const a=n.findIndex(l=>Rs.isAddEvent(l.event)&&l.data.id===s);if(a>=0){n.splice(a,1);continue}}else if(Rs.isChangeEvent(o)){const a=i.data;if(rh(a.prev,a.next))continue}r.push(i)}}return r}notify(e,n,r){const i=n==null?null:Array.isArray(n)?n:[n];this.emit(e,{cmds:i,options:r}),this.emit("change",{cmds:i,options:r})}push(e,n){this.redoStack=[],e.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:e,options:n})):(this.undoStack.push(e),this.notify("add",e,n))}}Ure([yl.dispose()],k0.prototype,"dispose",null);(function(t){class e extends yl{constructor(r){super(),this.map={},this.command=r.history,this.cancelInvalid=r.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:r}){return Array.isArray(r)?r.every(i=>this.isValidCommand(i)):this.isValidCommand(r)}isValidCommand(r){if(r.options&&r.options.validation===!1)return!0;const i=r.event&&this.map[r.event]||[];let o=null;return i.forEach(s=>{let a=0;const l=c=>{const u=s[a];a+=1;try{if(u)u(c,r,l);else{o=c;return}}catch(f){l(f)}};l(o)}),o?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:o}),!1):!0}validate(r,...i){const o=Array.isArray(r)?r:r.split(/\s+/);return i.forEach(s=>{if(typeof s!="function")throw new Error(`${o.join(" ")} requires callback functions.`)}),o.forEach(s=>{this.map[s]==null&&(this.map[s]=[]),this.map[s].push(i)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}Ure([yl.dispose()],e.prototype,"dispose",null),t.Validator=e})(k0||(k0={}));var Rs;(function(t){function e(s){return s==="cell:added"}t.isAddEvent=e;function n(s){return s==="cell:removed"}t.isRemoveEvent=n;function r(s){return s!=null&&s.startsWith("cell:change:")}t.isChangeEvent=r;function i(s){const a=ake(s,["graph"]),l=["cell:added","cell:removed","cell:change:*"],c=["batch:start","batch:stop"],u=s.eventNames?s.eventNames.filter(f=>!(t.isChangeEvent(f)||l.includes(f)||c.includes(f))):l;return Object.assign(Object.assign({},a),{eventNames:u,applyOptionsList:s.applyOptionsList||["propertyPath"],revertOptionsList:s.revertOptionsList||["propertyPath"]})}t.getOptions=i;function o(s){const a=[];for(let l=0,c=s.length;l<c;l+=1){const u=s[l];let f=null;if(t.isAddEvent(u.event)){const d=u.data.id;for(let h=0;h<l;h+=1)if(s[h].data.id===d){f=h;break}}f!==null?a.splice(f,0,u):a.push(u)}return a}t.sortBatchCommands=o})(Rs||(Rs={}));var lke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class r8 extends Mo{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}lke([Mo.dispose()],r8.prototype,"dispose",null);var Hre={exports:{}};(function(t){(function(e,n,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)i[111+c]="f"+c;for(c=0;c<=9;++c)i[c+96]=c.toString();function u(M,k,I){if(M.addEventListener){M.addEventListener(k,I,!1);return}M.attachEvent("on"+k,I)}function f(M){if(M.type=="keypress"){var k=String.fromCharCode(M.which);return M.shiftKey||(k=k.toLowerCase()),k}return i[M.which]?i[M.which]:o[M.which]?o[M.which]:String.fromCharCode(M.which).toLowerCase()}function d(M,k){return M.sort().join(",")===k.sort().join(",")}function h(M){var k=[];return M.shiftKey&&k.push("shift"),M.altKey&&k.push("alt"),M.ctrlKey&&k.push("ctrl"),M.metaKey&&k.push("meta"),k}function p(M){if(M.preventDefault){M.preventDefault();return}M.returnValue=!1}function g(M){if(M.stopPropagation){M.stopPropagation();return}M.cancelBubble=!0}function m(M){return M=="shift"||M=="ctrl"||M=="alt"||M=="meta"}function y(){if(!l){l={};for(var M in i)M>95&&M<112||i.hasOwnProperty(M)&&(l[i[M]]=M)}return l}function b(M,k,I){return I||(I=y()[M]?"keydown":"keypress"),I=="keypress"&&k.length&&(I="keydown"),I}function C(M){return M==="+"?["+"]:(M=M.replace(/\+{2}/g,"+plus"),M.split("+"))}function E(M,k){var I,A,N,$=[];for(I=C(M),N=0;N<I.length;++N)A=I[N],a[A]&&(A=a[A]),k&&k!="keypress"&&s[A]&&(A=s[A],$.push("shift")),m(A)&&$.push(A);return k=b(A,$,k),{key:A,modifiers:$,action:k}}function _(M,k){return M===null||M===n?!1:M===k?!0:_(M.parentNode,k)}function w(M){var k=this;if(M=M||n,!(k instanceof w))return new w(M);k.target=M,k._callbacks={},k._directMap={};var I={},A,N=!1,$=!1,L=!1;function B(se){se=se||{};var fe=!1,me;for(me in I){if(se[me]){fe=!0;continue}I[me]=0}fe||(L=!1)}function j(se,fe,me,K,le,Ne){var Re,Je,$e=[],tt=me.type;if(!k._callbacks[se])return[];for(tt=="keyup"&&m(se)&&(fe=[se]),Re=0;Re<k._callbacks[se].length;++Re)if(Je=k._callbacks[se][Re],!(!K&&Je.seq&&I[Je.seq]!=Je.level)&&tt==Je.action&&(tt=="keypress"&&!me.metaKey&&!me.ctrlKey||d(fe,Je.modifiers))){var Pt=!K&&Je.combo==le,bt=K&&Je.seq==K&&Je.level==Ne;(Pt||bt)&&k._callbacks[se].splice(Re,1),$e.push(Je)}return $e}function H(se,fe,me,K){k.stopCallback(fe,fe.target||fe.srcElement,me,K)||se(fe,me)===!1&&(p(fe),g(fe))}k._handleKey=function(se,fe,me){var K=j(se,fe,me),le,Ne={},Re=0,Je=!1;for(le=0;le<K.length;++le)K[le].seq&&(Re=Math.max(Re,K[le].level));for(le=0;le<K.length;++le){if(K[le].seq){if(K[le].level!=Re)continue;Je=!0,Ne[K[le].seq]=1,H(K[le].callback,me,K[le].combo,K[le].seq);continue}Je||H(K[le].callback,me,K[le].combo)}var $e=me.type=="keypress"&&$;me.type==L&&!m(se)&&!$e&&B(Ne),$=Je&&me.type=="keydown"};function te(se){typeof se.which!="number"&&(se.which=se.keyCode);var fe=f(se);if(!!fe){if(se.type=="keyup"&&N===fe){N=!1;return}k.handleKey(fe,h(se),se)}}function Y(){clearTimeout(A),A=setTimeout(B,1e3)}function ue(se,fe,me,K){I[se]=0;function le(tt){return function(){L=tt,++I[se],Y()}}function Ne(tt){H(me,tt,se),K!=="keyup"&&(N=f(tt)),setTimeout(B,10)}for(var Re=0;Re<fe.length;++Re){var Je=Re+1===fe.length,$e=Je?Ne:le(K||E(fe[Re+1]).action);ce(fe[Re],$e,K,se,Re)}}function ce(se,fe,me,K,le){k._directMap[se+":"+me]=fe,se=se.replace(/\s+/g," ");var Ne=se.split(" "),Re;if(Ne.length>1){ue(se,Ne,fe,me);return}Re=E(se,me),k._callbacks[Re.key]=k._callbacks[Re.key]||[],j(Re.key,Re.modifiers,{type:Re.action},K,se,le),k._callbacks[Re.key][K?"unshift":"push"]({callback:fe,modifiers:Re.modifiers,action:Re.action,seq:K,level:le,combo:se})}k._bindMultiple=function(se,fe,me){for(var K=0;K<se.length;++K)ce(se[K],fe,me)},u(M,"keypress",te),u(M,"keydown",te),u(M,"keyup",te)}w.prototype.bind=function(M,k,I){var A=this;return M=M instanceof Array?M:[M],A._bindMultiple.call(A,M,k,I),A},w.prototype.unbind=function(M,k){var I=this;return I.bind.call(I,M,function(){},k)},w.prototype.trigger=function(M,k){var I=this;return I._directMap[M+":"+k]&&I._directMap[M+":"+k]({},M),I},w.prototype.reset=function(){var M=this;return M._callbacks={},M._directMap={},M},w.prototype.stopCallback=function(M,k){var I=this;if((" "+k.className+" ").indexOf(" mousetrap ")>-1||_(k,I.target))return!1;if("composedPath"in M&&typeof M.composedPath=="function"){var A=M.composedPath()[0];A!==M.target&&(k=A)}return k.tagName=="INPUT"||k.tagName=="SELECT"||k.tagName=="TEXTAREA"||k.isContentEditable},w.prototype.handleKey=function(){var M=this;return M._handleKey.apply(M,arguments)},w.addKeycodes=function(M){for(var k in M)M.hasOwnProperty(k)&&(i[k]=M[k]);l=null},w.init=function(){var M=w(n);for(var k in M)k.charAt(0)!=="_"&&(w[k]=function(I){return function(){return M[I].apply(M,arguments)}}(k))},w.init(),e.Mousetrap=w,t.exports&&(t.exports=w),typeof r=="function"&&r.amd&&r(function(){return w})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(Hre);const cke=Hre.exports;var uke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class D0 extends od{constructor(e){super(),this.options=e;const n=this.graph.scroller.widget;this.container=n?n.container:this.graph.container,e.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=D0.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(e,n,r){this.mousetrap.bind(this.getKeys(e),n,r)}off(e,n){this.mousetrap.unbind(this.getKeys(e),n)}focus(e){if(this.isInputEvent(e.e))return;this.target.focus({preventScroll:!0})}getKeys(e){return(Array.isArray(e)?e:[e]).map(n=>this.formatkey(n))}formatkey(e){const n=e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),r=this.options.format;return r?$n(r,this.graph,n):n}isGraphEvent(e){const n=e.srcElement||e.target,r=e.currentTarget;return n?n===this.target||r===this.target||n===document.body?!0:j5(this.container,n):!1}isInputEvent(e){const n=e.target;return(n&&n.tagName.toLowerCase())==="input"}isEnabledForEvent(e){const n=!this.disabled&&this.isGraphEvent(e),r=this.isInputEvent(e);if(n){const i=e.keyCode||e.which;if(r&&(i===8||i===46))return!1;if(this.options.guard)return $n(this.options.guard,this.graph,e)}return n}dispose(){this.mousetrap.reset()}}uke([od.dispose()],D0.prototype,"dispose",null);(function(t){function e(n){const r=new cke(n.target),i=r.stopCallback;return r.stopCallback=(o,s,a)=>n.isEnabledForEvent(o)?i?i.call(r,o,s,a):!1:!0,r}t.createMousetrap=e})(D0||(D0={}));var fke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class i8 extends od{constructor(e){super(),this.options=e,this.cumulatedFactor=1;const n=this.graph.scroller.widget;this.container=n?n.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new Hne(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(e){(this.disabled||e)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const n=e.originalEvent||e,r=this.options.guard;return(r==null||r.call(this.graph,n))&&Lv.isMatch(n,this.options.modifiers)}onMouseWheel(e){const n=e.originalEvent||e,r=this.options.guard;if((r==null||r.call(this.graph,n))&&Lv.isMatch(n,this.options.modifiers)){const i=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*i*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/i)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const s=this.graph.scroller.widget,a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);const c=this.options.minScale||Number.MIN_SAFE_INTEGER,u=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(l=Zl(l,c,u),l!==a)if(s)if(this.options.zoomAtMousePosition){const f=this.graph.coord.clientToLocalPoint(this.startPos);s.zoom(l,{absolute:!0,center:f.clone()})}else s.zoom(l,{absolute:!0});else if(this.options.zoomAtMousePosition){const f=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.transform.zoom(l,{absolute:!0,center:f.clone(),ui:!0})}else this.graph.transform.zoom(l,{absolute:!0,ui:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}fke([od.dispose()],i8.prototype,"dispose",null);var dke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class N0 extends Mo{show(e={}){const n=Object.assign(Object.assign({},N0.defaultOptions),e),r=this.createPrintPages(n);n.ready(r,i=>this.showPrintWindow(i,n),{sheetSize:this.getSheetSize(n)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(e,n){if(e){const r=Is(document.body),i=Is(this.view.container),o=this.view.prefixClassName("graph-printing");r.addClass(o);const s=i.children().detach();e.forEach(c=>{c.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(r)});let a=!1;const l=()=>{a||(a=!0,r.removeClass(o),e.forEach(c=>c.remove()),i.append(s),Is(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",n),Is(window).off("afterprint",l))};Is(window).one("afterprint",l),setTimeout(l,200),window.print()}}createPrintPage(e,n){this.graph.trigger("before:print",n);const r=Is("<div/>").addClass(this.className),i=Is("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");n.size&&r.addClass(`${this.className}-size-${n.size}`);const o=Bn.create(this.view.svg).clone(),s=o.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);i.append(o.node);const a=this.getSheetSize(n),l=this.graph.transform.getGraphArea(),c=this.graph.transform.getScale(),u=this.graph.translate(),f=Ka().translate(u.tx/c.sx,u.ty/c.sy),d=this.getPageInfo(l,e,a),h=d.scale,p=d.bbox;return i.css({left:0,top:0}),o.attr({width:p.width*h,height:p.height*h,style:"position:relative",viewBox:[p.x,p.y,p.width,p.height].join(" ")}),s.attr("transform",Z0(f)),r.append(i),r.addClass(`${this.className}-preview`),{$page:r,sheetSize:a}}createPrintPages(e){let n;const r=this.getPrintArea(e),i=[];if(e.page){const o=this.getPageSize(r,e.page);this.getPageAreas(r,o).forEach(a=>{n=this.createPrintPage(a,e),i.push(n.$page)})}else n=this.createPrintPage(r,e),i.push(n.$page);if(n){const o={width:n.sheetSize.cssWidth,height:n.sheetSize.cssHeight};this.updatePrintStyle(o,e)}return i}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(e,n){const r=Object.keys(e).reduce((u,f)=>`${u} ${f}:${e[f]};`,""),i=Ac(n.margin),o=n.marginUnit||"",s=n.sheetUnit||"",a=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${r}
        }

        @page {
          margin:
          ${[i.top+o,i.right+o,i.bottom+o,i.left+o].join(" ")};
          size: ${n.sheet.width+s} ${n.sheet.height+s};

        .${this.className}.${this.className}-preview {
          ${r}
        }
      }`,l=this.styleSheetId,c=Is(`#${l}`);c.length?c.html(a):Is("head").append(`'<style type="text/css" id="${l}">${a}</style>'`)}getPrintArea(e){let n=e.area;if(!n){const r=Ac(e.padding);n=this.graph.getContentArea().moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom})}return n}getPageSize(e,n){if(typeof n=="object"){const r=n,i={width:r.width,height:r.height};return i.width==null&&(i.width=Math.ceil(e.width/(r.columns||1))),i.height==null&&(i.height=Math.ceil(e.height/(r.rows||1))),i}return{width:e.width,height:e.height}}getPageAreas(e,n){const r=[],i=n.width,o=n.height;for(let s=0,a=0;s<e.height&&a<200;s+=o,a+=1)for(let l=0,c=0;l<e.width&&c<200;l+=i,c+=1)r.push(new mn(e.x+l,e.y+s,i,o));return r}getSheetSize(e){const n=e.sheet,r=Ac(e.margin),i=e.marginUnit||"",o=e.sheetUnit||"",s=`calc(${n.width}${o} - ${r.left+r.right}${i})`,a=`calc(${n.height}${o} - ${r.top+r.bottom}${i})`,l=j6.measure(s,a);return{cssWidth:s,cssHeight:a,width:l.width,height:l.height}}getPageInfo(e,n,r){const i=new mn(n.x-e.x,n.y-e.y,n.width,n.height),o=i.width/i.height,s=r.width/r.height;return{bbox:i,scale:s<o?r.width/i.width:r.height/i.height,fitHorizontal:s<o}}dispose(){}}dke([Mo.dispose()],N0.prototype,"dispose",null);(function(t){t.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(e,n)=>n(e)}})(N0||(N0={}));class Wre extends Mo{toSVG(e,n={}){this.graph.trigger("before:export",n);const r=this.view.svg,i=Bn.create(r).clone();let o=i.node;const s=i.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),a=n.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=n.preserveDimensions;if(l){const f=typeof l=="boolean"?a:l;i.attr({width:f.width,height:f.height})}if(i.removeAttribute("style").attr("viewBox",[a.x,a.y,a.width,a.height].join(" ")),s.removeAttribute("transform"),n.copyStyles!==!1){const f=r.ownerDocument,d=Array.from(r.querySelectorAll("*")),h=Array.from(o.querySelectorAll("*")),p=f.styleSheets.length,g=[];for(let b=p-1;b>=0;b-=1)g[b]=f.styleSheets[b],f.styleSheets[b].disabled=!0;const m={};d.forEach((b,C)=>{const E=window.getComputedStyle(b,null),_={};Object.keys(E).forEach(w=>{_[w]=E.getPropertyValue(w)}),m[C]=_}),p!==f.styleSheets.length&&g.forEach((b,C)=>{f.styleSheets[C]=b});for(let b=0;b<p;b+=1)f.styleSheets[b].disabled=!1;const y={};d.forEach((b,C)=>{const E=window.getComputedStyle(b,null),_=m[C],w={};Object.keys(E).forEach(M=>{!QTe(M)&&E.getPropertyValue(M)!==_[M]&&(w[M]=E.getPropertyValue(M))}),y[C]=w}),h.forEach((b,C)=>{Is(b).css(y[C])})}const c=n.stylesheet;if(typeof c=="string"){const f=r.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);i.prepend(Bn.create("style",{type:"text/css"},[f]))}const u=()=>{const f=n.beforeSerialize;if(typeof f=="function"){const h=$n(f,this.graph,o);h instanceof SVGSVGElement&&(o=h)}const d=new XMLSerializer().serializeToString(o).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",n),e(d)};if(n.serializeImages){const f=i.find("image").map(d=>new Promise(h=>{const p=d.attr("xlink:href")||d.attr("href");B6.imageToDataUri(p,(g,m)=>{!g&&m&&d.attr("xlink:href",m),h()})}));Promise.all(f).then(u)}else u()}toDataURL(e,n){let r=n.viewBox||this.graph.getContentBBox();const i=Ac(n.padding);n.width&&n.height&&(i.left+i.right>=n.width&&(i.left=i.right=0),i.top+i.bottom>=n.height&&(i.top=i.bottom=0));const o=new mn(-i.left,-i.top,i.left+i.right,i.top+i.bottom);if(n.width&&n.height){const u=r.width+i.left+i.right,f=r.height+i.top+i.bottom;o.scale(u/n.width,f/n.height)}r=mn.create(r).moveAndExpand(o);const s=typeof n.width=="number"&&typeof n.height=="number"?{width:n.width,height:n.height}:r;let a=n.ratio?parseFloat(n.ratio):1;(!Number.isFinite(a)||a===0)&&(a=1);const l={width:Math.max(Math.round(s.width*a),1),height:Math.max(Math.round(s.height*a),1)};{const u=document.createElement("canvas"),f=u.getContext("2d");u.width=l.width,u.height=l.height;const d=l.width-1,h=l.height-1;f.fillStyle="rgb(1,1,1)",f.fillRect(d,h,1,1);const p=f.getImageData(d,h,1,1).data;if(p[0]!==1||p[1]!==1||p[2]!==1)throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const u=document.createElement("canvas");u.width=l.width,u.height=l.height;const f=u.getContext("2d");f.fillStyle=n.backgroundColor||"white",f.fillRect(0,0,l.width,l.height);try{f.drawImage(c,0,0,l.width,l.height);const d=u.toDataURL(n.type,n.quality);e(d)}catch{}},this.toSVG(u=>{c.src=`data:image/svg+xml,${encodeURIComponent(u)}`},Object.assign(Object.assign({},n),{viewBox:r,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(e,n={}){this.toDataURL(e,Object.assign(Object.assign({},n),{type:"image/png"}))}toJPEG(e,n={}){this.toDataURL(e,Object.assign(Object.assign({},n),{type:"image/jpeg"}))}}class hke extends Mo{constructor(){super(...arguments),this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:e}){if(!this.isSelectionEnabled){const n=this.graph.hook.createKnob(e,{clearAll:!0});n&&this.widgets.set(e,n)}}onNodeSelected({node:e}){if(this.isSelectionEnabled){const n=this.graph.hook.createKnob(e,{clearAll:!1});n&&this.widgets.set(e,n)}}onNodeUnSelected({node:e}){if(this.isSelectionEnabled){const n=this.widgets.get(e);n&&n.forEach(r=>r.dispose()),this.widgets.delete(e)}}}var pke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Yre extends Mo{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const e=this.widgetOptions.eventTypes;!e||(e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),e.includes("mouseWheel")&&(this.mousewheelHandle=new Hne(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const e=this.widgetOptions.eventTypes;!e||(e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),e.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e}){(this.allowPanning(e,!0)||this.allowPanning(e)&&!this.graph.selection.allowRubberband(e,!0))&&this.startPanning(e)}allowPanning(e,n){return this.pannable&&Lv.isMatch(e,this.widgetOptions.modifiers,n)&&this.graph.hook.allowPanning(e)}startPanning(e){const n=this.view.normalizeEvent(e);this.clientX=n.clientX,this.clientY=n.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(e){const n=this.view.normalizeEvent(e),r=n.clientX-this.clientX,i=n.clientY-this.clientY;this.clientX=n.clientX,this.clientY=n.clientY;const o=this.graph.transform.getTranslation(),s=o.tx+r,a=o.ty+i;this.graph.transform.translate(s,a,{ui:!0})}stopPanning(e){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const e=this.view.container,n=this.view.prefixClassName("graph-panning"),r=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(eo(e,n),sf(e,r)):(sf(e,n),eo(e,r)):(sf(e,n),sf(e,r))}onRightMouseDown(e){e.button===2&&this.allowPanning(e,!0)&&this.startPanning(e)}allowMouseWheel(e){return this.pannable&&!e.ctrlKey}onMouseWheel(e,n,r){e.ctrlKey||this.graph.translateBy(-n,-r)}autoPanning(e,n){const i=this.graph.getGraphArea();let o=0,s=0;e<=i.left+10&&(o=-10),n<=i.top+10&&(s=-10),e>=i.right-10&&(o=10),n>=i.bottom-10&&(s=10),(o!==0||s!==0)&&this.graph.translateBy(-o,-s)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}pke([Mo.dispose()],Yre.prototype,"dispose",null);var gke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class qre extends Mo{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const e=this.options.autoResize;if(e){const n=typeof e=="boolean"?this.getContainer():e;IM.bind(n,()=>{const r=this.getContainer(),i=r.offsetWidth,o=r.offsetHeight;this.resize(i,o)})}}resize(e,n){this.hasScroller()?this.resizeScroller(e,n):this.resizeGraph(e,n)}resizeGraph(e,n){this.graph.transform.resize(e,n)}resizeScroller(e,n){this.graph.scroller.resize(e,n)}resizePage(e,n){const r=this.graph.scroller.widget;r&&r.updatePageSize(e,n)}dispose(){IM.clear(this.getContainer())}}gke([Mo.dispose()],qre.prototype,"dispose",null);var Ci=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},vke=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},li;(function(t){function e(r,i){return(o,s,a)=>{const l=a.value,c=i||s;a.value=function(...u){const f=this.options[c];if(f!=null){this.getNativeValue=l.bind(this,...u);const d=$n(f,this.graph,...u);if(this.getNativeValue=null,d!=null||r===!0&&d===null)return d}return l.call(this,...u)}}}t.hook=e;function n(r){return(i,o,s)=>{const a=s.value,l=r||o;s.value=function(...c){let u=a.call(this,...c);const f=this.options[l];return f!=null&&(u=$n(f,this.graph,...c)&&u),u}}}t.after=n})(li||(li={}));class ci extends Mo{createModel(){if(this.options.model)return this.options.model;const e=new pl;return e.graph=this.graph,e}createView(){return new sd(this.graph)}createRenderer(){return new qi(this.graph)}createDefsManager(){return new jre(this.graph)}createGridManager(){return new Q5(this.graph)}createCoordManager(){return new Vre(this.graph)}createKnobManager(){return new hke(this.graph)}createTransform(e,n){const r=this.getTransformOptions(e);return r.resizable||r.rotatable?new n9(Object.assign(Object.assign({node:e,graph:this.graph},r),n)):(r.clearAll&&n9.removeInstances(this.graph),null)}createKnob(e,n){const r=Kf.parseOptionGroup(this.graph,e,this.options.knob),i=Object.assign(Object.assign({},r),n);i.clearAll&&t9.removeInstances(this.graph),i.clearAll=!1;const o=e.prop("knob"),s=[];return(Array.isArray(o)?o:[o]).forEach((l,c)=>{if(l){if(l.enabled===!1||typeof l.enabled=="function"&&l.enabled.call(this.graph,e)===!1)return}else return;r.enabled&&s.push(new t9(Object.assign({node:e,index:c,graph:this.graph},i)))}),s}getTransformOptions(e){const n=Kf.parseOptionGroup(this.graph,e,this.options.resizing),r=Kf.parseOptionGroup(this.graph,e,this.options.rotating),i=Kf.parseOptionGroup(this.graph,e,this.options.transforming);return Object.assign(Object.assign({},i),{resizable:n.enabled,minWidth:n.minWidth,maxWidth:n.maxWidth,minHeight:n.minHeight,maxHeight:n.maxHeight,orthogonalResizing:n.orthogonal,restrictedResizing:n.restrict!=null?n.restrict:n.restricted,autoScrollOnResizing:n.autoScroll,preserveAspectRatio:n.preserveAspectRatio,allowReverse:n.allowReverse,rotatable:r.enabled,rotateGrid:r.grid})}createTransformManager(){return new WM(this.graph)}createHighlightManager(){return new HM(this.graph)}createBackgroundManager(){return new Vk(this.graph)}createClipboard(){return new mke}createClipboardManager(){return new t8(this.graph)}createSnapline(){return new Bre(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new J5(this.graph)}createSelection(){return new Z5(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new n8(this.graph)}allowRubberband(e){return!0}createHistoryManager(){return new k0(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new Y1(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new e8(this.graph)}allowPanning(e){return!0}createMiniMap(){const e=this.options.minimap,{enabled:n}=e,r=vke(e,["enabled"]);return n?new Gre(Object.assign({graph:this.graph},r)):null}createMiniMapManager(){return new r8(this.graph)}createKeyboard(){return new D0(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new i8(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new N0(this.graph)}createFormatManager(){return new Wre(this.graph)}createPanningManager(){return new Yre(this.graph)}createSizeManager(){return new qre(this.graph)}allowConnectToBlank(e){const n=this.options.connecting,r=n.allowBlank!=null?n.allowBlank:n.dangling;if(typeof r!="function")return!!r;const i=this.graph.findViewByCell(e),o=e.getSourceCell(),s=e.getTargetCell(),a=this.graph.findViewByCell(o),l=this.graph.findViewByCell(s);return $n(r,this.graph,{edge:e,edgeView:i,sourceCell:o,targetCell:s,sourceView:a,targetView:l,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:i.sourceMagnet,targetMagnet:i.targetMagnet})}validateEdge(e,n,r){if(!this.allowConnectToBlank(e)){const o=e.getSourceCellId(),s=e.getTargetCellId();if(!(o&&s))return!1}const i=this.options.connecting.validateEdge;return i?$n(i,this.graph,{edge:e,type:n,previous:r}):!0}validateMagnet(e,n,r){if(n.getAttribute("magnet")!=="passive"){const i=this.options.connecting.validateMagnet;return i?$n(i,this.graph,{e:r,magnet:n,view:e,cell:e.cell}):!0}return!1}getDefaultEdge(e,n){let r;const i=this.options.connecting.createEdge;return i&&(r=$n(i,this.graph,{sourceMagnet:n,sourceView:e,sourceCell:e.cell})),r==null&&(r=new oh),r}validateConnection(e,n,r,i,o,s,a){const l=this.options.connecting,c=l.allowLoop,u=l.allowNode,f=l.allowEdge,d=l.allowPort,h=l.allowMulti!=null?l.allowMulti:l.multi,p=l.validateConnection,g=s?s.cell:null,m=o==="target"?r:e,y=o==="target"?i:n;let b=!0;const C=E=>{const _=o==="source"?a?a.port:null:g?g.getSourcePortId():null,w=o==="target"?a?a.port:null:g?g.getTargetPortId():null;return $n(E,this.graph,{edge:g,edgeView:s,sourceView:e,targetView:r,sourcePort:_,targetPort:w,sourceMagnet:n,targetMagnet:i,sourceCell:e?e.cell:null,targetCell:r?r.cell:null,type:o})};if(c!=null&&(typeof c=="boolean"?!c&&e===r&&(b=!1):b=C(c)),b&&d!=null&&(typeof d=="boolean"?!d&&y&&(b=!1):b=C(d)),b&&f!=null&&(typeof f=="boolean"?!f&&Gp.isEdgeView(m)&&(b=!1):b=C(f)),b&&u!=null&&y==null&&(typeof u=="boolean"?!u&&la.isNodeView(m)&&(b=!1):b=C(u)),b&&h!=null&&s){const E=s.cell,_=o==="source"?a:E.getSource(),w=o==="target"?a:E.getTarget(),M=a?this.graph.getCellById(a.cell):null;if(_&&w&&_.cell&&w.cell&&M)if(typeof h=="function")b=C(h);else{const k=this.model.getConnectedEdges(M,{outgoing:o==="source",incoming:o==="target"});k.length&&(h==="withPort"?k.some(A=>{const N=A.getSource(),$=A.getTarget();return N&&$&&N.cell===_.cell&&$.cell===w.cell&&N.port!=null&&N.port===_.port&&$.port!=null&&$.port===w.port})&&(b=!1):h||k.some(A=>{const N=A.getSource(),$=A.getTarget();return N&&$&&N.cell===_.cell&&$.cell===w.cell})&&(b=!1))}}return b&&p!=null&&(b=C(p)),b}getRestrictArea(e){const n=this.options.translating.restrict,r=typeof n=="function"?$n(n,this.graph,e):n;return typeof r=="number"?this.graph.transform.getGraphArea().inflate(r):r===!0?this.graph.transform.getGraphArea():r||null}onViewUpdated(e,n,r){n&qi.FLAG_INSERT||r.mounting||this.graph.renderer.requestConnectedEdgesUpdate(e,r)}onViewPostponed(e,n,r){return this.graph.renderer.forcePostponedViewUpdate(e,n)}getCellView(e){return null}createCellView(e){const n={graph:this.graph},r=this.getCellView(e);if(r)return new r(e,n);const i=e.view;if(i!=null&&typeof i=="string"){const o=hs.registry.get(i);return o?new o(e,n):hs.registry.onNotFound(i)}return e.isNode()?new la(e,n):e.isEdge()?new Gp(e,n):null}getHTMLComponent(e){let n=e.getHTML();return typeof n=="string"&&(n=gh.componentRegistry.get(n)||n),gu(n)&&(n=n.render),typeof n=="function"?$n(n,this.graph,e):n}shouldUpdateHTMLComponent(e){let n=e.getHTML();if(typeof n=="string"&&(n=gh.componentRegistry.get(n)||n),gu(n)){const r=n.shouldComponentUpdate;return typeof r=="function"?$n(r,this.graph,e):!!r}return!1}onEdgeLabelRendered(e){}onPortRendered(e){}onToolItemCreated(e){}}Ci([li.hook()],ci.prototype,"createModel",null);Ci([li.hook()],ci.prototype,"createView",null);Ci([li.hook()],ci.prototype,"createRenderer",null);Ci([li.hook()],ci.prototype,"createDefsManager",null);Ci([li.hook()],ci.prototype,"createGridManager",null);Ci([li.hook()],ci.prototype,"createCoordManager",null);Ci([li.hook()],ci.prototype,"createKnobManager",null);Ci([li.hook()],ci.prototype,"createTransform",null);Ci([li.hook()],ci.prototype,"createKnob",null);Ci([li.hook()],ci.prototype,"createTransformManager",null);Ci([li.hook()],ci.prototype,"createHighlightManager",null);Ci([li.hook()],ci.prototype,"createBackgroundManager",null);Ci([li.hook()],ci.prototype,"createClipboard",null);Ci([li.hook()],ci.prototype,"createClipboardManager",null);Ci([li.hook()],ci.prototype,"createSnapline",null);Ci([li.hook()],ci.prototype,"createSnaplineManager",null);Ci([li.hook()],ci.prototype,"createSelection",null);Ci([li.hook()],ci.prototype,"createSelectionManager",null);Ci([li.hook()],ci.prototype,"allowRubberband",null);Ci([li.hook()],ci.prototype,"createHistoryManager",null);Ci([li.hook()],ci.prototype,"createScroller",null);Ci([li.hook()],ci.prototype,"createScrollerManager",null);Ci([li.hook()],ci.prototype,"allowPanning",null);Ci([li.hook()],ci.prototype,"createMiniMap",null);Ci([li.hook()],ci.prototype,"createMiniMapManager",null);Ci([li.hook()],ci.prototype,"createKeyboard",null);Ci([li.hook()],ci.prototype,"createMouseWheel",null);Ci([li.hook()],ci.prototype,"createPrintManager",null);Ci([li.hook()],ci.prototype,"createFormatManager",null);Ci([li.hook()],ci.prototype,"createPanningManager",null);Ci([li.hook()],ci.prototype,"createSizeManager",null);Ci([li.after()],ci.prototype,"onViewUpdated",null);Ci([li.after()],ci.prototype,"onViewPostponed",null);Ci([li.hook()],ci.prototype,"getCellView",null);Ci([li.hook(!0)],ci.prototype,"createCellView",null);Ci([li.hook()],ci.prototype,"getHTMLComponent",null);Ci([li.hook()],ci.prototype,"shouldUpdateHTMLComponent",null);Ci([li.hook()],ci.prototype,"onEdgeLabelRendered",null);Ci([li.hook()],ci.prototype,"onPortRendered",null);Ci([li.hook()],ci.prototype,"onToolItemCreated",null);var dd=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class gi extends yl{constructor(e){super(),this.options=Kf.get(e),this.css=new $v(this),this.hook=new ci(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return gi.toStringTag}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,n={}){return this.model.resetCells(e,n),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,n={}){return this.model.fromJSON(e,n),this}getCellById(e){return this.model.getCell(e)}addNode(e,n={}){return this.model.addNode(e,n)}addNodes(e,n={}){return this.addCell(e.map(r=>fo.isNode(r)?r:this.createNode(r)),n)}createNode(e){return this.model.createNode(e)}removeNode(e,n={}){return this.model.removeCell(e,n)}addEdge(e,n={}){return this.model.addEdge(e,n)}addEdges(e,n={}){return this.addCell(e.map(r=>Yo.isEdge(r)?r:this.createEdge(r)),n)}removeEdge(e,n={}){return this.model.removeCell(e,n)}createEdge(e){return this.model.createEdge(e)}addCell(e,n={}){return this.model.addCell(e,n),this}removeCell(e,n={}){return this.model.removeCell(e,n)}removeCells(e,n={}){return this.model.removeCells(e,n)}removeConnectedEdges(e,n={}){return this.model.removeConnectedEdges(e,n)}disconnectConnectedEdges(e,n={}){return this.model.disconnectConnectedEdges(e,n),this}hasCell(e){return this.model.has(e)}getCell(e){return this.model.getCell(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,n={}){return this.model.getConnectedEdges(e,n)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,n={}){return this.model.getNeighbors(e,n)}isNeighbor(e,n,r={}){return this.model.isNeighbor(e,n,r)}getSuccessors(e,n={}){return this.model.getSuccessors(e,n)}isSuccessor(e,n,r={}){return this.model.isSuccessor(e,n,r)}getPredecessors(e,n={}){return this.model.getPredecessors(e,n)}isPredecessor(e,n,r={}){return this.model.isPredecessor(e,n,r)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,n={}){return this.model.getSubGraph(e,n)}cloneSubGraph(e,n={}){return this.model.cloneSubGraph(e,n)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,n){return this.model.getNodesFromPoint(e,n)}getNodesInArea(e,n,r,i,o){return this.model.getNodesInArea(e,n,r,i,o)}getNodesUnderNode(e,n={}){return this.model.getNodesUnderNode(e,n)}searchCell(e,n,r={}){return this.model.search(e,n,r),this}getShortestPath(e,n,r={}){return this.model.getShortestPath(e,n,r)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,n={}){return this.model.getCellsBBox(e,n)}startBatch(e,n={}){this.model.startBatch(e,n)}stopBatch(e,n={}){this.model.stopBatch(e,n)}batchUpdate(e,n,r){const i=typeof e=="string"?e:"update",o=typeof e=="string"?n:e,s=typeof n=="function"?r:n;this.startBatch(i,s);const a=o();return this.stopBatch(i,s),a}updateCellId(e,n){return this.model.updateCellId(e,n)}isFrozen(){return this.renderer.isFrozen()}freeze(e={}){return this.renderer.freeze(e),this}unfreeze(e={}){return this.renderer.unfreeze(e),this}isAsync(){return this.renderer.isAsync()}setAsync(e){return this.renderer.setAsync(e),this}findView(e){return xi.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return mn.isRectangleLike(e)?this.findViewsInArea(e):Ce.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,n){const r=typeof e=="number"?{x:e,y:n}:e;return this.renderer.findViewsFromPoint(r)}findViewsInArea(e,n,r,i,o){const s=typeof e=="number"?{x:e,y:n,width:r,height:i}:e,a=typeof e=="number"?o:n;return this.renderer.findViewsInArea(s,a)}isViewMounted(e){return this.renderer.isViewMounted(e)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,n){return this.size.resize(e,n),this}resizeGraph(e,n){return this.size.resizeGraph(e,n),this}resizeScroller(e,n){return this.size.resizeScroller(e,n),this}resizePage(e,n){return this.size.resizePage(e,n),this}scale(e,n=e,r=0,i=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,n,r,i),this)}zoom(e,n){const r=this.scroller.widget;if(r){if(typeof e>"u")return r.zoom();r.zoom(e,n)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,n)}return this}zoomTo(e,n={}){const r=this.scroller.widget;return r?r.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})),this}zoomToRect(e,n={}){const r=this.scroller.widget;return r?r.zoomToRect(e,n):this.transform.zoomToRect(e,n),this}zoomToFit(e={}){const n=this.scroller.widget;return n?n.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,n,r){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,n,r),this)}translate(e,n){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,n),this)}translateBy(e,n){const r=this.translate(),i=r.tx+e,o=r.ty+n;return this.translate(i,o)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,n,r,i){return this.transform.fitToContent(e,n,r,i)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,n,r){const i=this.scroller.widget;return i?i.centerPoint(e,n,r):this.transform.centerPoint(e,n),this}centerContent(e){const n=this.scroller.widget;return n?n.centerContent(e):this.transform.centerContent(e),this}centerCell(e,n){const r=this.scroller.widget;return r?r.centerCell(e,n):this.transform.centerCell(e),this}positionPoint(e,n,r,i={}){const o=this.scroller.widget;return o?o.positionPoint(e,n,r,i):this.transform.positionPoint(e,n,r),this}positionRect(e,n,r){const i=this.scroller.widget;return i?i.positionRect(e,n,r):this.transform.positionRect(e,n),this}positionCell(e,n,r){const i=this.scroller.widget;return i?i.positionCell(e,n,r):this.transform.positionCell(e,n),this}positionContent(e,n){const r=this.scroller.widget;return r?r.positionContent(e,n):this.transform.positionContent(e,n),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(e,n){return this.coord.snapToGrid(e,n)}pageToLocal(e,n,r,i){return mn.isRectangleLike(e)?this.coord.pageToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.pageToLocalRect(e,n,r,i):this.coord.pageToLocalPoint(e,n)}localToPage(e,n,r,i){return mn.isRectangleLike(e)?this.coord.localToPageRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.localToPageRect(e,n,r,i):this.coord.localToPagePoint(e,n)}clientToLocal(e,n,r,i){return mn.isRectangleLike(e)?this.coord.clientToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.clientToLocalRect(e,n,r,i):this.coord.clientToLocalPoint(e,n)}localToClient(e,n,r,i){return mn.isRectangleLike(e)?this.coord.localToClientRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.localToClientRect(e,n,r,i):this.coord.localToClientPoint(e,n)}localToGraph(e,n,r,i){return mn.isRectangleLike(e)?this.coord.localToGraphRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.localToGraphRect(e,n,r,i):this.coord.localToGraphPoint(e,n)}graphToLocal(e,n,r,i){return mn.isRectangleLike(e)?this.coord.graphToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.graphToLocalRect(e,n,r,i):this.coord.graphToLocalPoint(e,n)}clientToGraph(e,n,r,i){return mn.isRectangleLike(e)?this.coord.clientToGraphRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.clientToGraphRect(e,n,r,i):this.coord.clientToGraphPoint(e,n)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,n){const r=this.scroller.widget;return r!=null&&(this.options.background==null||!n)?r.backgroundManager.draw(e):this.background.draw(e),this}clearBackground(e){const n=this.scroller.widget;return n!=null&&(this.options.background==null||!e)?n.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(e){return e!=null?e!==this.isClipboardEnabled()&&(e?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(e,n={}){return this.clipboard.copy(e,n),this}cut(e,n={}){return this.clipboard.cut(e,n),this}paste(e={},n=this){return this.clipboard.paste(e,n)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(e){return e!=null?e!==this.isHistoryEnabled()&&(e?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(e={}){return this.history.undo(e),this}undoAndCancel(e={}){return this.history.cancel(e),this}redo(e={}){return this.history.redo(e),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(e={}){this.history.clean(e)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(e){return e!=null?e!==this.isKeyboardEnabled()&&(e?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(e,n,r){return this.keyboard.on(e,n,r),this}unbindKey(e,n){return this.keyboard.off(e,n),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return e==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return e==null?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}lockScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.lock()}unlockScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.unlock()}updateScroller(){var e;(e=this.scroller.widget)===null||e===void 0||e.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(e,n,r){return this.scroller.widget.scrollbarPosition(e,n,r),this}scrollToPoint(e,n,r){return this.scroller.widget.scrollToPoint(e,n,r),this}scrollToContent(e){return this.scroller.widget.scrollToContent(e),this}scrollToCell(e,n){return this.scroller.widget.scrollToCell(e,n),this}transitionToPoint(e,n,r){return this.scroller.widget.transitionToPoint(e,n,r),this}transitionToRect(e,n={}){return this.scroller.widget.transitionToRect(e,n),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(e){return e!=null?e!==this.isSelectionEnabled()&&(e?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(e){return e!=null?e!==this.isMultipleSelection()&&(e?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(e){return e!=null?e!==this.isSelectionMovable()&&(e?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(e){return e!=null?e!==this.isRubberbandEnabled()&&(e?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(e){return e!=null?e!==this.isStrictRubberband()&&(e?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(e){this.selection.setModifiers(e)}setSelectionFilter(e){return this.selection.setFilter(e),this}setSelectionDisplayContent(e){return this.selection.setContent(e),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(e){return this.selection.clean(e),this}resetSelection(e,n){return this.selection.reset(e,n),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(e){return this.selection.isSelected(e)}select(e,n){return this.selection.select(e,n),this}unselect(e,n){return this.selection.unselect(e,n),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(e){if(e!=null)e!==this.isSnaplineEnabled()&&(e?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(e){return this.snapline.widget.setFilter(e),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(e){return e!=null?e!==this.isSnaplineOnResizingEnabled()&&(e?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(e){return e!=null?e!==this.isSharpSnapline()&&(e?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(e){return this.snapline.widget.options.tolerance=e,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(e,n={}){this.format.toSVG(e,n)}toDataURL(e,n){this.format.toDataURL(e,n)}toPNG(e,n={}){this.format.toPNG(e,n)}toJPEG(e,n={}){this.format.toJPEG(e,n)}printPreview(e){this.print.show(e)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}dd([hf.checkScroller()],gi.prototype,"lockScroller",null);dd([hf.checkScroller()],gi.prototype,"unlockScroller",null);dd([hf.checkScroller()],gi.prototype,"updateScroller",null);dd([hf.checkScroller()],gi.prototype,"getScrollbarPosition",null);dd([hf.checkScroller()],gi.prototype,"setScrollbarPosition",null);dd([hf.checkScroller()],gi.prototype,"scrollToPoint",null);dd([hf.checkScroller()],gi.prototype,"scrollToContent",null);dd([hf.checkScroller()],gi.prototype,"scrollToCell",null);dd([hf.checkScroller()],gi.prototype,"transitionToPoint",null);dd([hf.checkScroller()],gi.prototype,"transitionToRect",null);dd([yl.dispose()],gi.prototype,"dispose",null);(function(t){t.View=sd,t.Hook=ci,t.Renderer=qi,t.Keyboard=D0,t.MouseWheel=i8,t.BaseManager=Mo,t.DefsManager=jre,t.GridManager=Q5,t.CoordManager=Vre,t.PrintManager=N0,t.FormatManager=Wre,t.MiniMapManager=r8,t.HistoryManager=k0,t.SnaplineManager=J5,t.ScrollerManager=e8,t.ClipboardManager=t8,t.TransformManager=WM,t.HighlightManager=HM,t.BackgroundManager=Vk,t.SelectionManager=n8})(gi||(gi={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&i.hook!=null&&i.view!=null&&i.model!=null}t.isGraph=e})(gi||(gi={}));(function(t){function e(n,r){const i=n instanceof HTMLElement?new t({container:n}):new t(n);return r!=null&&i.fromJSON(r),i}t.render=e})(gi||(gi={}));(function(t){t.registerNode=fo.registry.register,t.registerEdge=Yo.registry.register,t.registerView=hs.registry.register,t.registerAttr=hh.registry.register,t.registerGrid=sv.registry.register,t.registerFilter=$1.registry.register,t.registerNodeTool=G1.registry.register,t.registerEdgeTool=B1.registry.register,t.registerBackground=KC.registry.register,t.registerHighlighter=kp.registry.register,t.registerPortLayout=m0.registry.register,t.registerPortLabelLayout=L1.registry.register,t.registerMarker=Rv.registry.register,t.registerRouter=av.registry.register,t.registerConnector=ih.registry.register,t.registerAnchor=j1.registry.register,t.registerEdgeAnchor=V1.registry.register,t.registerConnectionPoint=U1.registry.register,t.registerConnectionStrategy=F1.registry.register,t.registerHTMLComponent=gh.componentRegistry.register})(gi||(gi={}));(function(t){t.unregisterNode=fo.registry.unregister,t.unregisterEdge=Yo.registry.unregister,t.unregisterView=hs.registry.unregister,t.unregisterAttr=hh.registry.unregister,t.unregisterGrid=sv.registry.unregister,t.unregisterFilter=$1.registry.unregister,t.unregisterNodeTool=G1.registry.unregister,t.unregisterEdgeTool=B1.registry.unregister,t.unregisterBackground=KC.registry.unregister,t.unregisterHighlighter=kp.registry.unregister,t.unregisterPortLayout=m0.registry.unregister,t.unregisterPortLabelLayout=L1.registry.unregister,t.unregisterMarker=Rv.registry.unregister,t.unregisterRouter=av.registry.unregister,t.unregisterConnector=ih.registry.unregister,t.unregisterAnchor=j1.registry.unregister,t.unregisterEdgeAnchor=V1.registry.unregister,t.unregisterConnectionPoint=U1.registry.unregister,t.unregisterConnectionStrategy=F1.registry.unregister,t.unregisterHTMLComponent=gh.componentRegistry.unregister})(gi||(gi={}));class mke{constructor(){this.cells=[]}copy(e,n,r={}){this.options=Object.assign({},r);const o=(pl.isModel(n)?n:n.model).cloneSubGraph(e,r);this.cells=R5(Object.keys(o).map(s=>o[s]),s=>s.isEdge()?2:1),this.serialize(r)}cut(e,n,r={}){this.copy(e,n,r),(gi.isGraph(n)?n.model:n).batchUpdate("cut",()=>{e.forEach(o=>o.remove())})}paste(e,n={}){const r=Object.assign(Object.assign({},this.options),n),{offset:i,edgeProps:o,nodeProps:s}=r;let a=20,l=20;i&&(a=typeof i=="number"?i:i.dx,l=typeof i=="number"?i:i.dy),this.deserialize(r);const c=this.cells;c.forEach(f=>{f.model=null,f.removeProp("zIndex"),(a||l)&&f.translate(a,l),s&&f.isNode()&&f.prop(s),o&&f.isEdge()&&f.prop(o)});const u=gi.isGraph(e)?e.model:e;return u.batchUpdate("paste",()=>{u.addCells(this.cells)}),this.copy(c,e,n),c}serialize(e){e.useLocalStorage!==!1&&Jw.save(this.cells)}deserialize(e){if(e.useLocalStorage){const n=Jw.fetch();n&&(this.cells=n)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],Jw.clean()}}var Jw;(function(t){const e=`${ph.prefixCls}.clipboard.cells`;function n(o){if(window.localStorage){const s=o.map(a=>a.toJSON());localStorage.setItem(e,JSON.stringify(s))}}t.save=n;function r(){if(window.localStorage){const o=localStorage.getItem(e),s=o?JSON.parse(o):[];if(s)return pl.fromJSON(s)}}t.fetch=r;function i(){window.localStorage&&localStorage.removeItem(e)}t.clean=i})(Jw||(Jw={}));class yke{constructor(e){this.halo=e}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(e){return this.options.useCellGeometry?e.cell.getBBox():e.getBBox()},content(e){const n=Yb("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),r=e.cell,i=r.getBBox();return n({x:Math.floor(i.x),y:Math.floor(i.y),width:Math.floor(i.width),height:Math.floor(i.height),angle:Math.floor(r.getAngle())})},magnet(e){return e.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:e,y:n}){this.halo.startBatch();const r=this.graph,i=this.createEdgeConnectedToSource();i.setTarget({x:e,y:n}),this.model.addEdge(i,{validation:!1,halo:this.halo.cid,async:!1}),r.view.undelegateEvents(),this.edgeView=r.renderer.findViewByCell(i),this.edgeView.prepareArrowheadDragging("target",{x:e,y:n,fallbackAction:"remove"})}createEdgeConnectedToSource(){const e=this.getMagnet(this.view,"source"),n=this.getEdgeTerminal(this.view,e),r=this.graph.hook.getDefaultEdge(this.view,e);return r.setSource(n),r}getMagnet(e,n){const r=this.options.magnet;if(typeof r=="function"){const i=$n(r,this.halo,e,n);if(i instanceof SVGElement)return i}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(e,n){const r={cell:e.cell.id};if(n!==e.container){const i=n.getAttribute("port");i?r.port=i:r.selector=e.getSelector(n)}return r}doLink({e,x:n,y:r}){this.edgeView&&this.edgeView.onMouseMove(e,n,r)}stopLink({e,x:n,y:r}){const i=this.edgeView;if(i){i.onMouseUp(e,n,r);const o=i.cell;o.hasLoop()&&this.makeLoopEdge(o),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:o}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(e){let n=null,r=null;const i=this.options.loopEdgeWidth,o=this.graph.options,s=new mn(0,0,o.width,o.height),a=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(c=>{let u=null,f=0,d=0;switch(c){case"top":u=new Ce(a.x+a.width/2,a.y-i),f=i/2;break;case"bottom":u=new Ce(a.x+a.width/2,a.y+a.height+i),f=i/2;break;case"left":u=new Ce(a.x-i,a.y+a.height/2),d=i/2;break;case"right":u=new Ce(a.x+a.width+i,a.y+a.height/2),d=i/2;break}return u?(n=u.translate(-f,-d),r=u.translate(f,d),s.containsPoint(n)&&s.containsPoint(r)):!1})&&n&&r&&e.setVertices([n,r])}startResize({e}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(pi.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),ya("node:resize",e,this.view)}doResize({e,dx:n,dy:r}){const i=this.node.getSize(),o=Math.max(i.width+(this.flip?n:r),1),s=Math.max(i.height+(this.flip?r:n),1);this.node.resize(o,s,{absolute:!0}),ya("node:resizing",e,this.view)}stopResize({e}){this.view.removeClass("node-resizing"),ya("node:resized",e,this.view),this.halo.stopBatch()}startClone({e,x:n,y:r}){this.halo.startBatch();const o=this.options.clone(this.cell,{clone:!0});if(!xi.isCell(o))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(o,n,r),this.model.addCell(o,{halo:this.halo.cid,async:!1});const s=this.graph.renderer.findViewByCell(o);s.onMouseDown(e,n,r),this.halo.setEventData(e,{cloneView:s})}centerNodeAtCursor(e,n,r){const i=e.getBBox().getCenter(),o=n-i.x,s=r-i.y;e.translate(o,s)}doClone({e,x:n,y:r}){const i=this.halo.getEventData(e).cloneView;i&&i.onMouseMove(e,n,r)}stopClone({e,x:n,y:r}){const i=this.halo.getEventData(e).cloneView;i&&i.onMouseUp(e,n,r),this.halo.stopBatch()}startFork({e,x:n,y:r}){this.halo.startBatch();const i=this.options.clone(this.cell,{fork:!0});if(!xi.isCell(i))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(i,n,r),this.model.addCell(i,{halo:this.halo.cid,async:!1});const o=this.createEdgeConnectedToSource(),s=this.graph.renderer.findViewByCell(i),a=this.getMagnet(s,"target"),l=this.getEdgeTerminal(s,a);o.setTarget(l),this.model.addEdge(o,{halo:this.halo.cid,async:!1}),s.onMouseDown(e,n,r),this.halo.setEventData(e,{cloneView:s})}doFork({e,x:n,y:r}){const i=this.halo.getEventData(e).cloneView;i&&i.onMouseMove(e,n,r)}stopFork({e,x:n,y:r}){const i=this.halo.getEventData(e).cloneView;i&&i.onMouseUp(e,n,r),this.halo.stopBatch()}startRotate({e,x:n,y:r}){this.halo.startBatch();const i=this.node.getBBox().getCenter(),o=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((s,a)=>(a.isNode()&&s.push(a),s),o),this.halo.setEventData(e,{center:i,nodes:o,rotateStartAngles:o.map(s=>s.getAngle()),clientStartAngle:new Ce(n,r).theta(i)}),o.forEach(s=>{const a=this.graph.findViewByCell(s);a&&(a.addClass("node-rotating"),ya("node:rotate",e,a))})}doRotate({e,x:n,y:r}){const i=this.halo.getEventData(e),o=i.clientStartAngle-new Ce(n,r).theta(i.center);i.nodes.forEach((s,a)=>{const l=i.rotateStartAngles[a],c=Js.snapToGrid(l+o,this.options.rotateGrid);s.rotate(c,{absolute:!0,center:i.center,halo:this.halo.cid}),ya("node:rotating",e,this.graph.findViewByCell(s))})}stopRotate({e}){this.halo.getEventData(e).nodes.forEach(r=>{const i=this.graph.findViewByCell(r);i.removeClass("node-rotating"),ya("node:rotated",e,i)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class bke{constructor(e){this.halo=e}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(e){return e.graph.localToGraph(e.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const e=this.edge.getSource(),n=this.edge.getTarget();this.edge.prop({source:n,target:e})}}class rS extends _E{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(e){this.options=Io(rS.defaultOptions,this.cell.isNode()?new yke(this).getPresets():this.cell.isEdge()?new bke(this).getPresets():null,e),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const e=this.model,n=this.graph;this.view.cell.on("removed",this.remove,this),e.on("reseted",this.remove,this),n.on("halo:destroy",this.remove,this),e.on("*",this.update,this),n.on("scale",this.update,this),n.on("translate",this.update,this),super.startListening()}stopListening(){const e=this.model,n=this.graph,r=this.view.cell;this.undelegateEvents(),r.off("removed",this.remove,this),e.off("reseted",this.remove,this),n.off("halo:destroy",this.remove,this),e.off("*",this.update,this),n.off("scale",this.update,this),n.off("translate",this.update,this),super.stopListening()}render(){const e=this.options,n=this.prefixClassName("widget-halo");return this.view.addClass(YM.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(n).attr("data-shape",this.view.cell.shape),e.className&&this.$container.addClass(e.className),this.$handleContainer=this.$("<div/>").addClass(`${n}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${n}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(YM.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const e=this.getBBox(),n=this.options.tinyThreshold||0,r=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,e.width<n&&e.height<n);const i=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(i,!this.$handleContainer.hasClass(i)&&e.width<r&&e.height<r),this.$container.css({width:e.width,height:e.height,left:e.x,top:e.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const e=this.options.content;if(typeof e=="function"){const n=$n(e,this,this.view,this.$content[0]);n&&this.$content.html(n)}else e?this.$content.html(e):this.$content.remove()}getBBox(){const e=this.view,n=this.options.bbox,r=typeof n=="function"?$n(n,this,e):n;return mn.create(Object.assign({x:0,y:0,width:1,height:1},r))}removeCell(){this.cell.remove()}toggleFork(){const e=this.view.cell.clone(),n=this.graph.hook.createCellView(e),r=this.graph.hook.validateConnection(this.view,null,n,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!r),n.remove()}toggleUnlink(){const e=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!e)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(t){t.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:e=>e.clone().removeZIndex()}})(rS||(rS={}));Object.getOwnPropertyNames(A0.prototype).forEach(t=>{t!=="constructor"&&Object.defineProperty(rS.prototype,t,Object.getOwnPropertyDescriptor(A0.prototype,t))});var YM;(function(t){t.NODE_CLS="has-widget-halo"})(YM||(YM={}));var xke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Bp extends wi{constructor(e){super(),this.options=Object.assign(Object.assign({},Bp.defaults),e),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new gi(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const e=this.options.target;return gi.isGraph(e)?e.scroller.widget:e}get targetGraph(){const e=this.options.target;return gi.isGraph(e)?e:e.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(e,n){const r=n;r.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=e,this.prepareDragging(e,r.clientX,r.clientY);const i=this.updateNodePosition(r.clientX,r.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:r,node:e,cell:e,view:this.draggingView,x:i.x,y:i.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(Bp.documentEvents,r.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(e,n,r){const i=this.draggingGraph,o=i.model,s=this.options.getDragNode(e,{sourceNode:e,draggingGraph:i,targetGraph:this.targetGraph});s.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const u=this.targetGraph.transform.getScale();i.scale(u.sx,u.sy),a*=Math.max(u.sx,u.sy)}else i.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),o.resetCells([s]);const l=i.findViewByCell(s);l.undelegateEvents(),l.cell.off("changed"),i.fitToContent({padding:a,allowNewOrigin:"any"});const c=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=s,this.draggingView=l,this.draggingBBox=s.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(n,r)}updateGraphPosition(e,n){const r=document.body.scrollTop||document.documentElement.scrollTop,i=this.delta,o=this.geometryBBox,s=this.padding||5,a={left:e-i.x-o.width/2-s,top:n-i.y-o.height/2-s+r};return this.draggingGraph&&this.$container.offset(a),a}updateNodePosition(e,n){const r=this.targetGraph.clientToLocal(e,n),i=this.draggingBBox;return r.x-=i.width/2,r.y-=i.height/2,this.draggingNode.position(r.x,r.y),r}snap({cell:e,current:n,options:r}){const i=e;if(r.snapped){const o=this.draggingBBox;i.position(o.x+r.tx,o.y+r.ty,{silent:!0}),this.draggingView.translate(),i.position(n.x,n.y,{silent:!0}),this.snapOffset={x:r.tx,y:r.ty}}else this.snapOffset=null}onDragging(e){const n=this.draggingView;if(n){e.preventDefault();const r=this.normalizeEvent(e),i=r.clientX,o=r.clientY;this.updateGraphPosition(i,o);const s=this.updateNodePosition(i,o),a=this.targetGraph.options.embedding.enabled,l=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:i,y:o});if(a){n.setEventData(r,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const c=n.getEventData(r);l?n.processEmbedding(r,c):n.clearEmbedding(c),this.candidateEmbedView=c.candidateEmbedView}this.isSnaplineEnabled()&&(l?this.snapline.snapOnMoving({e:r,view:n,x:s.x,y:s.y}):this.snapline.hide())}}onDragEnd(e){const n=this.draggingNode;if(n){const r=this.normalizeEvent(e),i=this.draggingView,o=this.draggingBBox,s=this.snapOffset;let a=o.x,l=o.y;s&&(a+=s.x,l+=s.y),n.position(a,l,{silent:!0});const c=this.drop(n,{x:r.clientX,y:r.clientY}),u=f=>{f?(this.onDropped(n),this.targetGraph.options.embedding.enabled&&i&&(i.setEventData(r,{cell:f,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),i.finalizeEmbedding(r,i.getEventData(r)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};L6(c)?(this.undelegateDocumentEvents(),c.then(u)):u(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(e){this.draggingNode===e&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const e=this.draggingNode;if(e){const n=this.options.animation;if(n){const r=typeof n=="object"&&n.duration||150,i=typeof n=="object"&&n.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,r,i,()=>this.onDropped(e))}else this.onDropped(e)}}isInsideValidArea(e){let n;const r=this.targetGraph,i=this.targetScroller;if(i)if(i.options.autoResize)n=this.getDropArea(i.container);else{const o=this.getDropArea(i.container);n=this.getDropArea(r.container).intersectsWithRect(o)}else n=this.getDropArea(r.container);return n&&n.containsPoint(e)}getDropArea(e){const n=this.$(e),r=n.offset(),i=document.body.scrollTop||document.documentElement.scrollTop,o=document.body.scrollLeft||document.documentElement.scrollLeft;return mn.create({x:r.left+parseInt(n.css("border-left-width"),10)-o,y:r.top+parseInt(n.css("border-top-width"),10)-i,width:n.innerWidth(),height:n.innerHeight()})}drop(e,n){if(this.isInsideValidArea(n)){const r=this.targetGraph,i=r.model,o=r.clientToLocal(n),s=this.sourceNode,a=this.options.getDropNode(e,{sourceNode:s,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=a.getBBox();o.x+=l.x-l.width/2,o.y+=l.y-l.height/2;const c=this.snapOffset?1:r.getGridSize();a.position(Js.snapToGrid(o.x,c),Js.snapToGrid(o.y,c)),a.removeZIndex();const u=this.options.validateNode,f=u?u(a,{sourceNode:s,draggingNode:e,droppingNode:a,targetGraph:r,draggingGraph:this.draggingGraph}):!0;return typeof f=="boolean"?f?(i.addCell(a,{stencil:this.cid}),a):null:aPe(f).then(d=>d?(i.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}xke([wi.dispose()],Bp.prototype,"dispose",null);(function(t){t.defaults={animation:!1,getDragNode:e=>e.clone(),getDropNode:e=>e.clone()},t.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(Bp||(Bp={}));function wke(t,e={}){const n=pl.isModel(t)?t:new pl().resetCells(t,{sort:!1,dryrun:!0}),r=n.getNodes(),i=e.columns||1,o=Math.ceil(r.length/i),s=e.dx||0,a=e.dy||0,l=e.center!==!1,c=e.resizeToFit===!0,u=e.marginX||0,f=e.marginY||0,d=[];let h=e.columnWidth;if(h==="compact")for(let b=0;b<i;b+=1){const C=Wd.getNodesInColumn(r,b,i);d.push(Wd.getMaxDim(C,"width")+s)}else{(h==null||h==="auto")&&(h=Wd.getMaxDim(r,"width")+s);for(let b=0;b<i;b+=1)d.push(h)}const p=Wd.accumulate(d,u),g=[];let m=e.rowHeight;if(m==="compact")for(let b=0;b<o;b+=1){const C=Wd.getNodesInRow(r,b,i);g.push(Wd.getMaxDim(C,"height")+a)}else{(m==null||m==="auto")&&(m=Wd.getMaxDim(r,"height")+a);for(let b=0;b<o;b+=1)g.push(m)}const y=Wd.accumulate(g,f);n.startBatch("layout"),r.forEach((b,C)=>{const E=C%i,_=Math.floor(C/i),w=d[E],M=g[_];let k=0,I=0,A=b.getSize();if(c){let N=w-2*s,$=M-2*a;const L=A.height*(A.width?N/A.width:1),B=A.width*(A.height?$/A.height:1);M<L?N=B:$=L,A={width:N,height:$},b.setSize(A,e)}l&&(k=(w-A.width)/2,I=(M-A.height)/2),b.position(p[E]+s+k,y[_]+a+I,e)}),n.stopBatch("layout")}var Wd;(function(t){function e(o,s){return o.reduce((a,l)=>Math.max(l.getSize()[s],a),0)}t.getMaxDim=e;function n(o,s,a){const l=[];for(let c=a*s,u=c+a;c<u;c+=1)l.push(o[c]);return l}t.getNodesInRow=n;function r(o,s,a){const l=[];for(let c=s,u=o.length;c<u;c+=a)l.push(o[c]);return l}t.getNodesInColumn=r;function i(o,s){return o.reduce((a,l,c)=>(a.push(a[c]+l),a),[s||0])}t.accumulate=i})(Wd||(Wd={}));class qM extends wi{constructor(e){super(),this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},qM.defaultOptions),e),this.dnd=new Bp(this.options),this.onSearch=cne(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(bc.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=e.collapsable&&e.groups&&e.groups.some(r=>r.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),e.groups&&e.groups.every(i=>i.collapsed||i.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(bc.title)).html(this.options.title).appendTo(this.$container),e.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(bc.content)).appendTo(this.$container);const n=e.stencilGraphOptions||{};if(e.groups&&e.groups.length)e.groups.forEach(r=>{const i=this.$("<div/>").addClass(this.prefixClassName(bc.group)).attr("data-name",r.name);(r.collapsable==null&&e.collapsable||r.collapsable!==!1)&&i.addClass("collapsable"),i.toggleClass("collapsed",r.collapsed===!0);const o=this.$("<h3/>").addClass(this.prefixClassName(bc.groupTitle)).html(r.title||r.name),s=this.$("<div/>").addClass(this.prefixClassName(bc.groupContent)),a=r.graphOptions,l=new gi(Object.assign(Object.assign(Object.assign({},n),a),{container:document.createElement("div"),model:n.model||new pl,width:r.graphWidth||e.stencilGraphWidth,height:r.graphHeight||e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));s.append(l.container),i.append(o,s).appendTo(this.$content),this.$groups[r.name]=i,this.graphs[r.name]=l});else{const r=new gi(Object.assign(Object.assign({},n),{container:document.createElement("div"),model:n.model||new pl,width:e.stencilGraphWidth,height:e.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(r.container),this.graphs[eC.defaultGroupName]=r}return this.startListening(),this}get targetScroller(){const e=this.options.target;return gi.isGraph(e)?e.scroller.widget:e}get targetGraph(){const e=this.options.target;return gi.isGraph(e)?e:e.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(bc.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(bc.searchText)))}startListening(){const e=this.prefixClassName(bc.title),n=this.prefixClassName(bc.searchText),r=this.prefixClassName(bc.groupTitle);this.delegateEvents({[`click .${e}`]:"onTitleClick",[`touchstart .${e}`]:"onTitleClick",[`click .${r}`]:"onGroupTitleClick",[`touchstart .${r}`]:"onGroupTitleClick",[`input .${n}`]:"onSearch",[`focusin .${n}`]:"onSearchFocusIn",[`focusout .${n}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(i=>{this.graphs[i].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(e=>{this.graphs[e].off("cell:mousedown",this.onDragStart,this)})}load(e,n){return Array.isArray(e)?this.loadGroup(e,n):this.options.groups&&Object.keys(this.options.groups).forEach(r=>{e[r]&&this.loadGroup(e[r],r)}),this}loadGroup(e,n){const r=this.getModel(n);if(r){const a=e.map(l=>fo.isNode(l)?l:fo.create(l));r.resetCells(a)}const i=this.getGroup(n);let o=this.options.stencilGraphHeight;i&&i.graphHeight!=null&&(o=i.graphHeight);const s=i&&i.layout||this.options.layout;if(s&&r&&$n(s,this,r,i),!o){const a=this.getGraph(n);a.fitToContent({minWidth:a.options.width,gridHeight:1,padding:i&&i.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(e){const{e:n,node:r}=e;this.dnd.start(r,n)}filter(e,n){const r=Object.keys(this.graphs).reduce((i,o)=>{const s=this.graphs[o],a=o===eC.defaultGroupName?null:o,l=s.model.getNodes().filter(d=>{let h=!1;typeof n=="function"?h=$n(n,this,d,e,a,this):typeof n=="boolean"?h=n:h=this.isCellMatched(d,e,n,e.toLowerCase()!==e);const p=s.renderer.findViewByCell(d);return p&&p.$(p.container).toggleClass("unmatched",!h),h}),c=l.length>0,u=this.options,f=new pl;return f.resetCells(l),u.layout&&$n(u.layout,this,f,this.getGroup(o)),this.$groups[o]&&this.$groups[o].toggleClass("unmatched",!c),s.fitToContent({gridWidth:1,gridHeight:1,padding:u.stencilGraphPadding||10}),i||c},!1);this.$container.toggleClass("not-found",!r)}isCellMatched(e,n,r,i){return n&&r?Object.keys(r).some(o=>{if(o==="*"||e.shape===o){const s=r[o];return typeof s=="boolean"?s:(Array.isArray(s)?s:[s]).some(l=>{let c=e.getPropByPath(l);return c!=null?(c=`${c}`,i||(c=c.toLowerCase()),c.indexOf(n)>=0):!1})}return!1}):!0}onSearch(e){this.filter(e.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(e){const n=this.$(e.target).closest(`.${this.prefixClassName(bc.group)}`);this.toggleGroup(n.attr("data-name")||"");const r=Object.keys(this.$groups).every(i=>{const o=this.getGroup(i),s=this.$groups[i];return o&&o.collapsable===!1||s.hasClass("collapsed")});this.$container.toggleClass("collapsed",r)}getModel(e){const n=this.getGraph(e);return n?n.model:null}getGraph(e){return this.graphs[e||eC.defaultGroupName]}getGroup(e){const n=this.options.groups;return e!=null&&n&&n.length?n.find(r=>r.name===e):null}toggleGroup(e){return this.isGroupCollapsed(e)?this.expandGroup(e):this.collapseGroup(e),this}collapseGroup(e){if(this.isGroupCollapsable(e)){const n=this.$groups[e];n&&!this.isGroupCollapsed(e)&&(this.trigger("group:collapse",{name:e}),n.addClass("collapsed"))}return this}expandGroup(e){if(this.isGroupCollapsable(e)){const n=this.$groups[e];n&&this.isGroupCollapsed(e)&&(this.trigger("group:expand",{name:e}),n.removeClass("collapsed"))}return this}isGroupCollapsable(e){return this.$groups[e].hasClass("collapsable")}isGroupCollapsed(e){const n=this.$groups[e];return n&&n.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(e=>this.collapseGroup(e)),this}expandGroups(){return Object.keys(this.$groups).forEach(e=>this.expandGroup(e)),this}resizeGroup(e,n){const r=this.graphs[e];return r&&r.resize(n.width,n.height),this}onRemove(){Object.keys(this.graphs).forEach(e=>{this.graphs[e].view.remove(),delete this.graphs[e]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(t){t.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(e,n){const r={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};wke(e,Object.assign(Object.assign(Object.assign({},r),this.options.layoutOptions),n?n.layoutOptions:{}))}},Bp.defaults)})(qM||(qM={}));var bc;(function(t){t.base="widget-stencil",t.title=`${t.base}-title`,t.search=`${t.base}-search`,t.searchText=`${t.search}-text`,t.content=`${t.base}-content`,t.group=`${t.base}-group`,t.groupTitle=`${t.group}-title`,t.groupContent=`${t.group}-content`})(bc||(bc={}));var eC;(function(t){t.defaultGroupName="__default__"})(eC||(eC={}));function Cke(){if(ph.trackable){const t="https://kcart.alipay.com/web/bi.do",e=new Image,n=Object.assign(Object.assign({},ph.trackInfo),{version:OMe,pg:document.URL,r:new Date().getTime(),x6:!0,page_type:"syslog"}),r=encodeURIComponent(JSON.stringify([n]));e.src=`${t}?BIProfile=merge&d=${r}`}}ph.trackable&&setTimeout(Cke,3e3);var J6;(function(t){function e(r){return!!r&&typeof r=="object"&&"dispose"in r&&typeof r.dispose=="function"}t.is=e;function n(r){return{dispose:r}}t.create=n,t.NONE=n(()=>{})})(J6||(J6={}));let Xre;var i9;(function(t){t.None=()=>J6.NONE;function e(n,r){return(i,o)=>n(s=>i.call(o,r(s)),void 0)}t.map=e})(i9||(i9={}));Xre=Symbol.iterator;class Ske{constructor(e=!1){this.mono=void 0,this._callbacks=void 0,this.mono=e}get callbacks(){return this._callbacks||(this._callbacks=[]),this._callbacks}get length(){return this.callbacks.length}add(e,n=void 0){this.callbacks.push([e,n])}remove(e,n=void 0){if(this.isEmpty())return;let r=!1;for(let i=0;i<this.length;i+=1)if(this.callbacks[i][0]===e){if(this.callbacks[i][1]===n){this.callbacks.splice(i,1);return}r=!0}if(r)throw new Error("You should remove it with the same context you add it")}[Xre](){return this.isEmpty()?[][Symbol.iterator]():this.callbacks.slice(0).map(n=>(...r)=>n[0].apply(n[1],r))[Symbol.iterator]()}invoke(...e){const n=[];for(const r of this)try{n.push(r(...e))}catch(i){console.error(i)}return n}isEmpty(){return this.callbacks.length===0}dispose(){this._callbacks=void 0}}class iS{constructor(e={}){this.options=void 0,this._event=void 0,this._callbacks=void 0,this.disposed=!1,this.options=e}get callbacks(){return this._callbacks||(this._callbacks=new Ske),this._callbacks}get event(){return this._event||(this._event=(e,n)=>{this.options.onFirstListenerAdd&&this.callbacks.isEmpty()&&this.options.onFirstListenerAdd(this),this.callbacks.add(e,n);const r={dispose:()=>{r.dispose=iS.noop,this.disposed||(this.callbacks.remove(e,n),r.dispose=iS.noop,this.options.onLastListenerRemove&&this.callbacks.isEmpty()&&this.options.onLastListenerRemove(this))}};return r}),this._event}fire(e){!this._callbacks||this.callbacks.invoke(e)}async sequence(e){for(const n of this.callbacks)if(!await e(n))break}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0),this.disposed=!0}}iS.noop=()=>{};var Zn;(function(t){function e(r){return!!r&&typeof r=="object"&&"dispose"in r&&typeof r.dispose=="function"}t.is=e;function n(r){return{dispose:r}}t.create=n,t.NULL=n(()=>{})})(Zn||(Zn={}));class Ei{constructor(...e){this.disposables=[],this.onDisposeEmitter=new iS,this.disposingElements=!1,e.forEach(n=>this.push(n))}get onDispose(){return this.onDisposeEmitter.event}checkDisposed(){this.disposed&&!this.disposingElements&&(this.onDisposeEmitter.fire(void 0),this.onDisposeEmitter.dispose())}get disposed(){return this.disposables.length===0}dispose(){return ie(this,void 0,void 0,function*(){if(!(this.disposed||this.disposingElements)){for(this.disposingElements=!0;!this.disposed;)try{yield this.disposables.pop().dispose()}catch(e){console.error(e)}this.disposingElements=!1,this.checkDisposed()}})}push(e){const{disposables:n}=this;n.push(e);const r=e.dispose.bind(e),i=Zn.create(()=>{const o=n.indexOf(e);o!==-1&&n.splice(o,1),this.checkDisposed()});return e.dispose=()=>{i.dispose(),r()},i}pushAll(e){return e.map(n=>this.push(n))}}class Ec{constructor(){this.isResolved=!1,this.isRejected=!1,this.promise=new Promise((e,n)=>{this.resolve=(...r)=>{this.isResolved=!0,e(...r)},this.reject=(...r)=>{this.isRejected=!0,n(...r)}})}}const Kre="X6_NODE_PORTAL_NODE_VIEW",Eke="xflow",o9=.01,s9=1.5,Uk="XFLOW_DEFAULT_NODE",_ke="XFLOW_DEFAULT_GROUP_NODE",Zre="XFLOW_DEFAULT_EDGE",tC="XFLOW_COPY_ITEMS",Tke=36,Pke=180,Qre={width:Pke,height:Tke};function nu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Oke=T.exports.createContext({});const o8=Oke;function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t){if(Array.isArray(t))return t}function Mke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function e$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s8(t,e){if(!!t){if(typeof t=="string")return e$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(t,e)}}function eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ke(t,e){return Jre(t)||Mke(t,e)||s8(t,e)||eie()}function Ake(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _i(t,e){if(t==null)return{};var n=Ake(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ar(t){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function gl(t,e){kke(t)&&(t="100%");var n=Dke(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function oP(t){return Math.min(1,Math.max(0,t))}function kke(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Dke(t){return typeof t=="string"&&t.indexOf("%")!==-1}function tie(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function sP(t){return t<=1?"".concat(Number(t)*100,"%"):t}function c0(t){return t.length===1?"0"+t:String(t)}function Nke(t,e,n){return{r:gl(t,255)*255,g:gl(e,255)*255,b:gl(n,255)*255}}function l9(t,e,n){t=gl(t,255),e=gl(e,255),n=gl(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function BR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Rke(t,e,n){var r,i,o;if(t=gl(t,360),e=gl(e,100),n=gl(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=BR(a,s,t+1/3),i=BR(a,s,t),o=BR(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function t$(t,e,n){t=gl(t,255),e=gl(e,255),n=gl(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function Ike(t,e,n){t=gl(t,360)*6,e=gl(e,100),n=gl(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function n$(t,e,n,r){var i=[c0(Math.round(t).toString(16)),c0(Math.round(e).toString(16)),c0(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function $ke(t,e,n,r,i){var o=[c0(Math.round(t).toString(16)),c0(Math.round(e).toString(16)),c0(Math.round(n).toString(16)),c0(Lke(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Lke(t){return Math.round(parseFloat(t)*255).toString(16)}function c9(t){return Jc(t)/255}function Jc(t){return parseInt(t,16)}function Fke(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var r$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Tb(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=Bke(t)),typeof t=="object"&&(np(t.r)&&np(t.g)&&np(t.b)?(e=Nke(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):np(t.h)&&np(t.s)&&np(t.v)?(r=sP(t.s),i=sP(t.v),e=Ike(t.h,r,i),s=!0,a="hsv"):np(t.h)&&np(t.s)&&np(t.l)&&(r=sP(t.s),o=sP(t.l),e=Rke(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=tie(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var zke="[-\\+]?\\d+%?",Gke="[-\\+]?\\d*\\.\\d+%?",lv="(?:".concat(Gke,")|(?:").concat(zke,")"),jR="[\\s|\\(]+(".concat(lv,")[,|\\s]+(").concat(lv,")[,|\\s]+(").concat(lv,")\\s*\\)?"),VR="[\\s|\\(]+(".concat(lv,")[,|\\s]+(").concat(lv,")[,|\\s]+(").concat(lv,")[,|\\s]+(").concat(lv,")\\s*\\)?"),Lf={CSS_UNIT:new RegExp(lv),rgb:new RegExp("rgb"+jR),rgba:new RegExp("rgba"+VR),hsl:new RegExp("hsl"+jR),hsla:new RegExp("hsla"+VR),hsv:new RegExp("hsv"+jR),hsva:new RegExp("hsva"+VR),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Bke(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(r$[t])t=r$[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Lf.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Lf.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Lf.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Lf.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Lf.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Lf.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Lf.hex8.exec(t),n?{r:Jc(n[1]),g:Jc(n[2]),b:Jc(n[3]),a:c9(n[4]),format:e?"name":"hex8"}:(n=Lf.hex6.exec(t),n?{r:Jc(n[1]),g:Jc(n[2]),b:Jc(n[3]),format:e?"name":"hex"}:(n=Lf.hex4.exec(t),n?{r:Jc(n[1]+n[1]),g:Jc(n[2]+n[2]),b:Jc(n[3]+n[3]),a:c9(n[4]+n[4]),format:e?"name":"hex8"}:(n=Lf.hex3.exec(t),n?{r:Jc(n[1]+n[1]),g:Jc(n[2]+n[2]),b:Jc(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function np(t){return Boolean(Lf.CSS_UNIT.exec(String(t)))}var UR=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=Fke(e)),this.originalInput=e;var i=Tb(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=tie(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var e=t$(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=t$(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=l9(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=l9(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),n$(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),$ke(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(gl(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(gl(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+n$(this.r,this.g,this.b,!1),n=0,r=Object.entries(r$);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=Boolean(e);e=e!=null?e:this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=oP(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=oP(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=oP(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=oP(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),aP=2,u9=.16,jke=.05,Vke=.05,Uke=.15,nie=5,rie=4,Hke=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function f9(t){var e=t.r,n=t.g,r=t.b,i=t$(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function lP(t){var e=t.r,n=t.g,r=t.b;return"#".concat(n$(e,n,r,!1))}function Wke(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function d9(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-aP*e:Math.round(t.h)+aP*e:r=n?Math.round(t.h)+aP*e:Math.round(t.h)-aP*e,r<0?r+=360:r>=360&&(r-=360),r}function h9(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-u9*e:e===rie?r=t.s+u9:r=t.s+jke*e,r>1&&(r=1),n&&e===nie&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function p9(t,e,n){var r;return n?r=t.v+Vke*e:r=t.v-Uke*e,r>1&&(r=1),Number(r.toFixed(2))}function oS(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=Tb(t),i=nie;i>0;i-=1){var o=f9(r),s=lP(Tb({h:d9(o,i,!0),s:h9(o,i,!0),v:p9(o,i,!0)}));n.push(s)}n.push(lP(r));for(var a=1;a<=rie;a+=1){var l=f9(r),c=lP(Tb({h:d9(l,a),s:h9(l,a),v:p9(l,a)}));n.push(c)}return e.theme==="dark"?Hke.map(function(u){var f=u.index,d=u.opacity,h=lP(Wke(Tb(e.backgroundColor||"#141414"),Tb(n[f]),d*100));return h}):n}var HR={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},WR={},YR={};Object.keys(HR).forEach(function(t){WR[t]=oS(HR[t]),WR[t].primary=WR[t][5],YR[t]=oS(HR[t],{theme:"dark",backgroundColor:"#141414"}),YR[t].primary=YR[t][5]});var g9={};function Yke(t,e){}function qke(t,e){}function iie(t,e,n){!e&&!g9[n]&&(t(!1,n),g9[n]=!0)}function Nl(t,e){iie(Yke,t,e)}function Xke(t,e){iie(qke,t,e)}function bh(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Kke="rc-util-key";function oie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Kke}function a8(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function v9(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!bh())return null;var r=document.createElement("style");if(!((e=n.csp)===null||e===void 0)&&e.nonce){var i;r.nonce=(i=n.csp)===null||i===void 0?void 0:i.nonce}r.innerHTML=t;var o=a8(n),s=o.firstChild;return n.prepend&&o.prepend?o.prepend(r):n.prepend&&s?o.insertBefore(r,s):o.appendChild(r),r}var i$=new Map;function Zke(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a8(e);return Array.from(i$.get(n).children).find(function(r){return r.tagName==="STYLE"&&r.getAttribute(oie(e))===t})}function l8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=a8(n);if(!i$.has(r)){var i=v9("",n),o=i.parentNode;i$.set(r,o),o.removeChild(i)}var s=Zke(e,n);if(s){var a,l;if(((a=n.csp)===null||a===void 0?void 0:a.nonce)&&s.nonce!==((l=n.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=n.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var u=v9(t,n);return u.setAttribute(oie(n),e),u}function Qke(t,e){Nl(t,"[@ant-design/icons] ".concat(e))}function m9(t){return Ar(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(Ar(t.icon)==="object"||typeof t.icon=="function")}function y9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:e[n]=r}return e},{})}function o$(t,e,n){return n?dt.createElement(t.tag,be(be({key:e},y9(t.attrs)),n),(t.children||[]).map(function(r,i){return o$(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):dt.createElement(t.tag,be({key:e},y9(t.attrs)),(t.children||[]).map(function(r,i){return o$(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function sie(t){return oS(t)[0]}function aie(t){return t?Array.isArray(t)?t:[t]:[]}var Jke=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,eDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jke,n=T.exports.useContext(o8),r=n.csp;T.exports.useEffect(function(){l8(e,"@ant-design-icons",{prepend:!0,csp:r})},[])},tDe=["icon","className","onClick","style","primaryColor","secondaryColor"],nC={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function nDe(t){var e=t.primaryColor,n=t.secondaryColor;nC.primaryColor=e,nC.secondaryColor=n||sie(e),nC.calculated=!!n}function rDe(){return be({},nC)}var Hk=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=_i(e,tDe),c=nC;if(s&&(c={primaryColor:s,secondaryColor:a||sie(s)}),eDe(),Qke(m9(n),"icon should be icon definiton, but got ".concat(n)),!m9(n))return null;var u=n;return u&&typeof u.icon=="function"&&(u=be(be({},u),{},{icon:u.icon(c.primaryColor,c.secondaryColor)})),o$(u.icon,"svg-".concat(u.name),be({className:r,onClick:i,style:o,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};Hk.displayName="IconReact";Hk.getTwoToneColors=rDe;Hk.setTwoToneColors=nDe;const c8=Hk;function lie(t){var e=aie(t),n=Ke(e,2),r=n[0],i=n[1];return c8.setTwoToneColors({primaryColor:r,secondaryColor:i})}function iDe(){var t=c8.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Wk={exports:{}},Yk={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oDe=T.exports,sDe=Symbol.for("react.element"),aDe=Symbol.for("react.fragment"),lDe=Object.prototype.hasOwnProperty,cDe=oDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uDe={key:!0,ref:!0,__self:!0,__source:!0};function cie(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)lDe.call(e,r)&&!uDe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sDe,type:t,key:o,ref:s,props:i,_owner:cDe.current}}Yk.Fragment=aDe;Yk.jsx=cie;Yk.jsxs=cie;(function(t){t.exports=Yk})(Wk);const Xi=Wk.exports.Fragment,D=Wk.exports.jsx,_t=Wk.exports.jsxs;var fDe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];lie("#1890ff");var qk=T.exports.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,s=t.rotate,a=t.tabIndex,l=t.onClick,c=t.twoToneColor,u=_i(t,fDe),f=T.exports.useContext(o8),d=f.prefixCls,h=d===void 0?"anticon":d,p=at(h,(n={},V(n,"".concat(h,"-").concat(i.name),!!i.name),V(n,"".concat(h,"-spin"),!!o||i.name==="loading"),n),r),g=a;g===void 0&&l&&(g=-1);var m=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,y=aie(c),b=Ke(y,2),C=b[0],E=b[1];return D("span",{...be(be({role:"img","aria-label":i.name},u),{},{ref:e,tabIndex:g,onClick:l,className:p}),children:D(c8,{icon:i,primaryColor:C,secondaryColor:E,style:m})})});qk.displayName="AntdIcon";qk.getTwoToneColor=iDe;qk.setTwoToneColor=lie;const ei=qk;var dDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};const hDe=dDe;var uie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:hDe})})};uie.displayName="CalendarOutlined";const fie=T.exports.forwardRef(uie);var pDe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"};const gDe=pDe;var die=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:gDe})})};die.displayName="CaretLeftOutlined";const vDe=T.exports.forwardRef(die);var mDe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};const yDe=mDe;var hie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:yDe})})};hie.displayName="CaretRightOutlined";const bDe=T.exports.forwardRef(hie);var xDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const wDe=xDe;var pie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:wDe})})};pie.displayName="CheckCircleFilled";const gie=T.exports.forwardRef(pie);var CDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const SDe=CDe;var vie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:SDe})})};vie.displayName="CheckCircleOutlined";const Xk=T.exports.forwardRef(vie);var EDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const _De=EDe;var mie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:_De})})};mie.displayName="CheckOutlined";const TDe=T.exports.forwardRef(mie);var PDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const ODe=PDe;var yie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:ODe})})};yie.displayName="ClockCircleOutlined";const bie=T.exports.forwardRef(yie);var MDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const ADe=MDe;var xie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:ADe})})};xie.displayName="CloseCircleFilled";const Q0=T.exports.forwardRef(xie);var kDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};const DDe=kDe;var wie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:DDe})})};wie.displayName="CloseCircleOutlined";const Kk=T.exports.forwardRef(wie);var NDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const RDe=NDe;var Cie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:RDe})})};Cie.displayName="CloseOutlined";const TE=T.exports.forwardRef(Cie);var IDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"};const $De=IDe;var Sie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:$De})})};Sie.displayName="CloudSyncOutlined";const LDe=T.exports.forwardRef(Sie);var FDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M326 664H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V696c0-17.7-14.3-32-32-32zm16-576h-48c-8.8 0-16 7.2-16 16v176H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V104c0-8.8-7.2-16-16-16zm578 576H698c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V744h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm0-384H746V104c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16z"}}]},name:"compress",theme:"outlined"};const zDe=FDe;var Eie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:zDe})})};Eie.displayName="CompressOutlined";const GDe=T.exports.forwardRef(Eie);var BDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};const jDe=BDe;var _ie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:jDe})})};_ie.displayName="DatabaseOutlined";const Tie=T.exports.forwardRef(_ie);var VDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const UDe=VDe;var Pie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:UDe})})};Pie.displayName="DeleteOutlined";const HDe=T.exports.forwardRef(Pie);var WDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const YDe=WDe;var Oie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:YDe})})};Oie.displayName="DotChartOutlined";const qDe=T.exports.forwardRef(Oie);var XDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const KDe=XDe;var Mie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:KDe})})};Mie.displayName="DownOutlined";const Aie=T.exports.forwardRef(Mie);var ZDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const QDe=ZDe;var kie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:QDe})})};kie.displayName="EditOutlined";const JDe=T.exports.forwardRef(kie);var eNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const tNe=eNe;var Die=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:tNe})})};Die.displayName="EllipsisOutlined";const nNe=T.exports.forwardRef(Die);var rNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const iNe=rNe;var Nie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:iNe})})};Nie.displayName="ExclamationCircleFilled";const u8=T.exports.forwardRef(Nie);var oNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const sNe=oNe;var Rie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:sNe})})};Rie.displayName="ExclamationCircleOutlined";const PE=T.exports.forwardRef(Rie);var aNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const lNe=aNe;var Iie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:lNe})})};Iie.displayName="EyeInvisibleOutlined";const cNe=T.exports.forwardRef(Iie);var uNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const fNe=uNe;var $ie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:fNe})})};$ie.displayName="EyeOutlined";const dNe=T.exports.forwardRef($ie);var hNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};const pNe=hNe;var Lie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:pNe})})};Lie.displayName="FullscreenExitOutlined";const gNe=T.exports.forwardRef(Lie);var vNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};const mNe=vNe;var Fie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:mNe})})};Fie.displayName="FullscreenOutlined";const yNe=T.exports.forwardRef(Fie);var bNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 392c8.8 0 16-7.2 16-16V192c0-8.8-7.2-16-16-16H744c-8.8 0-16 7.2-16 16v56H296v-56c0-8.8-7.2-16-16-16H96c-8.8 0-16 7.2-16 16v184c0 8.8 7.2 16 16 16h56v240H96c-8.8 0-16 7.2-16 16v184c0 8.8 7.2 16 16 16h184c8.8 0 16-7.2 16-16v-56h432v56c0 8.8 7.2 16 16 16h184c8.8 0 16-7.2 16-16V648c0-8.8-7.2-16-16-16h-56V392h56zM792 240h88v88h-88v-88zm-648 88v-88h88v88h-88zm88 456h-88v-88h88v88zm648-88v88h-88v-88h88zm-80-64h-56c-8.8 0-16 7.2-16 16v56H296v-56c0-8.8-7.2-16-16-16h-56V392h56c8.8 0 16-7.2 16-16v-56h432v56c0 8.8 7.2 16 16 16h56v240z"}}]},name:"gateway",theme:"outlined"};const xNe=bNe;var zie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:xNe})})};zie.displayName="GatewayOutlined";const wNe=T.exports.forwardRef(zie);var CNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M912 820.1V203.9c28-9.9 48-36.6 48-67.9 0-39.8-32.2-72-72-72-31.3 0-58 20-67.9 48H203.9C194 84 167.3 64 136 64c-39.8 0-72 32.2-72 72 0 31.3 20 58 48 67.9v616.2C84 830 64 856.7 64 888c0 39.8 32.2 72 72 72 31.3 0 58-20 67.9-48h616.2c9.9 28 36.6 48 67.9 48 39.8 0 72-32.2 72-72 0-31.3-20-58-48-67.9zM888 112c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 912c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-752c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm704 680H184V184h656v656zm48 72c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}},{tag:"path",attrs:{d:"M288 474h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64zm-56 420h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64z"}}]},name:"group",theme:"outlined"};const SNe=CNe;var Gie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:SNe})})};Gie.displayName="GroupOutlined";const ENe=T.exports.forwardRef(Gie);var _Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const TNe=_Ne;var Bie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:TNe})})};Bie.displayName="InfoCircleFilled";const PNe=T.exports.forwardRef(Bie);var ONe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const MNe=ONe;var jie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:MNe})})};jie.displayName="InfoCircleOutlined";const Zk=T.exports.forwardRef(jie);var ANe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const kNe=ANe;var Vie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:kNe})})};Vie.displayName="LoadingOutlined";const sS=T.exports.forwardRef(Vie);var DNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const NNe=DNe;var Uie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:NNe})})};Uie.displayName="MinusSquareOutlined";const Hie=T.exports.forwardRef(Uie);var RNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zm196-50c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zm0-140c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}},{tag:"path",attrs:{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"}}]},name:"one-to-one",theme:"outlined"};const INe=RNe;var Wie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:INe})})};Wie.displayName="OneToOneOutlined";const $Ne=T.exports.forwardRef(Wie);var LNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M442.3 677.6l199.4-156.7a11.3 11.3 0 000-17.7L442.3 346.4c-7.4-5.8-18.3-.6-18.3 8.8v313.5c0 9.4 10.9 14.7 18.3 8.9z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"play-square",theme:"outlined"};const FNe=LNe;var Yie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:FNe})})};Yie.displayName="PlaySquareOutlined";const zNe=T.exports.forwardRef(Yie);var GNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const BNe=GNe;var qie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:BNe})})};qie.displayName="PlusOutlined";const jNe=T.exports.forwardRef(qie);var VNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const UNe=VNe;var Xie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:UNe})})};Xie.displayName="PlusSquareOutlined";const Kie=T.exports.forwardRef(Xie);var HNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const WNe=HNe;var Zie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:WNe})})};Zie.displayName="QuestionCircleOutlined";const Cw=T.exports.forwardRef(Zie);var YNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};const qNe=YNe;var Qie=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:qNe})})};Qie.displayName="RedoOutlined";const Jie=T.exports.forwardRef(Qie);var XNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};const KNe=XNe;var eoe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:KNe})})};eoe.displayName="SaveOutlined";const ZNe=T.exports.forwardRef(eoe);var QNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const JNe=QNe;var toe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:JNe})})};toe.displayName="SearchOutlined";const noe=T.exports.forwardRef(toe);var eRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};const tRe=eRe;var roe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:tRe})})};roe.displayName="StopOutlined";const ioe=T.exports.forwardRef(roe);var nRe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};const rRe=nRe;var ooe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:rRe})})};ooe.displayName="SwapRightOutlined";const iRe=T.exports.forwardRef(ooe);var oRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M736 550H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16zm-56 136H344v-64h336v64zm208 130c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zM736 266H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16zm-56 136H344v-64h336v64zm208-194c39.8 0 72-32.2 72-72s-32.2-72-72-72-72 32.2-72 72 32.2 72 72 72zm0-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 64c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0 656c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}}]},name:"ungroup",theme:"outlined"};const sRe=oRe;var soe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:sRe})})};soe.displayName="UngroupOutlined";const aRe=T.exports.forwardRef(soe);var lRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const cRe=lRe;var aoe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:cRe})})};aoe.displayName="UpOutlined";const uRe=T.exports.forwardRef(aoe);var fRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const dRe=fRe;var loe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:dRe})})};loe.displayName="ZoomInOutlined";const hRe=T.exports.forwardRef(loe);var pRe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const gRe=pRe;var coe=function(e,n){return D(ei,{...be(be({},e),{},{ref:n,icon:gRe})})};coe.displayName="ZoomOutOutlined";const vRe=T.exports.forwardRef(coe),Qk=dt.createContext(null);Qk.displayName="XFlowAppContext";const Za=()=>{const t=dt.useContext(Qk);return t&&t.getApp?t.getApp():null},mRe=()=>dt.useContext(Qk);class yRe{constructor(e=!1){this.cache=null,this.setApp=n=>{this.cache=n,this.onAppChangeCallback&&this.onAppChangeCallback(n)},this.isUserDefined=()=>this.isUserDefinedFlag,this.getApp=()=>this.cache,this.onAppChange=n=>{this.onAppChangeCallback=n},this.dispose=()=>{this.cache=null},this.isUserDefinedFlag=e}}const uoe=t=>{const e=mRe(),[,n]=dt.useState(null),r=dt.useMemo(()=>e&&e.isUserDefined()?e:new yRe(!1),[]);return r.isUserDefined()||r.onAppChange(()=>n(0)),dt.useEffect(()=>{t.app&&r.setApp(t.app)},[t.app]),r.isUserDefined()?D(Xi,{children:t.children}):D(Qk.Provider,{value:Object.assign({},r),children:t.children})};uoe.displayName="XFlowAppInternalProvider";var Oo;(function(t){const e="\u8282\u70B9\u64CD\u4F5C";t.ADD_NODE={id:"xflow:add-node",label:"\u6DFB\u52A0\u8282\u70B9",category:e},t.DEL_NODE={id:"xflow:del-node",label:"\u5220\u9664\u8282\u70B9",category:e},t.UPDATE_NODE_PORT={id:"xflow:update-node-port",label:"\u5220\u9664\u8FDE\u63A5\u6869",category:e},t.UPDATE_NODE={id:"xflow:update-node",label:"\u66F4\u65B0\u8282\u70B9",category:e},t.HIGHLIGHT_NODE={id:"xflow:highlight-node",label:"\u9AD8\u4EAE\u8282\u70B9",category:e},t.SELECT_NODE={id:"xflow:select-node",label:"\u9009\u4E2D\u8282\u70B9",category:e},t.MOVE_NODE={id:"xflow:move-node",label:"Move Node",category:e},t.CENTER_NODE={id:"xflow:center-node",label:"\u5C45\u4E2D\u8282\u70B9",category:e},t.FRONT_NODE={id:"xflow:front-node",label:"\u524D\u7F6E\u8282\u70B9",category:e},t.BACK_NODE={id:"xflow:back-node",label:"\u540E\u7F6E\u8282\u70B9",category:e}})(Oo||(Oo={}));var gs;(function(t){const e="\u8FB9\u64CD\u4F5C";t.ADD_EDGE={id:"xflow:add-edge",label:"\u6DFB\u52A0\u8FB9",category:e},t.DEL_EDGE={id:"xflow:del-edge",label:"\u5220\u9664\u8FB9",category:e},t.UPDATE_EDGE={id:"xflow:update-edge",label:"\u66F4\u65B0\u8FB9",category:e},t.HIGHLIGHT_EDGE={id:"xflow:highlight-edge",label:"\u9AD8\u4EAE\u8FB9",category:e},t.FRONT_EDGE={id:"xflow:front-edge",label:"\u524D\u7F6E\u53D8",category:e},t.BACK_EDGE={id:"xflow:back-edge",label:"\u540E\u7F6E\u8FB9",category:e}})(gs||(gs={}));var Pr;(function(t){const e="\u753B\u5E03\u64CD\u4F5C";t.LOAD_META={id:"xflow:load-meta",label:"\u83B7\u53D6\u5143\u6570\u636E",category:e},t.LOAD_DATA={id:"xflow:load-data",label:"\u83B7\u53D6\u56FE\u6570\u636E",category:e},t.SAVE_GRAPH_DATA={id:"xflow:save-graph-data",label:"\u4FDD\u5B58",category:e},t.GRAPH_LAYOUT={id:"xflow:layout",label:"\u8BA1\u7B97\u5E03\u5C40",category:e},t.GRAPH_RENDER={id:"xflow:graph-render",label:"\u6E32\u67D3\u753B\u5E03",category:e},t.UNDO_CMD={id:"xflow:undo-cmd",label:"\u64A4\u9500",category:e},t.REDO_CMD={id:"xflow:redo-cmd",label:"\u91CD\u505A",category:e},t.GRAPH_INSTANCE_COMMAND={id:"xflow:graph-instacne-cmd",label:"Graph\u901A\u7528Command",category:e},t.GRAPH_ZOOM={id:"xflow:graph-zoom",label:"\u7F29\u653E\u753B\u5E03",category:e},t.GRAPH_FULLSCREEN={id:"xflow:graph-fullscreen",label:"\u5168\u5C4F",category:e},t.GRAPH_RESIZE={id:"xflow:graph-resize",label:"\u8C03\u6574\u7A97\u53E3\u5927\u5C0F",category:e},t.GRAPH_COPY={id:"xflow:graph-copy-selection",label:"\u590D\u5236",category:e},t.GRAPH_PASTE={id:"xflow:graph-paste-selection",label:"\u7C98\u8D34",category:e},t.GRAPH_TOGGLE_MULTI_SELECT={id:"xflow:graph-toggle-multi-select",label:"\u542F\u7528\u6846\u9009",category:e},t.GRAPH_ADD_TOOL={id:"xflow:add-tool",label:"\u6DFB\u52A0\u5DE5\u5177",category:e},t.GRAPH_DEL_TOOL={id:"xflow:del-tool",label:"\u5220\u9664\u5DE5\u5177",category:e},t.GRAPH_HISTORY_UNDO={id:"xflow:history-undo",label:"history undo",category:e},t.GRAPH_HISTORY_REDO={id:"xflow:history-redo",label:"history redo",category:e},t.GRAPH_HISTORY_RESET={id:"xflow:history-reset",label:"history reset",category:e},t.GRAPH_HISTORY_TOGGLE={id:"xflow:history-toggle",label:"history toggle",category:e}})(Pr||(Pr={}));var s$;(function(t){const e="\u72B6\u6001\u64CD\u4F5C";t.UPDATE_MODEL={id:"xflow:update-model",label:"\u8BBE\u7F6E\u72B6\u6001\u503C",category:e}})(s$||(s$={}));var Qs;(function(t){const e="\u7FA4\u7EC4\u64CD\u4F5C";t.INIT_GROUP={id:"xflow:init-group",label:"\u521D\u59CB\u5316\u7FA4\u7EC4",category:e},t.ADD_GROUP={id:"xflow:add-group",label:"\u65B0\u5EFA\u7FA4\u7EC4",category:e},t.DEL_GROUP={id:"xflow:del-group",label:"\u89E3\u6563\u7FA4\u7EC4",category:e},t.COLLAPSE_GROUP={id:"xflow:collapse-group",label:"\u6298\u53E0\u7FA4\u7EC4",category:e}})(Qs||(Qs={}));const foe=t=>{const{cell:e}=t,n=Za(),r=t.data.isCollapsed||!1,i=s=>{s.preventDefault(),n.executeCommand(Qs.COLLAPSE_GROUP.id,{nodeId:e.id,isCollapsed:!1})},o=s=>{s.preventDefault(),n.executeCommand(Qs.COLLAPSE_GROUP.id,{nodeId:e.id,isCollapsed:!0,gap:3})};return D("div",{className:"xflow-default-group-node",children:_t("div",{className:"xflow-group-header",children:[D("div",{className:"header-left",children:t.data.label}),_t("div",{className:"header-right",children:[r&&D(Kie,{onClick:i}),!r&&D(Hie,{onClick:o})]})]})})};foe.displayName="XFlowDefaultGroupNode";const bRe={fontSize:"16px",color:"#3057e3"};var Jm;(function(t){t.SUCCESS="success",t.PROCESSING="processing",t.ERROR="error",t.DEFAULT="default",t.WARNING="warning"})(Jm||(Jm={}));const xRe=t=>{if(t.hide)return null;switch(t.status){case Jm.PROCESSING:return D(Jie,{spin:!0,style:{color:"#c1cdf7",fontSize:"16px"}});case Jm.ERROR:return D(Kk,{style:{color:"#ff4d4f",fontSize:"16px"}});case Jm.SUCCESS:return D(Xk,{style:{color:"#39ca74cc",fontSize:"16px"}});case Jm.WARNING:return D(PE,{style:{color:"#faad14",fontSize:"16px"}});case Jm.DEFAULT:return D(Zk,{style:{color:"#d9d9d9",fontSize:"16px"}});default:return null}},doe=t=>{const e=dt.isValidElement(t.data.icon)?t.data.icon:D(Tie,{style:bRe});return _t("div",{className:`xflow-default-node ${t.isNodeTreePanel?"panel-node":""}`,children:[D("span",{className:"icon",children:e}),D("span",{className:"label",children:t.data.label}),D("span",{className:"status",children:D(xRe,{status:t.data&&t.data.status,hide:t.isNodeTreePanel})})]})};doe.displayName="XFlowDefaultNode";var qb;(function(t){t.CONFIG_TYPE="GraphConfig",t.defaultNodeTypeParser=e=>e.renderKey,t.defaultEdgeTypeParser=e=>e.renderKey,t.defaultNodeMapValue=[[Uk,doe],[_ke,foe]]})(qb||(qb={}));class wRe{constructor(){this.CONFIG_TYPE=qb.CONFIG_TYPE,this.x6Options=new Ec,this.rootContainer=new Ec,this.graphContainer=new Ec,this.nodeRender=new Map(qb.defaultNodeMapValue),this.edgeRender=new Map,this.nodeTypeParser=qb.defaultNodeTypeParser,this.edgeTypeParser=qb.defaultEdgeTypeParser,this.events=[],this.mergeX6Config=e=>ie(this,void 0,void 0,function*(){const n=yield this.getX6Config();return Object.assign(n,e)}),this.getX6Config=()=>ie(this,void 0,void 0,function*(){return yield this.x6Options.promise}),this.setX6Config=e=>{var n;const r=this.getDefaultGraphOptions();(n=this.x6Options)===null||n===void 0||n.resolve(Object.assign(Object.assign({},r),e))},this.setAppContainer=e=>{this.appContainer=e},this.setRootContainer=e=>{e&&(this===null||this===void 0||this.rootContainer.resolve(e))},this.setGraphContainer=e=>{var n;e&&((n=this.graphContainer)===null||n===void 0||n.resolve(e))},this.setEvents=e=>{this.events=e},this.setDefaultNodeRender=e=>{this.nodeRender.set(Uk,e)},this.setDefaultEdgeRender=e=>{this.edgeRender.set(Zre,e)},this.setNodeRender=(e,n)=>{this.nodeRender.set(e,n)},this.setEdgeRender=(e,n)=>{this.edgeRender.set(e,n)},this.setNodeTypeParser=e=>{this.nodeTypeParser=e},this.setEdgeTypeParser=e=>{this.edgeTypeParser=e},this.getConfig=()=>ie(this,void 0,void 0,function*(){const[e,n,r]=yield Promise.all([this.rootContainer.promise,this.graphContainer.promise,this.x6Options.promise]);return{xflowInstanceId:this.xflowInstanceId,graphId:this.graphId,nodeViewId:this.graphId,appContainer:this.appContainer,rootContainer:e,graphContainer:n,x6Options:r,events:this.events,nodeRender:this.nodeRender,edgeRender:this.edgeRender,nodeTypeParser:this.nodeTypeParser,edgeTypeParser:this.edgeTypeParser}}),this.getDefaultGraphOptions=()=>({rotating:!1,resizing:!1,connecting:{snap:!0,dangling:!1,highlight:!1,connectionPoint:"rect",router:{name:"er"},connector:{name:"rounded",args:{radius:15}}},background:{},grid:{visible:!0},selecting:{strict:!0,enabled:!0,multiple:!0,selectCellOnMoved:!0,showNodeSelectionBox:!1,rubberEdge:!0,rubberNode:!0,movable:!0},snapline:{enabled:!1},history:{enabled:!1},clipboard:{enabled:!0,useLocalStorage:!0},scroller:{enabled:!1},mousewheel:{enabled:!0,minScale:o9,maxScale:s9,factor:1.1,modifiers:["ctrl","meta"]},panning:{enabled:!0},scaling:{min:o9,max:s9},keyboard:{enabled:!0},interacting:{nodeMovable:!0,edgeLabelMovable:!1},async:!1}),this.dispose=()=>{this.rootContainer=new Ec,this.graphContainer=new Ec,this.x6Options=new Ec},this.graphId=nu()}}const aS=Symbol("IGraphOptionProvider"),CRe=(t,e)=>{t(aS,{lifecycle:yo.Lifecycle.singleton,useDynamic:()=>({getOptions:()=>ie(void 0,void 0,void 0,function*(){return e.getConfig()})})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a$=function(t,e){return a$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},a$(t,e)};function xu(t,e){a$(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function l$(t){return typeof t=="function"}var b9=!1,Yd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}b9=t},get useDeprecatedSynchronousErrorHandling(){return b9}};function Sw(t){setTimeout(function(){throw t},0)}var XM={closed:!0,next:function(t){},error:function(t){if(Yd.useDeprecatedSynchronousErrorHandling)throw t;Sw(t)},complete:function(){}},SRe=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function ERe(t){return t!==null&&typeof t=="object"}var _Re=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),MO=_Re,q1=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var l=r[a];l.remove(this)}if(l$(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(f){e=f instanceof MO?x9(f.errors):[f]}}if(SRe(s))for(var a=-1,c=s.length;++a<c;){var u=s[a];if(ERe(u))try{u.unsubscribe()}catch(d){e=e||[],d instanceof MO?e=e.concat(x9(d.errors)):e.push(d)}}if(e)throw new MO(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var o=this._subscriptions;return o===null?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function x9(t){return t.reduce(function(e,n){return e.concat(n instanceof MO?n.errors:n)},[])}var KM=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Dp=function(t){xu(e,t);function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=XM;break;case 1:if(!n){o.destination=XM;break}if(typeof n=="object"){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new w9(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new w9(o,n,r,i);break}return o}return e.prototype[KM]=function(){return this},e.create=function(n,r,i){var o=new e(n,r,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(q1),w9=function(t){xu(e,t);function e(n,r,i,o){var s=t.call(this)||this;s._parentSubscriber=n;var a,l=s;return l$(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==XM&&(l=Object.create(r),l$(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(s))),s._context=l,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!Yd.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=Yd.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):Sw(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;Sw(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!Yd.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),Yd.useDeprecatedSynchronousErrorHandling)throw i;Sw(i)}},e.prototype.__tryOrSetError=function(n,r,i){if(!Yd.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(o){return Yd.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=o,n.syncErrorThrown=!0,!0):(Sw(o),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(Dp);function TRe(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;r&&r instanceof Dp?t=r:t=null}return!0}function PRe(t,e,n){if(t){if(t instanceof Dp)return t;if(t[KM])return t[KM]()}return!t&&!e&&!n?new Dp(XM):new Dp(t,e,n)}var ORe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function MRe(t){return t}function ARe(t){return t.length===0?MRe:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var C9=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this.operator,o=PRe(e,n,r);if(i?o.add(i.call(o,this.source)):o.add(this.source||Yd.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Yd.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){Yd.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),TRe(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var r=this;return n=S9(n),new n(function(i,o){var s;s=r.subscribe(function(a){try{e(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[ORe]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:ARe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=S9(e),new e(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function S9(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var kRe=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Pb=kRe,DRe=function(t){xu(e,t);function e(n,r){var i=t.call(this)||this;return i.subject=n,i.subscriber=r,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},e}(q1),NRe=function(t){xu(e,t);function e(n){var r=t.call(this,n)||this;return r.destination=n,r}return e}(Dp),hoe=function(t){xu(e,t);function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype[KM]=function(){return new NRe(this)},e.prototype.lift=function(n){var r=new E9(this,this);return r.operator=n,r},e.prototype.next=function(n){if(this.closed)throw new Pb;if(!this.isStopped)for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].next(n)},e.prototype.error=function(n){if(this.closed)throw new Pb;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,i=r.length,o=r.slice(),s=0;s<i;s++)o[s].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Pb;this.isStopped=!0;for(var n=this.observers,r=n.length,i=n.slice(),o=0;o<r;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new Pb;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new Pb;return this.hasError?(n.error(this.thrownError),q1.EMPTY):this.isStopped?(n.complete(),q1.EMPTY):(this.observers.push(n),new DRe(this,n))},e.prototype.asObservable=function(){var n=new C9;return n.source=this,n},e.create=function(n,r){return new E9(n,r)},e}(C9),E9=function(t){xu(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},e.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):q1.EMPTY},e}(hoe),RRe=function(t){xu(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pb;return this._value},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(hoe),IRe=function(t){xu(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(q1),$Re=function(t){xu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o=void 0;try{this.work(n)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},e}(IRe),_9=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(r,n)},t.now=function(){return Date.now()},t}(),LRe=function(t){xu(e,t);function e(n,r){r===void 0&&(r=_9.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(_9),poe=new LRe($Re),FRe=poe;function zRe(t,e){return function(r){return r.lift(new GRe(t,e))}}var GRe=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new BRe(e,this.predicate,this.thisArg))},t}(),BRe=function(t){xu(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.predicate=r,o.thisArg=i,o.count=0,o}return e.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(n)},e}(Dp);function jRe(t,e){return function(n){return n.lift(new VRe(t,e))}}var VRe=function(){function t(e,n){this.compare=e,this.keySelector=n}return t.prototype.call=function(e,n){return n.subscribe(new URe(e,this.compare,this.keySelector))},t}(),URe=function(t){xu(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.keySelector=i,o.hasKey=!1,typeof r=="function"&&(o.compare=r),o}return e.prototype.compare=function(n,r){return n===r},e.prototype._next=function(n){var r;try{var i=this.keySelector;r=i?i(n):n}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=r,this.destination.next(n))},e}(Dp),HRe={leading:!0,trailing:!1};function WRe(t,e,n){return e===void 0&&(e=FRe),n===void 0&&(n=HRe),function(r){return r.lift(new YRe(t,e,n.leading,n.trailing))}}var YRe=function(){function t(e,n,r,i){this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return t.prototype.call=function(e,n){return n.subscribe(new qRe(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),qRe=function(t){xu(e,t);function e(n,r,i,o,s){var a=t.call(this,n)||this;return a.duration=r,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(XRe,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},e}(Dp);function XRe(t){var e=t.subscriber;e.clearThrottle()}function rf(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function X1(t){return!!t&&!!t[Do]}function jp(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var n=Object.getPrototypeOf(e);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===oIe}(t)||Array.isArray(t)||!!t[D9]||!!t.constructor[D9]||f8(t)||d8(t))}function K1(t,e,n){n===void 0&&(n=!1),E2(t)===0?(n?Object.keys:m8)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function E2(t){var e=t[Do];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:f8(t)?2:d8(t)?3:0}function c$(t,e){return E2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function KRe(t,e){return E2(t)===2?t.get(e):t[e]}function goe(t,e,n){var r=E2(t);r===2?t.set(e,n):r===3?(t.delete(e),t.add(n)):t[e]=n}function ZRe(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function f8(t){return rIe&&t instanceof Map}function d8(t){return iIe&&t instanceof Set}function Va(t){return t.o||t.t}function h8(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=sIe(t);delete e[Do];for(var n=m8(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function p8(t,e){return e===void 0&&(e=!1),g8(t)||X1(t)||!jp(t)||(E2(t)>1&&(t.set=t.add=t.clear=t.delete=QRe),Object.freeze(t),e&&K1(t,function(n,r){return p8(r,!0)},!0)),t}function QRe(){rf(2)}function g8(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function sh(t){var e=f$[t];return e||rf(18,t),e}function JRe(t,e){f$[t]||(f$[t]=e)}function ZM(){return cS}function qR(t,e){e&&(sh("Patches"),t.u=[],t.s=[],t.v=e)}function QM(t){u$(t),t.p.forEach(eIe),t.p=null}function u$(t){t===cS&&(cS=t.l)}function T9(t){return cS={p:[],l:cS,h:t,m:!0,_:0}}function eIe(t){var e=t[Do];e.i===0||e.i===1?e.j():e.O=!0}function XR(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||sh("ES5").S(e,t,r),r?(n[Do].P&&(QM(e),rf(4)),jp(t)&&(t=JM(e,t),e.l||e3(e,t)),e.u&&sh("Patches").M(n[Do].t,t,e.u,e.s)):t=JM(e,n,[]),QM(e),e.u&&e.v(e.u,e.s),t!==voe?t:void 0}function JM(t,e,n){if(g8(e))return e;var r=e[Do];if(!r)return K1(e,function(o,s){return P9(t,r,e,o,s,n)},!0),e;if(r.A!==t)return e;if(!r.P)return e3(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=h8(r.k):r.o;K1(r.i===3?new Set(i):i,function(o,s){return P9(t,r,i,o,s,n)}),e3(t,i,!1),n&&t.u&&sh("Patches").R(r,n,t.u,t.s)}return r.o}function P9(t,e,n,r,i,o){if(X1(i)){var s=JM(t,i,o&&e&&e.i!==3&&!c$(e.D,r)?o.concat(r):void 0);if(goe(n,r,s),!X1(s))return;t.m=!1}if(jp(i)&&!g8(i)){if(!t.h.F&&t._<1)return;JM(t,i),e&&e.A.l||e3(t,i)}}function e3(t,e,n){n===void 0&&(n=!1),t.h.F&&t.m&&p8(e,n)}function KR(t,e){var n=t[Do];return(n?Va(n):t)[e]}function O9(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function vp(t){t.P||(t.P=!0,t.l&&vp(t.l))}function ZR(t){t.o||(t.o=h8(t.t))}function lS(t,e,n){var r=f8(e)?sh("MapSet").N(e,n):d8(e)?sh("MapSet").T(e,n):t.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:ZM(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,c=d$;s&&(l=[a],c=Ew);var u=Proxy.revocable(l,c),f=u.revoke,d=u.proxy;return a.k=d,a.j=f,d}(e,n):sh("ES5").J(e,n);return(n?n.A:ZM()).p.push(r),r}function tIe(t){return X1(t)||rf(22,t),function e(n){if(!jp(n))return n;var r,i=n[Do],o=E2(n);if(i){if(!i.P&&(i.i<4||!sh("ES5").K(i)))return i.t;i.I=!0,r=M9(n,o),i.I=!1}else r=M9(n,o);return K1(r,function(s,a){i&&KRe(i.t,s)===a||goe(r,s,e(a))}),o===3?new Set(r):r}(t)}function M9(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return h8(t)}function nIe(){function t(a,l){function c(){this.constructor=a}i(a,l),a.prototype=(c.prototype=l.prototype,new c)}function e(a){a.o||(a.D=new Map,a.o=new Map(a.t))}function n(a){a.o||(a.o=new Set,a.t.forEach(function(l){if(jp(l)){var c=lS(a.A.h,l,a);a.p.set(l,c),a.o.add(c)}else a.o.add(l)}))}function r(a){a.O&&rf(3,JSON.stringify(Va(a)))}var i=function(a,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])})(a,l)},o=function(){function a(c,u){return this[Do]={i:2,l:u,A:u?u.A:ZM(),P:!1,I:!1,o:void 0,D:void 0,t:c,k:this,C:!1,O:!1},this}t(a,Map);var l=a.prototype;return Object.defineProperty(l,"size",{get:function(){return Va(this[Do]).size}}),l.has=function(c){return Va(this[Do]).has(c)},l.set=function(c,u){var f=this[Do];return r(f),Va(f).has(c)&&Va(f).get(c)===u||(e(f),vp(f),f.D.set(c,!0),f.o.set(c,u),f.D.set(c,!0)),this},l.delete=function(c){if(!this.has(c))return!1;var u=this[Do];return r(u),e(u),vp(u),u.t.has(c)?u.D.set(c,!1):u.D.delete(c),u.o.delete(c),!0},l.clear=function(){var c=this[Do];r(c),Va(c).size&&(e(c),vp(c),c.D=new Map,K1(c.t,function(u){c.D.set(u,!1)}),c.o.clear())},l.forEach=function(c,u){var f=this;Va(this[Do]).forEach(function(d,h){c.call(u,f.get(h),h,f)})},l.get=function(c){var u=this[Do];r(u);var f=Va(u).get(c);if(u.I||!jp(f)||f!==u.t.get(c))return f;var d=lS(u.A.h,f,u);return e(u),u.o.set(c,d),d},l.keys=function(){return Va(this[Do]).keys()},l.values=function(){var c,u=this,f=this.keys();return(c={})[cP]=function(){return u.values()},c.next=function(){var d=f.next();return d.done?d:{done:!1,value:u.get(d.value)}},c},l.entries=function(){var c,u=this,f=this.keys();return(c={})[cP]=function(){return u.entries()},c.next=function(){var d=f.next();if(d.done)return d;var h=u.get(d.value);return{done:!1,value:[d.value,h]}},c},l[cP]=function(){return this.entries()},a}(),s=function(){function a(c,u){return this[Do]={i:3,l:u,A:u?u.A:ZM(),P:!1,I:!1,o:void 0,t:c,k:this,p:new Map,O:!1,C:!1},this}t(a,Set);var l=a.prototype;return Object.defineProperty(l,"size",{get:function(){return Va(this[Do]).size}}),l.has=function(c){var u=this[Do];return r(u),u.o?!!u.o.has(c)||!(!u.p.has(c)||!u.o.has(u.p.get(c))):u.t.has(c)},l.add=function(c){var u=this[Do];return r(u),this.has(c)||(n(u),vp(u),u.o.add(c)),this},l.delete=function(c){if(!this.has(c))return!1;var u=this[Do];return r(u),n(u),vp(u),u.o.delete(c)||!!u.p.has(c)&&u.o.delete(u.p.get(c))},l.clear=function(){var c=this[Do];r(c),Va(c).size&&(n(c),vp(c),c.o.clear())},l.values=function(){var c=this[Do];return r(c),n(c),c.o.values()},l.entries=function(){var c=this[Do];return r(c),n(c),c.o.entries()},l.keys=function(){return this.values()},l[cP]=function(){return this.values()},l.forEach=function(c,u){for(var f=this.values(),d=f.next();!d.done;)c.call(u,d.value,d.value,this),d=f.next()},a}();JRe("MapSet",{N:function(a,l){return new o(a,l)},T:function(a,l){return new s(a,l)}})}var A9,cS,v8=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",rIe=typeof Map<"u",iIe=typeof Set<"u",k9=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",voe=v8?Symbol.for("immer-nothing"):((A9={})["immer-nothing"]=!0,A9),D9=v8?Symbol.for("immer-draftable"):"__$immer_draftable",Do=v8?Symbol.for("immer-state"):"__$immer_state",cP=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",oIe=""+Object.prototype.constructor,m8=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,sIe=Object.getOwnPropertyDescriptors||function(t){var e={};return m8(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},f$={},d$={get:function(t,e){if(e===Do)return t;var n=Va(t);if(!c$(n,e))return function(i,o,s){var a,l=O9(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!jp(r)?r:r===KR(t.t,e)?(ZR(t),t.o[e]=lS(t.A.h,r,t)):r},has:function(t,e){return e in Va(t)},ownKeys:function(t){return Reflect.ownKeys(Va(t))},set:function(t,e,n){var r=O9(Va(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=KR(Va(t),e),o=i==null?void 0:i[Do];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(ZRe(n,i)&&(n!==void 0||c$(t.t,e)))return!0;ZR(t),vp(t)}return t.o[e]===n&&typeof n!="number"&&(n!==void 0||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return KR(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,ZR(t),vp(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Va(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){rf(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){rf(12)}},Ew={};K1(d$,function(t,e){Ew[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ew.deleteProperty=function(t,e){return Ew.set.call(this,t,e,void 0)},Ew.set=function(t,e,n){return d$.set.call(this,t[0],e,n,t[0])};var aIe=function(){function t(n){var r=this;this.g=k9,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var m=this;g===void 0&&(g=a);for(var y=arguments.length,b=Array(y>1?y-1:0),C=1;C<y;C++)b[C-1]=arguments[C];return l.produce(g,function(E){var _;return(_=o).call.apply(_,[m,E].concat(b))})}}var c;if(typeof o!="function"&&rf(6),s!==void 0&&typeof s!="function"&&rf(7),jp(i)){var u=T9(r),f=lS(r,i,void 0),d=!0;try{c=o(f),d=!1}finally{d?QM(u):u$(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return qR(u,s),XR(g,u)},function(g){throw QM(u),g}):(qR(u,s),XR(c,u))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===voe&&(c=void 0),r.F&&p8(c,!0),s){var h=[],p=[];sh("Patches").M(i,c,h,p),s(h,p)}return c}rf(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return r.produceWithPatches(c,function(h){return i.apply(void 0,[h].concat(f))})};var s,a,l=r.produce(i,o,function(c,u){s=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){jp(n)||rf(8),X1(n)&&(n=tIe(n));var r=T9(this),i=lS(this,n,void 0);return i[Do].C=!0,u$(r),i},e.finishDraft=function(n,r){var i=n&&n[Do],o=i.A;return qR(o,r),XR(void 0,o)},e.setAutoFreeze=function(n){this.F=n},e.setUseProxies=function(n){n&&!k9&&rf(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=sh("Patches").$;return X1(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),vu=new aIe,lIe=vu.produce;vu.produceWithPatches.bind(vu);var cIe=vu.setAutoFreeze.bind(vu);vu.setUseProxies.bind(vu);vu.applyPatches.bind(vu);var uIe=vu.createDraft.bind(vu),fIe=vu.finishDraft.bind(vu);nIe();cIe(!1);var Wf;(function(t){t.EMPTY_VALUE=Symbol("EMPTY_MODEL_VALUE");function e(r){return r!==t.EMPTY_VALUE}t.isValidValue=e;function n(r){return r.pipe(jRe(),zRe(i=>e(i)),WRe(17,poe,{leading:!1,trailing:!0}))}t.defaultPipeFunction=n})(Wf||(Wf={}));class R0{constructor(e=Wf.EMPTY_VALUE,n=30){this.toDispose=new Ei,this.watch=(r,i=Wf.defaultPipeFunction)=>{this.subject$.observers.length+1>this.maxSubscription&&console.warn(`${this.subject$} reach maxSubscription limitation, please check`);const s=(i?i(this.subject$):this.subject$).subscribe(r);return Zn.create(()=>{s.unsubscribe()})},this.getValue=()=>this.subject$.getValue(),this.setValue=r=>{if(!!this.subject$){if(typeof r=="function"){const i=this.subject$.getValue(),o=lIe(i,s=>{r(s)});Wf.isValidValue(o)&&this.setValue(o);return}this.subject$.next(r)}},this.hasValidValue=()=>{const r=this.getValue();return Wf.isValidValue(r)},this.getValidValue=()=>ie(this,void 0,void 0,function*(){const r=new Ec;if(this.hasValidValue())return this.getValue();const i=this.watch(o=>{Wf.isValidValue(o)&&(r.resolve(o),i.dispose())});return r.promise}),this.dispose=()=>{this.toDispose.dispose()},this.subject$=new RRe(e||Wf.EMPTY_VALUE),this.maxSubscription=n,this.toDispose.push(Zn.create(()=>{this.subject$.complete(),this.subject$.unsubscribe(),this.subject$=null}))}}const nm=yo.defineToken("IFrontendApplicationContribution"),J0=Symbol("IGraphCommandService"),si=yo.defineToken("ICommandHandler"),Zr=Symbol("ICommandContextProvider"),y8=Symbol("IGraphCommandFactory"),Jk=yo.defineToken("IGraphCommandContribution");var h$;(function(t){function e(i){return!!i&&i===Object(i)&&"id"in i}t.is=e;function n(i,o){if(i.label&&o.label){const s=(i.category?`${i.category}: ${i.label}`:i.label).toLowerCase(),a=(o.category?`${o.category}: ${o.label}`:o.label).toLowerCase();return s.localeCompare(a)}else return 0}t.compareCommands=n;function r(i,o){return i.id===o.id&&i.label===o.label&&i.iconName===o.iconName&&i.category===o.category}t.equals=r})(h$||(h$={}));let p$=class{constructor(e){this.contributionProvider=e,this.redoStack=[],this.undoStack=[],this.commands=new Map,this.factories=new Map,this.disposables=new Map,this.cmdChangeEvent=new R0(null),this.Globals=new R0(new Map),this.setGlobal=(n,r)=>{this.Globals.setValue(i=>{i.set(n,r)})},this.getGlobal=n=>this.Globals.getValue().get(n),this.undoCommand=()=>ie(this,void 0,void 0,function*(){const n=this.undoStack.pop();if(!n){console.error("empty undo stack");return}yield n.undo(),this.redoStack.push(n),this.cmdChangeEvent.setValue(null)}),this.redoCommand=()=>ie(this,void 0,void 0,function*(){const n=this.redoStack.pop();if(!n){console.error("empty undo stack");return}yield n.redo(),this.undoStack.push(n),this.cmdChangeEvent.setValue(null)}),this.registerDisposableCommand=n=>{const r=new Ei;return n({registerCommand:(o,s)=>{const a=this.registerCommand(o,s);return r.push(a),a}}),r}}get watchChange(){return this.cmdChangeEvent.watch}onStart(){const e=this.contributionProvider.getContributions();for(const n of e)n.registerGraphCommands(this)}executeCommandPipeline(e){return ie(this,void 0,void 0,function*(){let n=null;for(const r of e){const i=n==null?void 0:n.contextProvider(),{args:o,hooks:s}=yield r==null?void 0:r.getCommandOption(i);n=yield this.executeCommand(r==null?void 0:r.commandId,o,s)}return this.cmdChangeEvent.setValue(null),n})}executeCommand(e,n,r=[]){return ie(this,void 0,void 0,function*(){const i=this.getFactory(e);if(i){const o=yield i.createCommand(e,n,r);return yield o.execute(),o.isUndoable()&&this.undoStack.push(o),this.cmdChangeEvent.setValue(null),o}throw Object.assign(new Error(`The command '${e}' cannot be executed. There are no active handlers available for the command.`),{code:"NO_ACTIVE_HANDLER"})})}executeUndoCommand(e,n,r=[]){return ie(this,void 0,void 0,function*(){const i=this.getFactory(e);if(i){const o=yield i.createCommand(e,n,r);return yield o.execute(),o}throw Object.assign(new Error(`The command '${e}' cannot be executed. There are no active handlers available for the command.`),{code:"NO_ACTIVE_HANDLER"})})}createCommand(e,n,r=[]){return ie(this,void 0,void 0,function*(){const i=this.getFactory(e);if(i)return yield i.createCommand(e,n,r);throw Object.assign(new Error(`The command '${e}' cannot be executed. There are no active handlers available for the command.`),{code:"NO_ACTIVE_HANDLER"})})}get isUndoable(){return this.undoStack.length>0}get isRedoable(){return this.redoStack.length>0}hasCommand(e){return this.commands.has(e)}getCommand(e){return this.commands.get(e)}registerCommand(e,n){if(this.factories.has(e.id))return console.warn(`A command ${e.id} is already registered.`),Zn.NULL;const r=new Ei(this.doRegisterCommand(e),this.registerFactory(e.id,n),Zn.create(()=>this.disposables.delete(e.id)));return this.disposables.set(e.id,r),r}doRegisterCommand(e){return this.commands.set(e.id,e),Zn.create(()=>this.disposables.delete(e.id))}unregisterCommand(e){const n=h$.is(e)?e.id:e,r=this.disposables.get(n);r&&r.dispose()}hasFactory(e){return!!this.factories.get(e)}getFactory(e){return this.factories.get(e)}registerFactory(e,n,r=!1){return this.hasFactory(e)&&r===!1&&console.error("cannot register command:",e),this.factories.set(e,n),Zn.create(()=>{this.factories.delete(e)})}getAllFactories(){return Array.from(this.factories.entries())}};p$=lt([Ca({contrib:[nm,J0]}),x1e(0,Kv(Jk)),ht("design:paramtypes",[Object])],p$);const dIe=oc(t=>{ch.register(t,Jk),t(p$)}),ey=yo.defineToken("IModelService"),ty=yo.defineToken("IModelContribution"),moe=Symbol("IModelOptionProvider");var rC;(function(t){t.ASYNC_SRRIES="ASYNC_SRRIES",t.ASYNC_PARALLEL="ASYNC_PARALLEL"})(rC||(rC={}));var b8={exports:{}};b8.exports=function(t){return yoe(hIe(t),t)};b8.exports.array=yoe;function yoe(t,e){var n=t.length,r=new Array(n),i={},o=n,s=pIe(e),a=gIe(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)i[o]||l(t[o],o,new Set);return r;function l(c,u,f){if(f.has(c)){var d;try{d=", node was:"+JSON.stringify(c)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var h=s.get(c)||new Set;if(h=Array.from(h),u=h.length){f.add(c);do{var p=h[--u];l(p,a.get(p),f)}while(u);f.delete(c)}r[--n]=c}}}function hIe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function pIe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function gIe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var Z1;(function(t){let e;(function(i){i.INVALID_HOOK_BEFORE="INVALID_HOOK_BEFORE",i.INVALID_HOOK_AFTER="INVALID_HOOK_AFTER",i.INVALID_HOOK_ARGS_LENGTH="INVALID_HOOK_ARGS_LENGTH"})(e=t.ErrorEnum||(t.ErrorEnum={}));class n extends Error{constructor(o,s,...a){Array.isArray(s)&&(s=s.filter(function(l){return!!l}).join(" ")),super(`${o}: ${s}`),Error.captureStackTrace&&Error.captureStackTrace(this,n),this.code=o,this.contexts={},a.forEach(l=>{typeof l=="object"&&Object.entries(l).forEach(c=>{const[u,f]=c;u!=="key"&&f&&(this.contexts[u]=JSON.parse(JSON.stringify(f)))})})}toString(){return`${this.code}: ${this.message}`}}t.HookError=n;const r=(i,o,...s)=>new n(i,o,...s);t.HookBeforeError=()=>r(e.INVALID_HOOK_BEFORE,["hook require a before dependency but not exist in hookmap"]),t.HookAfterError=()=>r(e.INVALID_HOOK_AFTER,["hook require a after dependency but not exist in hookmap"]),t.InvalidHookArguments=i=>r(e.INVALID_HOOK_ARGS_LENGTH,["hook handlers must have 0 to 2 arguments",`but got ${i.handler.length}`])})(Z1||(Z1={}));var t3;(function(t){t.normalize=(e=[],n)=>{const r=Array.isArray(e)?e:[e],i=[];return n.forEach(o=>{i.push(o)}),[...i,...r].filter(o=>o&&!!o.handler)},t.sort=(e=[],n)=>{const r=[];return e.forEach(o=>{if(o.before){if(!n.has(o.before))throw Z1.HookBeforeError();const s=[o,n.get(o.before)];r.push(s)}if(o.after){if(!n.has(o.after))throw Z1.HookBeforeError();const s=[n.get(o.after),o];r.push(s)}}),b8.exports.array(e,r)}})(t3||(t3={}));class vIe{constructor(){this.isResolved=!1,this.isRejected=!1,this.promise=new Promise((e,n)=>{this.resolve=r=>{this.isResolved=!0,e(r)},this.reject=r=>{this.isRejected=!0,n(r)}})}}class Yf{constructor(e){this.scheduleType=rC.ASYNC_SRRIES,this.hasHook=n=>this.hookMap.has(n),this.getHooks=(n=[],r=!0)=>{const i=t3.normalize(n,this.hookMap);return r?t3.sort(i,this.hookMap):i},this.registerHook=n=>(this.hookMap.has(n.name)&&console.error(`${n.name} is duplicated in hookmap`),this.hookMap.set(n.name,n),{dispose:()=>{this.hookMap.delete(n.name)}}),this.call=(n,r=o=>ie(this,void 0,void 0,function*(){return o}),i=[])=>ie(this,void 0,void 0,function*(){const o=this.getHooks(i,!0),s=this.schedulers[this.scheduleType];return s(n,r,o)}),this.schedulers={[rC.ASYNC_SRRIES]:(n,r,i=[])=>ie(this,void 0,void 0,function*(){let o=r;for(const s of i){if([0,1].includes(s.handler.length)){yield s.handler.call(this,n);continue}if([2].includes(s.handler.length)&&o!==null){const l=yield s.handler.call(this,n,o);if(l===null){o=null;break}else if(typeof l=="function"){o=l;continue}}throw Z1.InvalidHookArguments(s)}if(o)return yield o.call(this,n)}),[rC.ASYNC_PARALLEL]:(n,r,i=[])=>ie(this,void 0,void 0,function*(){const o=i.map(a=>{if([0,1].includes(a.handler.length))return a.handler.call(this,n);if([2].includes(a.handler.length))return a.handler.call(this,n,r);throw Z1.InvalidHookArguments(a)}),s=new vIe;if(Promise.all(o).then(a=>s.resolve(a)),r)return yield r.call(this,s)})},this.hookMap=new Map,e&&e.type&&(this.scheduleType=e.type)}}const x8=yo.defineToken("IHookService"),pf=yo.defineToken("IHookContribution"),mIe=()=>({graphOptions:new Yf,reactNodeRender:new Yf,reactEdgeLabelRender:new Yf,afterGraphInit:new Yf,beforeGraphDestroy:new Yf,x6Events:new Yf}),N9=()=>({dispose:()=>{}});var g$;(function(t){t.CONFIG_TYPE="XFlowHook"})(g$||(g$={}));class uS{constructor(){this.CONFIG_TYPE=g$.CONFIG_TYPE,this.time=Date.now(),this.setRegisterHook=e=>{this.hookRegisterFunc=e},this.setRegisterHookhub=e=>{this.hookhubRegisterFn=e},this.getConfig=()=>ie(this,void 0,void 0,function*(){return{CONFIG_TYPE:this.CONFIG_TYPE,hookRegisterFn:this.hookRegisterFunc||N9,hookhubRegisterFn:this.hookhubRegisterFn||N9}}),this.dispose=()=>{}}}let n3=class{constructor(){this.toDispose=new Ei,this.hookProvider=()=>this.hooks,this.registerHook=e=>e(this.hooks),this.registerHookHub=(e,n)=>(this.hooks[e]=n,{dispose:()=>{delete this.hooks[e]}}),this.onStart=()=>ie(this,void 0,void 0,function*(){const e=this.contributionProvider.getContributions();for(const n of e)n.registerHookHub(this);for(const n of e)n.registerHook(this.hooks)}),this.hooks=mIe()}onStop(){this.toDispose.dispose()}};lt([Kv(pf),ht("design:type",Object)],n3.prototype,"contributionProvider",void 0);n3=lt([Ca({contrib:[nm,x8]}),ht("design:paramtypes",[])],n3);var R9;(function(t){t.pluginId="GraphEventPlugin"})(R9||(R9={}));let r3=class{constructor(){this.toDispose=new Ei,this.registerHook=e=>ie(this,void 0,void 0,function*(){const{hookRegisterFn:n}=yield this.hookConfig.getConfig(),r=n(e);return Zn.create(()=>{r.dispose()})}),this.registerHookHub=e=>ie(this,void 0,void 0,function*(){const{hookhubRegisterFn:n}=yield this.hookConfig.getConfig(),r=n(e);return Zn.create(()=>{r.dispose()})})}};lt([jn(uS),ht("design:type",uS)],r3.prototype,"hookConfig",void 0);r3=lt([Ca({contrib:pf})],r3);const yIe=()=>null,I9={dispose:yIe};function bIe(t){let e;return()=>{e||(e=requestAnimationFrame(()=>{e=null,t()}))}}const xIe=t=>{const e=document.createElement("style");return e.setAttribute("type","text/css"),document.head.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),e};function wIe(t){return typeof t=="function"&&!!t.prototype.isReactComponent}function CIe(t){return typeof t=="function"&&String(t).includes("return React.createElement")}function uP(t){return wIe(t)||CIe(t)}var iC;(function(t){t.pluginId="base-graph-events"})(iC||(iC={}));let i3=class{constructor(){this.toDispose=new Ei,this.registerHookHub=()=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{})}),this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.x6Events.registerHook({name:iC.pluginId,handler:i=>ie(this,void 0,void 0,function*(){const{events:o}=yield this.graphOptions.getOptions();o.forEach(s=>{i.push(s)})})}),e.afterGraphInit.registerHook({name:iC.pluginId,handler:i=>ie(this,void 0,void 0,function*(){const{commandService:o,modelService:s,graph:a}=i,l=yield e.x6Events.call([],c=>ie(this,void 0,void 0,function*(){return c.map(u=>{const f=d=>{u.callback(d,o,s,a)};return a.on(u.eventName,f),{dispose:()=>{a.off(u.eventName,f)}}})}));n.pushAll(l)})}),e.afterGraphInit.registerHook({name:"add auto resize event",handler:i=>ie(this,void 0,void 0,function*(){const{commandService:o,options:s,graph:a}=i,l=bIe(()=>{o.executeCommand(Pr.GRAPH_RESIZE.id,{})});window.addEventListener("resize",l);const{rootContainer:c}=s,u=new ResizeObserver(()=>a.resize(c.clientWidth));c&&u.observe(c),n.push(Zn.create(()=>{window.removeEventListener("resize",l)}))})}),e.beforeGraphDestroy.registerHook({name:iC.pluginId,handler:()=>ie(this,void 0,void 0,function*(){n.dispose()})})];return n.pushAll(r),n})}};lt([jn(aS),ht("design:type",Object)],i3.prototype,"graphOptions",void 0);i3=lt([Ca({contrib:pf})],i3);const SIe=t=>oc(e=>{ch.register(e,pf),e(r3),e(i3),e(n3),e(uS,{useValue:t})});var Fv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",f=1,d=2,h=4,p=1,g=2,m=1,y=2,b=4,C=8,E=16,_=32,w=64,M=128,k=256,I=512,A=30,N="...",$=800,L=16,B=1,j=2,H=3,te=1/0,Y=9007199254740991,ue=17976931348623157e292,ce=0/0,se=4294967295,fe=se-1,me=se>>>1,K=[["ary",M],["bind",m],["bindKey",y],["curry",C],["curryRight",E],["flip",I],["partial",_],["partialRight",w],["rearg",k]],le="[object Arguments]",Ne="[object Array]",Re="[object AsyncFunction]",Je="[object Boolean]",$e="[object Date]",tt="[object DOMException]",Pt="[object Error]",bt="[object Function]",X="[object GeneratorFunction]",ve="[object Map]",ne="[object Number]",ke="[object Null]",je="[object Object]",Ve="[object Promise]",$t="[object Proxy]",Ct="[object RegExp]",ln="[object Set]",bn="[object String]",Z="[object Symbol]",J="[object Undefined]",xe="[object WeakMap]",Se="[object WeakSet]",ze="[object ArrayBuffer]",ot="[object DataView]",yn="[object Float32Array]",xt="[object Float64Array]",It="[object Int8Array]",qe="[object Int16Array]",Tt="[object Int32Array]",Dt="[object Uint8Array]",_n="[object Uint8ClampedArray]",lr="[object Uint16Array]",Qn="[object Uint32Array]",Wn=/\b__p \+= '';/g,In=/\b(__p \+=) '' \+/g,en=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pn=/&(?:amp|lt|gt|quot|#39);/g,Sr=/[&<>"']/g,Fn=RegExp(Pn.source),ro=RegExp(Sr.source),wo=/<%-([\s\S]+?)%>/g,Tr=/<%([\s\S]+?)%>/g,Yt=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dn=/^\w*$/,zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,Gr=RegExp(On.source),qo=/^\s+/,Hr=/\s/,Qi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vi=/\{\n\/\* \[wrapped with (.+)\] \*/,ys=/,? & /,qr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bs=/[()=,{}\[\]\/\s]/,io=/\\(\\)?/g,Fo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xs=/\w*$/,ua=/^[-+]0x[0-9a-f]+$/i,Sa=/^0b[01]+$/i,Xr=/^\[object .+?Constructor\]$/,Fr=/^0o[0-7]+$/i,fr=/^(?:0|[1-9]\d*)$/,er=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oo=/($^)/,ws=/['\n\r\u2028\u2029\\]/g,Ia="\\ud800-\\udfff",xl="\\u0300-\\u036f",wl="\\ufe20-\\ufe2f",el="\\u20d0-\\u20ff",Cl=xl+wl+el,ho="\\u2700-\\u27bf",ti="a-z\\xdf-\\xf6\\xf8-\\xff",Br="\\xac\\xb1\\xd7\\xf7",Di="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tr="\\u2000-\\u206f",or=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ui="A-Z\\xc0-\\xd6\\xd8-\\xde",Hi="\\ufe0e\\ufe0f",po=Br+Di+tr+or,Ms="['\u2019]",As="["+Ia+"]",zo="["+po+"]",fa="["+Cl+"]",da="\\d+",ha="["+ho+"]",Fl="["+ti+"]",$a="[^"+Ia+po+da+ho+ti+Ui+"]",La="\\ud83c[\\udffb-\\udfff]",md="(?:"+fa+"|"+La+")",cg="[^"+Ia+"]",Tu="(?:\\ud83c[\\udde6-\\uddff]){2}",Ic="[\\ud800-\\udbff][\\udc00-\\udfff]",Uo="["+Ui+"]",Ws="\\u200d",$c="(?:"+Fl+"|"+$a+")",ug="(?:"+Uo+"|"+$a+")",Eh="(?:"+Ms+"(?:d|ll|m|re|s|t|ve))?",yd="(?:"+Ms+"(?:D|LL|M|RE|S|T|VE))?",_h=md+"?",xf="["+Hi+"]?",Pu="(?:"+Ws+"(?:"+[cg,Tu,Ic].join("|")+")"+xf+_h+")*",bd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xd=xf+_h+Pu,fg="(?:"+[ha,Tu,Ic].join("|")+")"+xd,am="(?:"+[cg+fa+"?",fa,Tu,Ic,As].join("|")+")",Th=RegExp(Ms,"g"),dg=RegExp(fa,"g"),Lc=RegExp(La+"(?="+La+")|"+am+xd,"g"),Ph=RegExp([Uo+"?"+Fl+"+"+Eh+"(?="+[zo,Uo,"$"].join("|")+")",ug+"+"+yd+"(?="+[zo,Uo+$c,"$"].join("|")+")",Uo+"?"+$c+"+"+Eh,Uo+"+"+yd,sm,bd,da,fg].join("|"),"g"),zl=RegExp("["+Ws+Ia+Cl+Hi+"]"),wd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ou=-1,Ji={};Ji[yn]=Ji[xt]=Ji[It]=Ji[qe]=Ji[Tt]=Ji[Dt]=Ji[_n]=Ji[lr]=Ji[Qn]=!0,Ji[le]=Ji[Ne]=Ji[ze]=Ji[Je]=Ji[ot]=Ji[$e]=Ji[Pt]=Ji[bt]=Ji[ve]=Ji[ne]=Ji[je]=Ji[Ct]=Ji[ln]=Ji[bn]=Ji[xe]=!1;var so={};so[le]=so[Ne]=so[ze]=so[ot]=so[Je]=so[$e]=so[yn]=so[xt]=so[It]=so[qe]=so[Tt]=so[ve]=so[ne]=so[je]=so[Ct]=so[ln]=so[bn]=so[Z]=so[Dt]=so[_n]=so[lr]=so[Qn]=!0,so[Pt]=so[bt]=so[xe]=!1;var Oh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gl=parseFloat,Cd=parseInt,Sd=typeof ou=="object"&&ou&&ou.Object===Object&&ou,S=typeof self=="object"&&self&&self.Object===Object&&self,O=Sd||S||Function("return this")(),R=e&&!e.nodeType&&e,F=R&&!0&&t&&!t.nodeType&&t,U=F&&F.exports===R,W=U&&Sd.process,ee=function(){try{var We=F&&F.require&&F.require("util").types;return We||W&&W.binding&&W.binding("util")}catch{}}(),Ae=ee&&ee.isArrayBuffer,Oe=ee&&ee.isDate,Ze=ee&&ee.isMap,vt=ee&&ee.isRegExp,Ht=ee&&ee.isSet,ut=ee&&ee.isTypedArray;function mt(We,kt,gt){switch(gt.length){case 0:return We.call(kt);case 1:return We.call(kt,gt[0]);case 2:return We.call(kt,gt[0],gt[1]);case 3:return We.call(kt,gt[0],gt[1],gt[2])}return We.apply(kt,gt)}function cr(We,kt,gt,Un){for(var zr=-1,mi=We==null?0:We.length;++zr<mi;){var is=We[zr];kt(Un,is,gt(is),We)}return Un}function rr(We,kt){for(var gt=-1,Un=We==null?0:We.length;++gt<Un&&kt(We[gt],gt,We)!==!1;);return We}function sr(We,kt){for(var gt=We==null?0:We.length;gt--&&kt(We[gt],gt,We)!==!1;);return We}function ao(We,kt){for(var gt=-1,Un=We==null?0:We.length;++gt<Un;)if(!kt(We[gt],gt,We))return!1;return!0}function Ri(We,kt){for(var gt=-1,Un=We==null?0:We.length,zr=0,mi=[];++gt<Un;){var is=We[gt];kt(is,gt,We)&&(mi[zr++]=is)}return mi}function Cs(We,kt){var gt=We==null?0:We.length;return!!gt&&So(We,kt,0)>-1}function Ti(We,kt,gt){for(var Un=-1,zr=We==null?0:We.length;++Un<zr;)if(gt(kt,We[Un]))return!0;return!1}function Vn(We,kt){for(var gt=-1,Un=We==null?0:We.length,zr=Array(Un);++gt<Un;)zr[gt]=kt(We[gt],gt,We);return zr}function Go(We,kt){for(var gt=-1,Un=kt.length,zr=We.length;++gt<Un;)We[zr+gt]=kt[gt];return We}function Mn(We,kt,gt,Un){var zr=-1,mi=We==null?0:We.length;for(Un&&mi&&(gt=We[++zr]);++zr<mi;)gt=kt(gt,We[zr],zr,We);return gt}function sn(We,kt,gt,Un){var zr=We==null?0:We.length;for(Un&&zr&&(gt=We[--zr]);zr--;)gt=kt(gt,We[zr],zr,We);return gt}function Yn(We,kt){for(var gt=-1,Un=We==null?0:We.length;++gt<Un;)if(kt(We[gt],gt,We))return!0;return!1}var Jn=tl("length");function vi(We){return We.split("")}function Ea(We){return We.match(qr)||[]}function Co(We,kt,gt){var Un;return gt(We,function(zr,mi,is){if(kt(zr,mi,is))return Un=mi,!1}),Un}function Wi(We,kt,gt,Un){for(var zr=We.length,mi=gt+(Un?1:-1);Un?mi--:++mi<zr;)if(kt(We[mi],mi,We))return mi;return-1}function So(We,kt,gt){return kt===kt?$i(We,kt,gt):Wi(We,ea,gt)}function go(We,kt,gt,Un){for(var zr=gt-1,mi=We.length;++zr<mi;)if(Un(We[zr],kt))return zr;return-1}function ea(We){return We!==We}function Ss(We,kt){var gt=We==null?0:We.length;return gt?Mh(We,kt)/gt:ce}function tl(We){return function(kt){return kt==null?n:kt[We]}}function Au(We){return function(kt){return We==null?n:We[kt]}}function Ii(We,kt,gt,Un,zr){return zr(We,function(mi,is,Li){gt=Un?(Un=!1,mi):kt(gt,mi,is,Li)}),gt}function Fc(We,kt){var gt=We.length;for(We.sort(kt);gt--;)We[gt]=We[gt].value;return We}function Mh(We,kt){for(var gt,Un=-1,zr=We.length;++Un<zr;){var mi=kt(We[Un]);mi!==n&&(gt=gt===n?mi:gt+mi)}return gt}function Ah(We,kt){for(var gt=-1,Un=Array(We);++gt<We;)Un[gt]=kt(gt);return Un}function X2(We,kt){return Vn(kt,function(gt){return[gt,We[gt]]})}function kh(We){return We&&We.slice(0,yg(We)+1).replace(qo,"")}function nl(We){return function(kt){return We(kt)}}function Ed(We,kt){return Vn(kt,function(gt){return We[gt]})}function ku(We,kt){return We.has(kt)}function pg(We,kt){for(var gt=-1,Un=We.length;++gt<Un&&So(kt,We[gt],0)>-1;);return gt}function gg(We,kt){for(var gt=We.length;gt--&&So(kt,We[gt],0)>-1;);return gt}function zc(We,kt){for(var gt=We.length,Un=0;gt--;)We[gt]===kt&&++Un;return Un}var lm=Au(Oh),cm=Au(wf);function um(We){return"\\"+Mu[We]}function Sf(We,kt){return We==null?n:We[kt]}function Ef(We){return zl.test(We)}function vg(We){return wd.test(We)}function cc(We){for(var kt,gt=[];!(kt=We.next()).done;)gt.push(kt.value);return gt}function Sl(We){var kt=-1,gt=Array(We.size);return We.forEach(function(Un,zr){gt[++kt]=[zr,Un]}),gt}function mg(We,kt){return function(gt){return We(kt(gt))}}function uc(We,kt){for(var gt=-1,Un=We.length,zr=0,mi=[];++gt<Un;){var is=We[gt];(is===kt||is===u)&&(We[gt]=u,mi[zr++]=gt)}return mi}function _d(We){var kt=-1,gt=Array(We.size);return We.forEach(function(Un){gt[++kt]=Un}),gt}function vy(We){var kt=-1,gt=Array(We.size);return We.forEach(function(Un){gt[++kt]=[Un,Un]}),gt}function $i(We,kt,gt){for(var Un=gt-1,zr=We.length;++Un<zr;)if(We[Un]===kt)return Un;return-1}function Td(We,kt,gt){for(var Un=gt+1;Un--;)if(We[Un]===kt)return Un;return Un}function Ys(We){return Ef(We)?K2(We):Jn(We)}function No(We){return Ef(We)?fm(We):vi(We)}function yg(We){for(var kt=We.length;kt--&&Hr.test(We.charAt(kt)););return kt}var my=Au(Cf);function K2(We){for(var kt=Lc.lastIndex=0;Lc.test(We);)++kt;return kt}function fm(We){return We.match(Lc)||[]}function yy(We){return We.match(Ph)||[]}var _f=function We(kt){kt=kt==null?O:Du.defaults(O.Object(),kt,Du.pick(O,hg));var gt=kt.Array,Un=kt.Date,zr=kt.Error,mi=kt.Function,is=kt.Math,Li=kt.Object,dm=kt.RegExp,ae=kt.String,_e=kt.TypeError,Ge=gt.prototype,Ft=mi.prototype,Qe=Li.prototype,jt=kt["__core-js_shared__"],tn=Ft.toString,qt=Qe.hasOwnProperty,Ln=0,yr=function(){var v=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),qn=Qe.toString,br=tn.call(Li),ni=O._,vo=dm("^"+tn.call(qt).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xr=U?kt.Buffer:n,Eo=kt.Symbol,Es=kt.Uint8Array,_a=xr?xr.allocUnsafe:n,_o=mg(Li.getPrototypeOf,Li),Bl=Li.create,Ho=Qe.propertyIsEnumerable,ta=Ge.splice,Z2=Eo?Eo.isConcatSpreadable:n,Gc=Eo?Eo.iterator:n,Pd=Eo?Eo.toStringTag:n,hm=function(){try{var v=yt(Li,"defineProperty");return v({},"",{}),v}catch{}}(),sN=kt.clearTimeout!==O.clearTimeout&&kt.clearTimeout,aN=Un&&Un.now!==O.Date.now&&Un.now,lN=kt.setTimeout!==O.setTimeout&&kt.setTimeout,by=is.ceil,bg=is.floor,xy=Li.getOwnPropertySymbols,cN=xr?xr.isBuffer:n,Q2=kt.isFinite,U_=Ge.join,uN=mg(Li.keys,Li),_s=is.max,Fa=is.min,Od=Un.now,wy=kt.parseInt,J2=is.random,H_=Ge.reverse,Cy=yt(kt,"DataView"),xg=yt(kt,"Map"),Sy=yt(kt,"Promise"),Dh=yt(kt,"Set"),wg=yt(kt,"WeakMap"),Cg=yt(Li,"create"),pm=wg&&new wg,za={},W_=Ro(Cy),fN=Ro(xg),Tf=Ro(Sy),ex=Ro(Dh),Nh=Ro(wg),Rh=Eo?Eo.prototype:n,Sg=Rh?Rh.valueOf:n,tx=Rh?Rh.toString:n;function oe(v){if(Xs(v)&&!ri(v)&&!(v instanceof Pi)){if(v instanceof fc)return v;if(qt.call(v,"__wrapped__"))return qs(v)}return new fc(v)}var Ih=function(){function v(){}return function(x){if(!Ns(x))return{};if(Bl)return Bl(x);v.prototype=x;var P=new v;return v.prototype=n,P}}();function gm(){}function fc(v,x){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=n}oe.templateSettings={escape:wo,evaluate:Tr,interpolate:Yt,variable:"",imports:{_:oe}},oe.prototype=gm.prototype,oe.prototype.constructor=oe,fc.prototype=Ih(gm.prototype),fc.prototype.constructor=fc;function Pi(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function dN(){var v=new Pi(this.__wrapped__);return v.__actions__=El(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=El(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=El(this.__views__),v}function hN(){if(this.__filtered__){var v=new Pi(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function pN(){var v=this.__wrapped__.value(),x=this.__dir__,P=ri(v),z=x<0,q=P?v.length:0,pe=Zt(0,q,this.__views__),Me=pe.start,Le=pe.end,nt=Le-Me,Kt=z?Le:Me-1,Qt=this.__iteratees__,fn=Qt.length,Gn=0,mr=Fa(nt,this.__takeCount__);if(!P||!z&&q==nt&&mr==nt)return Ly(v,this.__actions__);var Ir=[];e:for(;nt--&&Gn<mr;){Kt+=x;for(var bi=-1,$r=v[Kt];++bi<fn;){var Ni=Qt[bi],Yi=Ni.iteratee,Xc=Ni.type,Vl=Yi($r);if(Xc==j)$r=Vl;else if(!Vl){if(Xc==B)continue e;break e}}Ir[Gn++]=$r}return Ir}Pi.prototype=Ih(gm.prototype),Pi.prototype.constructor=Pi;function $h(v){var x=-1,P=v==null?0:v.length;for(this.clear();++x<P;){var z=v[x];this.set(z[0],z[1])}}function gN(){this.__data__=Cg?Cg(null):{},this.size=0}function Y_(v){var x=this.has(v)&&delete this.__data__[v];return this.size-=x?1:0,x}function q_(v){var x=this.__data__;if(Cg){var P=x[v];return P===l?n:P}return qt.call(x,v)?x[v]:n}function vN(v){var x=this.__data__;return Cg?x[v]!==n:qt.call(x,v)}function mN(v,x){var P=this.__data__;return this.size+=this.has(v)?0:1,P[v]=Cg&&x===n?l:x,this}$h.prototype.clear=gN,$h.prototype.delete=Y_,$h.prototype.get=q_,$h.prototype.has=vN,$h.prototype.set=mN;function Bc(v){var x=-1,P=v==null?0:v.length;for(this.clear();++x<P;){var z=v[x];this.set(z[0],z[1])}}function Ey(){this.__data__=[],this.size=0}function yN(v){var x=this.__data__,P=zh(x,v);if(P<0)return!1;var z=x.length-1;return P==z?x.pop():ta.call(x,P,1),--this.size,!0}function bN(v){var x=this.__data__,P=zh(x,v);return P<0?n:x[P][1]}function xN(v){return zh(this.__data__,v)>-1}function wN(v,x){var P=this.__data__,z=zh(P,v);return z<0?(++this.size,P.push([v,x])):P[z][1]=x,this}Bc.prototype.clear=Ey,Bc.prototype.delete=yN,Bc.prototype.get=bN,Bc.prototype.has=xN,Bc.prototype.set=wN;function Pf(v){var x=-1,P=v==null?0:v.length;for(this.clear();++x<P;){var z=v[x];this.set(z[0],z[1])}}function X_(){this.size=0,this.__data__={hash:new $h,map:new(xg||Bc),string:new $h}}function CN(v){var x=we(this,v).delete(v);return this.size-=x?1:0,x}function SN(v){return we(this,v).get(v)}function EN(v){return we(this,v).has(v)}function _N(v,x){var P=we(this,v),z=P.size;return P.set(v,x),this.size+=P.size==z?0:1,this}Pf.prototype.clear=X_,Pf.prototype.delete=CN,Pf.prototype.get=SN,Pf.prototype.has=EN,Pf.prototype.set=_N;function Lh(v){var x=-1,P=v==null?0:v.length;for(this.__data__=new Pf;++x<P;)this.add(v[x])}function Eg(v){return this.__data__.set(v,l),this}function TN(v){return this.__data__.has(v)}Lh.prototype.add=Lh.prototype.push=Eg,Lh.prototype.has=TN;function jc(v){var x=this.__data__=new Bc(v);this.size=x.size}function K_(){this.__data__=new Bc,this.size=0}function nx(v){var x=this.__data__,P=x.delete(v);return this.size=x.size,P}function PN(v){return this.__data__.get(v)}function Z_(v){return this.__data__.has(v)}function ON(v,x){var P=this.__data__;if(P instanceof Bc){var z=P.__data__;if(!xg||z.length<i-1)return z.push([v,x]),this.size=++P.size,this;P=this.__data__=new Pf(z)}return P.set(v,x),this.size=P.size,this}jc.prototype.clear=K_,jc.prototype.delete=nx,jc.prototype.get=PN,jc.prototype.has=Z_,jc.prototype.set=ON;function Q_(v,x){var P=ri(v),z=!P&&Nm(v),q=!P&&!z&&$g(v),pe=!P&&!z&&!q&&Uy(v),Me=P||z||q||pe,Le=Me?Ah(v.length,ae):[],nt=Le.length;for(var Kt in v)(x||qt.call(v,Kt))&&!(Me&&(Kt=="length"||q&&(Kt=="offset"||Kt=="parent")||pe&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||Bt(Kt,nt)))&&Le.push(Kt);return Le}function J_(v){var x=v.length;return x?v[Iy(0,x-1)]:n}function MN(v,x){return Ko(El(v),Ad(x,0,v.length))}function AN(v){return Ko(El(v))}function Fh(v,x,P){(P!==n&&!Df(v[x],P)||P===n&&!(x in v))&&Of(v,x,P)}function vm(v,x,P){var z=v[x];(!(qt.call(v,x)&&Df(z,P))||P===n&&!(x in v))&&Of(v,x,P)}function zh(v,x){for(var P=v.length;P--;)if(Df(v[P][0],x))return P;return-1}function kN(v,x,P,z){return Nu(v,function(q,pe,Me){x(z,q,P(q),Me)}),z}function Gh(v,x){return v&&Iu(x,Ba(x),v)}function _g(v,x){return v&&Iu(x,gc(x),v)}function Of(v,x,P){x=="__proto__"&&hm?hm(v,x,{configurable:!0,enumerable:!0,value:P,writable:!0}):v[x]=P}function Md(v,x){for(var P=-1,z=x.length,q=gt(z),pe=v==null;++P<z;)q[P]=pe?n:YN(v,x[P]);return q}function Ad(v,x,P){return v===v&&(P!==n&&(v=v<=P?v:P),x!==n&&(v=v>=x?v:x)),v}function Ta(v,x,P,z,q,pe){var Me,Le=x&f,nt=x&d,Kt=x&h;if(P&&(Me=q?P(v,z,q,pe):P(v)),Me!==n)return Me;if(!Ns(v))return v;var Qt=ri(v);if(Qt){if(Me=hn(v),!Le)return El(v,Me)}else{var fn=Ot(v),Gn=fn==bt||fn==X;if($g(v))return Rg(v,Le);if(fn==je||fn==le||Gn&&!q){if(Me=nt||Gn?{}:Ut(v),!Le)return nt?hT(v,_g(Me,v)):$d(v,Gh(Me,v))}else{if(!so[fn])return q?v:{};Me=an(v,fn,Le)}}pe||(pe=new jc);var mr=pe.get(v);if(mr)return mr;pe.set(v,Me),nG(v)?v.forEach(function($r){Me.add(Ta($r,x,P,$r,v,pe))}):eG(v)&&v.forEach(function($r,Ni){Me.set(Ni,Ta($r,x,P,Ni,v,pe))});var Ir=Kt?nt?yx:mx:nt?gc:Ba,bi=Qt?n:Ir(v);return rr(bi||v,function($r,Ni){bi&&(Ni=$r,$r=v[Ni]),vm(Me,Ni,Ta($r,x,P,Ni,v,pe))}),Me}function rx(v){var x=Ba(v);return function(P){return _y(P,v,x)}}function _y(v,x,P){var z=P.length;if(v==null)return!z;for(v=Li(v);z--;){var q=P[z],pe=x[q],Me=v[q];if(Me===n&&!(q in v)||!pe(Me))return!1}return!0}function Ty(v,x,P){if(typeof v!="function")throw new _e(s);return Qr(function(){v.apply(n,P)},x)}function Bh(v,x,P,z){var q=-1,pe=Cs,Me=!0,Le=v.length,nt=[],Kt=x.length;if(!Le)return nt;P&&(x=Vn(x,nl(P))),z?(pe=Ti,Me=!1):x.length>=i&&(pe=ku,Me=!1,x=new Lh(x));e:for(;++q<Le;){var Qt=v[q],fn=P==null?Qt:P(Qt);if(Qt=z||Qt!==0?Qt:0,Me&&fn===fn){for(var Gn=Kt;Gn--;)if(x[Gn]===fn)continue e;nt.push(Qt)}else pe(x,fn,z)||nt.push(Qt)}return nt}var Nu=pT(Vc),mm=pT(Oy,!0);function eT(v,x){var P=!0;return Nu(v,function(z,q,pe){return P=!!x(z,q,pe),P}),P}function ym(v,x,P){for(var z=-1,q=v.length;++z<q;){var pe=v[z],Me=x(pe);if(Me!=null&&(Le===n?Me===Me&&!qc(Me):P(Me,Le)))var Le=Me,nt=pe}return nt}function tT(v,x,P,z){var q=v.length;for(P=di(P),P<0&&(P=-P>q?0:q+P),z=z===n||z>q?q:di(z),z<0&&(z+=q),z=P>z?0:iG(z);P<z;)v[P++]=x;return v}function ix(v,x){var P=[];return Nu(v,function(z,q,pe){x(z,q,pe)&&P.push(z)}),P}function pa(v,x,P,z,q){var pe=-1,Me=v.length;for(P||(P=ft),q||(q=[]);++pe<Me;){var Le=v[pe];x>0&&P(Le)?x>1?pa(Le,x-1,P,z,q):Go(q,Le):z||(q[q.length]=Le)}return q}var bm=fx(),Py=fx(!0);function Vc(v,x){return v&&bm(v,x,Ba)}function Oy(v,x){return v&&Py(v,x,Ba)}function xm(v,x){return Ri(x,function(P){return Jh(v[P])})}function kd(v,x){x=Uc(x,v);for(var P=0,z=x.length;v!=null&&P<z;)v=v[lo(x[P++])];return P&&P==z?v:n}function My(v,x,P){var z=x(v);return ri(v)?z:Go(z,P(v))}function Ga(v){return v==null?v===n?J:ke:Pd&&Pd in Li(v)?it(v):pr(v)}function Ay(v,x){return v>x}function ox(v,x){return v!=null&&qt.call(v,x)}function sx(v,x){return v!=null&&x in Li(v)}function nT(v,x,P){return v>=Fa(x,P)&&v<_s(x,P)}function wm(v,x,P){for(var z=P?Ti:Cs,q=v[0].length,pe=v.length,Me=pe,Le=gt(pe),nt=1/0,Kt=[];Me--;){var Qt=v[Me];Me&&x&&(Qt=Vn(Qt,nl(x))),nt=Fa(Qt.length,nt),Le[Me]=!P&&(x||q>=120&&Qt.length>=120)?new Lh(Me&&Qt):n}Qt=v[0];var fn=-1,Gn=Le[0];e:for(;++fn<q&&Kt.length<nt;){var mr=Qt[fn],Ir=x?x(mr):mr;if(mr=P||mr!==0?mr:0,!(Gn?ku(Gn,Ir):z(Kt,Ir,P))){for(Me=pe;--Me;){var bi=Le[Me];if(!(bi?ku(bi,Ir):z(v[Me],Ir,P)))continue e}Gn&&Gn.push(Ir),Kt.push(mr)}}return Kt}function rT(v,x,P,z){return Vc(v,function(q,pe,Me){x(z,P(q),pe,Me)}),z}function Tg(v,x,P){x=Uc(x,v),v=An(v,x);var z=v==null?v:v[lo(de(x))];return z==null?n:mt(z,v,P)}function ky(v){return Xs(v)&&Ga(v)==le}function iT(v){return Xs(v)&&Ga(v)==ze}function oT(v){return Xs(v)&&Ga(v)==$e}function jh(v,x,P,z,q){return v===x?!0:v==null||x==null||!Xs(v)&&!Xs(x)?v!==v&&x!==x:ax(v,x,P,z,jh,q)}function ax(v,x,P,z,q,pe){var Me=ri(v),Le=ri(x),nt=Me?Ne:Ot(v),Kt=Le?Ne:Ot(x);nt=nt==le?je:nt,Kt=Kt==le?je:Kt;var Qt=nt==je,fn=Kt==je,Gn=nt==Kt;if(Gn&&$g(v)){if(!$g(x))return!1;Me=!0,Qt=!1}if(Gn&&!Qt)return pe||(pe=new jc),Me||Uy(v)?yT(v,x,P,z,q,pe):bT(v,x,nt,P,z,q,pe);if(!(P&p)){var mr=Qt&&qt.call(v,"__wrapped__"),Ir=fn&&qt.call(x,"__wrapped__");if(mr||Ir){var bi=mr?v.value():v,$r=Ir?x.value():x;return pe||(pe=new jc),q(bi,$r,P,z,pe)}}return Gn?(pe||(pe=new jc),xT(v,x,P,z,q,pe)):!1}function Cm(v){return Xs(v)&&Ot(v)==ve}function Dy(v,x,P,z){var q=P.length,pe=q,Me=!z;if(v==null)return!pe;for(v=Li(v);q--;){var Le=P[q];if(Me&&Le[2]?Le[1]!==v[Le[0]]:!(Le[0]in v))return!1}for(;++q<pe;){Le=P[q];var nt=Le[0],Kt=v[nt],Qt=Le[1];if(Me&&Le[2]){if(Kt===n&&!(nt in v))return!1}else{var fn=new jc;if(z)var Gn=z(Kt,Qt,nt,v,x,fn);if(!(Gn===n?jh(Qt,Kt,p|g,z,fn):Gn))return!1}}return!0}function Sm(v){if(!Ns(v)||cn(v))return!1;var x=Jh(v)?vo:Xr;return x.test(Ro(v))}function Mf(v){return Xs(v)&&Ga(v)==Ct}function Em(v){return Xs(v)&&Ot(v)==ln}function Vh(v){return Xs(v)&&OT(v.length)&&!!Ji[Ga(v)]}function Pg(v){return typeof v=="function"?v:v==null?vc:typeof v=="object"?ri(v)?Tm(v[0],v[1]):_m(v):gG(v)}function Uh(v){if(!on(v))return uN(v);var x=[];for(var P in Li(v))qt.call(v,P)&&P!="constructor"&&x.push(P);return x}function Hh(v){if(!Ns(v))return At(v);var x=on(v),P=[];for(var z in v)z=="constructor"&&(x||!qt.call(v,z))||P.push(z);return P}function Af(v,x){return v<x}function Dd(v,x){var P=-1,z=pc(v)?gt(v.length):[];return Nu(v,function(q,pe,Me){z[++P]=x(q,pe,Me)}),z}function _m(v){var x=rt(v);return x.length==1&&x[0][2]?wr(x[0][0],x[0][1]):function(P){return P===v||Dy(P,v,x)}}function Tm(v,x){return Mt(v)&&Kn(x)?wr(lo(v),x):function(P){var z=YN(P,v);return z===n&&z===x?qN(P,v):jh(x,z,p|g)}}function Nd(v,x,P,z,q){v!==x&&bm(x,function(pe,Me){if(q||(q=new jc),Ns(pe))lx(v,x,Me,P,Nd,z,q);else{var Le=z?z(Cr(v,Me),pe,Me+"",v,x,q):n;Le===n&&(Le=pe),Fh(v,Me,Le)}},gc)}function lx(v,x,P,z,q,pe,Me){var Le=Cr(v,P),nt=Cr(x,P),Kt=Me.get(nt);if(Kt){Fh(v,P,Kt);return}var Qt=pe?pe(Le,nt,P+"",v,x,Me):n,fn=Qt===n;if(fn){var Gn=ri(nt),mr=!Gn&&$g(nt),Ir=!Gn&&!mr&&Uy(nt);Qt=nt,Gn||mr||Ir?ri(Le)?Qt=Le:na(Le)?Qt=El(Le):mr?(fn=!1,Qt=Rg(nt,!0)):Ir?(fn=!1,Qt=Ig(nt,!0)):Qt=[]:xx(nt)||Nm(nt)?(Qt=Le,Nm(Le)?Qt=oG(Le):(!Ns(Le)||Jh(Le))&&(Qt=Ut(nt))):fn=!1}fn&&(Me.set(nt,Qt),q(Qt,nt,z,pe,Me),Me.delete(nt)),Fh(v,P,Qt)}function Ny(v,x){var P=v.length;if(!!P)return x+=x<0?P:0,Bt(x,P)?v[x]:n}function Wh(v,x,P){x.length?x=Vn(x,function(pe){return ri(pe)?function(Me){return kd(Me,pe.length===1?pe[0]:pe)}:pe}):x=[vc];var z=-1;x=Vn(x,nl(Q()));var q=Dd(v,function(pe,Me,Le){var nt=Vn(x,function(Kt){return Kt(pe)});return{criteria:nt,index:++z,value:pe}});return Fc(q,function(pe,Me){return fT(pe,Me,P)})}function Og(v,x){return sT(v,x,function(P,z){return qN(v,z)})}function sT(v,x,P){for(var z=-1,q=x.length,pe={};++z<q;){var Me=x[z],Le=kd(v,Me);P(Le,Me)&&Mg(pe,Uc(Me,v),Le)}return pe}function DN(v){return function(x){return kd(x,v)}}function Ry(v,x,P,z){var q=z?go:So,pe=-1,Me=x.length,Le=v;for(v===x&&(x=El(x)),P&&(Le=Vn(v,nl(P)));++pe<Me;)for(var nt=0,Kt=x[pe],Qt=P?P(Kt):Kt;(nt=q(Le,Qt,nt,z))>-1;)Le!==v&&ta.call(Le,nt,1),ta.call(v,nt,1);return v}function cx(v,x){for(var P=v?x.length:0,z=P-1;P--;){var q=x[P];if(P==z||q!==pe){var pe=q;Bt(q)?ta.call(v,q,1):Ag(v,q)}}return v}function Iy(v,x){return v+bg(J2()*(x-v+1))}function NN(v,x,P,z){for(var q=-1,pe=_s(by((x-v)/(P||1)),0),Me=gt(pe);pe--;)Me[z?pe:++q]=v,v+=P;return Me}function Rd(v,x){var P="";if(!v||x<1||x>Y)return P;do x%2&&(P+=v),x=bg(x/2),x&&(v+=v);while(x);return P}function fi(v,x){return Xo(Mr(v,x,vc),v+"")}function RN(v){return J_(Hy(v))}function IN(v,x){var P=Hy(v);return Ko(P,Ad(x,0,P.length))}function Mg(v,x,P,z){if(!Ns(v))return v;x=Uc(x,v);for(var q=-1,pe=x.length,Me=pe-1,Le=v;Le!=null&&++q<pe;){var nt=lo(x[q]),Kt=P;if(nt==="__proto__"||nt==="constructor"||nt==="prototype")return v;if(q!=Me){var Qt=Le[nt];Kt=z?z(Qt,nt,Le):n,Kt===n&&(Kt=Ns(Qt)?Qt:Bt(x[q+1])?[]:{})}vm(Le,nt,Kt),Le=Le[nt]}return v}var aT=pm?function(v,x){return pm.set(v,x),v}:vc,$N=hm?function(v,x){return hm(v,"toString",{configurable:!0,enumerable:!1,value:KN(x),writable:!0})}:vc;function LN(v){return Ko(Hy(v))}function dc(v,x,P){var z=-1,q=v.length;x<0&&(x=-x>q?0:q+x),P=P>q?q:P,P<0&&(P+=q),q=x>P?0:P-x>>>0,x>>>=0;for(var pe=gt(q);++z<q;)pe[z]=v[z+x];return pe}function FN(v,x){var P;return Nu(v,function(z,q,pe){return P=x(z,q,pe),!P}),!!P}function $y(v,x,P){var z=0,q=v==null?z:v.length;if(typeof x=="number"&&x===x&&q<=me){for(;z<q;){var pe=z+q>>>1,Me=v[pe];Me!==null&&!qc(Me)&&(P?Me<=x:Me<x)?z=pe+1:q=pe}return q}return ux(v,x,vc,P)}function ux(v,x,P,z){var q=0,pe=v==null?0:v.length;if(pe===0)return 0;x=P(x);for(var Me=x!==x,Le=x===null,nt=qc(x),Kt=x===n;q<pe;){var Qt=bg((q+pe)/2),fn=P(v[Qt]),Gn=fn!==n,mr=fn===null,Ir=fn===fn,bi=qc(fn);if(Me)var $r=z||Ir;else Kt?$r=Ir&&(z||Gn):Le?$r=Ir&&Gn&&(z||!mr):nt?$r=Ir&&Gn&&!mr&&(z||!bi):mr||bi?$r=!1:$r=z?fn<=x:fn<x;$r?q=Qt+1:pe=Qt}return Fa(pe,fe)}function lT(v,x){for(var P=-1,z=v.length,q=0,pe=[];++P<z;){var Me=v[P],Le=x?x(Me):Me;if(!P||!Df(Le,nt)){var nt=Le;pe[q++]=Me===0?0:Me}}return pe}function cT(v){return typeof v=="number"?v:qc(v)?ce:+v}function jl(v){if(typeof v=="string")return v;if(ri(v))return Vn(v,jl)+"";if(qc(v))return tx?tx.call(v):"";var x=v+"";return x=="0"&&1/v==-te?"-0":x}function Ru(v,x,P){var z=-1,q=Cs,pe=v.length,Me=!0,Le=[],nt=Le;if(P)Me=!1,q=Ti;else if(pe>=i){var Kt=x?null:GN(v);if(Kt)return _d(Kt);Me=!1,q=ku,nt=new Lh}else nt=x?[]:Le;e:for(;++z<pe;){var Qt=v[z],fn=x?x(Qt):Qt;if(Qt=P||Qt!==0?Qt:0,Me&&fn===fn){for(var Gn=nt.length;Gn--;)if(nt[Gn]===fn)continue e;x&&nt.push(fn),Le.push(Qt)}else q(nt,fn,P)||(nt!==Le&&nt.push(fn),Le.push(Qt))}return Le}function Ag(v,x){return x=Uc(x,v),v=An(v,x),v==null||delete v[lo(de(x))]}function Pm(v,x,P,z){return Mg(v,x,P(kd(v,x)),z)}function Yh(v,x,P,z){for(var q=v.length,pe=z?q:-1;(z?pe--:++pe<q)&&x(v[pe],pe,v););return P?dc(v,z?0:pe,z?pe+1:q):dc(v,z?pe+1:0,z?q:pe)}function Ly(v,x){var P=v;return P instanceof Pi&&(P=P.value()),Mn(x,function(z,q){return q.func.apply(q.thisArg,Go([z],q.args))},P)}function kg(v,x,P){var z=v.length;if(z<2)return z?Ru(v[0]):[];for(var q=-1,pe=gt(z);++q<z;)for(var Me=v[q],Le=-1;++Le<z;)Le!=q&&(pe[q]=Bh(pe[q]||Me,v[Le],x,P));return Ru(pa(pe,1),x,P)}function Om(v,x,P){for(var z=-1,q=v.length,pe=x.length,Me={};++z<q;){var Le=z<pe?x[z]:n;P(Me,v[z],Le)}return Me}function Dg(v){return na(v)?v:[]}function Mm(v){return typeof v=="function"?v:vc}function Uc(v,x){return ri(v)?v:Mt(v,x)?[v]:To(Ao(v))}var Fy=fi;function Hc(v,x,P){var z=v.length;return P=P===n?z:P,!x&&P>=z?v:dc(v,x,P)}var Ng=sN||function(v){return O.clearTimeout(v)};function Rg(v,x){if(x)return v.slice();var P=v.length,z=_a?_a(P):new v.constructor(P);return v.copy(z),z}function qh(v){var x=new v.constructor(v.byteLength);return new Es(x).set(new Es(v)),x}function Am(v,x){var P=x?qh(v.buffer):v.buffer;return new v.constructor(P,v.byteOffset,v.byteLength)}function km(v){var x=new v.constructor(v.source,xs.exec(v));return x.lastIndex=v.lastIndex,x}function uT(v){return Sg?Li(Sg.call(v)):{}}function Ig(v,x){var P=x?qh(v.buffer):v.buffer;return new v.constructor(P,v.byteOffset,v.length)}function Id(v,x){if(v!==x){var P=v!==n,z=v===null,q=v===v,pe=qc(v),Me=x!==n,Le=x===null,nt=x===x,Kt=qc(x);if(!Le&&!Kt&&!pe&&v>x||pe&&Me&&nt&&!Le&&!Kt||z&&Me&&nt||!P&&nt||!q)return 1;if(!z&&!pe&&!Kt&&v<x||Kt&&P&&q&&!z&&!pe||Le&&P&&q||!Me&&q||!nt)return-1}return 0}function fT(v,x,P){for(var z=-1,q=v.criteria,pe=x.criteria,Me=q.length,Le=P.length;++z<Me;){var nt=Id(q[z],pe[z]);if(nt){if(z>=Le)return nt;var Kt=P[z];return nt*(Kt=="desc"?-1:1)}}return v.index-x.index}function zy(v,x,P,z){for(var q=-1,pe=v.length,Me=P.length,Le=-1,nt=x.length,Kt=_s(pe-Me,0),Qt=gt(nt+Kt),fn=!z;++Le<nt;)Qt[Le]=x[Le];for(;++q<Me;)(fn||q<pe)&&(Qt[P[q]]=v[q]);for(;Kt--;)Qt[Le++]=v[q++];return Qt}function dT(v,x,P,z){for(var q=-1,pe=v.length,Me=-1,Le=P.length,nt=-1,Kt=x.length,Qt=_s(pe-Le,0),fn=gt(Qt+Kt),Gn=!z;++q<Qt;)fn[q]=v[q];for(var mr=q;++nt<Kt;)fn[mr+nt]=x[nt];for(;++Me<Le;)(Gn||q<pe)&&(fn[mr+P[Me]]=v[q++]);return fn}function El(v,x){var P=-1,z=v.length;for(x||(x=gt(z));++P<z;)x[P]=v[P];return x}function Iu(v,x,P,z){var q=!P;P||(P={});for(var pe=-1,Me=x.length;++pe<Me;){var Le=x[pe],nt=z?z(P[Le],v[Le],Le,P,v):n;nt===n&&(nt=v[Le]),q?Of(P,Le,nt):vm(P,Le,nt)}return P}function $d(v,x){return Iu(v,ct(v),x)}function hT(v,x){return Iu(v,Vt(v),x)}function Dm(v,x){return function(P,z){var q=ri(P)?cr:kN,pe=x?x():{};return q(P,v,Q(z,2),pe)}}function Xh(v){return fi(function(x,P){var z=-1,q=P.length,pe=q>1?P[q-1]:n,Me=q>2?P[2]:n;for(pe=v.length>3&&typeof pe=="function"?(q--,pe):n,Me&&rn(P[0],P[1],Me)&&(pe=q<3?n:pe,q=1),x=Li(x);++z<q;){var Le=P[z];Le&&v(x,Le,z,pe)}return x})}function pT(v,x){return function(P,z){if(P==null)return P;if(!pc(P))return v(P,z);for(var q=P.length,pe=x?q:-1,Me=Li(P);(x?pe--:++pe<q)&&z(Me[pe],pe,Me)!==!1;);return P}}function fx(v){return function(x,P,z){for(var q=-1,pe=Li(x),Me=z(x),Le=Me.length;Le--;){var nt=Me[v?Le:++q];if(P(pe[nt],nt,pe)===!1)break}return x}}function zN(v,x,P){var z=x&m,q=$u(v);function pe(){var Me=this&&this!==O&&this instanceof pe?q:v;return Me.apply(z?P:this,arguments)}return pe}function Wc(v){return function(x){x=Ao(x);var P=Ef(x)?No(x):n,z=P?P[0]:x.charAt(0),q=P?Hc(P,1).join(""):x.slice(1);return z[v]()+q}}function Kh(v){return function(x){return Mn(hG(dG(x).replace(Th,"")),v,"")}}function $u(v){return function(){var x=arguments;switch(x.length){case 0:return new v;case 1:return new v(x[0]);case 2:return new v(x[0],x[1]);case 3:return new v(x[0],x[1],x[2]);case 4:return new v(x[0],x[1],x[2],x[3]);case 5:return new v(x[0],x[1],x[2],x[3],x[4]);case 6:return new v(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new v(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var P=Ih(v.prototype),z=v.apply(P,x);return Ns(z)?z:P}}function Ld(v,x,P){var z=$u(v);function q(){for(var pe=arguments.length,Me=gt(pe),Le=pe,nt=G(q);Le--;)Me[Le]=arguments[Le];var Kt=pe<3&&Me[0]!==nt&&Me[pe-1]!==nt?[]:uc(Me,nt);if(pe-=Kt.length,pe<P)return gT(v,x,Zh,q.placeholder,n,Me,Kt,n,n,P-pe);var Qt=this&&this!==O&&this instanceof q?z:v;return mt(Qt,this,Me)}return q}function dx(v){return function(x,P,z){var q=Li(x);if(!pc(x)){var pe=Q(P,3);x=Ba(x),P=function(Le){return pe(q[Le],Le,q)}}var Me=v(x,P,z);return Me>-1?q[pe?x[Me]:Me]:n}}function Gy(v){return Fu(function(x){var P=x.length,z=P,q=fc.prototype.thru;for(v&&x.reverse();z--;){var pe=x[z];if(typeof pe!="function")throw new _e(s);if(q&&!Me&&Vy(pe)=="wrapper")var Me=new fc([],!0)}for(z=Me?z:P;++z<P;){pe=x[z];var Le=Vy(pe),nt=Le=="wrapper"?jy(pe):n;nt&&Nt(nt[0])&&nt[1]==(M|C|_|k)&&!nt[4].length&&nt[9]==1?Me=Me[Vy(nt[0])].apply(Me,nt[3]):Me=pe.length==1&&Nt(pe)?Me[Le]():Me.thru(pe)}return function(){var Kt=arguments,Qt=Kt[0];if(Me&&Kt.length==1&&ri(Qt))return Me.plant(Qt).value();for(var fn=0,Gn=P?x[fn].apply(this,Kt):Qt;++fn<P;)Gn=x[fn].call(this,Gn);return Gn}})}function Zh(v,x,P,z,q,pe,Me,Le,nt,Kt){var Qt=x&M,fn=x&m,Gn=x&y,mr=x&(C|E),Ir=x&I,bi=Gn?n:$u(v);function $r(){for(var Ni=arguments.length,Yi=gt(Ni),Xc=Ni;Xc--;)Yi[Xc]=arguments[Xc];if(mr)var Vl=G($r),Kc=zc(Yi,Vl);if(z&&(Yi=zy(Yi,z,q,mr)),pe&&(Yi=dT(Yi,pe,Me,mr)),Ni-=Kc,mr&&Ni<Kt){var ra=uc(Yi,Vl);return gT(v,x,Zh,$r.placeholder,P,Yi,ra,Le,nt,Kt-Ni)}var Nf=fn?P:this,tp=Gn?Nf[v]:v;return Ni=Yi.length,Le?Yi=jr(Yi,Le):Ir&&Ni>1&&Yi.reverse(),Qt&&nt<Ni&&(Yi.length=nt),this&&this!==O&&this instanceof $r&&(tp=bi||$u(tp)),tp.apply(Nf,Yi)}return $r}function hx(v,x){return function(P,z){return rT(P,v,x(z),{})}}function ga(v,x){return function(P,z){var q;if(P===n&&z===n)return x;if(P!==n&&(q=P),z!==n){if(q===n)return z;typeof P=="string"||typeof z=="string"?(P=jl(P),z=jl(z)):(P=cT(P),z=cT(z)),q=v(P,z)}return q}}function Lu(v){return Fu(function(x){return x=Vn(x,nl(Q())),fi(function(P){var z=this;return v(x,function(q){return mt(q,z,P)})})})}function Wo(v,x){x=x===n?" ":jl(x);var P=x.length;if(P<2)return P?Rd(x,v):x;var z=Rd(x,by(v/Ys(x)));return Ef(x)?Hc(No(z),0,v).join(""):z.slice(0,v)}function _l(v,x,P,z){var q=x&m,pe=$u(v);function Me(){for(var Le=-1,nt=arguments.length,Kt=-1,Qt=z.length,fn=gt(Qt+nt),Gn=this&&this!==O&&this instanceof Me?pe:v;++Kt<Qt;)fn[Kt]=z[Kt];for(;nt--;)fn[Kt++]=arguments[++Le];return mt(Gn,q?P:this,fn)}return Me}function px(v){return function(x,P,z){return z&&typeof z!="number"&&rn(x,P,z)&&(P=z=n),x=ep(x),P===n?(P=x,x=0):P=ep(P),z=z===n?x<P?1:-1:ep(z),NN(x,P,z,v)}}function By(v){return function(x,P){return typeof x=="string"&&typeof P=="string"||(x=Gu(x),P=Gu(P)),v(x,P)}}function gT(v,x,P,z,q,pe,Me,Le,nt,Kt){var Qt=x&C,fn=Qt?Me:n,Gn=Qt?n:Me,mr=Qt?pe:n,Ir=Qt?n:pe;x|=Qt?_:w,x&=~(Qt?w:_),x&b||(x&=~(m|y));var bi=[v,x,q,mr,fn,Ir,Gn,Le,nt,Kt],$r=P.apply(n,bi);return Nt(v)&&Rr($r,bi),$r.placeholder=z,ks($r,v,x)}function gx(v){var x=is[v];return function(P,z){if(P=Gu(P),z=z==null?0:Fa(di(z),292),z&&Q2(P)){var q=(Ao(P)+"e").split("e"),pe=x(q[0]+"e"+(+q[1]+z));return q=(Ao(pe)+"e").split("e"),+(q[0]+"e"+(+q[1]-z))}return x(P)}}var GN=Dh&&1/_d(new Dh([,-0]))[1]==te?function(v){return new Dh(v)}:JN;function vx(v){return function(x){var P=Ot(x);return P==ve?Sl(x):P==ln?vy(x):X2(x,v(x))}}function kf(v,x,P,z,q,pe,Me,Le){var nt=x&y;if(!nt&&typeof v!="function")throw new _e(s);var Kt=z?z.length:0;if(Kt||(x&=~(_|w),z=q=n),Me=Me===n?Me:_s(di(Me),0),Le=Le===n?Le:di(Le),Kt-=q?q.length:0,x&w){var Qt=z,fn=q;z=q=n}var Gn=nt?n:jy(v),mr=[v,x,P,z,q,Qt,fn,pe,Me,Le];if(Gn&&Jt(mr,Gn),v=mr[0],x=mr[1],P=mr[2],z=mr[3],q=mr[4],Le=mr[9]=mr[9]===n?nt?0:v.length:_s(mr[9]-Kt,0),!Le&&x&(C|E)&&(x&=~(C|E)),!x||x==m)var Ir=zN(v,x,P);else x==C||x==E?Ir=Ld(v,x,Le):(x==_||x==(m|_))&&!q.length?Ir=_l(v,x,P,z):Ir=Zh.apply(n,mr);var bi=Gn?aT:Rr;return ks(bi(Ir,mr),v,x)}function vT(v,x,P,z){return v===n||Df(v,Qe[P])&&!qt.call(z,P)?x:v}function mT(v,x,P,z,q,pe){return Ns(v)&&Ns(x)&&(pe.set(x,v),Nd(v,x,n,mT,pe),pe.delete(x)),v}function BN(v){return xx(v)?n:v}function yT(v,x,P,z,q,pe){var Me=P&p,Le=v.length,nt=x.length;if(Le!=nt&&!(Me&&nt>Le))return!1;var Kt=pe.get(v),Qt=pe.get(x);if(Kt&&Qt)return Kt==x&&Qt==v;var fn=-1,Gn=!0,mr=P&g?new Lh:n;for(pe.set(v,x),pe.set(x,v);++fn<Le;){var Ir=v[fn],bi=x[fn];if(z)var $r=Me?z(bi,Ir,fn,x,v,pe):z(Ir,bi,fn,v,x,pe);if($r!==n){if($r)continue;Gn=!1;break}if(mr){if(!Yn(x,function(Ni,Yi){if(!ku(mr,Yi)&&(Ir===Ni||q(Ir,Ni,P,z,pe)))return mr.push(Yi)})){Gn=!1;break}}else if(!(Ir===bi||q(Ir,bi,P,z,pe))){Gn=!1;break}}return pe.delete(v),pe.delete(x),Gn}function bT(v,x,P,z,q,pe,Me){switch(P){case ot:if(v.byteLength!=x.byteLength||v.byteOffset!=x.byteOffset)return!1;v=v.buffer,x=x.buffer;case ze:return!(v.byteLength!=x.byteLength||!pe(new Es(v),new Es(x)));case Je:case $e:case ne:return Df(+v,+x);case Pt:return v.name==x.name&&v.message==x.message;case Ct:case bn:return v==x+"";case ve:var Le=Sl;case ln:var nt=z&p;if(Le||(Le=_d),v.size!=x.size&&!nt)return!1;var Kt=Me.get(v);if(Kt)return Kt==x;z|=g,Me.set(v,x);var Qt=yT(Le(v),Le(x),z,q,pe,Me);return Me.delete(v),Qt;case Z:if(Sg)return Sg.call(v)==Sg.call(x)}return!1}function xT(v,x,P,z,q,pe){var Me=P&p,Le=mx(v),nt=Le.length,Kt=mx(x),Qt=Kt.length;if(nt!=Qt&&!Me)return!1;for(var fn=nt;fn--;){var Gn=Le[fn];if(!(Me?Gn in x:qt.call(x,Gn)))return!1}var mr=pe.get(v),Ir=pe.get(x);if(mr&&Ir)return mr==x&&Ir==v;var bi=!0;pe.set(v,x),pe.set(x,v);for(var $r=Me;++fn<nt;){Gn=Le[fn];var Ni=v[Gn],Yi=x[Gn];if(z)var Xc=Me?z(Yi,Ni,Gn,x,v,pe):z(Ni,Yi,Gn,v,x,pe);if(!(Xc===n?Ni===Yi||q(Ni,Yi,P,z,pe):Xc)){bi=!1;break}$r||($r=Gn=="constructor")}if(bi&&!$r){var Vl=v.constructor,Kc=x.constructor;Vl!=Kc&&"constructor"in v&&"constructor"in x&&!(typeof Vl=="function"&&Vl instanceof Vl&&typeof Kc=="function"&&Kc instanceof Kc)&&(bi=!1)}return pe.delete(v),pe.delete(x),bi}function Fu(v){return Xo(Mr(v,n,et),v+"")}function mx(v){return My(v,Ba,ct)}function yx(v){return My(v,gc,Vt)}var jy=pm?function(v){return pm.get(v)}:JN;function Vy(v){for(var x=v.name+"",P=za[x],z=qt.call(za,x)?P.length:0;z--;){var q=P[z],pe=q.func;if(pe==null||pe==v)return q.name}return x}function G(v){var x=qt.call(oe,"placeholder")?oe:v;return x.placeholder}function Q(){var v=oe.iteratee||ZN;return v=v===ZN?Pg:v,arguments.length?v(arguments[0],arguments[1]):v}function we(v,x){var P=v.__data__;return Sn(x)?P[typeof x=="string"?"string":"hash"]:P.map}function rt(v){for(var x=Ba(v),P=x.length;P--;){var z=x[P],q=v[z];x[P]=[z,q,Kn(q)]}return x}function yt(v,x){var P=Sf(v,x);return Sm(P)?P:n}function it(v){var x=qt.call(v,Pd),P=v[Pd];try{v[Pd]=n;var z=!0}catch{}var q=qn.call(v);return z&&(x?v[Pd]=P:delete v[Pd]),q}var ct=xy?function(v){return v==null?[]:(v=Li(v),Ri(xy(v),function(x){return Ho.call(v,x)}))}:eR,Vt=xy?function(v){for(var x=[];v;)Go(x,ct(v)),v=_o(v);return x}:eR,Ot=Ga;(Cy&&Ot(new Cy(new ArrayBuffer(1)))!=ot||xg&&Ot(new xg)!=ve||Sy&&Ot(Sy.resolve())!=Ve||Dh&&Ot(new Dh)!=ln||wg&&Ot(new wg)!=xe)&&(Ot=function(v){var x=Ga(v),P=x==je?v.constructor:n,z=P?Ro(P):"";if(z)switch(z){case W_:return ot;case fN:return ve;case Tf:return Ve;case ex:return ln;case Nh:return xe}return x});function Zt(v,x,P){for(var z=-1,q=P.length;++z<q;){var pe=P[z],Me=pe.size;switch(pe.type){case"drop":v+=Me;break;case"dropRight":x-=Me;break;case"take":x=Fa(x,v+Me);break;case"takeRight":v=_s(v,x-Me);break}}return{start:v,end:x}}function Wt(v){var x=v.match(Vi);return x?x[1].split(ys):[]}function nn(v,x,P){x=Uc(x,v);for(var z=-1,q=x.length,pe=!1;++z<q;){var Me=lo(x[z]);if(!(pe=v!=null&&P(v,Me)))break;v=v[Me]}return pe||++z!=q?pe:(q=v==null?0:v.length,!!q&&OT(q)&&Bt(Me,q)&&(ri(v)||Nm(v)))}function hn(v){var x=v.length,P=new v.constructor(x);return x&&typeof v[0]=="string"&&qt.call(v,"index")&&(P.index=v.index,P.input=v.input),P}function Ut(v){return typeof v.constructor=="function"&&!on(v)?Ih(_o(v)):{}}function an(v,x,P){var z=v.constructor;switch(x){case ze:return qh(v);case Je:case $e:return new z(+v);case ot:return Am(v,P);case yn:case xt:case It:case qe:case Tt:case Dt:case _n:case lr:case Qn:return Ig(v,P);case ve:return new z;case ne:case bn:return new z(v);case Ct:return km(v);case ln:return new z;case Z:return uT(v)}}function Ue(v,x){var P=x.length;if(!P)return v;var z=P-1;return x[z]=(P>1?"& ":"")+x[z],x=x.join(P>2?", ":" "),v.replace(Qi,`{
/* [wrapped with `+x+`] */
`)}function ft(v){return ri(v)||Nm(v)||!!(Z2&&v&&v[Z2])}function Bt(v,x){var P=typeof v;return x=x==null?Y:x,!!x&&(P=="number"||P!="symbol"&&fr.test(v))&&v>-1&&v%1==0&&v<x}function rn(v,x,P){if(!Ns(P))return!1;var z=typeof x;return(z=="number"?pc(P)&&Bt(x,P.length):z=="string"&&x in P)?Df(P[x],v):!1}function Mt(v,x){if(ri(v))return!1;var P=typeof v;return P=="number"||P=="symbol"||P=="boolean"||v==null||qc(v)?!0:dn.test(v)||!gn.test(v)||x!=null&&v in Li(x)}function Sn(v){var x=typeof v;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?v!=="__proto__":v===null}function Nt(v){var x=Vy(v),P=oe[x];if(typeof P!="function"||!(x in Pi.prototype))return!1;if(v===P)return!0;var z=jy(P);return!!z&&v===z[0]}function cn(v){return!!yr&&yr in v}var Rt=jt?Jh:tR;function on(v){var x=v&&v.constructor,P=typeof x=="function"&&x.prototype||Qe;return v===P}function Kn(v){return v===v&&!Ns(v)}function wr(v,x){return function(P){return P==null?!1:P[v]===x&&(x!==n||v in Li(P))}}function pn(v){var x=TT(v,function(z){return P.size===c&&P.clear(),z}),P=x.cache;return x}function Jt(v,x){var P=v[1],z=x[1],q=P|z,pe=q<(m|y|M),Me=z==M&&P==C||z==M&&P==k&&v[7].length<=x[8]||z==(M|k)&&x[7].length<=x[8]&&P==C;if(!(pe||Me))return v;z&m&&(v[2]=x[2],q|=P&m?0:b);var Le=x[3];if(Le){var nt=v[3];v[3]=nt?zy(nt,Le,x[4]):Le,v[4]=nt?uc(v[3],u):x[4]}return Le=x[5],Le&&(nt=v[5],v[5]=nt?dT(nt,Le,x[6]):Le,v[6]=nt?uc(v[5],u):x[6]),Le=x[7],Le&&(v[7]=Le),z&M&&(v[8]=v[8]==null?x[8]:Fa(v[8],x[8])),v[9]==null&&(v[9]=x[9]),v[0]=x[0],v[1]=q,v}function At(v){var x=[];if(v!=null)for(var P in Li(v))x.push(P);return x}function pr(v){return qn.call(v)}function Mr(v,x,P){return x=_s(x===n?v.length-1:x,0),function(){for(var z=arguments,q=-1,pe=_s(z.length-x,0),Me=gt(pe);++q<pe;)Me[q]=z[x+q];q=-1;for(var Le=gt(x+1);++q<x;)Le[q]=z[q];return Le[x]=P(Me),mt(v,this,Le)}}function An(v,x){return x.length<2?v:kd(v,dc(x,0,-1))}function jr(v,x){for(var P=v.length,z=Fa(x.length,P),q=El(v);z--;){var pe=x[z];v[z]=Bt(pe,P)?q[pe]:n}return v}function Cr(v,x){if(!(x==="constructor"&&typeof v[x]=="function")&&x!="__proto__")return v[x]}var Rr=Wr(aT),Qr=lN||function(v,x){return O.setTimeout(v,x)},Xo=Wr($N);function ks(v,x,P){var z=x+"";return Xo(v,Ue(z,Ds(Wt(z),P)))}function Wr(v){var x=0,P=0;return function(){var z=Od(),q=L-(z-P);if(P=z,q>0){if(++x>=$)return arguments[0]}else x=0;return v.apply(n,arguments)}}function Ko(v,x){var P=-1,z=v.length,q=z-1;for(x=x===n?z:x;++P<x;){var pe=Iy(P,q),Me=v[pe];v[pe]=v[P],v[P]=Me}return v.length=x,v}var To=pn(function(v){var x=[];return v.charCodeAt(0)===46&&x.push(""),v.replace(zt,function(P,z,q,pe){x.push(q?pe.replace(io,"$1"):z||P)}),x});function lo(v){if(typeof v=="string"||qc(v))return v;var x=v+"";return x=="0"&&1/v==-te?"-0":x}function Ro(v){if(v!=null){try{return tn.call(v)}catch{}try{return v+""}catch{}}return""}function Ds(v,x){return rr(K,function(P){var z="_."+P[0];x&P[1]&&!Cs(v,z)&&v.push(z)}),v.sort()}function qs(v){if(v instanceof Pi)return v.clone();var x=new fc(v.__wrapped__,v.__chain__);return x.__actions__=El(v.__actions__),x.__index__=v.__index__,x.__values__=v.__values__,x}function va(v,x,P){(P?rn(v,x,P):x===n)?x=1:x=_s(di(x),0);var z=v==null?0:v.length;if(!z||x<1)return[];for(var q=0,pe=0,Me=gt(by(z/x));q<z;)Me[pe++]=dc(v,q,q+=x);return Me}function os(v){for(var x=-1,P=v==null?0:v.length,z=0,q=[];++x<P;){var pe=v[x];pe&&(q[z++]=pe)}return q}function kr(){var v=arguments.length;if(!v)return[];for(var x=gt(v-1),P=arguments[0],z=v;z--;)x[z-1]=arguments[z];return Go(ri(P)?El(P):[P],pa(x,1))}var ma=fi(function(v,x){return na(v)?Bh(v,pa(x,1,na,!0)):[]}),Oi=fi(function(v,x){var P=de(x);return na(P)&&(P=n),na(v)?Bh(v,pa(x,1,na,!0),Q(P,2)):[]}),ar=fi(function(v,x){var P=de(x);return na(P)&&(P=n),na(v)?Bh(v,pa(x,1,na,!0),n,P):[]});function Yr(v,x,P){var z=v==null?0:v.length;return z?(x=P||x===n?1:di(x),dc(v,x<0?0:x,z)):[]}function ai(v,x,P){var z=v==null?0:v.length;return z?(x=P||x===n?1:di(x),x=z-x,dc(v,0,x<0?0:x)):[]}function ss(v,x){return v&&v.length?Yh(v,Q(x,3),!0,!0):[]}function zu(v,x){return v&&v.length?Yh(v,Q(x,3),!0):[]}function Qh(v,x,P,z){var q=v==null?0:v.length;return q?(P&&typeof P!="number"&&rn(v,x,P)&&(P=0,z=q),tT(v,x,P,z)):[]}function ye(v,x,P){var z=v==null?0:v.length;if(!z)return-1;var q=P==null?0:di(P);return q<0&&(q=_s(z+q,0)),Wi(v,Q(x,3),q)}function st(v,x,P){var z=v==null?0:v.length;if(!z)return-1;var q=z-1;return P!==n&&(q=di(P),q=P<0?_s(z+q,0):Fa(q,z-1)),Wi(v,Q(x,3),q,!0)}function et(v){var x=v==null?0:v.length;return x?pa(v,1):[]}function Tn(v){var x=v==null?0:v.length;return x?pa(v,te):[]}function Vr(v,x){var P=v==null?0:v.length;return P?(x=x===n?1:di(x),pa(v,x)):[]}function ge(v){for(var x=-1,P=v==null?0:v.length,z={};++x<P;){var q=v[x];z[q[0]]=q[1]}return z}function re(v){return v&&v.length?v[0]:n}function Te(v,x,P){var z=v==null?0:v.length;if(!z)return-1;var q=P==null?0:di(P);return q<0&&(q=_s(z+q,0)),So(v,x,q)}function Be(v){var x=v==null?0:v.length;return x?dc(v,0,-1):[]}var Ye=fi(function(v){var x=Vn(v,Dg);return x.length&&x[0]===v[0]?wm(x):[]}),De=fi(function(v){var x=de(v),P=Vn(v,Dg);return x===de(P)?x=n:P.pop(),P.length&&P[0]===v[0]?wm(P,Q(x,2)):[]}),Pe=fi(function(v){var x=de(v),P=Vn(v,Dg);return x=typeof x=="function"?x:n,x&&P.pop(),P.length&&P[0]===v[0]?wm(P,n,x):[]});function Ie(v,x){return v==null?"":U_.call(v,x)}function de(v){var x=v==null?0:v.length;return x?v[x-1]:n}function Ee(v,x,P){var z=v==null?0:v.length;if(!z)return-1;var q=z;return P!==n&&(q=di(P),q=q<0?_s(z+q,0):Fa(q,z-1)),x===x?Td(v,x,q):Wi(v,ea,q,!0)}function he(v,x){return v&&v.length?Ny(v,di(x)):n}var Fe=fi(Xe);function Xe(v,x){return v&&v.length&&x&&x.length?Ry(v,x):v}function wt(v,x,P){return v&&v.length&&x&&x.length?Ry(v,x,Q(P,2)):v}function Et(v,x,P){return v&&v.length&&x&&x.length?Ry(v,x,n,P):v}var pt=Fu(function(v,x){var P=v==null?0:v.length,z=Md(v,x);return cx(v,Vn(x,function(q){return Bt(q,P)?+q:q}).sort(Id)),z});function Xt(v,x){var P=[];if(!(v&&v.length))return P;var z=-1,q=[],pe=v.length;for(x=Q(x,3);++z<pe;){var Me=v[z];x(Me,z,v)&&(P.push(Me),q.push(z))}return cx(v,q),P}function zn(v){return v==null?v:H_.call(v)}function Dr(v,x,P){var z=v==null?0:v.length;return z?(P&&typeof P!="number"&&rn(v,x,P)?(x=0,P=z):(x=x==null?0:di(x),P=P===n?z:di(P)),dc(v,x,P)):[]}function kn(v,x){return $y(v,x)}function ur(v,x,P){return ux(v,x,Q(P,2))}function Er(v,x){var P=v==null?0:v.length;if(P){var z=$y(v,x);if(z<P&&Df(v[z],x))return z}return-1}function yi(v,x){return $y(v,x,!0)}function Zo(v,x,P){return ux(v,x,Q(P,2),!0)}function rl(v,x){var P=v==null?0:v.length;if(P){var z=$y(v,x,!0)-1;if(Df(v[z],x))return z}return-1}function bx(v){return v&&v.length?lT(v):[]}function hc(v,x){return v&&v.length?lT(v,Q(x,2)):[]}function wT(v){var x=v==null?0:v.length;return x?dc(v,1,x):[]}function Yc(v,x,P){return v&&v.length?(x=P||x===n?1:di(x),dc(v,0,x<0?0:x)):[]}function CT(v,x,P){var z=v==null?0:v.length;return z?(x=P||x===n?1:di(x),x=z-x,dc(v,x<0?0:x,z)):[]}function Ihe(v,x){return v&&v.length?Yh(v,Q(x,3),!1,!0):[]}function $he(v,x){return v&&v.length?Yh(v,Q(x,3)):[]}var Lhe=fi(function(v){return Ru(pa(v,1,na,!0))}),Fhe=fi(function(v){var x=de(v);return na(x)&&(x=n),Ru(pa(v,1,na,!0),Q(x,2))}),zhe=fi(function(v){var x=de(v);return x=typeof x=="function"?x:n,Ru(pa(v,1,na,!0),n,x)});function Ghe(v){return v&&v.length?Ru(v):[]}function Bhe(v,x){return v&&v.length?Ru(v,Q(x,2)):[]}function jhe(v,x){return x=typeof x=="function"?x:n,v&&v.length?Ru(v,n,x):[]}function jN(v){if(!(v&&v.length))return[];var x=0;return v=Ri(v,function(P){if(na(P))return x=_s(P.length,x),!0}),Ah(x,function(P){return Vn(v,tl(P))})}function j7(v,x){if(!(v&&v.length))return[];var P=jN(v);return x==null?P:Vn(P,function(z){return mt(x,n,z)})}var Vhe=fi(function(v,x){return na(v)?Bh(v,x):[]}),Uhe=fi(function(v){return kg(Ri(v,na))}),Hhe=fi(function(v){var x=de(v);return na(x)&&(x=n),kg(Ri(v,na),Q(x,2))}),Whe=fi(function(v){var x=de(v);return x=typeof x=="function"?x:n,kg(Ri(v,na),n,x)}),Yhe=fi(jN);function qhe(v,x){return Om(v||[],x||[],vm)}function Xhe(v,x){return Om(v||[],x||[],Mg)}var Khe=fi(function(v){var x=v.length,P=x>1?v[x-1]:n;return P=typeof P=="function"?(v.pop(),P):n,j7(v,P)});function V7(v){var x=oe(v);return x.__chain__=!0,x}function Zhe(v,x){return x(v),v}function ST(v,x){return x(v)}var Qhe=Fu(function(v){var x=v.length,P=x?v[0]:0,z=this.__wrapped__,q=function(pe){return Md(pe,v)};return x>1||this.__actions__.length||!(z instanceof Pi)||!Bt(P)?this.thru(q):(z=z.slice(P,+P+(x?1:0)),z.__actions__.push({func:ST,args:[q],thisArg:n}),new fc(z,this.__chain__).thru(function(pe){return x&&!pe.length&&pe.push(n),pe}))});function Jhe(){return V7(this)}function epe(){return new fc(this.value(),this.__chain__)}function tpe(){this.__values__===n&&(this.__values__=rG(this.value()));var v=this.__index__>=this.__values__.length,x=v?n:this.__values__[this.__index__++];return{done:v,value:x}}function npe(){return this}function rpe(v){for(var x,P=this;P instanceof gm;){var z=qs(P);z.__index__=0,z.__values__=n,x?q.__wrapped__=z:x=z;var q=z;P=P.__wrapped__}return q.__wrapped__=v,x}function ipe(){var v=this.__wrapped__;if(v instanceof Pi){var x=v;return this.__actions__.length&&(x=new Pi(this)),x=x.reverse(),x.__actions__.push({func:ST,args:[zn],thisArg:n}),new fc(x,this.__chain__)}return this.thru(zn)}function ope(){return Ly(this.__wrapped__,this.__actions__)}var spe=Dm(function(v,x,P){qt.call(v,P)?++v[P]:Of(v,P,1)});function ape(v,x,P){var z=ri(v)?ao:eT;return P&&rn(v,x,P)&&(x=n),z(v,Q(x,3))}function lpe(v,x){var P=ri(v)?Ri:ix;return P(v,Q(x,3))}var cpe=dx(ye),upe=dx(st);function fpe(v,x){return pa(ET(v,x),1)}function dpe(v,x){return pa(ET(v,x),te)}function hpe(v,x,P){return P=P===n?1:di(P),pa(ET(v,x),P)}function U7(v,x){var P=ri(v)?rr:Nu;return P(v,Q(x,3))}function H7(v,x){var P=ri(v)?sr:mm;return P(v,Q(x,3))}var ppe=Dm(function(v,x,P){qt.call(v,P)?v[P].push(x):Of(v,P,[x])});function gpe(v,x,P,z){v=pc(v)?v:Hy(v),P=P&&!z?di(P):0;var q=v.length;return P<0&&(P=_s(q+P,0)),MT(v)?P<=q&&v.indexOf(x,P)>-1:!!q&&So(v,x,P)>-1}var vpe=fi(function(v,x,P){var z=-1,q=typeof x=="function",pe=pc(v)?gt(v.length):[];return Nu(v,function(Me){pe[++z]=q?mt(x,Me,P):Tg(Me,x,P)}),pe}),mpe=Dm(function(v,x,P){Of(v,P,x)});function ET(v,x){var P=ri(v)?Vn:Dd;return P(v,Q(x,3))}function ype(v,x,P,z){return v==null?[]:(ri(x)||(x=x==null?[]:[x]),P=z?n:P,ri(P)||(P=P==null?[]:[P]),Wh(v,x,P))}var bpe=Dm(function(v,x,P){v[P?0:1].push(x)},function(){return[[],[]]});function xpe(v,x,P){var z=ri(v)?Mn:Ii,q=arguments.length<3;return z(v,Q(x,4),P,q,Nu)}function wpe(v,x,P){var z=ri(v)?sn:Ii,q=arguments.length<3;return z(v,Q(x,4),P,q,mm)}function Cpe(v,x){var P=ri(v)?Ri:ix;return P(v,PT(Q(x,3)))}function Spe(v){var x=ri(v)?J_:RN;return x(v)}function Epe(v,x,P){(P?rn(v,x,P):x===n)?x=1:x=di(x);var z=ri(v)?MN:IN;return z(v,x)}function _pe(v){var x=ri(v)?AN:LN;return x(v)}function Tpe(v){if(v==null)return 0;if(pc(v))return MT(v)?Ys(v):v.length;var x=Ot(v);return x==ve||x==ln?v.size:Uh(v).length}function Ppe(v,x,P){var z=ri(v)?Yn:FN;return P&&rn(v,x,P)&&(x=n),z(v,Q(x,3))}var Ope=fi(function(v,x){if(v==null)return[];var P=x.length;return P>1&&rn(v,x[0],x[1])?x=[]:P>2&&rn(x[0],x[1],x[2])&&(x=[x[0]]),Wh(v,pa(x,1),[])}),_T=aN||function(){return O.Date.now()};function Mpe(v,x){if(typeof x!="function")throw new _e(s);return v=di(v),function(){if(--v<1)return x.apply(this,arguments)}}function W7(v,x,P){return x=P?n:x,x=v&&x==null?v.length:x,kf(v,M,n,n,n,n,x)}function Y7(v,x){var P;if(typeof x!="function")throw new _e(s);return v=di(v),function(){return--v>0&&(P=x.apply(this,arguments)),v<=1&&(x=n),P}}var VN=fi(function(v,x,P){var z=m;if(P.length){var q=uc(P,G(VN));z|=_}return kf(v,z,x,P,q)}),q7=fi(function(v,x,P){var z=m|y;if(P.length){var q=uc(P,G(q7));z|=_}return kf(x,z,v,P,q)});function X7(v,x,P){x=P?n:x;var z=kf(v,C,n,n,n,n,n,x);return z.placeholder=X7.placeholder,z}function K7(v,x,P){x=P?n:x;var z=kf(v,E,n,n,n,n,n,x);return z.placeholder=K7.placeholder,z}function Z7(v,x,P){var z,q,pe,Me,Le,nt,Kt=0,Qt=!1,fn=!1,Gn=!0;if(typeof v!="function")throw new _e(s);x=Gu(x)||0,Ns(P)&&(Qt=!!P.leading,fn="maxWait"in P,pe=fn?_s(Gu(P.maxWait)||0,x):pe,Gn="trailing"in P?!!P.trailing:Gn);function mr(ra){var Nf=z,tp=q;return z=q=n,Kt=ra,Me=v.apply(tp,Nf),Me}function Ir(ra){return Kt=ra,Le=Qr(Ni,x),Qt?mr(ra):Me}function bi(ra){var Nf=ra-nt,tp=ra-Kt,vG=x-Nf;return fn?Fa(vG,pe-tp):vG}function $r(ra){var Nf=ra-nt,tp=ra-Kt;return nt===n||Nf>=x||Nf<0||fn&&tp>=pe}function Ni(){var ra=_T();if($r(ra))return Yi(ra);Le=Qr(Ni,bi(ra))}function Yi(ra){return Le=n,Gn&&z?mr(ra):(z=q=n,Me)}function Xc(){Le!==n&&Ng(Le),Kt=0,z=nt=q=Le=n}function Vl(){return Le===n?Me:Yi(_T())}function Kc(){var ra=_T(),Nf=$r(ra);if(z=arguments,q=this,nt=ra,Nf){if(Le===n)return Ir(nt);if(fn)return Ng(Le),Le=Qr(Ni,x),mr(nt)}return Le===n&&(Le=Qr(Ni,x)),Me}return Kc.cancel=Xc,Kc.flush=Vl,Kc}var Ape=fi(function(v,x){return Ty(v,1,x)}),kpe=fi(function(v,x,P){return Ty(v,Gu(x)||0,P)});function Dpe(v){return kf(v,I)}function TT(v,x){if(typeof v!="function"||x!=null&&typeof x!="function")throw new _e(s);var P=function(){var z=arguments,q=x?x.apply(this,z):z[0],pe=P.cache;if(pe.has(q))return pe.get(q);var Me=v.apply(this,z);return P.cache=pe.set(q,Me)||pe,Me};return P.cache=new(TT.Cache||Pf),P}TT.Cache=Pf;function PT(v){if(typeof v!="function")throw new _e(s);return function(){var x=arguments;switch(x.length){case 0:return!v.call(this);case 1:return!v.call(this,x[0]);case 2:return!v.call(this,x[0],x[1]);case 3:return!v.call(this,x[0],x[1],x[2])}return!v.apply(this,x)}}function Npe(v){return Y7(2,v)}var Rpe=Fy(function(v,x){x=x.length==1&&ri(x[0])?Vn(x[0],nl(Q())):Vn(pa(x,1),nl(Q()));var P=x.length;return fi(function(z){for(var q=-1,pe=Fa(z.length,P);++q<pe;)z[q]=x[q].call(this,z[q]);return mt(v,this,z)})}),UN=fi(function(v,x){var P=uc(x,G(UN));return kf(v,_,n,x,P)}),Q7=fi(function(v,x){var P=uc(x,G(Q7));return kf(v,w,n,x,P)}),Ipe=Fu(function(v,x){return kf(v,k,n,n,n,x)});function $pe(v,x){if(typeof v!="function")throw new _e(s);return x=x===n?x:di(x),fi(v,x)}function Lpe(v,x){if(typeof v!="function")throw new _e(s);return x=x==null?0:_s(di(x),0),fi(function(P){var z=P[x],q=Hc(P,0,x);return z&&Go(q,z),mt(v,this,q)})}function Fpe(v,x,P){var z=!0,q=!0;if(typeof v!="function")throw new _e(s);return Ns(P)&&(z="leading"in P?!!P.leading:z,q="trailing"in P?!!P.trailing:q),Z7(v,x,{leading:z,maxWait:x,trailing:q})}function zpe(v){return W7(v,1)}function Gpe(v,x){return UN(Mm(x),v)}function Bpe(){if(!arguments.length)return[];var v=arguments[0];return ri(v)?v:[v]}function jpe(v){return Ta(v,h)}function Vpe(v,x){return x=typeof x=="function"?x:n,Ta(v,h,x)}function Upe(v){return Ta(v,f|h)}function Hpe(v,x){return x=typeof x=="function"?x:n,Ta(v,f|h,x)}function Wpe(v,x){return x==null||_y(v,x,Ba(x))}function Df(v,x){return v===x||v!==v&&x!==x}var Ype=By(Ay),qpe=By(function(v,x){return v>=x}),Nm=ky(function(){return arguments}())?ky:function(v){return Xs(v)&&qt.call(v,"callee")&&!Ho.call(v,"callee")},ri=gt.isArray,Xpe=Ae?nl(Ae):iT;function pc(v){return v!=null&&OT(v.length)&&!Jh(v)}function na(v){return Xs(v)&&pc(v)}function Kpe(v){return v===!0||v===!1||Xs(v)&&Ga(v)==Je}var $g=cN||tR,Zpe=Oe?nl(Oe):oT;function Qpe(v){return Xs(v)&&v.nodeType===1&&!xx(v)}function Jpe(v){if(v==null)return!0;if(pc(v)&&(ri(v)||typeof v=="string"||typeof v.splice=="function"||$g(v)||Uy(v)||Nm(v)))return!v.length;var x=Ot(v);if(x==ve||x==ln)return!v.size;if(on(v))return!Uh(v).length;for(var P in v)if(qt.call(v,P))return!1;return!0}function ege(v,x){return jh(v,x)}function tge(v,x,P){P=typeof P=="function"?P:n;var z=P?P(v,x):n;return z===n?jh(v,x,n,P):!!z}function HN(v){if(!Xs(v))return!1;var x=Ga(v);return x==Pt||x==tt||typeof v.message=="string"&&typeof v.name=="string"&&!xx(v)}function nge(v){return typeof v=="number"&&Q2(v)}function Jh(v){if(!Ns(v))return!1;var x=Ga(v);return x==bt||x==X||x==Re||x==$t}function J7(v){return typeof v=="number"&&v==di(v)}function OT(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=Y}function Ns(v){var x=typeof v;return v!=null&&(x=="object"||x=="function")}function Xs(v){return v!=null&&typeof v=="object"}var eG=Ze?nl(Ze):Cm;function rge(v,x){return v===x||Dy(v,x,rt(x))}function ige(v,x,P){return P=typeof P=="function"?P:n,Dy(v,x,rt(x),P)}function oge(v){return tG(v)&&v!=+v}function sge(v){if(Rt(v))throw new zr(o);return Sm(v)}function age(v){return v===null}function lge(v){return v==null}function tG(v){return typeof v=="number"||Xs(v)&&Ga(v)==ne}function xx(v){if(!Xs(v)||Ga(v)!=je)return!1;var x=_o(v);if(x===null)return!0;var P=qt.call(x,"constructor")&&x.constructor;return typeof P=="function"&&P instanceof P&&tn.call(P)==br}var WN=vt?nl(vt):Mf;function cge(v){return J7(v)&&v>=-Y&&v<=Y}var nG=Ht?nl(Ht):Em;function MT(v){return typeof v=="string"||!ri(v)&&Xs(v)&&Ga(v)==bn}function qc(v){return typeof v=="symbol"||Xs(v)&&Ga(v)==Z}var Uy=ut?nl(ut):Vh;function uge(v){return v===n}function fge(v){return Xs(v)&&Ot(v)==xe}function dge(v){return Xs(v)&&Ga(v)==Se}var hge=By(Af),pge=By(function(v,x){return v<=x});function rG(v){if(!v)return[];if(pc(v))return MT(v)?No(v):El(v);if(Gc&&v[Gc])return cc(v[Gc]());var x=Ot(v),P=x==ve?Sl:x==ln?_d:Hy;return P(v)}function ep(v){if(!v)return v===0?v:0;if(v=Gu(v),v===te||v===-te){var x=v<0?-1:1;return x*ue}return v===v?v:0}function di(v){var x=ep(v),P=x%1;return x===x?P?x-P:x:0}function iG(v){return v?Ad(di(v),0,se):0}function Gu(v){if(typeof v=="number")return v;if(qc(v))return ce;if(Ns(v)){var x=typeof v.valueOf=="function"?v.valueOf():v;v=Ns(x)?x+"":x}if(typeof v!="string")return v===0?v:+v;v=kh(v);var P=Sa.test(v);return P||Fr.test(v)?Cd(v.slice(2),P?2:8):ua.test(v)?ce:+v}function oG(v){return Iu(v,gc(v))}function gge(v){return v?Ad(di(v),-Y,Y):v===0?v:0}function Ao(v){return v==null?"":jl(v)}var vge=Xh(function(v,x){if(on(x)||pc(x)){Iu(x,Ba(x),v);return}for(var P in x)qt.call(x,P)&&vm(v,P,x[P])}),sG=Xh(function(v,x){Iu(x,gc(x),v)}),AT=Xh(function(v,x,P,z){Iu(x,gc(x),v,z)}),mge=Xh(function(v,x,P,z){Iu(x,Ba(x),v,z)}),yge=Fu(Md);function bge(v,x){var P=Ih(v);return x==null?P:Gh(P,x)}var xge=fi(function(v,x){v=Li(v);var P=-1,z=x.length,q=z>2?x[2]:n;for(q&&rn(x[0],x[1],q)&&(z=1);++P<z;)for(var pe=x[P],Me=gc(pe),Le=-1,nt=Me.length;++Le<nt;){var Kt=Me[Le],Qt=v[Kt];(Qt===n||Df(Qt,Qe[Kt])&&!qt.call(v,Kt))&&(v[Kt]=pe[Kt])}return v}),wge=fi(function(v){return v.push(n,mT),mt(aG,n,v)});function Cge(v,x){return Co(v,Q(x,3),Vc)}function Sge(v,x){return Co(v,Q(x,3),Oy)}function Ege(v,x){return v==null?v:bm(v,Q(x,3),gc)}function _ge(v,x){return v==null?v:Py(v,Q(x,3),gc)}function Tge(v,x){return v&&Vc(v,Q(x,3))}function Pge(v,x){return v&&Oy(v,Q(x,3))}function Oge(v){return v==null?[]:xm(v,Ba(v))}function Mge(v){return v==null?[]:xm(v,gc(v))}function YN(v,x,P){var z=v==null?n:kd(v,x);return z===n?P:z}function Age(v,x){return v!=null&&nn(v,x,ox)}function qN(v,x){return v!=null&&nn(v,x,sx)}var kge=hx(function(v,x,P){x!=null&&typeof x.toString!="function"&&(x=qn.call(x)),v[x]=P},KN(vc)),Dge=hx(function(v,x,P){x!=null&&typeof x.toString!="function"&&(x=qn.call(x)),qt.call(v,x)?v[x].push(P):v[x]=[P]},Q),Nge=fi(Tg);function Ba(v){return pc(v)?Q_(v):Uh(v)}function gc(v){return pc(v)?Q_(v,!0):Hh(v)}function Rge(v,x){var P={};return x=Q(x,3),Vc(v,function(z,q,pe){Of(P,x(z,q,pe),z)}),P}function Ige(v,x){var P={};return x=Q(x,3),Vc(v,function(z,q,pe){Of(P,q,x(z,q,pe))}),P}var $ge=Xh(function(v,x,P){Nd(v,x,P)}),aG=Xh(function(v,x,P,z){Nd(v,x,P,z)}),Lge=Fu(function(v,x){var P={};if(v==null)return P;var z=!1;x=Vn(x,function(pe){return pe=Uc(pe,v),z||(z=pe.length>1),pe}),Iu(v,yx(v),P),z&&(P=Ta(P,f|d|h,BN));for(var q=x.length;q--;)Ag(P,x[q]);return P});function Fge(v,x){return lG(v,PT(Q(x)))}var zge=Fu(function(v,x){return v==null?{}:Og(v,x)});function lG(v,x){if(v==null)return{};var P=Vn(yx(v),function(z){return[z]});return x=Q(x),sT(v,P,function(z,q){return x(z,q[0])})}function Gge(v,x,P){x=Uc(x,v);var z=-1,q=x.length;for(q||(q=1,v=n);++z<q;){var pe=v==null?n:v[lo(x[z])];pe===n&&(z=q,pe=P),v=Jh(pe)?pe.call(v):pe}return v}function Bge(v,x,P){return v==null?v:Mg(v,x,P)}function jge(v,x,P,z){return z=typeof z=="function"?z:n,v==null?v:Mg(v,x,P,z)}var cG=vx(Ba),uG=vx(gc);function Vge(v,x,P){var z=ri(v),q=z||$g(v)||Uy(v);if(x=Q(x,4),P==null){var pe=v&&v.constructor;q?P=z?new pe:[]:Ns(v)?P=Jh(pe)?Ih(_o(v)):{}:P={}}return(q?rr:Vc)(v,function(Me,Le,nt){return x(P,Me,Le,nt)}),P}function Uge(v,x){return v==null?!0:Ag(v,x)}function Hge(v,x,P){return v==null?v:Pm(v,x,Mm(P))}function Wge(v,x,P,z){return z=typeof z=="function"?z:n,v==null?v:Pm(v,x,Mm(P),z)}function Hy(v){return v==null?[]:Ed(v,Ba(v))}function Yge(v){return v==null?[]:Ed(v,gc(v))}function qge(v,x,P){return P===n&&(P=x,x=n),P!==n&&(P=Gu(P),P=P===P?P:0),x!==n&&(x=Gu(x),x=x===x?x:0),Ad(Gu(v),x,P)}function Xge(v,x,P){return x=ep(x),P===n?(P=x,x=0):P=ep(P),v=Gu(v),nT(v,x,P)}function Kge(v,x,P){if(P&&typeof P!="boolean"&&rn(v,x,P)&&(x=P=n),P===n&&(typeof x=="boolean"?(P=x,x=n):typeof v=="boolean"&&(P=v,v=n)),v===n&&x===n?(v=0,x=1):(v=ep(v),x===n?(x=v,v=0):x=ep(x)),v>x){var z=v;v=x,x=z}if(P||v%1||x%1){var q=J2();return Fa(v+q*(x-v+Gl("1e-"+((q+"").length-1))),x)}return Iy(v,x)}var Zge=Kh(function(v,x,P){return x=x.toLowerCase(),v+(P?fG(x):x)});function fG(v){return XN(Ao(v).toLowerCase())}function dG(v){return v=Ao(v),v&&v.replace(er,lm).replace(dg,"")}function Qge(v,x,P){v=Ao(v),x=jl(x);var z=v.length;P=P===n?z:Ad(di(P),0,z);var q=P;return P-=x.length,P>=0&&v.slice(P,q)==x}function Jge(v){return v=Ao(v),v&&ro.test(v)?v.replace(Sr,cm):v}function eve(v){return v=Ao(v),v&&Gr.test(v)?v.replace(On,"\\$&"):v}var tve=Kh(function(v,x,P){return v+(P?"-":"")+x.toLowerCase()}),nve=Kh(function(v,x,P){return v+(P?" ":"")+x.toLowerCase()}),rve=Wc("toLowerCase");function ive(v,x,P){v=Ao(v),x=di(x);var z=x?Ys(v):0;if(!x||z>=x)return v;var q=(x-z)/2;return Wo(bg(q),P)+v+Wo(by(q),P)}function ove(v,x,P){v=Ao(v),x=di(x);var z=x?Ys(v):0;return x&&z<x?v+Wo(x-z,P):v}function sve(v,x,P){v=Ao(v),x=di(x);var z=x?Ys(v):0;return x&&z<x?Wo(x-z,P)+v:v}function ave(v,x,P){return P||x==null?x=0:x&&(x=+x),wy(Ao(v).replace(qo,""),x||0)}function lve(v,x,P){return(P?rn(v,x,P):x===n)?x=1:x=di(x),Rd(Ao(v),x)}function cve(){var v=arguments,x=Ao(v[0]);return v.length<3?x:x.replace(v[1],v[2])}var uve=Kh(function(v,x,P){return v+(P?"_":"")+x.toLowerCase()});function fve(v,x,P){return P&&typeof P!="number"&&rn(v,x,P)&&(x=P=n),P=P===n?se:P>>>0,P?(v=Ao(v),v&&(typeof x=="string"||x!=null&&!WN(x))&&(x=jl(x),!x&&Ef(v))?Hc(No(v),0,P):v.split(x,P)):[]}var dve=Kh(function(v,x,P){return v+(P?" ":"")+XN(x)});function hve(v,x,P){return v=Ao(v),P=P==null?0:Ad(di(P),0,v.length),x=jl(x),v.slice(P,P+x.length)==x}function pve(v,x,P){var z=oe.templateSettings;P&&rn(v,x,P)&&(x=n),v=Ao(v),x=AT({},x,z,vT);var q=AT({},x.imports,z.imports,vT),pe=Ba(q),Me=Ed(q,pe),Le,nt,Kt=0,Qt=x.interpolate||oo,fn="__p += '",Gn=dm((x.escape||oo).source+"|"+Qt.source+"|"+(Qt===Yt?Fo:oo).source+"|"+(x.evaluate||oo).source+"|$","g"),mr="//# sourceURL="+(qt.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ou+"]")+`
`;v.replace(Gn,function($r,Ni,Yi,Xc,Vl,Kc){return Yi||(Yi=Xc),fn+=v.slice(Kt,Kc).replace(ws,um),Ni&&(Le=!0,fn+=`' +
__e(`+Ni+`) +
'`),Vl&&(nt=!0,fn+=`';
`+Vl+`;
__p += '`),Yi&&(fn+=`' +
((__t = (`+Yi+`)) == null ? '' : __t) +
'`),Kt=Kc+$r.length,$r}),fn+=`';
`;var Ir=qt.call(x,"variable")&&x.variable;if(!Ir)fn=`with (obj) {
`+fn+`
}
`;else if(bs.test(Ir))throw new zr(a);fn=(nt?fn.replace(Wn,""):fn).replace(In,"$1").replace(en,"$1;"),fn="function("+(Ir||"obj")+`) {
`+(Ir?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(nt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fn+`return __p
}`;var bi=pG(function(){return mi(pe,mr+"return "+fn).apply(n,Me)});if(bi.source=fn,HN(bi))throw bi;return bi}function gve(v){return Ao(v).toLowerCase()}function vve(v){return Ao(v).toUpperCase()}function mve(v,x,P){if(v=Ao(v),v&&(P||x===n))return kh(v);if(!v||!(x=jl(x)))return v;var z=No(v),q=No(x),pe=pg(z,q),Me=gg(z,q)+1;return Hc(z,pe,Me).join("")}function yve(v,x,P){if(v=Ao(v),v&&(P||x===n))return v.slice(0,yg(v)+1);if(!v||!(x=jl(x)))return v;var z=No(v),q=gg(z,No(x))+1;return Hc(z,0,q).join("")}function bve(v,x,P){if(v=Ao(v),v&&(P||x===n))return v.replace(qo,"");if(!v||!(x=jl(x)))return v;var z=No(v),q=pg(z,No(x));return Hc(z,q).join("")}function xve(v,x){var P=A,z=N;if(Ns(x)){var q="separator"in x?x.separator:q;P="length"in x?di(x.length):P,z="omission"in x?jl(x.omission):z}v=Ao(v);var pe=v.length;if(Ef(v)){var Me=No(v);pe=Me.length}if(P>=pe)return v;var Le=P-Ys(z);if(Le<1)return z;var nt=Me?Hc(Me,0,Le).join(""):v.slice(0,Le);if(q===n)return nt+z;if(Me&&(Le+=nt.length-Le),WN(q)){if(v.slice(Le).search(q)){var Kt,Qt=nt;for(q.global||(q=dm(q.source,Ao(xs.exec(q))+"g")),q.lastIndex=0;Kt=q.exec(Qt);)var fn=Kt.index;nt=nt.slice(0,fn===n?Le:fn)}}else if(v.indexOf(jl(q),Le)!=Le){var Gn=nt.lastIndexOf(q);Gn>-1&&(nt=nt.slice(0,Gn))}return nt+z}function wve(v){return v=Ao(v),v&&Fn.test(v)?v.replace(Pn,my):v}var Cve=Kh(function(v,x,P){return v+(P?" ":"")+x.toUpperCase()}),XN=Wc("toUpperCase");function hG(v,x,P){return v=Ao(v),x=P?n:x,x===n?vg(v)?yy(v):Ea(v):v.match(x)||[]}var pG=fi(function(v,x){try{return mt(v,n,x)}catch(P){return HN(P)?P:new zr(P)}}),Sve=Fu(function(v,x){return rr(x,function(P){P=lo(P),Of(v,P,VN(v[P],v))}),v});function Eve(v){var x=v==null?0:v.length,P=Q();return v=x?Vn(v,function(z){if(typeof z[1]!="function")throw new _e(s);return[P(z[0]),z[1]]}):[],fi(function(z){for(var q=-1;++q<x;){var pe=v[q];if(mt(pe[0],this,z))return mt(pe[1],this,z)}})}function _ve(v){return rx(Ta(v,f))}function KN(v){return function(){return v}}function Tve(v,x){return v==null||v!==v?x:v}var Pve=Gy(),Ove=Gy(!0);function vc(v){return v}function ZN(v){return Pg(typeof v=="function"?v:Ta(v,f))}function Mve(v){return _m(Ta(v,f))}function Ave(v,x){return Tm(v,Ta(x,f))}var kve=fi(function(v,x){return function(P){return Tg(P,v,x)}}),Dve=fi(function(v,x){return function(P){return Tg(v,P,x)}});function QN(v,x,P){var z=Ba(x),q=xm(x,z);P==null&&!(Ns(x)&&(q.length||!z.length))&&(P=x,x=v,v=this,q=xm(x,Ba(x)));var pe=!(Ns(P)&&"chain"in P)||!!P.chain,Me=Jh(v);return rr(q,function(Le){var nt=x[Le];v[Le]=nt,Me&&(v.prototype[Le]=function(){var Kt=this.__chain__;if(pe||Kt){var Qt=v(this.__wrapped__),fn=Qt.__actions__=El(this.__actions__);return fn.push({func:nt,args:arguments,thisArg:v}),Qt.__chain__=Kt,Qt}return nt.apply(v,Go([this.value()],arguments))})}),v}function Nve(){return O._===this&&(O._=ni),this}function JN(){}function Rve(v){return v=di(v),fi(function(x){return Ny(x,v)})}var Ive=Lu(Vn),$ve=Lu(ao),Lve=Lu(Yn);function gG(v){return Mt(v)?tl(lo(v)):DN(v)}function Fve(v){return function(x){return v==null?n:kd(v,x)}}var zve=px(),Gve=px(!0);function eR(){return[]}function tR(){return!1}function Bve(){return{}}function jve(){return""}function Vve(){return!0}function Uve(v,x){if(v=di(v),v<1||v>Y)return[];var P=se,z=Fa(v,se);x=Q(x),v-=se;for(var q=Ah(z,x);++P<v;)x(P);return q}function Hve(v){return ri(v)?Vn(v,lo):qc(v)?[v]:El(To(Ao(v)))}function Wve(v){var x=++Ln;return Ao(v)+x}var Yve=ga(function(v,x){return v+x},0),qve=gx("ceil"),Xve=ga(function(v,x){return v/x},1),Kve=gx("floor");function Zve(v){return v&&v.length?ym(v,vc,Ay):n}function Qve(v,x){return v&&v.length?ym(v,Q(x,2),Ay):n}function Jve(v){return Ss(v,vc)}function eme(v,x){return Ss(v,Q(x,2))}function tme(v){return v&&v.length?ym(v,vc,Af):n}function nme(v,x){return v&&v.length?ym(v,Q(x,2),Af):n}var rme=ga(function(v,x){return v*x},1),ime=gx("round"),ome=ga(function(v,x){return v-x},0);function sme(v){return v&&v.length?Mh(v,vc):0}function ame(v,x){return v&&v.length?Mh(v,Q(x,2)):0}return oe.after=Mpe,oe.ary=W7,oe.assign=vge,oe.assignIn=sG,oe.assignInWith=AT,oe.assignWith=mge,oe.at=yge,oe.before=Y7,oe.bind=VN,oe.bindAll=Sve,oe.bindKey=q7,oe.castArray=Bpe,oe.chain=V7,oe.chunk=va,oe.compact=os,oe.concat=kr,oe.cond=Eve,oe.conforms=_ve,oe.constant=KN,oe.countBy=spe,oe.create=bge,oe.curry=X7,oe.curryRight=K7,oe.debounce=Z7,oe.defaults=xge,oe.defaultsDeep=wge,oe.defer=Ape,oe.delay=kpe,oe.difference=ma,oe.differenceBy=Oi,oe.differenceWith=ar,oe.drop=Yr,oe.dropRight=ai,oe.dropRightWhile=ss,oe.dropWhile=zu,oe.fill=Qh,oe.filter=lpe,oe.flatMap=fpe,oe.flatMapDeep=dpe,oe.flatMapDepth=hpe,oe.flatten=et,oe.flattenDeep=Tn,oe.flattenDepth=Vr,oe.flip=Dpe,oe.flow=Pve,oe.flowRight=Ove,oe.fromPairs=ge,oe.functions=Oge,oe.functionsIn=Mge,oe.groupBy=ppe,oe.initial=Be,oe.intersection=Ye,oe.intersectionBy=De,oe.intersectionWith=Pe,oe.invert=kge,oe.invertBy=Dge,oe.invokeMap=vpe,oe.iteratee=ZN,oe.keyBy=mpe,oe.keys=Ba,oe.keysIn=gc,oe.map=ET,oe.mapKeys=Rge,oe.mapValues=Ige,oe.matches=Mve,oe.matchesProperty=Ave,oe.memoize=TT,oe.merge=$ge,oe.mergeWith=aG,oe.method=kve,oe.methodOf=Dve,oe.mixin=QN,oe.negate=PT,oe.nthArg=Rve,oe.omit=Lge,oe.omitBy=Fge,oe.once=Npe,oe.orderBy=ype,oe.over=Ive,oe.overArgs=Rpe,oe.overEvery=$ve,oe.overSome=Lve,oe.partial=UN,oe.partialRight=Q7,oe.partition=bpe,oe.pick=zge,oe.pickBy=lG,oe.property=gG,oe.propertyOf=Fve,oe.pull=Fe,oe.pullAll=Xe,oe.pullAllBy=wt,oe.pullAllWith=Et,oe.pullAt=pt,oe.range=zve,oe.rangeRight=Gve,oe.rearg=Ipe,oe.reject=Cpe,oe.remove=Xt,oe.rest=$pe,oe.reverse=zn,oe.sampleSize=Epe,oe.set=Bge,oe.setWith=jge,oe.shuffle=_pe,oe.slice=Dr,oe.sortBy=Ope,oe.sortedUniq=bx,oe.sortedUniqBy=hc,oe.split=fve,oe.spread=Lpe,oe.tail=wT,oe.take=Yc,oe.takeRight=CT,oe.takeRightWhile=Ihe,oe.takeWhile=$he,oe.tap=Zhe,oe.throttle=Fpe,oe.thru=ST,oe.toArray=rG,oe.toPairs=cG,oe.toPairsIn=uG,oe.toPath=Hve,oe.toPlainObject=oG,oe.transform=Vge,oe.unary=zpe,oe.union=Lhe,oe.unionBy=Fhe,oe.unionWith=zhe,oe.uniq=Ghe,oe.uniqBy=Bhe,oe.uniqWith=jhe,oe.unset=Uge,oe.unzip=jN,oe.unzipWith=j7,oe.update=Hge,oe.updateWith=Wge,oe.values=Hy,oe.valuesIn=Yge,oe.without=Vhe,oe.words=hG,oe.wrap=Gpe,oe.xor=Uhe,oe.xorBy=Hhe,oe.xorWith=Whe,oe.zip=Yhe,oe.zipObject=qhe,oe.zipObjectDeep=Xhe,oe.zipWith=Khe,oe.entries=cG,oe.entriesIn=uG,oe.extend=sG,oe.extendWith=AT,QN(oe,oe),oe.add=Yve,oe.attempt=pG,oe.camelCase=Zge,oe.capitalize=fG,oe.ceil=qve,oe.clamp=qge,oe.clone=jpe,oe.cloneDeep=Upe,oe.cloneDeepWith=Hpe,oe.cloneWith=Vpe,oe.conformsTo=Wpe,oe.deburr=dG,oe.defaultTo=Tve,oe.divide=Xve,oe.endsWith=Qge,oe.eq=Df,oe.escape=Jge,oe.escapeRegExp=eve,oe.every=ape,oe.find=cpe,oe.findIndex=ye,oe.findKey=Cge,oe.findLast=upe,oe.findLastIndex=st,oe.findLastKey=Sge,oe.floor=Kve,oe.forEach=U7,oe.forEachRight=H7,oe.forIn=Ege,oe.forInRight=_ge,oe.forOwn=Tge,oe.forOwnRight=Pge,oe.get=YN,oe.gt=Ype,oe.gte=qpe,oe.has=Age,oe.hasIn=qN,oe.head=re,oe.identity=vc,oe.includes=gpe,oe.indexOf=Te,oe.inRange=Xge,oe.invoke=Nge,oe.isArguments=Nm,oe.isArray=ri,oe.isArrayBuffer=Xpe,oe.isArrayLike=pc,oe.isArrayLikeObject=na,oe.isBoolean=Kpe,oe.isBuffer=$g,oe.isDate=Zpe,oe.isElement=Qpe,oe.isEmpty=Jpe,oe.isEqual=ege,oe.isEqualWith=tge,oe.isError=HN,oe.isFinite=nge,oe.isFunction=Jh,oe.isInteger=J7,oe.isLength=OT,oe.isMap=eG,oe.isMatch=rge,oe.isMatchWith=ige,oe.isNaN=oge,oe.isNative=sge,oe.isNil=lge,oe.isNull=age,oe.isNumber=tG,oe.isObject=Ns,oe.isObjectLike=Xs,oe.isPlainObject=xx,oe.isRegExp=WN,oe.isSafeInteger=cge,oe.isSet=nG,oe.isString=MT,oe.isSymbol=qc,oe.isTypedArray=Uy,oe.isUndefined=uge,oe.isWeakMap=fge,oe.isWeakSet=dge,oe.join=Ie,oe.kebabCase=tve,oe.last=de,oe.lastIndexOf=Ee,oe.lowerCase=nve,oe.lowerFirst=rve,oe.lt=hge,oe.lte=pge,oe.max=Zve,oe.maxBy=Qve,oe.mean=Jve,oe.meanBy=eme,oe.min=tme,oe.minBy=nme,oe.stubArray=eR,oe.stubFalse=tR,oe.stubObject=Bve,oe.stubString=jve,oe.stubTrue=Vve,oe.multiply=rme,oe.nth=he,oe.noConflict=Nve,oe.noop=JN,oe.now=_T,oe.pad=ive,oe.padEnd=ove,oe.padStart=sve,oe.parseInt=ave,oe.random=Kge,oe.reduce=xpe,oe.reduceRight=wpe,oe.repeat=lve,oe.replace=cve,oe.result=Gge,oe.round=ime,oe.runInContext=We,oe.sample=Spe,oe.size=Tpe,oe.snakeCase=uve,oe.some=Ppe,oe.sortedIndex=kn,oe.sortedIndexBy=ur,oe.sortedIndexOf=Er,oe.sortedLastIndex=yi,oe.sortedLastIndexBy=Zo,oe.sortedLastIndexOf=rl,oe.startCase=dve,oe.startsWith=hve,oe.subtract=ome,oe.sum=sme,oe.sumBy=ame,oe.template=pve,oe.times=Uve,oe.toFinite=ep,oe.toInteger=di,oe.toLength=iG,oe.toLower=gve,oe.toNumber=Gu,oe.toSafeInteger=gge,oe.toString=Ao,oe.toUpper=vve,oe.trim=mve,oe.trimEnd=yve,oe.trimStart=bve,oe.truncate=xve,oe.unescape=wve,oe.uniqueId=Wve,oe.upperCase=Cve,oe.upperFirst=XN,oe.each=U7,oe.eachRight=H7,oe.first=re,QN(oe,function(){var v={};return Vc(oe,function(x,P){qt.call(oe.prototype,P)||(v[P]=x)}),v}(),{chain:!1}),oe.VERSION=r,rr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){oe[v].placeholder=oe}),rr(["drop","take"],function(v,x){Pi.prototype[v]=function(P){P=P===n?1:_s(di(P),0);var z=this.__filtered__&&!x?new Pi(this):this.clone();return z.__filtered__?z.__takeCount__=Fa(P,z.__takeCount__):z.__views__.push({size:Fa(P,se),type:v+(z.__dir__<0?"Right":"")}),z},Pi.prototype[v+"Right"]=function(P){return this.reverse()[v](P).reverse()}}),rr(["filter","map","takeWhile"],function(v,x){var P=x+1,z=P==B||P==H;Pi.prototype[v]=function(q){var pe=this.clone();return pe.__iteratees__.push({iteratee:Q(q,3),type:P}),pe.__filtered__=pe.__filtered__||z,pe}}),rr(["head","last"],function(v,x){var P="take"+(x?"Right":"");Pi.prototype[v]=function(){return this[P](1).value()[0]}}),rr(["initial","tail"],function(v,x){var P="drop"+(x?"":"Right");Pi.prototype[v]=function(){return this.__filtered__?new Pi(this):this[P](1)}}),Pi.prototype.compact=function(){return this.filter(vc)},Pi.prototype.find=function(v){return this.filter(v).head()},Pi.prototype.findLast=function(v){return this.reverse().find(v)},Pi.prototype.invokeMap=fi(function(v,x){return typeof v=="function"?new Pi(this):this.map(function(P){return Tg(P,v,x)})}),Pi.prototype.reject=function(v){return this.filter(PT(Q(v)))},Pi.prototype.slice=function(v,x){v=di(v);var P=this;return P.__filtered__&&(v>0||x<0)?new Pi(P):(v<0?P=P.takeRight(-v):v&&(P=P.drop(v)),x!==n&&(x=di(x),P=x<0?P.dropRight(-x):P.take(x-v)),P)},Pi.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},Pi.prototype.toArray=function(){return this.take(se)},Vc(Pi.prototype,function(v,x){var P=/^(?:filter|find|map|reject)|While$/.test(x),z=/^(?:head|last)$/.test(x),q=oe[z?"take"+(x=="last"?"Right":""):x],pe=z||/^find/.test(x);!q||(oe.prototype[x]=function(){var Me=this.__wrapped__,Le=z?[1]:arguments,nt=Me instanceof Pi,Kt=Le[0],Qt=nt||ri(Me),fn=function(Ni){var Yi=q.apply(oe,Go([Ni],Le));return z&&Gn?Yi[0]:Yi};Qt&&P&&typeof Kt=="function"&&Kt.length!=1&&(nt=Qt=!1);var Gn=this.__chain__,mr=!!this.__actions__.length,Ir=pe&&!Gn,bi=nt&&!mr;if(!pe&&Qt){Me=bi?Me:new Pi(this);var $r=v.apply(Me,Le);return $r.__actions__.push({func:ST,args:[fn],thisArg:n}),new fc($r,Gn)}return Ir&&bi?v.apply(this,Le):($r=this.thru(fn),Ir?z?$r.value()[0]:$r.value():$r)})}),rr(["pop","push","shift","sort","splice","unshift"],function(v){var x=Ge[v],P=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",z=/^(?:pop|shift)$/.test(v);oe.prototype[v]=function(){var q=arguments;if(z&&!this.__chain__){var pe=this.value();return x.apply(ri(pe)?pe:[],q)}return this[P](function(Me){return x.apply(ri(Me)?Me:[],q)})}}),Vc(Pi.prototype,function(v,x){var P=oe[x];if(P){var z=P.name+"";qt.call(za,z)||(za[z]=[]),za[z].push({name:x,func:P})}}),za[Zh(n,y).name]=[{name:"wrapper",func:n}],Pi.prototype.clone=dN,Pi.prototype.reverse=hN,Pi.prototype.value=pN,oe.prototype.at=Qhe,oe.prototype.chain=Jhe,oe.prototype.commit=epe,oe.prototype.next=tpe,oe.prototype.plant=rpe,oe.prototype.reverse=ipe,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=ope,oe.prototype.first=oe.prototype.head,Gc&&(oe.prototype[Gc]=npe),oe},Du=_f();F?((F.exports=Du)._=Du,R._=Du):O._=Du}).call(ou)})(Fv,Fv.exports);class EIe{constructor(){this.extensions=[],this.containerClassNames=new Set,this.addCoreModule=e=>(this.extensions.unshift(e),Zn.create(()=>{this.removeExtension(e)})),this.addExtension=e=>(this.extensions.push(e),Zn.create(()=>{this.removeExtension(e)})),this.getExtension=e=>Fv.exports.find(this.extensions,n=>Fv.exports.get(n,"config.CONFIG_TYPE")===e),this.removeExtension=e=>{const n=this.extensions.indexOf(e);n>-1&&this.extensions.splice(n,1)},this.getInstanceId=()=>this.instanceId,this.addContainerClassNames=e=>this.containerClassNames.add(e),this.getContainerClassNames=()=>Array.from(this.containerClassNames),this.getAllExtensions=()=>this.extensions,this.getAllExtensionConfigs=()=>this.extensions.map(e=>e.config),this.instanceId=nu()}has(e){return this.extensions.some(n=>n.config.CONFIG_TYPE===e)}}const _Ie=()=>dt.useMemo(()=>new EIe,[]),boe=dt.createContext({}),xh=()=>dt.useContext(boe),TIe=t=>{const e=xh(),n=dt.useMemo(()=>t.config?t.config:new uS,[]);return dt.useEffect(()=>{const r=e.addCoreModule({config:n,createModule:SIe});return()=>{r.dispose(),n.dispose()}},[e,n]),null},PIe=t=>e=>{const n=dt.useMemo(()=>({getValue:()=>({})}),[]);return n.getValue=()=>e,dt.useMemo(()=>{const i=new uS;return t(i,n),i},[n])},xoe=dt.createContext({cell:null,x6Graph:null,commands:null,modelService:null});function woe(t,e,n){return function(r){const i=this,o=r==null?void 0:r.getData(),s=r==null?void 0:r.getSize(),a=r==null?void 0:r.getPosition();return D(()=>D(xoe.Provider,{value:{cell:r,x6Graph:i,commands:e,modelService:n},children:D(t,{cell:r,data:o,size:s,position:a})}),{})}}function OIe(t,e,n){return function(r){const i=this,o=r==null?void 0:r.getData();return D(()=>D(xoe.Provider,{value:{cell:r,x6Graph:i,commands:e,modelService:n},children:D(t,{data:o,cell:r})}),{})}}const ny=Symbol("IGraphProvider"),Coe=Symbol("ICommandServiceProvider"),Soe=Symbol("IModelServiceProvider");let zv=class{constructor(){this.toDispose=new Ei,this.graphMap=new Map,this.getGraph=e=>ie(this,void 0,void 0,function*(){let n=this.graphMap.get(e);if(!n){n=new Ec,this.graphMap.set(e,n);const r=yield this.optionProvider.getOptions(),i=this.hookService.hookProvider(),o=yield i.graphOptions.call(r.x6Options),{graphContainer:s,edgeRender:a,nodeRender:l,edgeTypeParser:c}=r,u=yield i.reactEdgeLabelRender.call(a);yield i.reactNodeRender.call(l);const{clientHeight:f,clientWidth:d}=s,h=yield this.commandServiceProvider.getCommandService(),p=yield this.modelServiceProvider.getModelService(),g=new gi(Object.assign(Object.assign({container:s,width:d,height:f},o),{onEdgeLabelRendered:m=>{const{edge:y,container:b}=m;this.renderEdgeReactLabel({edge:y,container:b,edgeRenderMap:u,edgeTypeParser:c,modelService:p,commandService:h})}}));yield i.afterGraphInit.call({graph:g,commandService:h,modelService:p,options:r}),n.resolve(g),g.on("node:moved",({node:m})=>{const y=m.getData(),b=m.position();m.setData(Object.assign(Object.assign({},y),{x:b==null?void 0:b.x,y:b==null?void 0:b.y}))}),g.on("node:resized",({node:m})=>{const y=m.getData(),b=m.size();m.setData(Object.assign(Object.assign({},y),{width:b==null?void 0:b.width,height:b==null?void 0:b.height}))}),this.toDispose.push(Zn.create(()=>ie(this,void 0,void 0,function*(){yield i.beforeGraphDestroy.call({graph:g,commandService:h,modelService:p,options:r}),this.graphMap.delete(e),g.dispose()})))}return n.promise}),this.renderEdgeReactLabel=e=>ie(this,void 0,void 0,function*(){const{container:n,edgeTypeParser:r,edge:i,edgeRenderMap:o,commandService:s,modelService:a}=e,l=r(i==null?void 0:i.data)||Zre,c=o.get(l);if(!!c&&i&&(i==null?void 0:i.data)&&c){const u=this.edgeAppendForeignObject(i,n),f=OIe(c,s,a)(i);fu.render(f,u)}})}edgeAppendForeignObject(e,n){const r=ec("foreignObject"),i=HC("body",zs.xhtml),o=HC("div",zs.xhtml),s=e==null?void 0:e.data,a=(s==null?void 0:s.edgeContentWidth)||100,l=(s==null?void 0:s.edgeContentHeight)||30;return r.setAttribute("width",`${a}`),r.setAttribute("height",`${l}`),r.setAttribute("x",`${-1*a/2}`),r.setAttribute("y",`${-1*l/2}`),i.setAttribute("xhtmls",zs.xhtml),i.style.width="100%",i.style.height="100%",i.style.padding="0",i.style.margin="0",i.style.background="unset",i.style.overflow="visible",i.className="xflow-edge-label-body",o.style.width="100%",o.style.height="100%",i.appendChild(o),r.appendChild(i),n.appendChild(r),o}dispose(){this.toDispose.dispose()}};lt([jn(aS),ht("design:type",Object)],zv.prototype,"optionProvider",void 0);lt([jn(x8),ht("design:type",Object)],zv.prototype,"hookService",void 0);lt([jn(Coe),ht("design:type",Object)],zv.prototype,"commandServiceProvider",void 0);lt([jn(Soe),ht("design:type",Object)],zv.prototype,"modelServiceProvider",void 0);zv=lt([Ca()],zv);const MIe=t=>{t(zv),t(ny,{lifecycle:yo.Lifecycle.singleton,useDynamic:e=>({getGraphInstance:()=>ie(void 0,void 0,void 0,function*(){const n=e.container.get(zv),r=e.container.get(aS),i=yield r==null?void 0:r.getOptions();return yield n==null?void 0:n.getGraph(i.graphId)}),getGraphOptions:()=>ie(void 0,void 0,void 0,function*(){const n=e.container.get(aS);return n==null?void 0:n.getOptions()})})}),t(Coe,{lifecycle:yo.Lifecycle.singleton,useDynamic:e=>({getCommandService:()=>ie(void 0,void 0,void 0,function*(){return e.container.get(J0)})})}),t(Soe,{lifecycle:yo.Lifecycle.singleton,useDynamic:e=>({getModelService:()=>ie(void 0,void 0,void 0,function*(){return e.container.get(ey)})})})};var v$;(function(t){t.CONFIG_TYPE="MODEL_SERVICE_CONFIG"})(v$||(v$={}));const QR=()=>Zn.create(()=>{});class Eoe{constructor(){this.CONFIG_TYPE=v$.CONFIG_TYPE,this.registerModelFn=QR,this.isMounted=new Ec,this.registerModel=e=>{this.registerModelFn=e},this.setMountState=()=>{this.isMounted.resolve(!0)},this.getConfig=()=>ie(this,void 0,void 0,function*(){return yield this.isMounted.promise,{CONFIG_TYPE:this.CONFIG_TYPE,modelRegisterFunc:this.registerModelFn||QR}}),this.dispose=()=>{this.registerModelFn=QR,this.isMounted=new Ec}}}let Q1=class{constructor(){this.toDispose=new Ei,this.deferredModelMap=new Map,this.registerModel=e=>{const{id:n,getInitialValue:r,modelFactory:i}=e,o=new Ei,s=this.ensureModel(n);if(s.isResolved){console.error(e,"model has been registerd");return}const a=r?r():Wf.EMPTY_VALUE,l=i?i():new R0(a);return Wf.isValidValue(a)&&s.resolve(l),e.watchChange&&e.watchChange(l,this).then(c=>{s.isResolved||s.resolve(l),this.toDispose.pushAll([c,o]),o.push(c)}),o},this.findDeferredModel=e=>this.deferredModelMap.get(e),this.awaitModel=e=>this.ensureModel(e).promise,this.registerRuntimeModel=()=>ie(this,void 0,void 0,function*(){const{modelRegisterFunc:e}=yield this.modelOptionProvider.getOption(),n=yield this.graphProvider.getGraphInstance();e&&e(this,n)}),this.ensureModel=e=>{const n=this.deferredModelMap.get(e);if(n)return n;const r=new Ec;return this.deferredModelMap.set(e,r),this.toDispose.push(Zn.create(()=>this.deferredModelMap.delete(e))),r}}onStart(){const e=this.contributionProvider.getContributions();for(const n of e)n.registerModel(this);this.registerRuntimeModel()}onStop(){this.toDispose.dispose()}};lt([Kv(ty),ht("design:type",Object)],Q1.prototype,"contributionProvider",void 0);lt([jn(moe),ht("design:type",Object)],Q1.prototype,"modelOptionProvider",void 0);lt([jn(ny),ht("design:type",Object)],Q1.prototype,"graphProvider",void 0);Q1=lt([Ca({contrib:[nm,ey]})],Q1);const Us=t=>e=>ie(void 0,void 0,void 0,function*(){return yield e.awaitModel(t)}),Hs=t=>e=>ie(void 0,void 0,void 0,function*(){return(yield e.awaitModel(t)).getValidValue()});var J1;(function(t){t.id="GRAPH_ENABLE_MULTI_SELECT",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(J1||(J1={}));var e2;(function(t){t.id="GRAPH_FULLSCREEN",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(e2||(e2={}));var m$;(function(t){t.id="IS_NODE_SELECTED",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(m$||(m$={}));var o3;(function(t){t.id="IS_GROUP_SELECTED",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(o3||(o3={}));var s3;(function(t){t.id="IS_NORMAL_NODES_SELECTED",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(s3||(s3={}));var a3;(function(t){t.id="LAST_SELECTED_CELL",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(a3||(a3={}));var Xd;(function(t){t.id="SELECTED_CELLS",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(Xd||(Xd={}));var l3;(function(t){t.id="LAST_SELECTED_NODE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(l3||(l3={}));var u0;(function(t){t.id="SELECTED_NODES",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(u0||(u0={}));var $9;(function(t){t.id="SELECTED_EDGES",t.getModel=Us(t.id),t.useValue=Hs(t.id)})($9||($9={}));var y$;(function(t){t.id="SELECTED_GROUPS",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(y$||(y$={}));var L9;(function(t){t.id="CONTEXTMENU_NODE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(L9||(L9={}));var F9;(function(t){t.id="CONTEXTMENU_EDGE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(F9||(F9={}));var c3;(function(t){t.id="CONTEXTMENU_TARGET",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(c3||(c3={}));var I0;(function(t){t.id="GRAPH_META",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(I0||(I0={}));var fS;(function(t){t.id="GRAPH_SCALE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(fS||(fS={}));var b$;(function(t){t.id="COMMAND_REDOABLE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(b$||(b$={}));var x$;(function(t){t.id="COMMAND_UNDOABLE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(x$||(x$={}));var w$;(function(t){t.id="COMMAND_GLOBALS",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(w$||(w$={}));var C$;(function(t){t.id="HISTORY_UNDOABLE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(C$||(C$={}));var S$;(function(t){t.id="HISTORY_REDOABLE",t.getModel=Us(t.id),t.useValue=Hs(t.id)})(S$||(S$={}));let u3=class{registerModel(e){e.registerModel({id:b$.id,getInitialValue:()=>this.commands.isRedoable,watchChange:n=>ie(this,void 0,void 0,function*(){return this.commands.watchChange(()=>{n.setValue(this.commands.isRedoable)})})}),e.registerModel({id:x$.id,getInitialValue:()=>this.commands.isUndoable,watchChange:n=>ie(this,void 0,void 0,function*(){return this.commands.watchChange(()=>{n.setValue(this.commands.isUndoable)})})}),e.registerModel({id:w$.id,modelFactory:()=>this.commands.Globals})}};lt([jn(J0),ht("design:type",Object)],u3.prototype,"commands",void 0);u3=lt([Ca({contrib:ty})],u3);const JR=(t,e,n)=>(t.on(e,n),Zn.create(()=>{t.off(e,n)}));let f3=class{constructor(){this.getGraphInstance=()=>ie(this,void 0,void 0,function*(){const e=yield this.graphProvider.getGraphInstance(),n=yield this.graphProvider.getGraphOptions();return{graph:e,config:n}})}registerModel(e){e.registerModel({id:I0.id,getInitialValue:()=>({flowId:"-1"}),watchChange:n=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{n.setValue({flowId:"-1"})})})}),e.registerModel({id:J1.id,getInitialValue:()=>({isEnable:!1}),watchChange:n=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{n.setValue({isEnable:!1})})})}),e.registerModel({id:e2.id,getInitialValue:()=>!1,watchChange:(n,r)=>ie(this,void 0,void 0,function*(){const i=()=>ie(this,void 0,void 0,function*(){const o=!!document.fullscreenElement;(yield e2.getModel(r)).setValue(o)});return document.addEventListener("fullscreenchange",i,!1),Zn.create(()=>{document.removeEventListener("fullscreenchange",i),n.setValue(!1)})})}),e.registerModel({id:Xd.id,getInitialValue:()=>[],watchChange:n=>ie(this,void 0,void 0,function*(){const{graph:r}=yield this.getGraphInstance(),i=o=>{const{selected:s}=o;n.setValue(s)};return r.on("selection:changed",i),Zn.create(()=>r.off("selection:changed",i))})}),e.registerModel({id:a3.id,watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield Xd.getModel(r)).watch((o=[])=>{n.setValue([...o].pop()||null)})})}),e.registerModel({id:u0.id,getInitialValue:()=>[],watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield Xd.getModel(r)).watch((o=[])=>{const s=o.filter(a=>a.isNode());n.setValue(s)})})}),e.registerModel({id:l3.id,watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield u0.getModel(r)).watch(s=>{n.setValue([...s].pop()||null)})})}),e.registerModel({id:m$.id,watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield u0.getModel(r)).watch(s=>{n.setValue(s.length>0)})})}),e.registerModel({id:o3.id,getInitialValue:()=>!1,watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield Xd.getModel(r)).watch(s=>{const a=s.every(l=>l&&l.getProp("isGroup")===!0);n.setValue(a)})})}),e.registerModel({id:y$.id,getInitialValue:()=>[],watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield u0.getModel(r)).watch(s=>{const a=s.filter(l=>l&&l.getProp("isGroup")===!0);n.setValue(a)})})}),e.registerModel({id:s3.id,getInitialValue:()=>!1,watchChange:(n,r)=>ie(this,void 0,void 0,function*(){return(yield Xd.getModel(r)).watch(s=>{const a=s.every(c=>{const u=!(c&&c.getProp("isGroup")),f=!(c&&c.getProp("group"));return u&&f}),l=s.length>0&&a;n.setValue(l)})})}),e.registerModel({id:fS.id,getInitialValue:()=>({zoomFactor:-1}),watchChange:n=>ie(this,void 0,void 0,function*(){const{graph:r}=yield this.getGraphInstance(),i=o=>{const s=r.zoom();n.setValue(Object.assign(Object.assign({},o),{zoomFactor:s}))};return r.on("scale",i),Zn.create(()=>r.off("scale",i))})}),e.registerModel({id:c3.id,watchChange:n=>ie(this,void 0,void 0,function*(){const{graph:r,config:i}=yield this.getGraphInstance(),o=a=>l=>{const{x:c,y:u}=l,f=r.localToClient({x:c,y:u}),d=i.rootContainer.getBoundingClientRect(),h={x:f.x-((d==null?void 0:d.x)||0),y:f.y-((d==null?void 0:d.y)||0)};n.setValue({type:a,anchor:h,data:l,cell:l.cell})},s=new Ei;return s.pushAll([JR(r,"node:contextmenu",o("node")),JR(r,"edge:contextmenu",o("edge")),JR(r,"blank:contextmenu",o("blank"))]),s})}),e.registerModel({id:S$.id,getInitialValue:()=>!1,watchChange:n=>ie(this,void 0,void 0,function*(){const{graph:r}=yield this.getGraphInstance(),i=()=>{const o=r.history.canRedo();n.setValue(o)};return r.history&&r.history.on("change",i),Zn.create(()=>r.history.off("change",i))})}),e.registerModel({id:C$.id,getInitialValue:()=>!1,watchChange:n=>ie(this,void 0,void 0,function*(){const{graph:r}=yield this.getGraphInstance(),i=()=>{const o=r.history.canUndo();n.setValue(o)};return r.history&&r.history.on("change",i),Zn.create(()=>r.history.off("change",i))})})}};lt([jn(ny),ht("design:type",Object)],f3.prototype,"graphProvider",void 0);f3=lt([Ca({contrib:ty})],f3);const AIe=oc(t=>{ch.register(t,ty),t(Q1),t(f3),t(u3)}),kIe=(t,e)=>{t({token:moe,useDynamic:()=>({getOption:()=>ie(void 0,void 0,void 0,function*(){return e.getConfig()})}),lifecycle:yo.Lifecycle.singleton})},DIe=t=>oc(e=>{kIe(e,t)}),_oe=t=>{const{config:e}=t,n=xh(),r=dt.useMemo(()=>e||new Eoe,[]);return dt.useEffect(()=>{const i=n.addCoreModule({config:r,createModule:DIe});return r.setMountState(),()=>{i.dispose(),r.dispose()}},[]),null};_oe.defaultProps={XFlowModuleType:"ModelServiceConfig"};const NIe=t=>e=>{const n=dt.useMemo(()=>({getValue:()=>({})}),[]);return n.getValue=()=>e,dt.useMemo(()=>{const i=new Eoe;return t(i,n),i},[n])},RIe=t=>{const e=t.getChildren(),n=t.getSize(),r=t.getData()||{},i=t.getPosition(),o=t.getParentId(),{isCollapsed:s}=r,a=r.groupCollapsedSize||(s?n:null);return Object.assign(Object.assign({},r),{id:t.id,width:n.width,height:n.height,x:i.x,y:i.y,group:o,groupChildren:e?e.map(l=>l.id):null,groupCollapsedSize:a})},IIe=t=>{const e=t.getData()||{};return Object.assign({id:t.id},e)},Toe=t=>{const e=[],n=[],r=i=>{i.isNode()&&e.push(RIe(i)),i.isEdge()&&n.push(IIe(i))};return t.map(i=>r(i)),{nodes:e,edges:n}},$Ie=100;let Gv=class{constructor(){this.getGraphInstance=()=>this.graphProvider.getGraphInstance(),this.getGraphConfig=()=>this.graphProvider.getGraphOptions(),this.getGraphData=()=>ie(this,void 0,void 0,function*(){const n=(yield this.graphProvider.getGraphInstance()).getCells();return Toe(n)}),this.getAllNodes=()=>ie(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getNodes()}),this.getNodeById=e=>ie(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getCellById(e)}),this.getAllEdges=()=>ie(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getEdges()}),this.getEdgeById=e=>ie(this,void 0,void 0,function*(){return(yield this.graphProvider.getGraphInstance()).getCellById(e)}),this.updateNodeAttrs=(e,n)=>ie(this,void 0,void 0,function*(){e instanceof fo?e.setAttrs(n):(yield this.getNodeById(e)).setAttrs(n)}),this.updateEdgeAttrs=(e,n)=>ie(this,void 0,void 0,function*(){e instanceof Yo?e.setAttrs(n):(yield this.getEdgeById(e)).setAttrs(n)}),this.translateGraph=(e,n)=>ie(this,void 0,void 0,function*(){const r=yield this.graphProvider.getGraphInstance(),i=r.translate();r.translate(i.tx+e,i.ty+n)})}start(){return ie(this,void 0,void 0,function*(){yield this.startContributions(),this.registerEventListeners()})}executeCommand(e,n,r=[]){return this.commandService.executeCommand(e,n,r)}executeCommandPipeline(e){return this.commandService.executeCommandPipeline(e)}registerEventListeners(){window.addEventListener("unload",()=>{this.stopContributions()})}startContributions(){return ie(this,void 0,void 0,function*(){console.log(this.contributions.getContributions());for(const e of this.contributions.getContributions())if(e.onStart)try{yield this.measure(`${e.constructor.name}.onStart`,()=>e.onStart(this))}catch(n){console.error("Could not start contribution",n)}})}stopContributions(){console.info(">>> Stopping frontend contributions...");for(const e of this.contributions.getContributions())if(e.onStop)try{e.onStop(this)}catch(n){console.error("Could not stop contribution",n)}console.info("<<< All frontend contributions have been stopped.")}measure(e,n){return ie(this,void 0,void 0,function*(){const r=`${e}-start`,i=`${e}-end`;performance.mark(r);const o=yield n();performance.mark(i),performance.measure(e,r,i);for(const s of performance.getEntriesByName(e)){const a=`Frontend ${s.name}`;s.duration>$Ie?console.warn(`${a} is slow, took: ${s.duration.toFixed(1)} ms`):console.debug(`${a} took: ${s.duration.toFixed(1)} ms`)}return performance.clearMeasures(e),o})}};lt([Kv(nm),ht("design:type",Object)],Gv.prototype,"contributions",void 0);lt([jn(ny),ht("design:type",Object)],Gv.prototype,"graphProvider",void 0);lt([jn(J0),ht("design:type",Object)],Gv.prototype,"commandService",void 0);lt([jn(ey),ht("design:type",Object)],Gv.prototype,"modelService",void 0);Gv=lt([Ca()],Gv);const LIe=oc(t=>{ch.register(t,nm),t(Gv)}),FIe=t=>{const e=t.getAllExtensions(),n=new v5,r=e.map(o=>{const{createModule:s,config:a}=o;return s(a)});return n.load(LIe),n.load(dIe),n.load(AIe),r.forEach(o=>{n.load(o)}),n.get(Gv)},zIe=dt.createContext({configProvider:null}),GIe=()=>dt.useContext(zIe),d3=t=>{const e=GIe();return dt.useMemo(()=>e.configProvider?e.configProvider.getXflowPrefixCls(t):`${Eke}-${t}`,[t])};function eD(t){const{createModule:e,children:n}=t,r=xh(),i=dt.useMemo(()=>t.config||{CONFIG_TYPE:"",getConfig:()=>ie(this,void 0,void 0,function*(){return{}})},[]);return dt.useEffect(()=>{const o=r.addExtension({config:i,createModule:e});return()=>{o.dispose()}},[]),Array.isArray(n)||dt.isValidElement(n)?_t(Xi,{children:[" ",n," "]}):null}const Np=(t={})=>T.exports.useMemo(()=>{const e=Object.entries(t),n=e.length>0?{position:"absolute"}:{};return e.forEach(([r,i=0])=>{n[r]=`${i}px`}),n},[t]),BIe=t=>oc(e=>{MIe(e),CRe(e,t)}),h3=SAe({type:"react componnet"});gi.registerReactComponent=h3.register;gi.unregisterReactComponent=h3.unregister;gi.Hook.prototype.getReactComponent=function(t){const e=this.options.getReactComponent;if(typeof e=="function"){const r=$n(e,this.graph,t);if(r!=null)return r}let n=t.getComponent();if(typeof n=="string"){const r=h3.get(n);if(r==null)return h3.onNotFound(n);n=r}return n};class dS extends fo{get component(){return this.getComponent()}set component(e){this.setComponent(e)}getComponent(){return this.store.get("component")}setComponent(e,n={}){return e==null?this.removeComponent(n):this.store.set("component",e,n),this}removeComponent(e={}){return this.store.remove("component",e),this}}(function(t){function e(n,r,i="rect"){const o=[],s=r?Si.getForeignObjectMarkup():{tagName:"g",selector:"content"};return n?o.push(s):o.push({tagName:i,selector:"body"},s,{tagName:"text",selector:"label"}),o}t.config({view:"react-shape-view",markup:e(!1,!0),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"},label:{fontSize:14,fill:"#333",refX:"50%",refY:"50%",textAnchor:"middle",textVerticalAnchor:"middle"}},propHooks(n){if(n.markup==null){const r=n.primer,i=n.useForeignObject!==!1;if(r&&r!=="rect"){n.markup=e(!1,i,r);let o={};r==="circle"?o={refCx:"50%",refCy:"50%",refR:"50%"}:r==="ellipse"&&(o={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}),n.attrs=Io({},{body:Object.assign({refWidth:null,refHeight:null},o)},n.attrs||{})}else n.simple&&(n.markup=e(!0,i),n.attrs=Io({},{body:null,label:null},n.attrs||{}))}return n}}),fo.registry.register("react-shape",t,!0)})(dS||(dS={}));var Xb;(function(t){let e=!1,n;const r=(l,c)=>{const u=c.payload;switch(c.type){case"add":{const f=l.findIndex(d=>d.id===u.id);return f>=0?(l[f]=u,[...l]):[...l,u]}case"remove":{const f=l.findIndex(d=>d.id===u.id);if(f>=0){const d=[...l];return d.splice(f,1),d}break}}return l};function i(l,c){e&&n({type:"add",payload:{id:l,portal:c}})}t.connect=i;function o(l){e&&n({type:"remove",payload:{id:l}})}t.disconnect=o;function s(){return e}t.isActive=s;function a(){return()=>{e=!0;const[l,c]=T.exports.useReducer(r,[]);return n=c,D(Xi,{})}}t.getProvider=a})(Xb||(Xb={}));class OE extends dt.PureComponent{constructor(e){super(e),this.scheduledAnimationFrame=!1,this.throttleUpdateFunc=()=>{this.scheduledAnimationFrame||(this.scheduledAnimationFrame=!0,window.requestAnimationFrame(()=>{this.setState(n=>(this.scheduledAnimationFrame=!1,{tick:n.tick+1}))}))},this.onChange=n=>{if(OE.throttleChangeTypes.includes(n.key)){this.throttleUpdateFunc();return}this.setState({tick:this.state.tick+1})},this.state={tick:0}}componentDidMount(){this.props.node.on("change:*",this.onChange)}componentWillUnmount(){this.props.node.off("change:*",this.onChange)}clone(e){const{node:n}=this.props;return typeof e.type=="string"?dt.cloneElement(e):dt.cloneElement(e,{node:n})}render(){const{graph:e,node:n,component:r}=this.props;if(dt.isValidElement(r))return this.clone(r);if(typeof r=="function"){const i=$n(r,e,n);if(dt.isValidElement(i))return this.clone(i)}return r}}OE.throttleChangeTypes=["position","size"];class p3 extends la{init(){super.init(),this.cell.on("removed",()=>{Xb.disconnect(this.cell.id)})}getComponentContainer(){return this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent}confirmUpdate(e){const n=super.confirmUpdate(e);return this.handleAction(n,p3.action,()=>{XC?XC.scheduleTask(()=>{this.renderReactComponent()}):this.renderReactComponent()})}renderReactComponent(){this.unmountReactComponent();const e=this.getComponentContainer(),n=this.cell,r=this.graph;if(e){const i=this.graph.hook.getReactComponent(n),o=D(OE,{graph:r,node:n,component:i});Xb.isActive()?Xb.connect(this.cell.id,fu.createPortal(o,e)):fu.render(o,e)}}unmountReactComponent(){const e=this.getComponentContainer();return e&&fu.unmountComponentAtNode(e),e}onMouseDown(e,n,r){const i=e.target;if(i.tagName.toLowerCase()==="input"){const s=i.getAttribute("type");if(s==null||["text","password","number","email","search","tel","url"].includes(s))return}super.onMouseDown(e,n,r)}unmount(){return Xb.disconnect(this.cell.id),this.unmountReactComponent(),super.unmount(),this}}(function(t){t.action="react",t.config({bootstrap:[t.action],actions:{component:t.action}}),la.registry.register("react-shape-view",t,!0)})(p3||(p3={}));var jIe=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};const eI="react";function VIe(t){const e={current:()=>{}},n=c=>{e.current(c)};let r,i;function o(c,u){r({id:c,portal:u})}function s(c){i(c)}const a=()=>{const[c,u]=T.exports.useState([]),[f,d]=T.exports.useState(),h=T.exports.useRef([]),p=T.exports.useRef([]);e.current=d,r=T.exports.useCallback(C=>{const{id:E}=C;if(h.current.includes(E)){const _=p.current,w=_.findIndex(M=>M.id===E);w>-1?_[w]=C:_.push(C),p.current=_}else u(_=>{const w=[..._],M=w.findIndex(k=>k.id===E);return M>-1?w[M]=C:w.push(C),w})},[]),i=T.exports.useCallback(C=>{h.current.includes(C)&&(h.current=h.current.filter(E=>E!==C)),p.current.map(E=>E.id).includes(C)&&(p.current=p.current.filter(E=>E.id!==C)),u(E=>E.filter(_=>_.id!==C))},[]);const y=T.exports.useCallback(C=>{const{name:E,data:_}=C,{cells:w=[]}=_||{};if(E==="add"){const M=w.filter(k=>k.isNode()).map(k=>k.id);h.current=Array.from(new Set([...h.current,...M]))}},[]),b=T.exports.useCallback(({name:C})=>{if(C==="add"){const E=p.current;if(E.length){const _=E.map(w=>w.id);h.current=h.current.filter(w=>!_.includes(w)),p.current=[],u(w=>{const M=[...w];return E.forEach(k=>{const I=M.findIndex(A=>A.id===k.id);I>-1?M[I]=k:M.push(k)}),M})}}},[]);return T.exports.useLayoutEffect(()=>(f&&(f.on("batch:start",y),f.on("batch:stop",b)),()=>{f&&(f.off("batch:start",y),f.off("batch:stop",b),u([]),h.current=[],p.current=[])}),[f,y,b]),dt.createElement(dt.Fragment,null,...c.map(C=>C.portal))};class l extends la{init(){super.init(),this.cell.on("removed",()=>{s(this.cell.id)})}getComponentContainer(){return this.cell.prop("useForeignObject")===!1?this.selectors.content:this.selectors.foContent}confirmUpdate(u){const f=super.confirmUpdate(u);return this.handleAction(f,eI,()=>this.renderReactComponent())}renderReactComponent(){this.unmountReactComponent();const u=this.getComponentContainer(),f=this.cell,d=this.graph;if(u){const h=this.graph.hook.getReactComponent(f),p=D(OE,{graph:d,node:f,component:h});o(this.cell.id,fu.createPortal(p,u))}}unmountReactComponent(){const u=this.getComponentContainer();return u&&fu.unmountComponentAtNode(u),u}onMouseDown(u,f,d){const h=u.target;if(h.tagName.toLowerCase()==="input"){const g=h.getAttribute("type");if(g==null||["text","password","number","email","search","tel","url"].includes(g))return}super.onMouseDown(u,f,d)}dispose(){s(this.cell.id),this.unmountReactComponent()}}return jIe([la.dispose()],l.prototype,"dispose",null),l.config({bootstrap:[eI],actions:{component:eI}}),la.registry.register(t,l,!0),{Portal:a,setGraph:n}}function UIe(t){const e=T.exports.useRef(!1),[n]=T.exports.useState(()=>e.current?{}:(e.current=!0,VIe(t)));return[n.Portal,n.setGraph]}const w8=t=>{const e=Za(),n=dt.useRef(null),r=dt.useRef(null),i=xh(),o=dt.useMemo(()=>{const f=t.config?t.config:new wRe;return f.setX6Config(),f},[]),[s,a]=UIe(o.graphId);dt.useEffect(()=>{e&&e.getGraphInstance().then(f=>{a(f)})},[e,a]),dt.useEffect(()=>{o.setRootContainer(n.current),o.setGraphContainer(r.current),o.xflowInstanceId=i.getInstanceId(),i.addCoreModule({config:o,createModule:BIe});const f=()=>ie(void 0,void 0,void 0,function*(){o.dispose()});return()=>{f()}},[]);const l=Np(t.position),c=d3("canvas-root"),u=d3("x6-canvas");return _t(Xi,{children:[_t("div",{ref:n,className:c,style:l,id:o.graphId,tabIndex:0,children:[D("div",{ref:r,className:u}),t.children]}),D(s,{})]})};w8.defaultProps={isXFlowCanvas:!0};let Vp=class{constructor(){this.toDispose=new Ei,this.runtimeHooks=[],this.getX6Graph=()=>ie(this,void 0,void 0,function*(){if(this.graph)return this.graph;const e=yield this.graphProvider.getGraphInstance();return this.graph=e,e}),this.getGraphConfig=()=>ie(this,void 0,void 0,function*(){return this.graphProvider.getGraphOptions()}),this.getGraphMeta=()=>ie(this,void 0,void 0,function*(){const e=this.getModelService();return this.graphMeta||(yield I0.useValue(e))}),this.setArgs=(e,n=[])=>(this.args=e,this.runtimeHooks=n,{args:e,hooks:n}),this.getArgs=()=>({args:Object.assign(Object.assign({},this.args),{modelService:this.getModelService(),commandService:this.getCommands(),getGraphMeta:this.getGraphMeta,getX6Graph:this.getX6Graph,getGraphConfig:this.getGraphConfig}),hooks:this.runtimeHooks}),this.setResult=e=>(this.result=e,this.result),this.getResult=()=>this.result,this.getHooks=()=>this.hookService.hookProvider(),this.getCommands=()=>this.commandService,this.getModelService=()=>this.modelService,this.addUndo=e=>{if(!Array.isArray(e))return this.addUndo([e]);this.toDispose.pushAll(e)},this.undo=()=>ie(this,void 0,void 0,function*(){yield this.toDispose.dispose()}),this.isUndoable=()=>!this.toDispose.disposed,this.getDisposables=()=>this.toDispose,this.setGlobal=(e,n)=>{this.commandService.setGlobal(e,n)},this.getGlobal=e=>this.commandService.getGlobal(e)}init(){this.getGraphMeta().then(e=>{this.graphMeta=e})}};lt([jn(ny),ht("design:type",Object)],Vp.prototype,"graphProvider",void 0);lt([jn(x8),ht("design:type",Object)],Vp.prototype,"hookService",void 0);lt([jn(J0),ht("design:type",Object)],Vp.prototype,"commandService",void 0);lt([jn(ey),ht("design:type",Object)],Vp.prototype,"modelService",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],Vp.prototype,"init",null);Vp=lt([Ur()],Vp);const HIe="CommandConfig",WIe=()=>[];class hS{constructor(){this.setCommandContributions=e=>{this.getContributions=e},this.getCommandContributions=()=>this.getContributions(),this.registerHook=e=>ie(this,void 0,void 0,function*(){return this.registerHookFn?this.registerHookFn(e):I9}),this.registerHookHub=e=>ie(this,void 0,void 0,function*(){return this.registerHookHubFn?this.registerHookHubFn(e):I9}),this.CONFIG_TYPE=HIe,this.setRegisterHookFn=e=>{this.registerHookFn=e},this.setRegisterHookHubFn=e=>{this.registerHookHubFn=e},this.getConfig=()=>ie(this,void 0,void 0,function*(){return{registerHookFn:this.registerHookFn,getContributions:this.getContributions,CONFIG_TYPE:this.CONFIG_TYPE}}),this.getContributions=WIe}}const YIe=(t,e)=>{t({token:hS,contrib:[pf],lifecycle:yo.Lifecycle.singleton,useDynamic:()=>e})};var g3;(function(t){t.command=Oo.ADD_NODE,t.hookKey="addNode"})(g3||(g3={}));let v3=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().addNode.call(n,s=>ie(this,void 0,void 0,function*(){const{createNodeService:a,cellFactory:l,commandService:c,options:u}=s,f=yield e.getX6Graph();let d=s.nodeConfig;if(a){const m=yield a(s);if(typeof m=="boolean")return{err:"createNodeService rejected"};d=m}const h=yield this.processNodeConfig(d);let p;const g=Object.assign(Object.assign({},u),{isCommand:!0});if(l){const m=yield l(h,this);p=f.addNode(m,g)}else p=f.addNode(h,g);return e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){const m=Object.assign({id:p.id},p.getData());c.executeCommand(Oo.DEL_NODE.id,{nodeConfig:m})}))),{nodeConfig:h,nodeCell:p}}),r);return e.setResult(o),this}),this.processNodeConfig=e=>ie(this,void 0,void 0,function*(){const n=this.contextProvider();if(e.data=Object.assign({},e),e.shape)return e;if(!e.view){const r=yield n.getGraphConfig();e.view=r.graphId}if(!e.component){const r=yield this.getNodeReactComponent(e),i=n.getCommands(),o=n.getModelService();e.shape="react-shape",e.component=woe(r,i,o)}return e}),this.getNodeReactComponent=e=>ie(this,void 0,void 0,function*(){const n=this.contextProvider(),r=n.getHooks(),i=yield n.getGraphConfig(),o=yield r.reactNodeRender.call(i.nodeRender),s=i.nodeTypeParser(e)||Uk,a=o.get(s);return a||console.error("react node component is missing:",i.nodeRender,s,a),a}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],v3.prototype,"contextProvider",void 0);v3=lt([Ur({token:{token:si,named:g3.command.id}})],v3);var m3;(function(t){t.command=Oo.DEL_NODE,t.hookKey="delNode",t.createHook=()=>new Yf})(m3||(m3={}));let y3=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().delNode.call(n,s=>ie(this,void 0,void 0,function*(){const{commandService:a,deleteNodeService:l,options:c}=s,u=yield e.getX6Graph();if(l&&!(yield l(s)))return{err:" service rejected"};const f=(s.x6Node||s.nodeConfig).id,d=u.getCellById(f);if(d&&d.isNode()){const h=[...u.getIncomingEdges(d)||[],...u.getOutgoingEdges(d)||[]];yield Promise.all(h.map(g=>a.executeCommand(gs.DEL_EDGE.id,{x6Edge:g})));const p=d.getData();return d.remove(Object.assign(Object.assign({},c),{isCommand:!0})),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){yield a.executeCommand(Oo.ADD_NODE.id,{nodeConfig:p})}))),{err:null,nodeConfig:p}}return{err:"node is not exist"}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()&&this.contextProvider().undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],y3.prototype,"contextProvider",void 0);y3=lt([Ur({token:{token:si,named:m3.command.id}})],y3);var b3;(function(t){t.command=Oo.SELECT_NODE,t.hookKey="selectNode"})(b3||(b3={}));let pS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().selectNode.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),a=s.getSelectedCells().map(f=>f.id),{nodeIds:l,resetSelection:c,commandService:u}=o;return c?s.resetSelection(l):s.select(l),this.ctx.addUndo({dispose:()=>{u.executeUndoCommand(Oo.SELECT_NODE.id,{nodeIds:a,resetSelection:!0})}}),{}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],pS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],pS.prototype,"init",null);pS=lt([Ur({token:{token:si,named:b3.command.id}})],pS);var x3;(function(t){t.command=Oo.MOVE_NODE,t.hookKey="moveNode",t.createHook=()=>new Yf})(x3||(x3={}));let w3=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().moveNode.call(n,s=>ie(this,void 0,void 0,function*(){const{nodePositionService:a}=s;if(a&&!(yield a(s)))return{err:"service rejected"};const{dx:l=0,dy:c=0,x:u,y:f,duration:d=150}=s.position,p=(yield e.getX6Graph()).getCellById(s.id);if(p){let g=u,m=f;const{x:y,y:b}=p.position();let C=()=>{p.position(y,b,{silent:!1})};return l||c?(g=l+y,m=c+b,p.translate(l,c,{transition:{duration:d}}),C=()=>p.translate(-l,-c,{transition:{duration:d}})):p.position(g,m,{silent:!1}),e.addUndo(Zn.create(()=>{C()})),{err:null,nextX:g,nextY:m}}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],w3.prototype,"contextProvider",void 0);w3=lt([Ur({token:{token:si,named:x3.command.id}})],w3);var qIe=typeof ou=="object"&&ou&&ou.Object===Object&&ou,Poe=qIe,XIe=Poe,KIe=typeof self=="object"&&self&&self.Object===Object&&self,ZIe=XIe||KIe||Function("return this")(),hd=ZIe,QIe=hd,JIe=QIe.Symbol,ME=JIe,z9=ME,Ooe=Object.prototype,e4e=Ooe.hasOwnProperty,t4e=Ooe.toString,Nx=z9?z9.toStringTag:void 0;function n4e(t){var e=e4e.call(t,Nx),n=t[Nx];try{t[Nx]=void 0;var r=!0}catch{}var i=t4e.call(t);return r&&(e?t[Nx]=n:delete t[Nx]),i}var r4e=n4e,i4e=Object.prototype,o4e=i4e.toString;function s4e(t){return o4e.call(t)}var a4e=s4e,G9=ME,l4e=r4e,c4e=a4e,u4e="[object Null]",f4e="[object Undefined]",B9=G9?G9.toStringTag:void 0;function d4e(t){return t==null?t===void 0?f4e:u4e:B9&&B9 in Object(t)?l4e(t):c4e(t)}var rm=d4e;function h4e(t){return t!=null&&typeof t=="object"}var pd=h4e,p4e=rm,g4e=pd,v4e="[object Boolean]";function m4e(t){return t===!0||t===!1||g4e(t)&&p4e(t)==v4e}var C3=m4e,y0;(function(t){t.command=Oo.UPDATE_NODE,t.hookKey="updateNode",t.XFlowNodeSetOptions={overwrite:!0},t.NODE_WIDTH=200,t.NODE_HEIGHT=40})(y0||(y0={}));let gS=class{constructor(){this.setNodeConfig=(e,n,r)=>{e.setData(n,r),e.setPosition((n==null?void 0:n.x)||0,(n==null?void 0:n.y)||0),e.setSize((n==null?void 0:n.width)||y0.NODE_WIDTH,(n==null?void 0:n.height)||y0.NODE_HEIGHT),e.angle((n==null?void 0:n.angle)||0,{absolute:!0}),C3(n==null?void 0:n.visible)&&e.setVisible(n==null?void 0:n.visible),!(e instanceof dS)&&!!e.getAttrByPath("text/text")&&e.setAttrByPath("text/text",n.label),n.attrs&&e.setAttrs(n.attrs),Array.isArray(n.ports)&&e.setPropByPath("ports/items",n.ports,Object.assign({rewrite:!0},r))},this.getNodeConfig=e=>{const n=e.getData(),r=e.getPosition(),i=e.getSize();return Object.assign(Object.assign(Object.assign({},n),r),i)},this.getNodeCell=(e,n)=>{const{nodeConfig:r,setNodeConfig:i}=n;let o="";if(i&&i.node&&typeof i.node=="string"?o=i.node:r&&r.id&&typeof r.id=="string"&&(o=r.id),o)return e==null?void 0:e.getCellById(o);if(i&&i.node instanceof fo)return i.node},this.getNextNodeConfig=(e,n)=>ie(this,void 0,void 0,function*(){if(e&&e.setNodeConfig&&e.setNodeConfig.callback){const r=this.getNodeConfig(n);return e.setNodeConfig.callback(r)}return e.nodeConfig}),this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().updateNode.call(e,o=>ie(this,void 0,void 0,function*(){const{options:s=y0.XFlowNodeSetOptions}=o,a=yield this.ctx.getX6Graph(),l=this.getNodeCell(a,o),c=yield this.getNextNodeConfig(o,l);return this.setNodeConfig(l,c,s),{nodeConfig:c,nodeCell:l}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],gS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],gS.prototype,"init",null);gS=lt([Ur({token:{token:si,named:y0.command.id}})],gS);var S3;(function(t){t.command=Oo.CENTER_NODE,t.hookKey="centerNode"})(S3||(S3={}));let vS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().centerNode.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{nodeConfig:a}=o,l=s==null?void 0:s.getCellById(a==null?void 0:a.id);return s==null||s.centerCell(l),{x6Node:l}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],vS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],vS.prototype,"init",null);vS=lt([Ur({token:{token:si,named:S3.command.id}})],vS);var E3;(function(t){t.command=Oo.FRONT_NODE,t.hookKey="frontNode"})(E3||(E3={}));let mS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().frontNode.call(n,s=>ie(this,void 0,void 0,function*(){const a=yield this.ctx.getX6Graph(),{nodeId:l}=s,c=a==null?void 0:a.getCellById(l);return c?(c.toFront(),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){s.commandService.executeCommand(Oo.BACK_NODE.id,{nodeId:l})})))):console.error(l,"this nodeId is not exist"),{}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],mS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],mS.prototype,"init",null);mS=lt([Ur({token:{token:si,named:E3.command.id}})],mS);var _3;(function(t){t.command=Oo.BACK_NODE,t.hookKey="backNode"})(_3||(_3={}));let yS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().backNode.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{nodeId:a}=o,l=s==null?void 0:s.getCellById(a);return l?(l.toBack(),this.ctx.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){o.commandService.executeCommand(Oo.FRONT_NODE.id,{nodeId:a})})))):console.error(a,"this nodeId is not exist"),{}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],yS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],yS.prototype,"init",null);yS=lt([Ur({token:{token:si,named:_3.command.id}})],yS);var T3;(function(t){t.command=Oo.HIGHLIGHT_NODE,t.hookKey="highlightNode"})(T3||(T3={}));let bS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().highlightNode.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{nodeId:a,stroke:l,strokeWidth:c}=o,u=s==null?void 0:s.getCellById(a);if(u){if(u==null||u.setAttrs({body:{stroke:l||"#7c68fc",strokeWidth:c||2}}),o!=null&&o.isHighlightRelatedLines){const{edgeStroke:f,edgeStrokeWidth:d}=o;(s==null?void 0:s.getEdges()).forEach(p=>{const g=p==null?void 0:p.getData();o==null||o.commandService.executeCommand(gs.HIGHLIGHT_EDGE.id,{edgeId:g==null?void 0:g.id,strokeColor:f,strokeWidth:d})})}}else return console.error(a,"this nodeId is not exist"),{err:"this nodeId is not exist"};return{err:null}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],bS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],bS.prototype,"init",null);bS=lt([Ur({token:{token:si,named:T3.command.id}})],bS);var P3;(function(t){t.command=Oo.UPDATE_NODE_PORT,t.hookKey="updateNodePort"})(P3||(P3={}));let O3=class{constructor(){this.getCell=(e,n)=>typeof n=="string"?e.getCellById(n):n,this.getNodeConfig=e=>{const n=e.getData(),r=e.getPosition(),i=e.getSize();return Object.assign(Object.assign(Object.assign({},n),r),i)},this.updatePortsOfNodeConfig=(e,n,r)=>{const i=this.getNodeConfig(e);this.isNodeAnchors(i.ports)&&(i.ports=[...n]),this.isPortMetaData(i.ports)&&(i.ports.items=[...n]),e.setData(i,r)},this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),i=e.getHooks(),o=yield e.getX6Graph(),s=yield i.updateNodePort.call(n,a=>ie(this,void 0,void 0,function*(){const{node:l,updatePorts:c,options:u,commandService:f}=a,d=this.getCell(o,l);if(!d||d.isEdge())return console.error("node_is _not_exsit",l),{err:"node_is _not_exsit"};const h=d.getPorts(),p=yield c([...h],d,o);return p===!1?{err:"service rejected"}:(d.setPropByPath("ports/items",p,Object.assign({rewrite:!0},u)),this.updatePortsOfNodeConfig(d,p,u),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){f.executeCommand(Oo.UPDATE_NODE_PORT.id,{node:l,updatePorts:()=>ie(this,void 0,void 0,function*(){return h})})}))),{ports:p})}),r);return e.setResult(s),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isNodeAnchors(e){return Array.isArray(e)}isPortMetaData(e){return e.items&&Array.isArray(e.items)}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],O3.prototype,"contextProvider",void 0);O3=lt([Ur({token:{token:si,named:P3.command.id}})],O3);const y4e=t=>{t(v3),t(y3),t(pS),t(w3),t(gS),t(vS),t(mS),t(yS),t(bS),t(O3)},b4e=[g3,m3,b3,x3,y0,S3,E3,_3,T3,P3];var M3;(function(t){t.command=Pr.LOAD_META,t.hookKey="graphMeta"})(M3||(M3={}));let xS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().graphMeta.call(e,a=>ie(this,void 0,void 0,function*(){const{graphMetaService:l}=a,c=l?yield l(a):Object.assign({},a==null?void 0:a.meta);return Object.assign({flowId:c==null?void 0:c.flowId},c)}),n),o=this.ctx.getModelService();return(yield I0.getModel(o)).setValue(i),this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],xS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],xS.prototype,"init",null);xS=lt([Ur({token:{token:si,named:M3.command.id}})],xS);var A3;(function(t){t.command=Pr.SAVE_GRAPH_DATA,t.hookKey="saveGraphData"})(A3||(A3={}));let wS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.ctx,n=e.getArgs();return yield e.getHooks().saveGraphData.call(n.args,i=>ie(this,void 0,void 0,function*(){const{saveGraphDataService:o,includeAttrs:s}=i,a=yield e.getX6Graph(),l=a.getNodes(),c=a.getEdges(),u=l.map(p=>{const g=p.getData(),m=p.position(),y=p.size(),b=Object.assign(Object.assign(Object.assign({id:p.id},g),m),y);return s&&(b.attrs=p.getAttrs()),b}),f=c.map(p=>{const g=p.getData(),m=Object.assign({id:p.id},g);return s&&(m.attrs=p.getAttrs()),m}),d={nodes:u,edges:f},h=yield this.ctx.getGraphMeta();if(o){const p=yield o(h,d);p&&this.ctx.setResult(p)}return{}}),n.hooks),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],wS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],wS.prototype,"init",null);wS=lt([Ur({token:{token:si,named:A3.command.id}})],wS);var k3;(function(t){t.command=Pr.LOAD_DATA,t.hookKey="loadData",t.createHook=()=>new Yf})(k3||(k3={}));let CS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().loadData.call(e,o=>ie(this,void 0,void 0,function*(){const{loadDataService:s}=o,a=yield this.ctx.getGraphMeta();return{graphData:yield s(a)}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],CS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],CS.prototype,"init",null);CS=lt([Ur({token:{token:si,named:k3.command.id}})],CS);class sc{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(e){return this.init(e),this.execute(!0)}init(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[]}execute(e){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(e){e&&Object.assign(this,e)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const oC=t=>typeof t=="string",fl=Array.isArray,Dn=t=>typeof t=="number",E$=t=>Number.isNaN(Number(t)),Qp=t=>t!==null&&typeof t=="object",SS=t=>{if(t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const e=[];return t.forEach(n=>{e.push(n)}),e.map(n=>SS(n))}if(typeof t=="object"&&t!=={}){const e=Object.assign({},t);return Object.keys(e).forEach(n=>{e[n]=SS(e[n])}),e}return t},zi=(t,e)=>{const n=t[e];return Qp(n)?n.cell:n},AE=(t,e,n)=>{const r=[];for(let i=0;i<t;i++)r[i]=0;return n&&n.forEach(i=>{const o=zi(i,"source"),s=zi(i,"target");o&&(r[e[o]]+=1),s&&(r[e[s]]+=1)}),r},Moe=t=>{const e=[],n=t.length;for(let r=0;r<n;r+=1){e[r]=[];for(let i=0;i<n;i+=1)r===i?e[r][i]=0:t[r][i]===0||!t[r][i]?e[r][i]=1/0:e[r][i]=t[r][i]}for(let r=0;r<n;r+=1)for(let i=0;i<n;i+=1)for(let o=0;o<n;o+=1)e[i][o]>e[i][r]+e[r][o]&&(e[i][o]=e[i][r]+e[r][o]);return e},Aoe=(t,e)=>{const{nodes:n,edges:r}=t,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((s,a)=>{o[s.id]=a;const l=[];i.push(l)}),r&&r.forEach(s=>{const a=zi(s,"source"),l=zi(s,"target"),c=o[a],u=o[l];i[c][u]=1,e||(i[u][c]=1)}),i},x4e=(t,e)=>{const n=[];return t.forEach(r=>{const i=[];r.forEach(o=>{i.push(o*e)}),n.push(i)}),n},koe=(t,e)=>{if(t&&t.children){for(let n=t.children.length-1;n>=0;n--)if(!koe(t.children[n],e))return}return!!e(t)},fP=(t,e)=>{typeof e=="function"&&koe(t,e)},cv=t=>typeof t=="function";class w4e extends sc{constructor(e){super(),this.begin=[0,0],this.preventOverlap=!0,this.preventOverlapPadding=10,this.condense=!1,this.sortBy="degree",this.nodeSize=30,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.row=0,this.col=0,this.cellWidth=0,this.cellHeight=0,this.cellUsed={},this.id2manPos={},this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}execute(){const e=this,n=e.nodes,r=e.edges,i=n.length,o=e.begin;if(i===0)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:r};if(i===1)return n[0].x=o[0],n[0].y=o[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:r};const s=[];n.forEach(u=>{s.push(u)});const a={};if(s.forEach((u,f)=>{a[u.id]=f}),(e.sortBy==="degree"||!oC(e.sortBy)||s[0][e.sortBy]===void 0)&&(e.sortBy="degree",E$(n[0].degree))){const u=AE(s.length,a,r);s.forEach((f,d)=>{f.degree=u[d]})}s.sort((u,f)=>f[e.sortBy]-u[e.sortBy]),!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight);const l=e.rows,c=e.cols!=null?e.cols:e.columns;if(e.cells=i,l!=null&&c!=null?(e.rows=l,e.cols=c):l!=null&&c==null?(e.rows=l,e.cols=Math.ceil(e.cells/e.rows)):l==null&&c!=null?(e.cols=c,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells){const u=e.small(),f=e.large();(u-1)*f>=e.cells?e.small(u-1):(f-1)*u>=e.cells&&e.large(f-1)}else for(;e.cols*e.rows<e.cells;){const u=e.small(),f=e.large();(f+1)*u>=e.cells?e.large(f+1):e.small(u+1)}e.cellWidth=e.width/e.cols,e.cellHeight=e.height/e.rows,e.condense&&(e.cellWidth=0,e.cellHeight=0),e.preventOverlap&&s.forEach(u=>{(!u.x||!u.y)&&(u.x=0,u.y=0);let f,d;fl(u.size)?(f=u.size[0],d=u.size[1]):Dn(u.size)?(f=u.size,d=u.size):Qp(u.size)&&(f=u.size.width,d=u.size.height),(f===void 0||d===void 0)&&(fl(e.nodeSize)?(f=e.nodeSize[0],d=e.nodeSize[1]):Dn(e.nodeSize)?(f=e.nodeSize,d=e.nodeSize):(f=30,d=30));const h=e.preventOverlapPadding,p=f+h,g=d+h;e.cellWidth=Math.max(e.cellWidth,p),e.cellHeight=Math.max(e.cellHeight,g)}),e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(let u=0;u<s.length;u++){const f=s[u];let d;if(e.position&&(d=e.position(f)),d&&(d.row!==void 0||d.col!==void 0)){const h={row:d.row,col:d.col};if(h.col===void 0)for(h.col=0;e.used(h.row,h.col);)h.col++;else if(h.row===void 0)for(h.row=0;e.used(h.row,h.col);)h.row++;e.id2manPos[f.id]=h,e.use(h.row,h.col)}e.getPos(f)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:r,nodes:s}}small(e){const n=this;let r;const i=n.rows||5,o=n.cols||5;return e==null?r=Math.min(i,o):Math.min(i,o)===n.rows?n.rows=e:n.cols=e,r}large(e){const n=this;let r;const i=n.rows||5,o=n.cols||5;return e==null?r=Math.max(i,o):Math.max(i,o)===n.rows?n.rows=e:n.cols=e,r}used(e,n){return this.cellUsed[`c-${e}-${n}`]||!1}use(e,n){const r=this;r.cellUsed[`c-${e}-${n}`]=!0}moveToNextCell(){const e=this,n=e.cols||5;e.col++,e.col>=n&&(e.col=0,e.row++)}getPos(e){const n=this,r=n.begin,i=n.cellWidth,o=n.cellHeight;let s,a;const l=n.id2manPos[e.id];if(l)s=l.col*i+i/2+r[0],a=l.row*o+o/2+r[1];else{for(;n.used(n.row,n.col);)n.moveToNextCell();s=n.col*i+i/2+r[0],a=n.row*o+o/2+r[1],n.use(n.row,n.col),n.moveToNextCell()}e.x=s,e.y=a}getType(){return"grid"}}class C4e extends sc{constructor(e){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{center:[0,0],width:300,height:300}}execute(){const e=this,n=e.nodes,r=.9,i=e.center;return!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight),n&&n.forEach(o=>{o.x=(Math.random()-.5)*r*e.width+i[0],o.y=(Math.random()-.5)*r*e.height+i[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:this.edges}}getType(){return"random"}}const tI=(t,e)=>{let n;return t?Dn(t)?n=r=>t:n=t:n=r=>e||1,n};class S4e extends sc{constructor(e){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.preventOverlap=!0,this.tick=()=>{},this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:500,gravity:10,enableTick:!0}}execute(){var e,n;const r=this,i=r.nodes;if(r.timeInterval!==void 0&&typeof window<"u"&&window.clearInterval(r.timeInterval),!i||i.length===0){(e=r.onLayoutEnd)===null||e===void 0||e.call(r);return}!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);const o=r.center;if(i.length===1){i[0].x=o[0],i[0].y=o[1],(n=r.onLayoutEnd)===null||n===void 0||n.call(r);return}const s={},a={};i.forEach((f,d)=>{Dn(f.x)||(f.x=Math.random()*r.width),Dn(f.y)||(f.y=Math.random()*r.height),s[f.id]=f,a[f.id]=d}),r.nodeMap=s,r.nodeIdxMap=a,r.linkDistance=tI(r.linkDistance,1),r.nodeStrength=tI(r.nodeStrength,1),r.edgeStrength=tI(r.edgeStrength,1);const l=r.nodeSize;let c;if(r.preventOverlap){const f=r.nodeSpacing;let d;Dn(f)?d=()=>f:cv(f)?d=f:d=()=>0,l?fl(l)?c=h=>(l[0]>l[1]?l[0]:l[1])+d(h):c=h=>l+d(h):c=h=>h.size?fl(h.size)?(h.size[0]>h.size[1]?h.size[0]:h.size[1])+d(h):Qp(h.size)?(h.size.width>h.size.height?h.size.width:h.size.height)+d(h):h.size+d(h):10+d(h)}r.nodeSize=c;const u=r.edges;r.degrees=AE(i.length,r.nodeIdxMap,u),r.getMass||(r.getMass=f=>r.degrees[r.nodeIdxMap[f.id]]||1),r.run()}run(){var e;const n=this,{maxIteration:r,nodes:i,workerEnabled:o,minMovement:s}=n;if(!!i)if(o){for(let a=0;a<r;a++){const l=n.runOneStep(a);if(n.reachMoveThreshold(i,l,s))break}(e=n.onLayoutEnd)===null||e===void 0||e.call(n)}else{if(typeof window>"u")return;let a=0;this.timeInterval=window.setInterval(()=>{var l,c;if(!i)return;const u=n.runOneStep(a)||[];n.reachMoveThreshold(i,u,s)&&((l=n.onLayoutEnd)===null||l===void 0||l.call(n),window.clearInterval(n.timeInterval)),a++,a>=r&&((c=n.onLayoutEnd)===null||c===void 0||c.call(n),window.clearInterval(n.timeInterval))},0)}}reachMoveThreshold(e,n,r){let i=0;return e.forEach((o,s)=>{const a=o.x-n[s].x,l=o.y-n[s].y;i+=Math.sqrt(a*a+l*l)}),i/=e.length,i<r}runOneStep(e){var n;const r=this,{nodes:i,edges:o}=r,s=[],a=[];if(!i)return;i.forEach((u,f)=>{s[2*f]=0,s[2*f+1]=0,a[2*f]=0,a[2*f+1]=0}),r.calRepulsive(s,i),o&&r.calAttractive(s,o),r.calGravity(s,i);const l=Math.max(.02,r.interval-e*.002);r.updateVelocity(s,a,l,i);const c=[];return i.forEach(u=>{c.push({x:u.x,y:u.y})}),r.updatePosition(a,l,i),(n=r.tick)===null||n===void 0||n.call(r),c}calRepulsive(e,n){const r=this,i=r.getMass,o=r.nodeStrength,s=r.factor,a=r.coulombDisScale,l=r.preventOverlap,c=r.nodeSize;n.forEach((u,f)=>{const d=i?i(u):1;n.forEach((h,p)=>{if(f>=p)return;const g=u.x-h.x,m=u.y-h.y,y=Math.sqrt(g*g+m*m)+.01,b=(y+.1)*a,C=g/y,E=m/y,_=(o(u)+o(h))/2*s/(b*b),w=i?i(h):1;if(e[2*f]+=C*_,e[2*f+1]+=E*_,e[2*p]-=C*_,e[2*p+1]-=E*_,l&&y<(c(u)+c(h))/2){const M=(o(u)+o(h))/2/(y*y);e[2*f]+=C*M/d,e[2*f+1]+=E*M/d,e[2*p]-=C*M/w,e[2*p+1]-=E*M/w}})})}calAttractive(e,n){const r=this,i=r.nodeMap,o=r.nodeIdxMap,s=r.linkDistance,a=r.edgeStrength,l=r.getMass;n.forEach((c,u)=>{const f=zi(c,"source"),d=zi(c,"target"),h=i[f],p=i[d],g=p.x-h.x,m=p.y-h.y,y=Math.sqrt(g*g+m*m)+.01,b=g/y,C=m/y,w=((s(c)||1)-y)*a(c),M=o[f],k=o[d],I=l?l(h):1,A=l?l(p):1;e[2*M]-=b*w/I,e[2*M+1]-=C*w/I,e[2*k]+=b*w/A,e[2*k+1]+=C*w/A})}calGravity(e,n){const r=this,i=r.center,o=r.gravity,s=r.degrees,a=n.length;for(let l=0;l<a;l++){const c=n[l];let u=c.x-i[0],f=c.y-i[1],d=o;if(r.getCenter){const h=r.getCenter(c,s[l]);h&&Dn(h[0])&&Dn(h[1])&&Dn(h[2])&&(u=c.x-h[0],f=c.y-h[1],d=h[2])}!d||(e[2*l]-=d*u,e[2*l+1]-=d*f)}}updateVelocity(e,n,r,i){const o=this,s=r*o.damping;i.forEach((a,l)=>{let c=e[2*l]*s||.01,u=e[2*l+1]*s||.01;const f=Math.sqrt(c*c+u*u);if(f>o.maxSpeed){const d=o.maxSpeed/f;c=d*c,u=d*u}n[2*l]=c,n[2*l+1]=u})}updatePosition(e,n,r){r.forEach((i,o)=>{if(Dn(i.fx)&&Dn(i.fy)){i.x=i.fx,i.y=i.fy;return}const s=e[2*o]*n,a=e[2*o+1]*n;i.x+=s,i.y+=a})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)}destroy(){const e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0}getType(){return"gForce"}}function Doe(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,s=n.length,a,l=0,c=0;for(o=0;o<s;++o)a=n[o],l+=a.x,c+=a.y;for(l=(l/s-t)*r,c=(c/s-e)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function E4e(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Noe(this.cover(e,n),e,n,t)}function Noe(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},a=t._x0,l=t._y0,c=t._x1,u=t._y1,f,d,h,p,g,m,y,b;if(!o)return t._root=s,t;for(;o.length;)if((g=e>=(f=(a+c)/2))?a=f:c=f,(m=n>=(d=(l+u)/2))?l=d:u=d,i=o,!(o=o[y=m<<1|g]))return i[y]=s,t;if(h=+t._x.call(null,o.data),p=+t._y.call(null,o.data),e===h&&n===p)return s.next=o,i?i[y]=s:t._root=s,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(g=e>=(f=(a+c)/2))?a=f:c=f,(m=n>=(d=(l+u)/2))?l=d:u=d;while((y=m<<1|g)===(b=(p>=d)<<1|h>=f));return i[b]=o,i[y]=s,t}function _4e(t){var e,n,r=t.length,i,o,s=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,a[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)Noe(this,s[n],a[n],t[n]);return this}function T4e(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,a=this._root,l,c;n>t||t>=i||r>e||e>=o;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function P4e(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function O4e(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xl(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function M4e(t,e,n){var r,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new Xl(h,i,o,u,f)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,f=e+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>u||(a=p.y0)>f||(l=p.x1)<i||(c=p.y1)<o))if(h.length){var m=(s+l)/2,y=(a+c)/2;d.push(new Xl(h[3],m,y,l,c),new Xl(h[2],s,y,m,c),new Xl(h[1],m,a,l,y),new Xl(h[0],s,a,m,y)),(g=(e>=y)<<1|t>=m)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var b=t-+this._x.call(null,h.data),C=e-+this._y.call(null,h.data),E=b*b+C*C;if(E<n){var _=Math.sqrt(n=E);i=t-_,o=e-_,u=t+_,f=e+_,r=h.data}}return r}function A4e(t){if(isNaN(u=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,f,d,h,p,g,m,y;if(!n)return this;if(n.length)for(;;){if((p=u>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+c)/2))?a=h:c=h,e=n,!(n=n[m=g<<1|p]))return this;if(!n.length)break;(e[m+1&3]||e[m+2&3]||e[m+3&3])&&(r=e,y=m)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[m]=o:delete e[m],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function k4e(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function D4e(){return this._root}function N4e(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function R4e(t){var e=[],n,r=this._root,i,o,s,a,l;for(r&&e.push(new Xl(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(o+a)/2,u=(s+l)/2;(i=r[3])&&e.push(new Xl(i,c,u,a,l)),(i=r[2])&&e.push(new Xl(i,o,u,c,l)),(i=r[1])&&e.push(new Xl(i,c,s,a,u)),(i=r[0])&&e.push(new Xl(i,o,s,c,u))}return this}function I4e(t){var e=[],n=[],r;for(this._root&&e.push(new Xl(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,f=(a+c)/2;(o=i[0])&&e.push(new Xl(o,s,a,u,f)),(o=i[1])&&e.push(new Xl(o,u,a,l,f)),(o=i[2])&&e.push(new Xl(o,s,f,u,c)),(o=i[3])&&e.push(new Xl(o,u,f,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function $4e(t){return t[0]}function L4e(t){return arguments.length?(this._x=t,this):this._x}function F4e(t){return t[1]}function z4e(t){return arguments.length?(this._y=t,this):this._y}function C8(t,e,n){var r=new S8(e==null?$4e:e,n==null?F4e:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function S8(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function j9(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ac=C8.prototype=S8.prototype;ac.copy=function(){var t=new S8(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=j9(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=j9(r));return t};ac.add=E4e;ac.addAll=_4e;ac.cover=T4e;ac.data=P4e;ac.extent=O4e;ac.find=M4e;ac.remove=A4e;ac.removeAll=k4e;ac.root=D4e;ac.size=N4e;ac.visit=R4e;ac.visitAfter=I4e;ac.x=L4e;ac.y=z4e;function Ql(t){return function(){return t}}function uv(t){return(t()-.5)*1e-6}function G4e(t){return t.x+t.vx}function B4e(t){return t.y+t.vy}function Roe(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=Ql(t==null?1:+t));function s(){for(var c,u=e.length,f,d,h,p,g,m,y=0;y<o;++y)for(f=C8(e,G4e,B4e).visitAfter(a),c=0;c<u;++c)d=e[c],g=n[d.index],m=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(b);function b(C,E,_,w,M){var k=C.data,I=C.r,A=g+I;if(k){if(k.index>d.index){var N=h-k.x-k.vx,$=p-k.y-k.vy,L=N*N+$*$;L<A*A&&(N===0&&(N=uv(r),L+=N*N),$===0&&($=uv(r),L+=$*$),L=(A-(L=Math.sqrt(L)))/L*i,d.vx+=(N*=L)*(A=(I*=I)/(m+I)),d.vy+=($*=L)*A,k.vx-=N*(A=1-A),k.vy-=$*A)}return}return E>h+A||w<h-A||_>p+A||M<p-A}}function a(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(!!e){var c,u=e.length,f;for(n=new Array(u),c=0;c<u;++c)f=e[c],n[f.index]=+t(f,c,e)}}return s.initialize=function(c,u){e=c,r=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Ql(+c),l(),s):t},s}function j4e(t){return t.index}function V9(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function D3(t){var e=j4e,n=f,r,i=Ql(30),o,s,a,l,c,u=1;t==null&&(t=[]);function f(m){return 1/Math.min(a[m.source.index],a[m.target.index])}function d(m){for(var y=0,b=t.length;y<u;++y)for(var C=0,E,_,w,M,k,I,A;C<b;++C)E=t[C],_=E.source,w=E.target,M=w.x+w.vx-_.x-_.vx||uv(c),k=w.y+w.vy-_.y-_.vy||uv(c),I=Math.sqrt(M*M+k*k),I=(I-o[C])/I*m*r[C],M*=I,k*=I,w.vx-=M*(A=l[C]),w.vy-=k*A,_.vx+=M*(A=1-A),_.vy+=k*A}function h(){if(!!s){var m,y=s.length,b=t.length,C=new Map(s.map((_,w)=>[e(_,w,s),_])),E;for(m=0,a=new Array(y);m<b;++m)E=t[m],E.index=m,typeof E.source!="object"&&(E.source=V9(C,E.source)),typeof E.target!="object"&&(E.target=V9(C,E.target)),a[E.source.index]=(a[E.source.index]||0)+1,a[E.target.index]=(a[E.target.index]||0)+1;for(m=0,l=new Array(b);m<b;++m)E=t[m],l[m]=a[E.source.index]/(a[E.source.index]+a[E.target.index]);r=new Array(b),p(),o=new Array(b),g()}}function p(){if(!!s)for(var m=0,y=t.length;m<y;++m)r[m]=+n(t[m],m,t)}function g(){if(!!s)for(var m=0,y=t.length;m<y;++m)o[m]=+i(t[m],m,t)}return d.initialize=function(m,y){s=m,c=y,h()},d.links=function(m){return arguments.length?(t=m,h(),d):t},d.id=function(m){return arguments.length?(e=m,d):e},d.iterations=function(m){return arguments.length?(u=+m,d):u},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:Ql(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:Ql(+m),g(),d):i},d}var V4e={value:()=>{}};function Ioe(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new AO(n)}function AO(t){this._=t}function U4e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}AO.prototype=Ioe.prototype={constructor:AO,on:function(t,e){var n=this._,r=U4e(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=H4e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=U9(n[i],t.name,e);else if(e==null)for(i in n)n[i]=U9(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new AO(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function H4e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function U9(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=V4e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var t2=0,_w=0,Rx=0,$oe=1e3,N3,Tw,R3=0,$0=0,tD=0,ES=typeof performance=="object"&&performance.now?performance:Date,Loe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Foe(){return $0||(Loe(W4e),$0=ES.now()+tD)}function W4e(){$0=0}function _$(){this._call=this._time=this._next=null}_$.prototype=zoe.prototype={constructor:_$,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Foe():+n)+(e==null?0:+e),!this._next&&Tw!==this&&(Tw?Tw._next=this:N3=this,Tw=this),this._call=t,this._time=n,T$()},stop:function(){this._call&&(this._call=null,this._time=1/0,T$())}};function zoe(t,e,n){var r=new _$;return r.restart(t,e,n),r}function Y4e(){Foe(),++t2;for(var t=N3,e;t;)(e=$0-t._time)>=0&&t._call.call(null,e),t=t._next;--t2}function H9(){$0=(R3=ES.now())+tD,t2=_w=0;try{Y4e()}finally{t2=0,X4e(),$0=0}}function q4e(){var t=ES.now(),e=t-R3;e>$oe&&(tD-=e,R3=t)}function X4e(){for(var t,e=N3,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:N3=n);Tw=t,T$(r)}function T$(t){if(!t2){_w&&(_w=clearTimeout(_w));var e=t-$0;e>24?(t<1/0&&(_w=setTimeout(H9,t-ES.now()-tD)),Rx&&(Rx=clearInterval(Rx))):(Rx||(R3=ES.now(),Rx=setInterval(q4e,$oe)),t2=1,Loe(H9))}}const K4e=1664525,Z4e=1013904223,W9=4294967296;function Q4e(){let t=1;return()=>(t=(K4e*t+Z4e)%W9)/W9}function J4e(t){return t.x}function e6e(t){return t.y}var t6e=10,n6e=Math.PI*(3-Math.sqrt(5));function E8(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=zoe(f),c=Ioe("tick","end"),u=Q4e();t==null&&(t=[]);function f(){d(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function d(g){var m,y=t.length,b;g===void 0&&(g=1);for(var C=0;C<g;++C)for(n+=(o-n)*i,a.forEach(function(E){E(n)}),m=0;m<y;++m)b=t[m],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return e}function h(){for(var g=0,m=t.length,y;g<m;++g){if(y=t[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=t6e*Math.sqrt(.5+g),C=g*n6e;y.x=b*Math.cos(C),y.y=b*Math.sin(C)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(g){return g.initialize&&g.initialize(t,u),g}return h(),e={tick:d,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(g){return arguments.length?(t=g,h(),a.forEach(p),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(o=+g,e):o},velocityDecay:function(g){return arguments.length?(s=1-g,e):1-s},randomSource:function(g){return arguments.length?(u=g,a.forEach(p),e):u},force:function(g,m){return arguments.length>1?(m==null?a.delete(g):a.set(g,p(m)),e):a.get(g)},find:function(g,m,y){var b=0,C=t.length,E,_,w,M,k;for(y==null?y=1/0:y*=y,b=0;b<C;++b)M=t[b],E=g-M.x,_=m-M.y,w=E*E+_*_,w<y&&(k=M,y=w);return k},on:function(g,m){return arguments.length>1?(c.on(g,m),e):c.on(g)}}}function _8(){var t,e,n,r,i=Ql(-30),o,s=1,a=1/0,l=.81;function c(h){var p,g=t.length,m=C8(t,J4e,e6e).visitAfter(f);for(r=h,p=0;p<g;++p)e=t[p],m.visit(d)}function u(){if(!!t){var h,p=t.length,g;for(o=new Array(p),h=0;h<p;++h)g=t[h],o[g.index]=+i(g,h,t)}}function f(h){var p=0,g,m,y=0,b,C,E;if(h.length){for(b=C=E=0;E<4;++E)(g=h[E])&&(m=Math.abs(g.value))&&(p+=g.value,y+=m,b+=m*g.x,C+=m*g.y);h.x=b/y,h.y=C/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,m){if(!h.value)return!0;var y=h.x-e.x,b=h.y-e.y,C=m-p,E=y*y+b*b;if(C*C/l<E)return E<a&&(y===0&&(y=uv(n),E+=y*y),b===0&&(b=uv(n),E+=b*b),E<s&&(E=Math.sqrt(s*E)),e.vx+=y*h.value*r/E,e.vy+=b*h.value*r/E),!0;if(h.length||E>=a)return;(h.data!==e||h.next)&&(y===0&&(y=uv(n),E+=y*y),b===0&&(b=uv(n),E+=b*b),E<s&&(E=Math.sqrt(s*E)));do h.data!==e&&(C=o[h.data.index]*r/E,e.vx+=y*C,e.vy+=b*C);while(h=h.next)}return c.initialize=function(h,p){t=h,n=p,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Ql(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.distanceMax=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function Goe(t){var e=Ql(.1),n,r,i;typeof t!="function"&&(t=Ql(t==null?0:+t));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*a}function s(){if(!!n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:Ql(+a),s(),o):e},o.x=function(a){return arguments.length?(t=typeof a=="function"?a:Ql(+a),s(),o):t},o}function Boe(t){var e=Ql(.1),n,r,i;typeof t!="function"&&(t=Ql(t==null?0:+t));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*a}function s(){if(!!n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+t(n[a],a,n))?0:+e(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(e=typeof a=="function"?a:Ql(+a),s(),o):e},o.y=function(a){return arguments.length?(t=typeof a=="function"?a:Ql(+a),s(),o):t},o}function r6e(){function t(K){return()=>K}let e=K=>K.cluster,n=t(1),r=t(-1),i=t(100),o=t(.1),s=[0,0],a=[],l={},c=[],u=100,f=100,d={none:{x:0,y:0}},h=[],p,g="force",m=!0,y=.1;function b(K){if(!m)return b;p.tick(),k();for(let le=0,Ne=a.length,Re,Je=K*y;le<Ne;++le)Re=a[le],Re.vx+=(d[e(Re)].x-Re.x)*Je,Re.vy+=(d[e(Re)].y-Re.y)*Je}function C(){!a||E()}function E(){if(!a||!a.length)return;if(e(a[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");const K=_();p=E8(K.nodes).force("x",Goe(u).strength(.1)).force("y",Boe(f).strength(.1)).force("collide",Roe(le=>le.r).iterations(4)).force("charge",_8().strength(r)).force("links",D3(K.nodes.length?K.links:[]).distance(i).strength(o)),h=p.nodes(),k()}function _(){const K=[],le=[],Ne={};let Re=[],Je={},$e=[];return Je=w(a),$e=M(c),Re=Object.keys(Je),Re.forEach((tt,Pt)=>{const bt=Je[tt];K.push({id:tt,size:bt.count,r:Math.sqrt(bt.sumforceNodeSize/Math.PI)}),Ne[tt]=Pt}),$e.forEach(tt=>{const Pt=zi(tt,"source"),bt=zi(tt,"target"),X=Ne[Pt],ve=Ne[bt];X!==void 0&&ve!==void 0&&le.push({source:X,target:ve,count:tt.count})}),{nodes:K,links:le}}function w(K){const le={};return K.forEach(Ne=>{const Re=e(Ne);le[Re]||(le[Re]={count:0,sumforceNodeSize:0})}),K.forEach(Ne=>{const Re=e(Ne),Je=n(Ne),$e=le[Re];$e.count=$e.count+1,$e.sumforceNodeSize=$e.sumforceNodeSize+Math.PI*(Je*Je)*1.3,le[Re]=$e}),le}function M(K){const le={},Ne=[];return K.forEach(Je=>{const $e=I(Je);let tt=0;le[$e]!==void 0&&(tt=le[$e]),tt+=1,le[$e]=tt}),Object.entries(le).forEach(([Je,$e])=>{const tt=Je.split("~")[0],Pt=Je.split("~")[1];tt!==void 0&&Pt!==void 0&&Ne.push({source:tt,target:Pt,count:$e})}),Ne}function k(){return d={none:{x:0,y:0}},h.forEach(K=>{d[K.id]={x:K.x-s[0],y:K.y-s[1]}}),d}function I(K){const le=zi(K,"source"),Ne=zi(K,"target"),Re=e(l[le]),Je=e(l[Ne]);return Re<=Je?`${Re}~${Je}`:`${Je}~${Re}`}function A(K){l={},K.forEach(le=>{l[le.id]=le})}function N(K){return arguments.length?(g=K,C(),b):g}function $(K){return arguments.length?typeof K=="string"?(e=le=>le[K],b):(e=K,b):e}function L(K){return arguments.length?(m=K,b):m}function B(K){return arguments.length?(y=K,b):y}function j(K){return arguments.length?(u=K,b):u}function H(K){return arguments.length?(f=K,b):f}function te(K){return arguments.length?(A(K||[]),a=K||[],b):a}function Y(K){return arguments.length?(c=K||[],C(),b):c}function ue(K){return arguments.length?(typeof K=="function"?n=K:n=t(+K),C(),b):n}function ce(K){return arguments.length?(typeof K=="function"?r=K:r=t(+K),C(),b):r}function se(K){return arguments.length?(typeof K=="function"?i=K:i=t(+K),C(),b):i}function fe(K){return arguments.length?(typeof K=="function"?o=K:o=t(+K),C(),b):o}function me(K){return arguments.length?(s=K,b):s}return b.initialize=K=>{a=K,C()},b.template=N,b.groupBy=$,b.enableGrouping=L,b.strength=B,b.centerX=j,b.centerY=H,b.nodes=te,b.links=Y,b.forceNodeSize=ue,b.nodeSize=b.forceNodeSize,b.forceCharge=ce,b.forceLinkDistance=se,b.forceLinkStrength=fe,b.offset=me,b.getFocis=k,b}const T8={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};class i6e extends sc{constructor(e){super(),this.center=[0,0],this.nodeStrength=null,this.edgeStrength=null,this.preventOverlap=!1,this.clusterNodeStrength=null,this.clusterEdgeStrength=null,this.clusterEdgeDistance=null,this.clusterNodeSize=null,this.clusterFociStrength=null,this.linkDistance=50,this.alphaDecay=.028,this.alphaMin=.001,this.alpha=.3,this.collideStrength=1,this.workerEnabled=!1,this.tick=()=>{},this.onLayoutEnd=()=>{},this.ticking=void 0,e&&this.updateCfg(e)}getDefaultCfg(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick(){},onLayoutEnd(){},workerEnabled:!1}}init(e){const n=this;n.nodes=e.nodes||[];const r=e.edges||[];n.edges=r.map(i=>{const o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(i).forEach(a=>{s.indexOf(a)>-1||(o[a]=i[a])}),o}),n.ticking=!1}execute(e){const n=this,r=n.nodes,i=n.edges;if(n.ticking)return;let o=n.forceSimulation;const s=n.alphaMin,a=n.alphaDecay,l=n.alpha;if(o){if(e){if(n.clustering&&n.clusterForce&&(n.clusterForce.nodes(r),n.clusterForce.links(i)),o.nodes(r),i&&n.edgeForce)n.edgeForce.links(i);else if(i&&!n.edgeForce){const c=D3().id(u=>u.id).links(i);n.edgeStrength&&c.strength(n.edgeStrength),n.linkDistance&&c.distance(n.linkDistance),n.edgeForce=c,o.force("link",c)}}n.preventOverlap&&n.overlapProcess(o),o.alpha(l).restart(),this.ticking=!0}else try{const c=_8();if(n.nodeStrength&&c.strength(n.nodeStrength),o=E8().nodes(r),n.clustering){const u=r6e();u.centerX(n.center[0]).centerY(n.center[1]).template("force").strength(n.clusterFociStrength),i&&u.links(i),r&&u.nodes(r),u.forceLinkDistance(n.clusterEdgeDistance).forceLinkStrength(n.clusterEdgeStrength).forceCharge(n.clusterNodeStrength).forceNodeSize(n.clusterNodeSize),n.clusterForce=u,o.force("group",u)}if(o.force("center",Doe(n.center[0],n.center[1])).force("charge",c).alpha(l).alphaDecay(a).alphaMin(s),n.preventOverlap&&n.overlapProcess(o),i){const u=D3().id(f=>f.id).links(i);n.edgeStrength&&u.strength(n.edgeStrength),n.linkDistance&&u.distance(n.linkDistance),n.edgeForce=u,o.force("link",u)}if(n.workerEnabled&&!s6e()&&(n.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!n.workerEnabled)o.on("tick",()=>{n.tick()}).on("end",()=>{n.ticking=!1,n.onLayoutEnd&&n.onLayoutEnd()}),n.ticking=!0;else{o.stop();const u=o6e(o);for(let f=1;f<=u;f++)o.tick(),postMessage({nodes:r,currentTick:f,totalTicks:u,type:T8.TICK},void 0);n.ticking=!1}n.forceSimulation=o,n.ticking=!0}catch(c){n.ticking=!1,console.warn(c)}}overlapProcess(e){const n=this,r=n.nodeSize,i=n.nodeSpacing;let o,s;const a=n.collideStrength;if(Dn(i)?s=()=>i:cv(i)?s=i:s=()=>0,!r)o=l=>l.size?fl(l.size)?(l.size[0]>l.size[1]?l.size[0]:l.size[1])/2+s(l):Qp(l.size)?(l.size.width>l.size.height?l.size.width:l.size.height)/2+s(l):l.size/2+s(l):10+s(l);else if(cv(r))o=l=>r(l)+s(l);else if(fl(r)){const c=(r[0]>r[1]?r[0]:r[1])/2;o=u=>c+s(u)}else if(Dn(r)){const l=r/2;o=c=>l+s(c)}else o=()=>10;e.force("collisionForce",Roe(o).strength(a))}updateCfg(e){const n=this;n.ticking&&(n.forceSimulation.stop(),n.ticking=!1),n.forceSimulation=null,Object.assign(n,e)}destroy(){const e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0}}function o6e(t){const e=t.alphaMin(),n=t.alphaTarget(),r=t.alpha(),i=Math.log((e-n)/(r-n))/Math.log(1-t.alphaDecay());return Math.ceil(i)}function s6e(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function a6e(t,e,n,r){t.forEach((i,o)=>{t[o].children=[],t[o].parent=[]}),r?e.forEach(i=>{const o=zi(i,"source"),s=zi(i,"target");let a=0;o&&(a=n[o]);let l=0;s&&(l=n[s]);const c=t[a].children,u=t[l].parent;c.push(t[l].id),u.push(t[a].id)}):e.forEach(i=>{const o=zi(i,"source"),s=zi(i,"target");let a=0;o&&(a=n[o]);let l=0;s&&(l=n[s]);const c=t[a].children,u=t[l].children;c.push(t[l].id),u.push(t[a].id)})}function l6e(t,e,n){const r=n.length;for(let i=0;i<r;i++){const o=zi(n[i],"source"),s=zi(n[i],"target");if(t.id===o&&e.id===s||e.id===o&&t.id===s)return!0}return!1}function c6e(t,e){const n=t.degree,r=e.degree;return n<r?-1:n>r?1:0}class u6e extends sc{constructor(e){super(),this.radius=null,this.startRadius=null,this.endRadius=null,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.divisions=1,this.ordering=null,this.angleRatio=1,this.nodes=[],this.edges=[],this.nodeMap={},this.degrees=[],this.width=300,this.height=300,this.updateCfg(e)}getDefaultCfg(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}execute(){const e=this,n=e.nodes,r=e.edges,i=n.length;if(i===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const o=e.center;if(i===1){n[0].x=o[0],n[0].y=o[1],e.onLayoutEnd&&e.onLayoutEnd();return}let s=e.radius,a=e.startRadius,l=e.endRadius;const c=e.divisions,u=e.startAngle,f=e.endAngle,d=(f-u)/i,h={};n.forEach((_,w)=>{h[_.id]=w}),e.nodeMap=h;const p=AE(n.length,h,r);e.degrees=p,!s&&!a&&!l?s=e.height>e.width?e.width/2:e.height/2:!a&&l?a=l:a&&!l&&(l=a);const g=e.angleRatio,m=d*g,y=e.ordering;let b=[];y==="topology"?b=e.topologyOrdering():y==="topology-directed"?b=e.topologyOrdering(!0):y==="degree"?b=e.degreeOrdering():b=n;const C=e.clockwise,E=Math.ceil(i/c);for(let _=0;_<i;++_){let w=s;!w&&a!==null&&l!==null&&(w=a+_*(l-a)/(i-1)),w||(w=10+_*100/(i-1));let M=u+_%E*m+2*Math.PI/c*Math.floor(_/E);C||(M=f-_%E*m-2*Math.PI/c*Math.floor(_/E)),b[_].x=o[0]+Math.cos(M)*w,b[_].y=o[1]+Math.sin(M)*w,b[_].weight=p[_]}return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:b,edges:this.edges}}topologyOrdering(e=!1){const n=this,r=n.degrees,i=n.edges,o=n.nodes,s=SS(o),a=n.nodeMap,l=[s[0]],c=[o[0]],u=[],f=o.length;u[0]=!0,a6e(s,i,a,e);let d=0;return s.forEach((h,p)=>{if(p!==0)if((p===f-1||r[p]!==r[p+1]||l6e(l[d],h,i))&&!u[p])l.push(h),c.push(o[a[h.id]]),u[p]=!0,d++;else{const g=l[d].children;let m=!1;for(let b=0;b<g.length;b++){const C=a[g[b]];if(r[C]===r[p]&&!u[C]){l.push(s[C]),c.push(o[a[s[C].id]]),u[C]=!0,m=!0;break}}let y=0;for(;!m&&(u[y]||(l.push(s[y]),c.push(o[a[s[y].id]]),u[y]=!0,m=!0),y++,y!==f););}}),c}degreeOrdering(){const e=this,n=e.nodes,r=[],i=e.degrees;return n.forEach((o,s)=>{o.degree=i[s],r.push(o)}),r.sort(c6e),r}getType(){return"circular"}}function f6e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var I3;if(typeof f6e=="function")try{I3=Fv.exports}catch{}I3||(I3=window._);var gf=I3,Lr=gf,P8=ki,d6e="\0",L0="\0",Y9="";function ki(t){this._isDirected=Lr.has(t,"directed")?t.directed:!0,this._isMultigraph=Lr.has(t,"multigraph")?t.multigraph:!1,this._isCompound=Lr.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Lr.constant(void 0),this._defaultEdgeLabelFn=Lr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[L0]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}ki.prototype._nodeCount=0;ki.prototype._edgeCount=0;ki.prototype.isDirected=function(){return this._isDirected};ki.prototype.isMultigraph=function(){return this._isMultigraph};ki.prototype.isCompound=function(){return this._isCompound};ki.prototype.setGraph=function(t){return this._label=t,this};ki.prototype.graph=function(){return this._label};ki.prototype.setDefaultNodeLabel=function(t){return Lr.isFunction(t)||(t=Lr.constant(t)),this._defaultNodeLabelFn=t,this};ki.prototype.nodeCount=function(){return this._nodeCount};ki.prototype.nodes=function(){return Lr.keys(this._nodes)};ki.prototype.sources=function(){return Lr.filter(this.nodes(),Lr.bind(function(t){return Lr.isEmpty(this._in[t])},this))};ki.prototype.sinks=function(){return Lr.filter(this.nodes(),Lr.bind(function(t){return Lr.isEmpty(this._out[t])},this))};ki.prototype.setNodes=function(t,e){var n=arguments;return Lr.each(t,Lr.bind(function(r){n.length>1?this.setNode(r,e):this.setNode(r)},this)),this};ki.prototype.setNode=function(t,e){return Lr.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=L0,this._children[t]={},this._children[L0][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)};ki.prototype.node=function(t){return this._nodes[t]};ki.prototype.hasNode=function(t){return Lr.has(this._nodes,t)};ki.prototype.removeNode=function(t){var e=this;if(Lr.has(this._nodes,t)){var n=function(r){e.removeEdge(e._edgeObjs[r])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Lr.each(this.children(t),Lr.bind(function(r){this.setParent(r)},this)),delete this._children[t]),Lr.each(Lr.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],Lr.each(Lr.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this};ki.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Lr.isUndefined(e))e=L0;else{e+="";for(var n=e;!Lr.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this};ki.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]};ki.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==L0)return e}};ki.prototype.children=function(t){if(Lr.isUndefined(t)&&(t=L0),this._isCompound){var e=this._children[t];if(e)return Lr.keys(e)}else{if(t===L0)return this.nodes();if(this.hasNode(t))return[]}};ki.prototype.predecessors=function(t){var e=this._preds[t];if(e)return Lr.keys(e)};ki.prototype.successors=function(t){var e=this._sucs[t];if(e)return Lr.keys(e)};ki.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return Lr.union(e,this.successors(t))};ki.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0};ki.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph()),Lr.each(this._nodes,Lr.bind(function(o,s){t(s)&&e.setNode(s,o)},this)),Lr.each(this._edgeObjs,Lr.bind(function(o){e.hasNode(o.v)&&e.hasNode(o.w)&&e.setEdge(o,this.edge(o))},this));var n=this,r={};function i(o){var s=n.parent(o);return s===void 0||e.hasNode(s)?(r[o]=s,s):s in r?r[s]:i(s)}return this._isCompound&&Lr.each(e.nodes(),function(o){e.setParent(o,i(o))}),e};ki.prototype.setDefaultEdgeLabel=function(t){return Lr.isFunction(t)||(t=Lr.constant(t)),this._defaultEdgeLabelFn=t,this};ki.prototype.edgeCount=function(){return this._edgeCount};ki.prototype.edges=function(){return Lr.values(this._edgeObjs)};ki.prototype.setPath=function(t,e){var n=this,r=arguments;return Lr.reduce(t,function(i,o){return r.length>1?n.setEdge(i,o,e):n.setEdge(i,o),o}),this};ki.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,e=o.w,n=o.name,arguments.length===2&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,Lr.isUndefined(n)||(n=""+n);var s=kE(this._isDirected,t,e,n);if(Lr.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!Lr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var a=h6e(this._isDirected,t,e,n);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[s]=a,q9(this._preds[e],t),q9(this._sucs[t],e),this._in[e][s]=a,this._out[t][s]=a,this._edgeCount++,this};ki.prototype.edge=function(t,e,n){var r=arguments.length===1?O8(this._isDirected,arguments[0]):kE(this._isDirected,t,e,n);return this._edgeLabels[r]};ki.prototype.hasEdge=function(t,e,n){var r=arguments.length===1?O8(this._isDirected,arguments[0]):kE(this._isDirected,t,e,n);return Lr.has(this._edgeLabels,r)};ki.prototype.removeEdge=function(t,e,n){var r=arguments.length===1?O8(this._isDirected,arguments[0]):kE(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],X9(this._preds[e],t),X9(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this};ki.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=Lr.values(n);return e?Lr.filter(r,function(i){return i.v===e}):r}};ki.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=Lr.values(n);return e?Lr.filter(r,function(i){return i.w===e}):r}};ki.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};function q9(t,e){t[e]?t[e]++:t[e]=1}function X9(t,e){--t[e]||delete t[e]}function kE(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+Y9+o+Y9+(Lr.isUndefined(r)?d6e:r)}function h6e(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};return r&&(a.name=r),a}function O8(t,e){return kE(t,e.v,e.w,e.name)}var p6e="2.1.4",g6e={Graph:P8,version:p6e},ah=gf,v6e=P8,m6e={write:y6e,read:w6e};function y6e(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:b6e(t),edges:x6e(t)};return ah.isUndefined(t.graph())||(e.value=ah.clone(t.graph())),e}function b6e(t){return ah.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return ah.isUndefined(n)||(i.value=n),ah.isUndefined(r)||(i.parent=r),i})}function x6e(t){return ah.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return ah.isUndefined(e.name)||(r.name=e.name),ah.isUndefined(n)||(r.value=n),r})}function w6e(t){var e=new v6e(t.options).setGraph(t.value);return ah.each(t.nodes,function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),ah.each(t.edges,function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var dP=gf,C6e=S6e;function S6e(t){var e={},n=[],r;function i(o){dP.has(e,o)||(e[o]=!0,r.push(o),dP.each(t.successors(o),i),dP.each(t.predecessors(o),i))}return dP.each(t.nodes(),function(o){r=[],i(o),r.length&&n.push(r)}),n}var joe=gf,Voe=vf;function vf(){this._arr=[],this._keyIndices={}}vf.prototype.size=function(){return this._arr.length};vf.prototype.keys=function(){return this._arr.map(function(t){return t.key})};vf.prototype.has=function(t){return joe.has(this._keyIndices,t)};vf.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority};vf.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};vf.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!joe.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1};vf.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key};vf.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)};vf.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))};vf.prototype._decrease=function(t){for(var e=this._arr,n=e[t].priority,r;t!==0&&(r=t>>1,!(e[r].priority<n));)this._swap(t,r),t=r};vf.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var E6e=gf,_6e=Voe,Uoe=P6e,T6e=E6e.constant(1);function P6e(t,e,n,r){return O6e(t,String(e),n||T6e,r||function(i){return t.outEdges(i)})}function O6e(t,e,n,r){var i={},o=new _6e,s,a,l=function(c){var u=c.v!==s?c.v:c.w,f=i[u],d=n(c),h=a.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+d);h<f.distance&&(f.distance=h,f.predecessor=s,o.decrease(u,h))};for(t.nodes().forEach(function(c){var u=c===e?0:Number.POSITIVE_INFINITY;i[c]={distance:u},o.add(c,u)});o.size()>0&&(s=o.removeMin(),a=i[s],a.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(l);return i}var M6e=Uoe,A6e=gf,k6e=D6e;function D6e(t,e,n){return A6e.transform(t.nodes(),function(r,i){r[i]=M6e(t,i,e,n)},{})}var K9=gf,Hoe=N6e;function N6e(t){var e=0,n=[],r={},i=[];function o(s){var a=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(u){K9.has(r,u)?r[u].onStack&&(a.lowlink=Math.min(a.lowlink,r[u].index)):(o(u),a.lowlink=Math.min(a.lowlink,r[u].lowlink))}),a.lowlink===a.index){var l=[],c;do c=n.pop(),r[c].onStack=!1,l.push(c);while(s!==c);i.push(l)}}return t.nodes().forEach(function(s){K9.has(r,s)||o(s)}),i}var R6e=gf,I6e=Hoe,$6e=L6e;function L6e(t){return R6e.filter(I6e(t),function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var F6e=gf,z6e=B6e,G6e=F6e.constant(1);function B6e(t,e,n){return j6e(t,e||G6e,n||function(r){return t.outEdges(r)})}function j6e(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(s){o!==s&&(r[o][s]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(s){var a=s.v===o?s.w:s.v,l=e(s);r[o][a]={distance:l,predecessor:o}})}),i.forEach(function(o){var s=r[o];i.forEach(function(a){var l=r[a];i.forEach(function(c){var u=l[o],f=s[c],d=l[c],h=u.distance+f.distance;h<d.distance&&(d.distance=h,d.predecessor=f.predecessor)})})}),r}var Ix=gf,Woe=Yoe;Yoe.CycleException=P$;function Yoe(t){var e={},n={},r=[];function i(o){if(Ix.has(n,o))throw new P$;Ix.has(e,o)||(n[o]=!0,e[o]=!0,Ix.each(t.predecessors(o),i),delete n[o],r.push(o))}if(Ix.each(t.sinks(),i),Ix.size(e)!==t.nodeCount())throw new P$;return r}function P$(){}var Z9=Woe,V6e=U6e;function U6e(t){try{Z9(t)}catch(e){if(e instanceof Z9.CycleException)return!1;throw e}return!0}var $3=gf,qoe=H6e;function H6e(t,e,n){$3.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return $3.each(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);Xoe(t,s,n==="post",o,r,i)}),i}function Xoe(t,e,n,r,i,o){$3.has(r,e)||(r[e]=!0,n||o.push(e),$3.each(i(e),function(s){Xoe(t,s,n,r,i,o)}),n&&o.push(e))}var W6e=qoe,Y6e=q6e;function q6e(t,e){return W6e(t,e,"post")}var X6e=qoe,K6e=Z6e;function Z6e(t,e){return X6e(t,e,"pre")}var Q9=gf,Q6e=P8,J6e=Voe,e$e=t$e;function t$e(t,e){var n=new Q6e,r={},i=new J6e,o;function s(l){var c=l.v===o?l.w:l.v,u=i.priority(c);if(u!==void 0){var f=e(l);f<u&&(r[c]=o,i.decrease(c,f))}}if(t.nodeCount()===0)return n;Q9.each(t.nodes(),function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(t.nodes()[0],0);for(var a=!1;i.size()>0;){if(o=i.removeMin(),Q9.has(r,o))n.setEdge(o,r[o]);else{if(a)throw new Error("Input graph is not connected: "+t);a=!0}t.nodeEdges(o).forEach(s)}return n}var n$e={components:C6e,dijkstra:Uoe,dijkstraAll:k6e,findCycles:$6e,floydWarshall:z6e,isAcyclic:V6e,postorder:Y6e,preorder:K6e,prim:e$e,tarjan:Hoe,topsort:Woe},J9=g6e,r$e={Graph:J9.Graph,json:m6e,alg:n$e,version:J9.version};let O$=r$e;!O$&&typeof window<"u"&&(O$=window.graphlib);Array.prototype.flat||(Array.prototype.flat=function(t){let e=t||1;if(!isFinite(e))return;const n=this.length;let r=[];if(this.length===0)return this;for(;e--;){const i=[];let o=!1;if(r.length===0){o=!0;for(let s=0;s<n;s++)this[s]instanceof Array?r.push(...this[s]):r.push(this[s])}else{for(let s=0;s<r.length;s++)r[s]instanceof Array?(o=!0,i.push(...r[s])):i.push(r[s]);r=i}if(!o&&e===1/0)break}return r});const Jp=O$,eV=t=>{t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev},i$e=(t,e)=>{if(t!=="_next"&&t!=="_prev")return e};class o$e{constructor(){const e={};e._next=e._prev=e,this.isentinel=e}dequeue(){const e=this.isentinel,n=e._prev;if(n!==e)return eV(n),n}enqueue(){const e=this.isentinel,n=e._prev;if(n!==e)return eV(n),n}toString(){const e=[],n=this.isentinel;let r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,i$e)),r=r._prev;return`[${e.join(", ")}]`}}const s$e=Jp.Graph,a$e=()=>1,l$e=(t,e)=>{var n;if(t.nodeCount()<=1)return[];const r=u$e(t,e||a$e);return(n=c$e(r.graph,r.buckets,r.zeroIdx).map(o=>t.outEdges(o.v,o.w)))===null||n===void 0?void 0:n.flat()},c$e=(t,e,n)=>{let r=[];const i=e[e.length-1],o=e[0];let s;for(;t.nodeCount();){for(;s=o.dequeue();)nI(t,e,n,s);for(;s=i.dequeue();)nI(t,e,n,s);if(t.nodeCount()){for(let a=e.length-2;a>0;--a)if(s=e[a].dequeue(),s){r=r.concat(nI(t,e,n,s,!0));break}}}return r},nI=(t,e,n,r,i)=>{var o,s;const a=i?[]:void 0;return(o=t.inEdges(r.v))===null||o===void 0||o.forEach(l=>{const c=t.edge(l),u=t.node(l.v);i&&a.push({v:l.v,w:l.w}),u.out===void 0&&(u.out=0),u.out-=c,M$(e,n,u)}),(s=t.outEdges(r.v))===null||s===void 0||s.forEach(l=>{const c=t.edge(l),u=l.w,f=t.node(u);f.in===void 0&&(f.in=0),f.in-=c,M$(e,n,f)}),t.removeNode(r.v),a},u$e=(t,e)=>{const n=new s$e;let r=0,i=0;t.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),t.edges().forEach(l=>{const c=n.edge(l.v,l.w)||0,u=e==null?void 0:e(l),f=c+u;n.setEdge(l.v,l.w,f),i=Math.max(i,n.node(l.v).out+=u),r=Math.max(r,n.node(l.w).in+=u)});const o=[],s=i+r+3;for(let l=0;l<s;l++)o.push(new o$e);const a=r+1;return n.nodes().forEach(l=>{M$(o,a,n.node(l))}),{buckets:o,zeroIdx:a,graph:n}},M$=(t,e,n)=>{n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)},f$e=t=>{const e=r=>i=>r.edge(i).weight,n=t.graph().acyclicer==="greedy"?l$e(t,e(t)):d$e(t);n==null||n.forEach(r=>{const i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,`rev-${Math.random()}`)})},d$e=t=>{const e=[],n={},r={},i=o=>{var s;r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,(s=t.outEdges(o))===null||s===void 0||s.forEach(a=>{n.hasOwnProperty(a.w)?e.push(a):i(a.w)}),delete n[o])};return t.nodes().forEach(i),e},h$e=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.reversed){t.removeEdge(e);const r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})},tV={run:f$e,undo:h$e},Koe=Jp.Graph,Zoe=(t,e,n,r)=>{let i;do i=`${r}${Math.random()}`;while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i},Qoe=t=>{const e=new Koe().setGraph(t.graph());return t.nodes().forEach(n=>{e.setNode(n,t.node(n))}),t.edges().forEach(n=>{const r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},p$e=t=>{const e=new Koe({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{var r;!((r=t.children(n))===null||r===void 0)&&r.length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>e.setEdge(n,t.edge(n))),e},nD=(t,e)=>{const n={};return t==null||t.forEach((r,i)=>{n[r]=e[i]}),n},g$e=t=>{const e=t.nodes().map(n=>{var r;const i={};return(r=t.outEdges(n))===null||r===void 0||r.forEach(o=>{i[o.w]=(i[o.w]||0)+t.edge(o).weight}),i});return nD(t.nodes(),e)},v$e=t=>{const e=t.nodes().map(n=>{var r;const i={};return(r=t.inEdges(n))===null||r===void 0||r.forEach(o=>{i[o.v]=(i[o.v]||0)+t.edge(o).weight}),i});return nD(t.nodes(),e)},m$e=(t,e)=>{const n=t.x,r=t.y,i=e.x-n,o=e.y-r;let s=t.width/2,a=t.height/2;if(!i&&!o)return{x:0,y:0};let l,c;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,c=a):(i<0&&(s=-s),l=s,c=s*o/i),{x:n+l,y:r+c}},y$e=t=>{const e=[],n=[],r=tse(t)+1;for(let i=0;i<r;i++)e.push([]),n.push([]);return t.nodes().forEach(i=>{const s=t.node(i).rank;s!==void 0&&e[s]&&n[s].push(i)}),n==null||n.forEach((i,o)=>{i==null||i.sort((s,a)=>{var l,c;return((l=t.node(s))===null||l===void 0?void 0:l.order)-((c=t.node(a))===null||c===void 0?void 0:c.order)}),i.forEach(s=>{e[o].push(s)})}),e},Joe=t=>{const e=t.nodes().filter(r=>t.node(r).rank!==void 0).map(r=>t.node(r).rank),n=Math.min(...e);t.nodes().forEach(r=>{const i=t.node(r);i.hasOwnProperty("rank")&&(i.rank||(i.rank=0),i.rank-=n)})},ese=t=>{const e=t.nodes().filter(s=>t.node(s).rank!==void 0).map(s=>t.node(s).rank),n=Math.min(...e),r=[];t.nodes().forEach(s=>{var a;const l=(((a=t.node(s))===null||a===void 0?void 0:a.rank)||0)-n;r[l]||(r[l]=[]),r[l].push(s)});let i=0;const o=t.graph().nodeRankFactor||0;for(let s=0;s<r.length;s++){const a=r[s];a===void 0&&s%o!==0?--i:i&&(a==null||a.forEach(l=>{t.node(l).rank||(t.node(l).rank=0),t.node(l).rank+=i}))}},b$e=(t,e,n,r)=>{const i={width:0,height:0};return Dn(n)&&Dn(r)&&(i.rank=n,i.order=r),Zoe(t,"border",i,e)},tse=t=>{const e=t.nodes().map(n=>{const r=t.node(n).rank;return r!==void 0?r:-1/0});return Math.max(...e)},x$e=(t,e)=>{const n={lhs:[],rhs:[]};return t==null||t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n},nse=(t,e)=>{const n=Date.now();try{return e()}finally{console.log(`${t} time: ${Date.now()-n}ms`)}},rse=(t,e)=>e(),M8=(t,e)=>{let n=1/0,r;return t==null||t.forEach(i=>{const o=e(i);n>o&&(n=o,r=i)}),r},ca={addDummyNode:Zoe,simplify:Qoe,asNonCompoundGraph:p$e,successorWeights:g$e,predecessorWeights:v$e,intersectRect:m$e,buildLayerMatrix:y$e,normalizeRanks:Joe,removeEmptyRanks:ese,addBorderNode:b$e,maxRank:tse,partition:x$e,time:nse,notime:rse,zipObject:nD,minBy:M8},w$e=t=>{t.graph().dummyChains=[],t.edges().forEach(e=>C$e(t,e))},C$e=(t,e)=>{var n,r;let i=e.v,o=t.node(i).rank;const s=e.w,a=t.node(s).rank,l=e.name,c=t.edge(e),u=c.labelRank;if(a===o+1)return;t.removeEdge(e);let f,d,h;for(h=0,++o;o<a;++h,++o)c.points=[],d={edgeLabel:c,width:0,height:0,edgeObj:e,rank:o},f=ca.addDummyNode(t,"edge",d,"_d"),o===u&&(d.width=c.width,d.height=c.height,d.dummy="edge-label",d.labelpos=c.labelpos),t.setEdge(i,f,{weight:c.weight},l),h===0&&(t.graph().dummyChains||(t.graph().dummyChains=[]),(r=(n=t.graph())===null||n===void 0?void 0:n.dummyChains)===null||r===void 0||r.push(f)),i=f;t.setEdge(i,s,{weight:c.weight},l)},S$e=t=>{var e;(e=t.graph().dummyChains)===null||e===void 0||e.forEach(n=>{var r;let i=t.node(n);const o=i.edgeLabel;let s;i.edgeObj&&t.setEdge(i.edgeObj,o);let a=n;for(;i.dummy;)s=(r=t.successors(a))===null||r===void 0?void 0:r[0],t.removeNode(a),o.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),a=s,i=t.node(a)})},nV={run:w$e,undo:S$e},ise=t=>{var e;const n={},r=i=>{var o;const s=t.node(i);if(n.hasOwnProperty(i))return s.rank;n[i]=!0;const a=(o=t.outEdges(i))===null||o===void 0?void 0:o.map(c=>r(c.w)-t.edge(c).minlen||1/0);let l=Math.min(...a);return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),s.rank=l,l};(e=t.sources())===null||e===void 0||e.forEach(i=>r(i))},E$e=t=>{var e;const n={};let r=0;const i=s=>{var a;const l=t.node(s);if(n.hasOwnProperty(s))return l.rank;n[s]=!0;const c=(a=t.outEdges(s))===null||a===void 0?void 0:a.map(f=>i(f.w)-t.edge(f).minlen||1/0);let u=Math.min(...c);return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),l.rank=u,r=Math.min(l.rank,r),l.rank};(e=t.sources())===null||e===void 0||e.forEach(s=>i(s)),r+=1;const o=(s,a)=>{var l;const c=t.node(s),u=isNaN(c.layer)?a:c.layer;(c.rank===void 0||c.rank<u)&&(c.rank=u),(l=t.outEdges(s))===null||l===void 0||l.map(f=>{o(f.w,u+t.edge(f).minlen)})};t.nodes().forEach(s=>{const a=t.node(s);isNaN(a.layer)?a.rank-=r:o(s,a.layer)})},Bv=(t,e)=>t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen,ose=Jp.Graph,_$e=t=>{const e=new ose({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});let i,o;for(;T$e(e,t)<r;)i=sse(e,t),o=e.hasNode(i.v)?Bv(t,i):-Bv(t,i),ase(e,t,o);return e},T$e=(t,e)=>{const n=r=>{e.nodeEdges(r).forEach(i=>{const o=i.v,s=r===o?i.w:o;!t.hasNode(s)&&!Bv(e,i)&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})};return t.nodes().forEach(n),t.nodeCount()},P$e=t=>{const e=new ose({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});let i,o;for(;O$e(e,t)<r;)i=sse(e,t),o=e.hasNode(i.v)?Bv(t,i):-Bv(t,i),ase(e,t,o);return e},O$e=(t,e)=>{const n=r=>{var i;(i=e.nodeEdges(r))===null||i===void 0||i.forEach(o=>{const s=o.v,a=r===s?o.w:s;!t.hasNode(a)&&(e.node(a).layer!==void 0||!Bv(e,o))&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})};return t.nodes().forEach(n),t.nodeCount()},sse=(t,e)=>M8(e.edges(),n=>t.hasNode(n.v)!==t.hasNode(n.w)?Bv(e,n):1/0),ase=(t,e,n)=>{t.nodes().forEach(r=>{e.node(r).rank||(e.node(r).rank=0),e.node(r).rank+=n})},M$e=Jp.alg,{preorder:A$e,postorder:k$e}=M$e,ry=t=>{t=Qoe(t),ise(t);const e=_$e(t);k8(e),A8(e,t);let n,r;for(;n=use(e);)r=fse(e,t,n),dse(e,t,n,r)},A8=(t,e)=>{let n=k$e(t,t.nodes());n=n==null?void 0:n.slice(0,(n==null?void 0:n.length)-1),n==null||n.forEach(r=>{D$e(t,e,r)})},D$e=(t,e,n)=>{const i=t.node(n).parent;t.edge(n,i).cutvalue=lse(t,e,n)},lse=(t,e,n)=>{var r;const o=t.node(n).parent;let s=!0,a=e.edge(n,o),l=0;return a||(s=!1,a=e.edge(o,n)),l=a.weight,(r=e.nodeEdges(n))===null||r===void 0||r.forEach(c=>{const u=c.v===n,f=u?c.w:c.v;if(f!==o){const d=u===s,h=e.edge(c).weight;if(l+=d?h:-h,R$e(t,n,f)){const p=t.edge(n,f).cutvalue;l+=d?-p:p}}}),l},k8=(t,e)=>{e!==void 0&&(e=t.nodes()[0]),cse(t,{},1,e)},cse=(t,e,n,r,i)=>{var o;const s=n;let a=n;const l=t.node(r);return e[r]=!0,(o=t.neighbors(r))===null||o===void 0||o.forEach(c=>{e.hasOwnProperty(c)||(a=cse(t,e,a,c,r))}),l.low=s,l.lim=a++,i?l.parent=i:delete l.parent,a},use=t=>t.edges().find(e=>t.edge(e).cutvalue<0),fse=(t,e,n)=>{let r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);const o=t.node(r),s=t.node(i);let a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);const c=e.edges().filter(u=>l===rV(t,t.node(u.v),a)&&l!==rV(t,t.node(u.w),a));return M8(c,u=>Bv(e,u))},dse=(t,e,n,r)=>{const i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),k8(t),A8(t,e),N$e(t,e)},N$e=(t,e)=>{const n=t.nodes().find(i=>!e.node(i).parent);let r=A$e(t,n);r=r==null?void 0:r.slice(1),r==null||r.forEach(i=>{const o=t.node(i).parent;let s=e.edge(i,o),a=!1;s||(s=e.edge(o,i),a=!0),e.node(i).rank=e.node(o).rank+(a?s.minlen:-s.minlen)})},R$e=(t,e,n)=>t.hasEdge(e,n),rV=(t,e,n)=>n.low<=e.lim&&e.lim<=n.lim;ry.initLowLimValues=k8;ry.initCutValues=A8;ry.calcCutValue=lse;ry.leaveEdge=use;ry.enterEdge=fse;ry.exchangeEdges=dse;const I$e=t=>{switch(t.graph().ranker){case"network-simplex":L$e(t);break;case"tight-tree":iV(t);break;case"longest-path":$$e(t);break;default:iV(t)}},$$e=ise,iV=t=>{E$e(t),P$e(t)},L$e=t=>{ry(t)},F$e=t=>{var e;const n=G$e(t);(e=t.graph().dummyChains)===null||e===void 0||e.forEach(r=>{var i,o;let s=t.node(r);const a=s.edgeObj;if(!a)return;const l=z$e(t,n,a.v,a.w),c=l.path,u=l.lca;let f=0,d=c[f],h=!0;for(;r!==a.w;){if(s=t.node(r),h){for(;(d=c[f])!==u&&t.node(d).maxRank<s.rank;)f++;d===u&&(h=!1)}if(!h){for(;f<c.length-1&&((i=t.node(d=c[f+1]))===null||i===void 0?void 0:i.minRank)<=s.rank;)f++;d=c[f]}t.setParent(r,d),r=(o=t.successors(r))===null||o===void 0?void 0:o[0]}})},z$e=(t,e,n,r)=>{const i=[],o=[],s=Math.min(e[n].low,e[r].low),a=Math.max(e[n].lim,e[r].lim);let l,c;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||a>e[l].lim));for(c=l,l=r;(l=t.parent(l))!==c;)o.push(l);return{lca:c,path:i.concat(o.reverse())}},G$e=t=>{var e;const n={};let r=0;const i=o=>{var s;const a=r;(s=t.children(o))===null||s===void 0||s.forEach(i),n[o]={low:a,lim:r++}};return(e=t.children())===null||e===void 0||e.forEach(i),n},B$e=t=>{var e;const n=ca.addDummyNode(t,"root",{},"_root"),r=j$e(t),i=Math.max(...Object.values(r))-1,o=2*i+1;t.graph().nestingRoot=n,t.edges().forEach(a=>{t.edge(a).minlen*=o});const s=V$e(t)+1;(e=t.children())===null||e===void 0||e.forEach(a=>{hse(t,n,o,s,i,r,a)}),t.graph().nodeRankFactor=o},hse=(t,e,n,r,i,o,s)=>{const a=t.children(s);if(!(a!=null&&a.length)){s!==e&&t.setEdge(e,s,{weight:0,minlen:n});return}const l=ca.addBorderNode(t,"_bt"),c=ca.addBorderNode(t,"_bb"),u=t.node(s);t.setParent(l,s),u.borderTop=l,t.setParent(c,s),u.borderBottom=c,a==null||a.forEach(f=>{hse(t,e,n,r,i,o,f);const d=t.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,g=d.borderTop?r:2*r,m=h!==p?1:i-o[s]+1;t.setEdge(l,h,{minlen:m,weight:g,nestingEdge:!0}),t.setEdge(p,c,{minlen:m,weight:g,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+o[s]})},j$e=t=>{var e;const n={},r=(i,o)=>{const s=t.children(i);s==null||s.forEach(a=>r(a,o+1)),n[i]=o};return(e=t.children())===null||e===void 0||e.forEach(i=>r(i,1)),n},V$e=t=>{let e=0;return t.edges().forEach(n=>{e+=t.edge(n).weight}),e},U$e=t=>{const e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{t.edge(n).nestingEdge&&t.removeEdge(n)})},oV={run:B$e,cleanup:U$e},H$e=t=>{var e;const n=r=>{const i=t.children(r),o=t.node(r);if(i!=null&&i.length&&i.forEach(s=>n(s)),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(let s=o.minRank,a=o.maxRank+1;s<a;++s)sV(t,"borderLeft","_bl",r,o,s),sV(t,"borderRight","_br",r,o,s)}};(e=t.children())===null||e===void 0||e.forEach(r=>n(r))},sV=(t,e,n,r,i,o)=>{const s={rank:o,width:0,height:0,borderType:e},a=i[e][o-1],l=ca.addDummyNode(t,"border",s,n);i[e][o]=l,t.setParent(l,r),a&&t.setEdge(a,l,{weight:1})},W$e=t=>{var e;const n=(e=t.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(n==="lr"||n==="rl")&&pse(t)},Y$e=t=>{var e;const n=(e=t.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(n==="bt"||n==="rl")&&q$e(t),(n==="lr"||n==="rl")&&(X$e(t),pse(t))},pse=t=>{t.nodes().forEach(e=>{aV(t.node(e))}),t.edges().forEach(e=>{aV(t.edge(e))})},aV=t=>{const e=t.width;t.width=t.height,t.height=e},q$e=t=>{t.nodes().forEach(e=>{rI(t.node(e))}),t.edges().forEach(e=>{var n;const r=t.edge(e);(n=r.points)===null||n===void 0||n.forEach(i=>rI(i)),r.hasOwnProperty("y")&&rI(r)})},rI=t=>{t.y=-t.y},X$e=t=>{t.nodes().forEach(e=>{iI(t.node(e))}),t.edges().forEach(e=>{var n;const r=t.edge(e);(n=r.points)===null||n===void 0||n.forEach(i=>iI(i)),r.hasOwnProperty("x")&&iI(r)})},iI=t=>{const e=t.x;t.x=t.y,t.y=e},lV={adjust:W$e,undo:Y$e},cV=t=>{const e={},n=t.nodes().filter(u=>{var f;return!(!((f=t.children(u))===null||f===void 0)&&f.length)}),r=n.map(u=>t.node(u).rank),i=Math.max(...r),o=[];for(let u=0;u<i+1;u++)o.push([]);const s=u=>{var f;if(e.hasOwnProperty(u))return;e[u]=!0;const d=t.node(u);isNaN(d.rank)||o[d.rank].push(u),(f=t.successors(u))===null||f===void 0||f.forEach(h=>s(h))},a=n.sort((u,f)=>t.node(u).rank-t.node(f).rank),c=a.filter(u=>t.node(u).fixorder!==void 0).sort((u,f)=>t.node(u).fixorder-t.node(f).fixorder);return c==null||c.forEach(u=>{isNaN(t.node(u).rank)||o[t.node(u).rank].push(u),e[u]=!0}),a==null||a.forEach(s),o},K$e=(t,e,n)=>{const r=nD(n,n.map((u,f)=>f)),o=e.map(u=>{var f;const d=(f=t.outEdges(u))===null||f===void 0?void 0:f.map(h=>({pos:r[h.w]||0,weight:t.edge(h).weight}));return d==null?void 0:d.sort((h,p)=>h.pos-p.pos)}).flat().filter(u=>u!==void 0);let s=1;for(;s<n.length;)s<<=1;const a=2*s-1;s-=1;const l=Array(a).fill(0,0,a);let c=0;return o==null||o.forEach(u=>{let f=u.pos+s;l[f]+=u.weight;let d=0;for(;f>0;)f%2&&(d+=l[f+1]),f=f-1>>1,l[f]+=u.weight;c+=u.weight*d}),c},uV=(t,e)=>{let n=0;for(let r=1;r<(e==null?void 0:e.length);++r)n+=K$e(t,e[r-1],e[r]);return n},Z$e=Jp.Graph,Q$e=(t,e,n)=>{const r=J$e(t),i=new Z$e({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{const s=t.node(o),a=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),t[n](o).forEach(l=>{const c=l.v===o?l.w:l.v,u=i.edge(c,o),f=u!==void 0?u.weight:0;i.setEdge(c,o,{weight:t.edge(l).weight+f})}),s.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i},J$e=t=>{let e;for(;t.hasNode(e=`_root${Math.random()}`););return e},eLe=(t,e,n)=>{const r={};let i;n==null||n.forEach(o=>{let s=t.parent(o),a,l;for(;s;){if(a=t.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=a}})},tLe=(t,e)=>e.map(n=>{const r=t.inEdges(n);if(!(r!=null&&r.length))return{v:n};{const i={sum:0,weight:0};return r==null||r.forEach(o=>{const s=t.edge(o),a=t.node(o.v);i.sum+=s.weight*a.order,i.weight+=s.weight}),{v:n,barycenter:i.sum/i.weight,weight:i.weight}}}),nLe=(t,e)=>{var n,r,i;const o={};t==null||t.forEach((a,l)=>{const c=o[a.v]={i:l,indegree:0,in:[],out:[],vs:[a.v]};a.barycenter!==void 0&&(c.barycenter=a.barycenter,c.weight=a.weight)}),(n=e.edges())===null||n===void 0||n.forEach(a=>{const l=o[a.v],c=o[a.w];l!==void 0&&c!==void 0&&(c.indegree++,l.out.push(o[a.w]))});const s=(i=(r=Object.values(o)).filter)===null||i===void 0?void 0:i.call(r,a=>!a.indegree);return rLe(s)},rLe=t=>{var e,n;const r=[],i=l=>c=>{c.merged||(c.barycenter===void 0||l.barycenter===void 0||c.barycenter>=l.barycenter)&&iLe(l,c)},o=l=>c=>{c.in.push(l),--c.indegree===0&&t.push(c)};for(;t!=null&&t.length;){const l=t.pop();r.push(l),(e=l.in.reverse())===null||e===void 0||e.forEach(c=>i(l)(c)),(n=l.out)===null||n===void 0||n.forEach(c=>o(l)(c))}const s=r.filter(l=>!l.merged),a=["vs","i","barycenter","weight"];return s.map(l=>{const c={};return a==null||a.forEach(u=>{l[u]!==void 0&&(c[u]=l[u])}),c})},iLe=(t,e)=>{var n;let r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=(n=e.vs)===null||n===void 0?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0},oLe=(t,e,n)=>{const r=ca.partition(t,f=>f.hasOwnProperty("fixorder")&&!isNaN(f.fixorder)||f.hasOwnProperty("barycenter")),i=r.lhs,o=r.rhs.sort((f,d)=>-f.i- -d.i),s=[];let a=0,l=0,c=0;i==null||i.sort(sLe(!!e,!!n)),c=fV(s,o,c),i==null||i.forEach(f=>{var d;c+=(d=f.vs)===null||d===void 0?void 0:d.length,s.push(f.vs),a+=f.barycenter*f.weight,l+=f.weight,c=fV(s,o,c)});const u={vs:s.flat()};return l&&(u.barycenter=a/l,u.weight=l),u},fV=(t,e,n)=>{let r=n,i;for(;e.length&&(i=e[e.length-1]).i<=r;)e.pop(),t==null||t.push(i.vs),r++;return r},sLe=(t,e)=>(n,r)=>{if(n.fixorder!==void 0&&r.fixorder!==void 0)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&n.order!==void 0&&r.order!==void 0){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i},gse=(t,e,n,r,i)=>{var o,s,a,l;let c=t.children(e);const u=t.node(e),f=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,h={};f&&(c=c==null?void 0:c.filter(y=>y!==f&&y!==d));const p=tLe(t,c||[]);p==null||p.forEach(y=>{var b;if(!((b=t.children(y.v))===null||b===void 0)&&b.length){const C=gse(t,y.v,n,r);h[y.v]=C,C.hasOwnProperty("barycenter")&&lLe(y,C)}});const g=nLe(p,n);aLe(g,h),(o=g.filter(y=>{var b;return!!y.vs||((b=y.vs)===null||b===void 0?void 0:b.length)>0}))===null||o===void 0||o.forEach(y=>{const b=t.node(y.vs[0]);y.fixorder=b.fixorder,y.order=b.order});const m=oLe(g,r,i);if(f&&(m.vs=[f,m.vs,d].flat(),!((s=t.predecessors(f))===null||s===void 0)&&s.length)){const y=t.node(((a=t.predecessors(f))===null||a===void 0?void 0:a[0])||{}),b=t.node(((l=t.predecessors(d))===null||l===void 0?void 0:l[0])||{});m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+b.order)/(m.weight+2),m.weight+=2}return m},aLe=(t,e)=>{t==null||t.forEach(n=>{var r;const i=(r=n.vs)===null||r===void 0?void 0:r.map(o=>e[o]?e[o].vs:o);n.vs=i.flat()})},lLe=(t,e)=>{t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)},cLe=Jp.Graph,uLe=t=>{const e=ca.maxRank(t),n=[],r=[];for(let c=1;c<e+1;c++)n.push(c);for(let c=e-1;c>-1;c--)r.push(c);const i=dV(t,n,"inEdges"),o=dV(t,r,"outEdges");let s=cV(t);oI(t,s);let a=Number.POSITIVE_INFINITY,l;for(let c=0,u=0;u<4;++c,++u){hV(c%2?i:o,c%4>=2),s=ca.buildLayerMatrix(t);const f=uV(t,s);f<a&&(u=0,l=SS(s),a=f)}s=cV(t),oI(t,s);for(let c=0,u=0;u<4;++c,++u){hV(c%2?i:o,c%4>=2,!0),s=ca.buildLayerMatrix(t);const f=uV(t,s);f<a&&(u=0,l=SS(s),a=f)}oI(t,l)},dV=(t,e,n)=>e.map(r=>Q$e(t,r,n)),hV=(t,e,n)=>{const r=new cLe;t==null||t.forEach(i=>{var o;const s=i.graph().root,a=gse(i,s,r,e,n);for(let l=0;l<((o=a.vs)===null||o===void 0?void 0:o.length);l++)i.node(a.vs[l]).order=l;eLe(i,r,a.vs)})},oI=(t,e)=>{e==null||e.forEach(n=>{n==null||n.forEach((r,i)=>{t.node(r).order=i})})},fLe=Jp.Graph,dLe=(t,e)=>{const n={},r=(i,o)=>{let s=0,a=0;const l=i.length,c=o==null?void 0:o[(o==null?void 0:o.length)-1];return o==null||o.forEach((u,f)=>{var d;const h=pLe(t,u),p=h?t.node(h).order:l;(h||u===c)&&((d=o.slice(a,f+1))===null||d===void 0||d.forEach(g=>{var m;(m=t.predecessors(g))===null||m===void 0||m.forEach(y=>{const b=t.node(y),C=b.order;(C<s||p<C)&&!(b.dummy&&t.node(g).dummy)&&vse(n,y,g)})}),a=f+1,s=p)}),o};return e!=null&&e.length&&e.reduce(r),n},hLe=(t,e)=>{const n={},r=(o,s,a,l,c)=>{let u;const f=[];for(let d=s;d<a;d++)f.push(d);f.forEach(d=>{var h;u=o[d],t.node(u).dummy&&((h=t.predecessors(u))===null||h===void 0||h.forEach(p=>{const g=t.node(p);g.dummy&&(g.order<l||g.order>c)&&vse(n,p,u)}))})},i=(o,s)=>{let a=-1,l,c=0;return s==null||s.forEach((u,f)=>{if(t.node(u).dummy==="border"){const d=t.predecessors(u)||[];d.length&&(l=t.node(d[0]).order,r(s,c,f,a,l),c=f,a=l)}r(s,c,s.length,l,o.length)}),s};return e!=null&&e.length&&e.reduce(i),n},pLe=(t,e)=>{var n;if(t.node(e).dummy)return(n=t.predecessors(e))===null||n===void 0?void 0:n.find(r=>t.node(r).dummy)},vse=(t,e,n)=>{let r=e,i=n;if(r>i){const s=r;r=i,i=s}let o=t[r];o||(t[r]=o={}),o[i]=!0},gLe=(t,e,n)=>{let r=e,i=n;if(r>i){const o=e;r=i,i=o}return t[r]&&t[r].hasOwnProperty(i)},vLe=(t,e,n,r)=>{const i={},o={},s={};return e==null||e.forEach(a=>{a==null||a.forEach((l,c)=>{i[l]=l,o[l]=l,s[l]=c})}),e==null||e.forEach(a=>{let l=-1;a==null||a.forEach(c=>{let u=r(c);if(u.length){u=u.sort((d,h)=>s[d]-s[h]);const f=(u.length-1)/2;for(let d=Math.floor(f),h=Math.ceil(f);d<=h;++d){const p=u[d];o[c]===c&&l<s[p]&&!gLe(n,c,p)&&(o[p]=c,o[c]=i[c]=i[p],l=s[p])}}})}),{root:i,align:o}},mLe=(t,e,n,r,i)=>{var o;const s={},a=yLe(t,e,n,i),l=i?"borderLeft":"borderRight",c=(d,h)=>{let p=a.nodes(),g=p.pop();const m={};for(;g;)m[g]?d(g):(m[g]=!0,p.push(g),p=p.concat(h(g))),g=p.pop()},u=d=>{s[d]=(a.inEdges(d)||[]).reduce((h,p)=>Math.max(h,(s[p.v]||0)+a.edge(p)),0)},f=d=>{const h=(a.outEdges(d)||[]).reduce((g,m)=>Math.min(g,(s[m.w]||0)-a.edge(m)),Number.POSITIVE_INFINITY),p=t.node(d);h!==Number.POSITIVE_INFINITY&&p.borderType!==l&&(s[d]=Math.max(s[d],h))};return c(u,a.predecessors.bind(a)),c(f,a.successors.bind(a)),(o=Object.values(r))===null||o===void 0||o.forEach(d=>{s[d]=s[n[d]]}),s},yLe=(t,e,n,r)=>{const i=new fLe,o=t.graph(),s=CLe(o.nodesep,o.edgesep,r);return e==null||e.forEach(a=>{let l;a==null||a.forEach(c=>{const u=n[c];if(i.setNode(u),l){const f=n[l],d=i.edge(f,u);i.setEdge(f,u,Math.max(s(t,c,l),d||0))}l=c})}),i},bLe=(t,e)=>ca.minBy(Object.values(e),n=>{var r;let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return(r=Object.keys(n))===null||r===void 0||r.forEach(s=>{const a=n[s],l=SLe(t,s)/2;i=Math.max(a+l,i),o=Math.min(a-l,o)}),i-o});function xLe(t,e){const n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(o=>{["l","r"].forEach(s=>{const a=o+s,l=t[a];let c;if(l===e)return;const u=Object.values(l);c=s==="l"?r-Math.min(...u):i-Math.max(...u),c&&(t[a]={},Object.keys(l).forEach(f=>{t[a][f]=l[f]+c}))})})}const wLe=(t,e)=>{const n={};return Object.keys(t.ul).forEach(r=>{if(e)n[r]=t[e.toLowerCase()][r];else{const o=Object.values(t).map(s=>s[r]).sort((s,a)=>s-a);n[r]=(o[1]+o[2])/2}}),n},CLe=(t,e,n)=>(r,i,o)=>{const s=r.node(i),a=r.node(o);let l=0,c;if(l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":c=-s.width/2;break;case"r":c=s.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(s.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,a.hasOwnProperty("labelpos"))switch((a.labelpos||"").toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(l+=n?c:-c),c=0,l},SLe=(t,e)=>{var n;return((n=t.node(e))===null||n===void 0?void 0:n.width)||0},ELe=t=>{const e=ca.buildLayerMatrix(t),n=t.graph().ranksep;let r=0;e==null||e.forEach(i=>{const o=i.map(a=>t.node(a).height),s=Math.max(...o);i==null||i.forEach(a=>{t.node(a).y=r+s/2}),r+=s+n})},_Le=t=>{const e=ca.buildLayerMatrix(t),n=Object.assign(dLe(t,e),hLe(t,e)),r={};let i;["u","d"].forEach(s=>{i=s==="u"?e:Object.values(e).reverse(),["l","r"].forEach(a=>{a==="r"&&(i=i.map(f=>Object.values(f).reverse()));const l=(s==="u"?t.predecessors:t.successors).bind(t),c=vLe(t,i,n,l),u=mLe(t,i,c.root,c.align,a==="r");a==="r"&&Object.keys(u).forEach(f=>u[f]=-u[f]),r[s+a]=u})});const o=bLe(t,r);return o&&xLe(r,o),wLe(r,t.graph().align)},TLe=t=>{var e;t=ca.asNonCompoundGraph(t),ELe(t);const n=_Le(t);(e=Object.keys(n))===null||e===void 0||e.forEach(r=>{t.node(r).x=n[r]})},PLe=(t,e)=>{const r=t.nodes().filter(s=>{var a;return!(!((a=t.children(s))===null||a===void 0)&&a.length)}).map(s=>t.node(s).rank),i=Math.max(...r),o=[];for(let s=0;s<i+1;s++)o.push([]);e==null||e.forEach(s=>{const a=t.node(s);!a||a.dummy||isNaN(a.rank)||(a.fixorder=o[a.rank].length,o[a.rank].push(s))})},OLe=Jp.Graph,MLe=(t,e)=>{const n=e&&e.debugTiming?ca.time:ca.notime;n("layout",()=>{e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",()=>{kLe(t,e.prevGraph)});const r=n("  buildLayoutGraph",()=>FLe(t));e&&e.edgeLabelSpace===!1||n("  makeSpaceForEdgeLabels",()=>{zLe(r)});try{n("  runLayout",()=>{ALe(r,n,e)})}catch(i){if(i.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,i);return}throw i}n("  updateInputGraph",()=>{DLe(t,r)})})},ALe=(t,e,n)=>{e("    removeSelfEdges",()=>{qLe(t)}),e("    acyclic",()=>{tV.run(t)}),e("    nestingGraph.run",()=>{oV.run(t)}),e("    rank",()=>{I$e(ca.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",()=>{GLe(t)}),e("    removeEmptyRanks",()=>{ese(t)}),e("    nestingGraph.cleanup",()=>{oV.cleanup(t)}),e("    normalizeRanks",()=>{Joe(t)}),e("    assignRankMinMax",()=>{BLe(t)}),e("    removeEdgeLabelProxies",()=>{jLe(t)}),e("    normalize.run",()=>{nV.run(t)}),e("    parentDummyChains",()=>{F$e(t)}),e("    addBorderSegments",()=>{H$e(t)}),n&&n.keepNodeOrder&&e("    initDataOrder",()=>{PLe(t,n.nodeOrder)}),e("    order",()=>{uLe(t)}),e("    insertSelfEdges",()=>{XLe(t)}),e("    adjustCoordinateSystem",()=>{lV.adjust(t)}),e("    position",()=>{TLe(t)}),e("    positionSelfEdges",()=>{KLe(t)}),e("    removeBorderNodes",()=>{YLe(t)}),e("    normalize.undo",()=>{nV.undo(t)}),e("    fixupEdgeLabelCoords",()=>{HLe(t)}),e("    undoCoordinateSystem",()=>{lV.undo(t)}),e("    translateGraph",()=>{VLe(t)}),e("    assignNodeIntersects",()=>{ULe(t)}),e("    reversePoints",()=>{WLe(t)}),e("    acyclic.undo",()=>{tV.undo(t)})},kLe=(t,e)=>{const n=e._nodes||{};t.nodes().forEach(r=>{const i=t.node(r);n[r]!==void 0?(i.fixorder=n[r]._order,delete n[r]._order):delete i.fixorder})},DLe=(t,e)=>{t.nodes().forEach(n=>{var r;const i=t.node(n),o=e.node(n);i&&(i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,!((r=e.children(n))===null||r===void 0)&&r.length&&(i.width=o.width,i.height=o.height))}),t.edges().forEach(n=>{const r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height},NLe=["nodesep","edgesep","ranksep","marginx","marginy"],RLe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},sI=["acyclicer","ranker","rankdir","align"],ILe=["width","height","layer","fixorder"],pV={width:0,height:0},$Le=["minlen","weight","width","height","labeloffset"],LLe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},aI=["labelpos"],FLe=t=>{const e=new OLe({multigraph:!0,compound:!0}),n=cI(t.graph()),r={};return sI==null||sI.forEach(i=>{n[i]!==void 0&&(r[i]=n[i])}),e.setGraph(Object.assign({},RLe,lI(n,NLe),r)),t.nodes().forEach(i=>{const o=cI(t.node(i)),s=lI(o,ILe);Object.keys(pV).forEach(a=>{s[a]===void 0&&(s[a]=pV[a])}),e.setNode(i,s),e.setParent(i,t.parent(i))}),t.edges().forEach(i=>{const o=cI(t.edge(i)),s={};aI==null||aI.forEach(a=>{o[a]!==void 0&&(s[a]=o[a])}),e.setEdge(i,Object.assign({},LLe,lI(o,$Le),s))}),e},zLe=t=>{const e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach(n=>{const r=t.node(n);isNaN(r.layer)||(r.layer?r.layer*=2:r.layer=0)}),t.edges().forEach(n=>{var r;const i=t.edge(n);i.minlen*=2,((r=i.labelpos)===null||r===void 0?void 0:r.toLowerCase())!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})},GLe=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.width&&n.height){const r=t.node(e.v),i=t.node(e.w),o={e,rank:(i.rank-r.rank)/2+r.rank};ca.addDummyNode(t,"edge-proxy",o,"_ep")}})},BLe=t=>{let e=0;t.nodes().forEach(n=>{const r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank||-1/0))}),t.graph().maxRank=e},jLe=t=>{t.nodes().forEach(e=>{const n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})},VLe=t=>{let e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0;const o=t.graph(),s=o.marginx||0,a=o.marginy||0,l=c=>{if(!c)return;const u=c.x,f=c.y,d=c.width,h=c.height;!isNaN(u)&&!isNaN(d)&&(e=Math.min(e,u-d/2),n=Math.max(n,u+d/2)),!isNaN(f)&&!isNaN(h)&&(r=Math.min(r,f-h/2),i=Math.max(i,f+h/2))};t.nodes().forEach(c=>{l(t.node(c))}),t.edges().forEach(c=>{const u=t.edge(c);u.hasOwnProperty("x")&&l(u)}),e-=s,r-=a,t.nodes().forEach(c=>{const u=t.node(c);u.x-=e,u.y-=r}),t.edges().forEach(c=>{var u;const f=t.edge(c);(u=f.points)===null||u===void 0||u.forEach(d=>{d.x-=e,d.y-=r}),f.hasOwnProperty("x")&&(f.x-=e),f.hasOwnProperty("y")&&(f.y-=r)}),o.width=n-e+s,o.height=i-r+a},ULe=t=>{t.edges().forEach(e=>{const n=t.edge(e),r=t.node(e.v),i=t.node(e.w);let o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(ca.intersectRect(r,o)),n.points.push(ca.intersectRect(i,s))})},HLe=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})},WLe=t=>{t.edges().forEach(e=>{const n=t.edge(e);n.reversed&&n.points.reverse()})},YLe=t=>{t.nodes().forEach(e=>{var n,r,i;if(!((n=t.children(e))===null||n===void 0)&&n.length){const o=t.node(e),s=t.node(o.borderTop),a=t.node(o.borderBottom),l=t.node(o.borderLeft[((r=o.borderLeft)===null||r===void 0?void 0:r.length)-1]),c=t.node(o.borderRight[((i=o.borderRight)===null||i===void 0?void 0:i.length)-1]);o.width=Math.abs((c==null?void 0:c.x)-(l==null?void 0:l.x))||10,o.height=Math.abs((a==null?void 0:a.y)-(s==null?void 0:s.y))||10,o.x=((l==null?void 0:l.x)||0)+o.width/2,o.y=((s==null?void 0:s.y)||0)+o.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})},qLe=t=>{t.edges().forEach(e=>{if(e.v===e.w){const n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})},XLe=t=>{const e=ca.buildLayerMatrix(t);e==null||e.forEach(n=>{let r=0;n==null||n.forEach((i,o)=>{var s;const a=t.node(i);a.order=o+r,(s=a.selfEdges)===null||s===void 0||s.forEach(l=>{ca.addDummyNode(t,"selfedge",{width:l.label.width,height:l.label.height,rank:a.rank,order:o+ ++r,e:l.e,label:l.label},"_se")}),delete a.selfEdges})})},KLe=t=>{t.nodes().forEach(e=>{const n=t.node(e);if(n.dummy==="selfedge"){const r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{y:o,x:i+s},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})},lI=(t,e)=>{const n={};return e==null||e.forEach(r=>{t[r]!==void 0&&(n[r]=+t[r])}),n},cI=t=>{const e={};return Object.keys(t).forEach(n=>{const r=t[n];e[n.toLowerCase()]=r}),e},uI={graphlib:Jp,layout:MLe,util:{time:nse,notime:rse}};class mse extends sc{constructor(e){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=n=>{const r=this,{nodes:i}=r,o=i.find(s=>s.id===n);return o?o.layout!==!1:!0},this.updateCfg(e)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}execute(){const e=this,{nodes:n,nodeSize:r,rankdir:i,combos:o,begin:s}=e;if(!n)return;const a=e.edges||[],l=new uI.graphlib.Graph({multigraph:!0,compound:!0});let c;r?fl(r)?c=()=>r:c=()=>[r,r]:c=g=>g.size?fl(g.size)?g.size:Qp(g.size)?[g.size.width||40,g.size.height||40]:[g.size,g.size]:[40,40];let u=hP(e.nodesepFunc,e.nodesep,50),f=hP(e.ranksepFunc,e.ranksep,50);(i==="LR"||i==="RL")&&(u=hP(e.ranksepFunc,e.ranksep,50),f=hP(e.nodesepFunc,e.nodesep,50)),l.setDefaultEdgeLabel(()=>({})),l.setGraph(e);const d={};n.filter(g=>g.layout!==!1).forEach(g=>{const m=c(g),y=f(g),b=u(g),C=m[0]+2*b,E=m[1]+2*y,_=g.layer;Dn(_)?l.setNode(g.id,{width:C,height:E,layer:_}):l.setNode(g.id,{width:C,height:E}),this.sortByCombo&&g.comboId&&(d[g.comboId]||(d[g.comboId]=!0,l.setNode(g.comboId,{})),l.setParent(g.id,g.comboId))}),this.sortByCombo&&o&&o.forEach(g=>{!g.parentId||(d[g.parentId]||(d[g.parentId]=!0,l.setNode(g.parentId,{})),l.setParent(g.id,g.parentId))}),a.forEach(g=>{const m=zi(g,"source"),y=zi(g,"target");this.layoutNode(m)&&this.layoutNode(y)&&l.setEdge(m,y,{weight:g.weight||1})});let h;e.preset&&(h=new uI.graphlib.Graph({multigraph:!0,compound:!0}),e.preset.nodes.forEach(g=>{h==null||h.setNode(g.id,g)})),uI.layout(l,{prevGraph:h,edgeLabelSpace:e.edgeLabelSpace,keepNodeOrder:Boolean(!!e.nodeOrder),nodeOrder:e.nodeOrder});const p=[0,0];if(s){let g=1/0,m=1/0;l.nodes().forEach(y=>{const b=l.node(y);g>b.x&&(g=b.x),m>b.y&&(m=b.y)}),l.edges().forEach(y=>{l.edge(y).points.forEach(C=>{g>C.x&&(g=C.x),m>C.y&&(m=C.y)})}),p[0]=s[0]-g,p[1]=s[1]-m}return l.nodes().forEach(g=>{const m=l.node(g),y=n.findIndex(b=>b.id===g);!n[y]||(n[y].x=m.x+p[0],n[y].y=m.y+p[1],n[y]._order=m._order)}),l.edges().forEach(g=>{const m=l.edge(g),y=a.findIndex(b=>{const C=zi(b,"source"),E=zi(b,"target");return C===g.v&&E===g.w});e.edgeLabelSpace&&e.controlPoints&&a[y].type!=="loop"&&(a[y].controlPoints=m.points.slice(1,m.points.length-1),a[y].controlPoints.forEach(b=>{b.x+=p[0],b.y+=p[1]}))}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:a}}getType(){return"dagre"}}function hP(t,e,n){let r;return t?r=t:Dn(e)?r=()=>e:r=()=>n,r}const ZLe=Object.prototype.toString;function ru(t){return ZLe.call(t).endsWith("Array]")}function QLe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ru(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,i=e.toIndex,o=i===void 0?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[r],a=r+1;a<o;a++)t[a]>s&&(s=t[a]);return s}function JLe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ru(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var n=e.fromIndex,r=n===void 0?0:n,i=e.toIndex,o=i===void 0?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=t[r],a=r+1;a<o;a++)t[a]<s&&(s=t[a]);return s}function gV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ru(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var n;if(e.output!==void 0){if(!ru(e.output))throw new TypeError("output option must be an array if specified");n=e.output}else n=new Array(t.length);var r=JLe(t),i=QLe(t);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,s=o===void 0?e.autoMinMax?r:0:o,a=e.max,l=a===void 0?e.autoMinMax?i:1:a;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var c=(l-s)/(i-r),u=0;u<t.length;u++)n[u]=(t[u]-r)*c+s;return n}const pP=" ".repeat(2),yse=" ".repeat(4);function eFe(){return bse(this)}function bse(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8}=e;return`${t.constructor.name} {
${pP}[
${yse}${tFe(t,n,r,i)}
${pP}]
${pP}rows: ${t.rows}
${pP}columns: ${t.columns}
}`}function tFe(t,e,n,r){const{rows:i,columns:o}=t,s=Math.min(i,e),a=Math.min(o,n),l=[];for(let c=0;c<s;c++){let u=[];for(let f=0;f<a;f++)u.push(nFe(t.get(c,f),r));l.push(`${u.join(" ")}`)}return a!==o&&(l[l.length-1]+=` ... ${o-n} more columns`),s!==i&&l.push(`... ${i-e} more rows`),l.join(`
${yse}`)}function nFe(t,e){const n=String(t);if(n.length<=e)return n.padEnd(e," ");const r=t.toPrecision(e-2);if(r.length<=e)return r;const i=t.toExponential(e-2),o=i.indexOf("e"),s=i.slice(o);return i.slice(0,e-s.length)+s}function rFe(t,e){t.prototype.add=function(r){return typeof r=="number"?this.addS(r):this.addM(r)},t.prototype.addS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)+r);return this},t.prototype.addM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)+r.get(i,o));return this},t.add=function(r,i){return new e(r).add(i)},t.prototype.sub=function(r){return typeof r=="number"?this.subS(r):this.subM(r)},t.prototype.subS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)-r);return this},t.prototype.subM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)-r.get(i,o));return this},t.sub=function(r,i){return new e(r).sub(i)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(r){return typeof r=="number"?this.mulS(r):this.mulM(r)},t.prototype.mulS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)*r);return this},t.prototype.mulM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)*r.get(i,o));return this},t.mul=function(r,i){return new e(r).mul(i)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(r){return typeof r=="number"?this.divS(r):this.divM(r)},t.prototype.divS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)/r);return this},t.prototype.divM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)/r.get(i,o));return this},t.div=function(r,i){return new e(r).div(i)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(r){return typeof r=="number"?this.modS(r):this.modM(r)},t.prototype.modS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)%r);return this},t.prototype.modM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)%r.get(i,o));return this},t.mod=function(r,i){return new e(r).mod(i)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(r){return typeof r=="number"?this.andS(r):this.andM(r)},t.prototype.andS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)&r);return this},t.prototype.andM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)&r.get(i,o));return this},t.and=function(r,i){return new e(r).and(i)},t.prototype.or=function(r){return typeof r=="number"?this.orS(r):this.orM(r)},t.prototype.orS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)|r);return this},t.prototype.orM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)|r.get(i,o));return this},t.or=function(r,i){return new e(r).or(i)},t.prototype.xor=function(r){return typeof r=="number"?this.xorS(r):this.xorM(r)},t.prototype.xorS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)^r);return this},t.prototype.xorM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)^r.get(i,o));return this},t.xor=function(r,i){return new e(r).xor(i)},t.prototype.leftShift=function(r){return typeof r=="number"?this.leftShiftS(r):this.leftShiftM(r)},t.prototype.leftShiftS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)<<r);return this},t.prototype.leftShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)<<r.get(i,o));return this},t.leftShift=function(r,i){return new e(r).leftShift(i)},t.prototype.signPropagatingRightShift=function(r){return typeof r=="number"?this.signPropagatingRightShiftS(r):this.signPropagatingRightShiftM(r)},t.prototype.signPropagatingRightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)>>r);return this},t.prototype.signPropagatingRightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)>>r.get(i,o));return this},t.signPropagatingRightShift=function(r,i){return new e(r).signPropagatingRightShift(i)},t.prototype.rightShift=function(r){return typeof r=="number"?this.rightShiftS(r):this.rightShiftM(r)},t.prototype.rightShiftS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)>>>r);return this},t.prototype.rightShiftM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,this.get(i,o)>>>r.get(i,o));return this},t.rightShift=function(r,i){return new e(r).rightShift(i)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,~this.get(r,i));return this},t.not=function(r){return new e(r).not()},t.prototype.abs=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.abs(this.get(r,i)));return this},t.abs=function(r){return new e(r).abs()},t.prototype.acos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acos(this.get(r,i)));return this},t.acos=function(r){return new e(r).acos()},t.prototype.acosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.acosh(this.get(r,i)));return this},t.acosh=function(r){return new e(r).acosh()},t.prototype.asin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asin(this.get(r,i)));return this},t.asin=function(r){return new e(r).asin()},t.prototype.asinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.asinh(this.get(r,i)));return this},t.asinh=function(r){return new e(r).asinh()},t.prototype.atan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atan(this.get(r,i)));return this},t.atan=function(r){return new e(r).atan()},t.prototype.atanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.atanh(this.get(r,i)));return this},t.atanh=function(r){return new e(r).atanh()},t.prototype.cbrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cbrt(this.get(r,i)));return this},t.cbrt=function(r){return new e(r).cbrt()},t.prototype.ceil=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.ceil(this.get(r,i)));return this},t.ceil=function(r){return new e(r).ceil()},t.prototype.clz32=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.clz32(this.get(r,i)));return this},t.clz32=function(r){return new e(r).clz32()},t.prototype.cos=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cos(this.get(r,i)));return this},t.cos=function(r){return new e(r).cos()},t.prototype.cosh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.cosh(this.get(r,i)));return this},t.cosh=function(r){return new e(r).cosh()},t.prototype.exp=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.exp(this.get(r,i)));return this},t.exp=function(r){return new e(r).exp()},t.prototype.expm1=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.expm1(this.get(r,i)));return this},t.expm1=function(r){return new e(r).expm1()},t.prototype.floor=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.floor(this.get(r,i)));return this},t.floor=function(r){return new e(r).floor()},t.prototype.fround=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.fround(this.get(r,i)));return this},t.fround=function(r){return new e(r).fround()},t.prototype.log=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log(this.get(r,i)));return this},t.log=function(r){return new e(r).log()},t.prototype.log1p=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log1p(this.get(r,i)));return this},t.log1p=function(r){return new e(r).log1p()},t.prototype.log10=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log10(this.get(r,i)));return this},t.log10=function(r){return new e(r).log10()},t.prototype.log2=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.log2(this.get(r,i)));return this},t.log2=function(r){return new e(r).log2()},t.prototype.round=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.round(this.get(r,i)));return this},t.round=function(r){return new e(r).round()},t.prototype.sign=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sign(this.get(r,i)));return this},t.sign=function(r){return new e(r).sign()},t.prototype.sin=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sin(this.get(r,i)));return this},t.sin=function(r){return new e(r).sin()},t.prototype.sinh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sinh(this.get(r,i)));return this},t.sinh=function(r){return new e(r).sinh()},t.prototype.sqrt=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.sqrt(this.get(r,i)));return this},t.sqrt=function(r){return new e(r).sqrt()},t.prototype.tan=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tan(this.get(r,i)));return this},t.tan=function(r){return new e(r).tan()},t.prototype.tanh=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.tanh(this.get(r,i)));return this},t.tanh=function(r){return new e(r).tanh()},t.prototype.trunc=function(){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.set(r,i,Math.trunc(this.get(r,i)));return this},t.trunc=function(r){return new e(r).trunc()},t.pow=function(r,i){return new e(r).pow(i)},t.prototype.pow=function(r){return typeof r=="number"?this.powS(r):this.powM(r)},t.prototype.powS=function(r){for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,Math.pow(this.get(i,o),r));return this},t.prototype.powM=function(r){if(r=e.checkMatrix(r),this.rows!==r.rows||this.columns!==r.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let o=0;o<this.columns;o++)this.set(i,o,Math.pow(this.get(i,o),r.get(i,o)));return this}}function Ff(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function zf(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function Ob(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Mb(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function iFe(t,e){if(!ru(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}function oFe(t,e){if(!ru(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}function vV(t,e,n,r,i){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(gP("startRow",e),gP("endRow",n),gP("startColumn",r),gP("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function rD(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function gP(t,e){if(typeof e!="number")throw new TypeError(`${t} must be a number`)}function Xy(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function sFe(t){let e=rD(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}function aFe(t){let e=rD(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}function lFe(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}function cFe(t){let e=rD(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}function uFe(t){let e=rD(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}function fFe(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}function dFe(t,e,n){const r=t.rows,i=t.columns,o=[];for(let s=0;s<r;s++){let a=0,l=0,c=0;for(let u=0;u<i;u++)c=t.get(s,u)-n[s],a+=c,l+=c*c;e?o.push((l-a*a/i)/(i-1)):o.push((l-a*a/i)/i)}return o}function hFe(t,e,n){const r=t.rows,i=t.columns,o=[];for(let s=0;s<i;s++){let a=0,l=0,c=0;for(let u=0;u<r;u++)c=t.get(u,s)-n[s],a+=c,l+=c*c;e?o.push((l-a*a/r)/(r-1)):o.push((l-a*a/r)/r)}return o}function pFe(t,e,n){const r=t.rows,i=t.columns,o=r*i;let s=0,a=0,l=0;for(let c=0;c<r;c++)for(let u=0;u<i;u++)l=t.get(c,u)-n,s+=l,a+=l*l;return e?(a-s*s/o)/(o-1):(a-s*s/o)/o}function gFe(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function vFe(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function mFe(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function yFe(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let i=0;i<t.columns;i++)r+=Math.pow(t.get(n,i),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}function bFe(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function xFe(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let i=0;i<t.rows;i++)r+=Math.pow(t.get(i,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}function wFe(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function CFe(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}function SFe(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}class Mi{static from1DArray(e,n,r){if(e*n!==r.length)throw new RangeError("data length does not match given dimensions");let o=new Nr(e,n);for(let s=0;s<e;s++)for(let a=0;a<n;a++)o.set(s,a,r[s*n+a]);return o}static rowVector(e){let n=new Nr(1,e.length);for(let r=0;r<e.length;r++)n.set(0,r,e[r]);return n}static columnVector(e){let n=new Nr(e.length,1);for(let r=0;r<e.length;r++)n.set(r,0,e[r]);return n}static zeros(e,n){return new Nr(e,n)}static ones(e,n){return new Nr(e,n).fill(1)}static rand(e,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{random:i=Math.random}=r;let o=new Nr(e,n);for(let s=0;s<e;s++)for(let a=0;a<n;a++)o.set(s,a,i());return o}static randInt(e,n,r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:i=0,max:o=1e3,random:s=Math.random}=r;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(i>=o)throw new RangeError("min must be smaller than max");let a=o-i,l=new Nr(e,n);for(let c=0;c<e;c++)for(let u=0;u<n;u++){let f=i+Math.round(s()*a);l.set(c,u,f)}return l}static eye(e,n,r){n===void 0&&(n=e),r===void 0&&(r=1);let i=Math.min(e,n),o=this.zeros(e,n);for(let s=0;s<i;s++)o.set(s,s,r);return o}static diag(e,n,r){let i=e.length;n===void 0&&(n=i),r===void 0&&(r=n);let o=Math.min(i,n,r),s=this.zeros(n,r);for(let a=0;a<o;a++)s.set(a,a,e[a]);return s}static min(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);let r=e.rows,i=e.columns,o=new Nr(r,i);for(let s=0;s<r;s++)for(let a=0;a<i;a++)o.set(s,a,Math.min(e.get(s,a),n.get(s,a)));return o}static max(e,n){e=this.checkMatrix(e),n=this.checkMatrix(n);let r=e.rows,i=e.columns,o=new this(r,i);for(let s=0;s<r;s++)for(let a=0;a<i;a++)o.set(s,a,Math.max(e.get(s,a),n.get(s,a)));return o}static checkMatrix(e){return Mi.isMatrix(e)?e:new Nr(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.call(this,n,r);return this}to1DArray(){let e=[];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.push(this.get(n,r));return e}to2DArray(){let e=[];for(let n=0;n<this.rows;n++){e.push([]);for(let r=0;r<this.columns;r++)e[n].push(this.get(n,r))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let n=0;n<=e;n++)if(this.get(e,n)!==this.get(n,e))return!1;return!0}return!1}isEchelonForm(){let e=0,n=0,r=-1,i=!0,o=!1;for(;e<this.rows&&i;){for(n=0,o=!1;n<this.columns&&o===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>r?(o=!0,r=n):(i=!1,o=!0);e++}return i}isReducedEchelonForm(){let e=0,n=0,r=-1,i=!0,o=!1;for(;e<this.rows&&i;){for(n=0,o=!1;n<this.columns&&o===!1;)this.get(e,n)===0?n++:this.get(e,n)===1&&n>r?(o=!0,r=n):(i=!1,o=!0);for(let s=n+1;s<this.rows;s++)this.get(e,s)!==0&&(i=!1);e++}return i}echelonForm(){let e=this.clone(),n=0,r=0;for(;n<e.rows&&r<e.columns;){let i=n;for(let o=n;o<e.rows;o++)e.get(o,r)>e.get(i,r)&&(i=o);if(e.get(i,r)===0)r++;else{e.swapRows(n,i);let o=e.get(n,r);for(let s=r;s<e.columns;s++)e.set(n,s,e.get(n,s)/o);for(let s=n+1;s<e.rows;s++){let a=e.get(s,r)/e.get(n,r);e.set(s,r,0);for(let l=r+1;l<e.columns;l++)e.set(s,l,e.get(s,l)-e.get(n,l)*a)}n++,r++}}return e}reducedEchelonForm(){let e=this.echelonForm(),n=e.columns,r=e.rows,i=r-1;for(;i>=0;)if(e.maxRow(i)===0)i--;else{let o=0,s=!1;for(;o<r&&s===!1;)e.get(i,o)===1?s=!0:o++;for(let a=0;a<i;a++){let l=e.get(a,o);for(let c=o;c<n;c++){let u=e.get(a,c)-l*e.get(i,c);e.set(a,c,u)}}i--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{rows:n=1,columns:r=1}=e;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let i=new Nr(this.rows*n,this.columns*r);for(let o=0;o<n;o++)for(let s=0;s<r;s++)i.setSubMatrix(this,this.rows*o,this.columns*s);return i}fill(e){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,e);return this}neg(){return this.mulS(-1)}getRow(e){Ff(this,e);let n=[];for(let r=0;r<this.columns;r++)n.push(this.get(e,r));return n}getRowVector(e){return Nr.rowVector(this.getRow(e))}setRow(e,n){Ff(this,e),n=Ob(this,n);for(let r=0;r<this.columns;r++)this.set(e,r,n[r]);return this}swapRows(e,n){Ff(this,e),Ff(this,n);for(let r=0;r<this.columns;r++){let i=this.get(e,r);this.set(e,r,this.get(n,r)),this.set(n,r,i)}return this}getColumn(e){zf(this,e);let n=[];for(let r=0;r<this.rows;r++)n.push(this.get(r,e));return n}getColumnVector(e){return Nr.columnVector(this.getColumn(e))}setColumn(e,n){zf(this,e),n=Mb(this,n);for(let r=0;r<this.rows;r++)this.set(r,e,n[r]);return this}swapColumns(e,n){zf(this,e),zf(this,n);for(let r=0;r<this.rows;r++){let i=this.get(r,e);this.set(r,e,this.get(r,n)),this.set(r,n,i)}return this}addRowVector(e){e=Ob(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e[r]);return this}subRowVector(e){e=Ob(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e[r]);return this}mulRowVector(e){e=Ob(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e[r]);return this}divRowVector(e){e=Ob(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e[r]);return this}addColumnVector(e){e=Mb(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e[n]);return this}subColumnVector(e){e=Mb(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e[n]);return this}mulColumnVector(e){e=Mb(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e[n]);return this}divColumnVector(e){e=Mb(this,e);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e[n]);return this}mulRow(e,n){Ff(this,e);for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*n);return this}mulColumn(e,n){zf(this,e);for(let r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*n);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const n=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){Xy(this);let e=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)>e&&(e=this.get(r,i),n[0]=r,n[1]=i);return n}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const n=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[r]&&(n[r]=this.get(r,i));return n}case"column":{const n=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n[i]&&(n[i]=this.get(r,i));return n}case void 0:{let n=this.get(0,0);for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<n&&(n=this.get(r,i));return n}default:throw new Error(`invalid option: ${e}`)}}minIndex(){Xy(this);let e=this.get(0,0),n=[0,0];for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)this.get(r,i)<e&&(e=this.get(r,i),n[0]=r,n[1]=i);return n}maxRow(e){if(Ff(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)>n&&(n=this.get(e,r));return n}maxRowIndex(e){Ff(this,e),Xy(this);let n=this.get(e,0),r=[e,0];for(let i=1;i<this.columns;i++)this.get(e,i)>n&&(n=this.get(e,i),r[1]=i);return r}minRow(e){if(Ff(this,e),this.isEmpty())return NaN;let n=this.get(e,0);for(let r=1;r<this.columns;r++)this.get(e,r)<n&&(n=this.get(e,r));return n}minRowIndex(e){Ff(this,e),Xy(this);let n=this.get(e,0),r=[e,0];for(let i=1;i<this.columns;i++)this.get(e,i)<n&&(n=this.get(e,i),r[1]=i);return r}maxColumn(e){if(zf(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)>n&&(n=this.get(r,e));return n}maxColumnIndex(e){zf(this,e),Xy(this);let n=this.get(0,e),r=[0,e];for(let i=1;i<this.rows;i++)this.get(i,e)>n&&(n=this.get(i,e),r[0]=i);return r}minColumn(e){if(zf(this,e),this.isEmpty())return NaN;let n=this.get(0,e);for(let r=1;r<this.rows;r++)this.get(r,e)<n&&(n=this.get(r,e));return n}minColumnIndex(e){zf(this,e),Xy(this);let n=this.get(0,e),r=[0,e];for(let i=1;i<this.rows;i++)this.get(i,e)<n&&(n=this.get(i,e),r[0]=i);return r}diag(){let e=Math.min(this.rows,this.columns),n=[];for(let r=0;r<e;r++)n.push(this.get(r,r));return n}norm(e="frobenius"){let n=0;if(e==="max")return this.max();if(e==="frobenius"){for(let r=0;r<this.rows;r++)for(let i=0;i<this.columns;i++)n=n+this.get(r,i)*this.get(r,i);return Math.sqrt(n)}else throw new RangeError(`unknown norm type: ${e}`)}cumulativeSum(){let e=0;for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e+=this.get(n,r),this.set(n,r,e);return this}dot(e){Mi.isMatrix(e)&&(e=e.to1DArray());let n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");let r=0;for(let i=0;i<n.length;i++)r+=n[i]*e[i];return r}mmul(e){e=Nr.checkMatrix(e);let n=this.rows,r=this.columns,i=e.columns,o=new Nr(n,i),s=new Float64Array(r);for(let a=0;a<i;a++){for(let l=0;l<r;l++)s[l]=e.get(l,a);for(let l=0;l<n;l++){let c=0;for(let u=0;u<r;u++)c+=this.get(l,u)*s[u];o.set(l,a,c)}}return o}strassen2x2(e){e=Nr.checkMatrix(e);let n=new Nr(2,2);const r=this.get(0,0),i=e.get(0,0),o=this.get(0,1),s=e.get(0,1),a=this.get(1,0),l=e.get(1,0),c=this.get(1,1),u=e.get(1,1),f=(r+c)*(i+u),d=(a+c)*i,h=r*(s-u),p=c*(l-i),g=(r+o)*u,m=(a-r)*(i+s),y=(o-c)*(l+u),b=f+p-g+y,C=h+g,E=d+p,_=f-d+h+m;return n.set(0,0,b),n.set(0,1,C),n.set(1,0,E),n.set(1,1,_),n}strassen3x3(e){e=Nr.checkMatrix(e);let n=new Nr(3,3);const r=this.get(0,0),i=this.get(0,1),o=this.get(0,2),s=this.get(1,0),a=this.get(1,1),l=this.get(1,2),c=this.get(2,0),u=this.get(2,1),f=this.get(2,2),d=e.get(0,0),h=e.get(0,1),p=e.get(0,2),g=e.get(1,0),m=e.get(1,1),y=e.get(1,2),b=e.get(2,0),C=e.get(2,1),E=e.get(2,2),_=(r+i+o-s-a-u-f)*m,w=(r-s)*(-h+m),M=a*(-d+h+g-m-y-b+E),k=(-r+s+a)*(d-h+m),I=(s+a)*(-d+h),A=r*d,N=(-r+c+u)*(d-p+y),$=(-r+c)*(p-y),L=(c+u)*(-d+p),B=(r+i+o-a-l-c-u)*y,j=u*(-d+p+g-m-y-b+C),H=(-o+u+f)*(m+b-C),te=(o-f)*(m-C),Y=o*b,ue=(u+f)*(-b+C),ce=(-o+a+l)*(y+b-E),se=(o-l)*(y-E),fe=(a+l)*(-b+E),me=i*g,K=l*C,le=s*p,Ne=c*h,Re=f*E,Je=A+Y+me,$e=_+k+I+A+H+Y+ue,tt=A+N+L+B+Y+ce+fe,Pt=w+M+k+A+Y+ce+se,bt=w+k+I+A+K,X=Y+ce+se+fe+le,ve=A+N+$+j+H+te+Y,ne=H+te+Y+ue+Ne,ke=A+N+$+L+Re;return n.set(0,0,Je),n.set(0,1,$e),n.set(0,2,tt),n.set(1,0,Pt),n.set(1,1,bt),n.set(1,2,X),n.set(2,0,ve),n.set(2,1,ne),n.set(2,2,ke),n}mmulStrassen(e){e=Nr.checkMatrix(e);let n=this.clone(),r=n.rows,i=n.columns,o=e.rows,s=e.columns;i!==o&&console.warn(`Multiplying ${r} x ${i} and ${o} x ${s} matrix: dimensions do not match.`);function a(f,d,h){let p=f.rows,g=f.columns;if(p===d&&g===h)return f;{let m=Mi.zeros(d,h);return m=m.setSubMatrix(f,0,0),m}}let l=Math.max(r,o),c=Math.max(i,s);n=a(n,l,c),e=a(e,l,c);function u(f,d,h,p){if(h<=512||p<=512)return f.mmul(d);h%2===1&&p%2===1?(f=a(f,h+1,p+1),d=a(d,h+1,p+1)):h%2===1?(f=a(f,h+1,p),d=a(d,h+1,p)):p%2===1&&(f=a(f,h,p+1),d=a(d,h,p+1));let g=parseInt(f.rows/2,10),m=parseInt(f.columns/2,10),y=f.subMatrix(0,g-1,0,m-1),b=d.subMatrix(0,g-1,0,m-1),C=f.subMatrix(0,g-1,m,f.columns-1),E=d.subMatrix(0,g-1,m,d.columns-1),_=f.subMatrix(g,f.rows-1,0,m-1),w=d.subMatrix(g,d.rows-1,0,m-1),M=f.subMatrix(g,f.rows-1,m,f.columns-1),k=d.subMatrix(g,d.rows-1,m,d.columns-1),I=u(Mi.add(y,M),Mi.add(b,k),g,m),A=u(Mi.add(_,M),b,g,m),N=u(y,Mi.sub(E,k),g,m),$=u(M,Mi.sub(w,b),g,m),L=u(Mi.add(y,C),k,g,m),B=u(Mi.sub(_,y),Mi.add(b,E),g,m),j=u(Mi.sub(C,M),Mi.add(w,k),g,m),H=Mi.add(I,$);H.sub(L),H.add(j);let te=Mi.add(N,L),Y=Mi.add(A,$),ue=Mi.sub(I,A);ue.add(N),ue.add(B);let ce=Mi.zeros(2*H.rows,2*H.columns);return ce=ce.setSubMatrix(H,0,0),ce=ce.setSubMatrix(te,H.rows,0),ce=ce.setSubMatrix(Y,0,H.columns),ce=ce.setSubMatrix(ue,H.rows,H.columns),ce.subMatrix(0,h-1,0,p-1)}return u(n,e,l,c)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=e;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new Nr(this.rows,this.columns);for(let o=0;o<this.rows;o++){const s=this.getRow(o);s.length>0&&gV(s,{min:n,max:r,output:s}),i.setRow(o,s)}return i}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");const{min:n=0,max:r=1}=e;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(n>=r)throw new RangeError("min must be smaller than max");let i=new Nr(this.rows,this.columns);for(let o=0;o<this.columns;o++){const s=this.getColumn(o);s.length&&gV(s,{min:n,max:r,output:s}),i.setColumn(o,s)}return i}flipRows(){const e=Math.ceil(this.columns/2);for(let n=0;n<this.rows;n++)for(let r=0;r<e;r++){let i=this.get(n,r),o=this.get(n,this.columns-1-r);this.set(n,r,o),this.set(n,this.columns-1-r,i)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let n=0;n<this.columns;n++)for(let r=0;r<e;r++){let i=this.get(r,n),o=this.get(this.rows-1-r,n);this.set(r,n,o),this.set(this.rows-1-r,n,i)}return this}kroneckerProduct(e){e=Nr.checkMatrix(e);let n=this.rows,r=this.columns,i=e.rows,o=e.columns,s=new Nr(n*i,r*o);for(let a=0;a<n;a++)for(let l=0;l<r;l++)for(let c=0;c<i;c++)for(let u=0;u<o;u++)s.set(i*a+c,o*l+u,this.get(a,l)*e.get(c,u));return s}kroneckerSum(e){if(e=Nr.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let n=this.rows,r=e.rows,i=this.kroneckerProduct(Nr.eye(r,r)),o=Nr.eye(n,n).kroneckerProduct(e);return i.add(o)}transpose(){let e=new Nr(this.columns,this.rows);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.set(r,n,this.get(n,r));return e}sortRows(e=mV){for(let n=0;n<this.rows;n++)this.setRow(n,this.getRow(n).sort(e));return this}sortColumns(e=mV){for(let n=0;n<this.columns;n++)this.setColumn(n,this.getColumn(n).sort(e));return this}subMatrix(e,n,r,i){vV(this,e,n,r,i);let o=new Nr(n-e+1,i-r+1);for(let s=e;s<=n;s++)for(let a=r;a<=i;a++)o.set(s-e,a-r,this.get(s,a));return o}subMatrixRow(e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.columns-1),n>r||n<0||n>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let i=new Nr(e.length,r-n+1);for(let o=0;o<e.length;o++)for(let s=n;s<=r;s++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);i.set(o,s-n,this.get(e[o],s))}return i}subMatrixColumn(e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=this.rows-1),n>r||n<0||n>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let i=new Nr(r-n+1,e.length);for(let o=0;o<e.length;o++)for(let s=n;s<=r;s++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);i.set(s-n,o,this.get(s,e[o]))}return i}setSubMatrix(e,n,r){if(e=Nr.checkMatrix(e),e.isEmpty())return this;let i=n+e.rows-1,o=r+e.columns-1;vV(this,n,i,r,o);for(let s=0;s<e.rows;s++)for(let a=0;a<e.columns;a++)this.set(n+s,r+a,e.get(s,a));return this}selection(e,n){iFe(this,e),oFe(this,n);let r=new Nr(e.length,n.length);for(let i=0;i<e.length;i++){let o=e[i];for(let s=0;s<n.length;s++){let a=n[s];r.set(i,s,this.get(o,a))}}return r}trace(){let e=Math.min(this.rows,this.columns),n=0;for(let r=0;r<e;r++)n+=this.get(r,r);return n}clone(){let e=new Nr(this.rows,this.columns);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)e.set(n,r,this.get(n,r));return e}sum(e){switch(e){case"row":return sFe(this);case"column":return aFe(this);case void 0:return lFe(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return cFe(this);case"column":return uFe(this);case void 0:return fFe(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const n=this.sum(e);switch(e){case"row":{for(let r=0;r<this.rows;r++)n[r]/=this.columns;return n}case"column":{for(let r=0;r<this.columns;r++)n[r]/=this.rows;return n}case void 0:return n/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(e)}=n;if(typeof r!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!ru(i))throw new TypeError("mean must be an array");return dFe(this,r,i)}case"column":{if(!ru(i))throw new TypeError("mean must be an array");return hFe(this,r,i)}case void 0:{if(typeof i!="number")throw new TypeError("mean must be a number");return pFe(this,r,i)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,n){typeof e=="object"&&(n=e,e=void 0);const r=this.variance(e,n);if(e===void 0)return Math.sqrt(r);for(let i=0;i<r.length;i++)r[i]=Math.sqrt(r[i]);return r}center(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");const{center:r=this.mean(e)}=n;switch(e){case"row":{if(!ru(r))throw new TypeError("center must be an array");return gFe(this,r),this}case"column":{if(!ru(r))throw new TypeError("center must be an array");return vFe(this,r),this}case void 0:{if(typeof r!="number")throw new TypeError("center must be a number");return mFe(this,r),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,n={}){if(typeof e=="object"&&(n=e,e=void 0),typeof n!="object")throw new TypeError("options must be an object");let r=n.scale;switch(e){case"row":{if(r===void 0)r=yFe(this);else if(!ru(r))throw new TypeError("scale must be an array");return bFe(this,r),this}case"column":{if(r===void 0)r=xFe(this);else if(!ru(r))throw new TypeError("scale must be an array");return wFe(this,r),this}case void 0:{if(r===void 0)r=CFe(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return SFe(this,r),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return bse(this,e)}}Mi.prototype.klass="Matrix";typeof Symbol<"u"&&(Mi.prototype[Symbol.for("nodejs.util.inspect.custom")]=eFe);function mV(t,e){return t-e}function EFe(t){return t.every(e=>typeof e=="number")}Mi.random=Mi.rand;Mi.randomInt=Mi.randInt;Mi.diagonal=Mi.diag;Mi.prototype.diagonal=Mi.prototype.diag;Mi.identity=Mi.eye;Mi.prototype.negate=Mi.prototype.neg;Mi.prototype.tensorProduct=Mi.prototype.kroneckerProduct;class Nr extends Mi{constructor(e,n){if(super(),Nr.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>=0)if(this.data=[],Number.isInteger(n)&&n>=0)for(let r=0;r<e;r++)this.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ru(e)){const r=e;if(e=r.length,n=e?r[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<e;i++){if(r[i].length!==n)throw new RangeError("Inconsistent array dimensions");if(!EFe(r[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[i]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=e,this.columns=n}set(e,n,r){return this.data[e][n]=r,this}get(e,n){return this.data[e][n]}removeRow(e){return Ff(this,e),this.data.splice(e,1),this.rows-=1,this}addRow(e,n){return n===void 0&&(n=e,e=this.rows),Ff(this,e,!0),n=Float64Array.from(Ob(this,n)),this.data.splice(e,0,n),this.rows+=1,this}removeColumn(e){zf(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns-1);for(let i=0;i<e;i++)r[i]=this.data[n][i];for(let i=e+1;i<this.columns;i++)r[i-1]=this.data[n][i];this.data[n]=r}return this.columns-=1,this}addColumn(e,n){typeof n>"u"&&(n=e,e=this.columns),zf(this,e,!0),n=Mb(this,n);for(let r=0;r<this.rows;r++){const i=new Float64Array(this.columns+1);let o=0;for(;o<e;o++)i[o]=this.data[r][o];for(i[o++]=n[r];o<this.columns+1;o++)i[o]=this.data[r][o-1];this.data[r]=i}return this.columns+=1,this}}rFe(Mi,Nr);class _Fe extends Mi{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,n,r){return this.data[e][n]=r,this}get(e,n){return this.data[e][n]}}function Ky(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):e!==0?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class xse{constructor(e,n={}){if(e=_Fe.checkMatrix(e),e.isEmpty())throw new Error("Matrix must be non-empty");let r=e.rows,i=e.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:s=!0,autoTranspose:a=!1}=n;let l=Boolean(o),c=Boolean(s),u=!1,f;if(r<i)if(!a)f=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=e.transpose(),r=f.rows,i=f.columns,u=!0;let A=l;l=c,c=A}else f=e.clone();let d=Math.min(r,i),h=Math.min(r+1,i),p=new Float64Array(h),g=new Nr(r,d),m=new Nr(i,i),y=new Float64Array(i),b=new Float64Array(r),C=new Float64Array(h);for(let A=0;A<h;A++)C[A]=A;let E=Math.min(r-1,i),_=Math.max(0,Math.min(i-2,r)),w=Math.max(E,_);for(let A=0;A<w;A++){if(A<E){p[A]=0;for(let N=A;N<r;N++)p[A]=Ky(p[A],f.get(N,A));if(p[A]!==0){f.get(A,A)<0&&(p[A]=-p[A]);for(let N=A;N<r;N++)f.set(N,A,f.get(N,A)/p[A]);f.set(A,A,f.get(A,A)+1)}p[A]=-p[A]}for(let N=A+1;N<i;N++){if(A<E&&p[A]!==0){let $=0;for(let L=A;L<r;L++)$+=f.get(L,A)*f.get(L,N);$=-$/f.get(A,A);for(let L=A;L<r;L++)f.set(L,N,f.get(L,N)+$*f.get(L,A))}y[N]=f.get(A,N)}if(l&&A<E)for(let N=A;N<r;N++)g.set(N,A,f.get(N,A));if(A<_){y[A]=0;for(let N=A+1;N<i;N++)y[A]=Ky(y[A],y[N]);if(y[A]!==0){y[A+1]<0&&(y[A]=0-y[A]);for(let N=A+1;N<i;N++)y[N]/=y[A];y[A+1]+=1}if(y[A]=-y[A],A+1<r&&y[A]!==0){for(let N=A+1;N<r;N++)b[N]=0;for(let N=A+1;N<r;N++)for(let $=A+1;$<i;$++)b[N]+=y[$]*f.get(N,$);for(let N=A+1;N<i;N++){let $=-y[N]/y[A+1];for(let L=A+1;L<r;L++)f.set(L,N,f.get(L,N)+$*b[L])}}if(c)for(let N=A+1;N<i;N++)m.set(N,A,y[N])}}let M=Math.min(i,r+1);if(E<i&&(p[E]=f.get(E,E)),r<M&&(p[M-1]=0),_+1<M&&(y[_]=f.get(_,M-1)),y[M-1]=0,l){for(let A=E;A<d;A++){for(let N=0;N<r;N++)g.set(N,A,0);g.set(A,A,1)}for(let A=E-1;A>=0;A--)if(p[A]!==0){for(let N=A+1;N<d;N++){let $=0;for(let L=A;L<r;L++)$+=g.get(L,A)*g.get(L,N);$=-$/g.get(A,A);for(let L=A;L<r;L++)g.set(L,N,g.get(L,N)+$*g.get(L,A))}for(let N=A;N<r;N++)g.set(N,A,-g.get(N,A));g.set(A,A,1+g.get(A,A));for(let N=0;N<A-1;N++)g.set(N,A,0)}else{for(let N=0;N<r;N++)g.set(N,A,0);g.set(A,A,1)}}if(c)for(let A=i-1;A>=0;A--){if(A<_&&y[A]!==0)for(let N=A+1;N<i;N++){let $=0;for(let L=A+1;L<i;L++)$+=m.get(L,A)*m.get(L,N);$=-$/m.get(A+1,A);for(let L=A+1;L<i;L++)m.set(L,N,m.get(L,N)+$*m.get(L,A))}for(let N=0;N<i;N++)m.set(N,A,0);m.set(A,A,1)}let k=M-1,I=Number.EPSILON;for(;M>0;){let A,N;for(A=M-2;A>=-1&&A!==-1;A--){const $=Number.MIN_VALUE+I*Math.abs(p[A]+Math.abs(p[A+1]));if(Math.abs(y[A])<=$||Number.isNaN(y[A])){y[A]=0;break}}if(A===M-2)N=4;else{let $;for($=M-1;$>=A&&$!==A;$--){let L=($!==M?Math.abs(y[$]):0)+($!==A+1?Math.abs(y[$-1]):0);if(Math.abs(p[$])<=I*L){p[$]=0;break}}$===A?N=3:$===M-1?N=1:(N=2,A=$)}switch(A++,N){case 1:{let $=y[M-2];y[M-2]=0;for(let L=M-2;L>=A;L--){let B=Ky(p[L],$),j=p[L]/B,H=$/B;if(p[L]=B,L!==A&&($=-H*y[L-1],y[L-1]=j*y[L-1]),c)for(let te=0;te<i;te++)B=j*m.get(te,L)+H*m.get(te,M-1),m.set(te,M-1,-H*m.get(te,L)+j*m.get(te,M-1)),m.set(te,L,B)}break}case 2:{let $=y[A-1];y[A-1]=0;for(let L=A;L<M;L++){let B=Ky(p[L],$),j=p[L]/B,H=$/B;if(p[L]=B,$=-H*y[L],y[L]=j*y[L],l)for(let te=0;te<r;te++)B=j*g.get(te,L)+H*g.get(te,A-1),g.set(te,A-1,-H*g.get(te,L)+j*g.get(te,A-1)),g.set(te,L,B)}break}case 3:{const $=Math.max(Math.abs(p[M-1]),Math.abs(p[M-2]),Math.abs(y[M-2]),Math.abs(p[A]),Math.abs(y[A])),L=p[M-1]/$,B=p[M-2]/$,j=y[M-2]/$,H=p[A]/$,te=y[A]/$,Y=((B+L)*(B-L)+j*j)/2,ue=L*j*(L*j);let ce=0;(Y!==0||ue!==0)&&(Y<0?ce=0-Math.sqrt(Y*Y+ue):ce=Math.sqrt(Y*Y+ue),ce=ue/(Y+ce));let se=(H+L)*(H-L)+ce,fe=H*te;for(let me=A;me<M-1;me++){let K=Ky(se,fe);K===0&&(K=Number.MIN_VALUE);let le=se/K,Ne=fe/K;if(me!==A&&(y[me-1]=K),se=le*p[me]+Ne*y[me],y[me]=le*y[me]-Ne*p[me],fe=Ne*p[me+1],p[me+1]=le*p[me+1],c)for(let Re=0;Re<i;Re++)K=le*m.get(Re,me)+Ne*m.get(Re,me+1),m.set(Re,me+1,-Ne*m.get(Re,me)+le*m.get(Re,me+1)),m.set(Re,me,K);if(K=Ky(se,fe),K===0&&(K=Number.MIN_VALUE),le=se/K,Ne=fe/K,p[me]=K,se=le*y[me]+Ne*p[me+1],p[me+1]=-Ne*y[me]+le*p[me+1],fe=Ne*y[me+1],y[me+1]=le*y[me+1],l&&me<r-1)for(let Re=0;Re<r;Re++)K=le*g.get(Re,me)+Ne*g.get(Re,me+1),g.set(Re,me+1,-Ne*g.get(Re,me)+le*g.get(Re,me+1)),g.set(Re,me,K)}y[M-2]=se;break}case 4:{if(p[A]<=0&&(p[A]=p[A]<0?-p[A]:0,c))for(let $=0;$<=k;$++)m.set($,A,-m.get($,A));for(;A<k&&!(p[A]>=p[A+1]);){let $=p[A];if(p[A]=p[A+1],p[A+1]=$,c&&A<i-1)for(let L=0;L<i;L++)$=m.get(L,A+1),m.set(L,A+1,m.get(L,A)),m.set(L,A,$);if(l&&A<r-1)for(let L=0;L<r;L++)$=g.get(L,A+1),g.set(L,A+1,g.get(L,A)),g.set(L,A,$);A++}M--;break}}}if(u){let A=m;m=g,g=A}this.m=r,this.n=i,this.s=p,this.U=g,this.V=m}solve(e){let n=e,r=this.threshold,i=this.s.length,o=Nr.zeros(i,i);for(let d=0;d<i;d++)Math.abs(this.s[d])<=r?o.set(d,d,0):o.set(d,d,1/this.s[d]);let s=this.U,a=this.rightSingularVectors,l=a.mmul(o),c=a.rows,u=s.rows,f=Nr.zeros(c,u);for(let d=0;d<c;d++)for(let h=0;h<u;h++){let p=0;for(let g=0;g<i;g++)p+=l.get(d,g)*s.get(h,g);f.set(d,h,p)}return f.mmul(n)}solveForDiagonal(e){return this.solve(Nr.diag(e))}inverse(){let e=this.V,n=this.threshold,r=e.rows,i=e.columns,o=new Nr(r,this.s.length);for(let u=0;u<r;u++)for(let f=0;f<i;f++)Math.abs(this.s[f])>n&&o.set(u,f,e.get(u,f)/this.s[f]);let s=this.U,a=s.rows,l=s.columns,c=new Nr(r,a);for(let u=0;u<r;u++)for(let f=0;f<a;f++){let d=0;for(let h=0;h<l;h++)d+=o.get(u,h)*s.get(f,h);c.set(u,f,d)}return c}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,n=0,r=this.s;for(let i=0,o=r.length;i<o;i++)r[i]>e&&n++;return n}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Nr.diag(this.s)}}class TFe{constructor(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}layout(){const e=this,{dimension:n,distances:r,linkDistance:i}=e;try{const o=Nr.mul(Nr.pow(r,2),-.5),s=o.mean("row"),a=o.mean("column"),l=o.mean();o.add(l).subRowVector(s).subColumnVector(a);const c=new xse(o),u=Nr.sqrt(c.diagonalMatrix).diagonal();return c.leftSingularVectors.toJSON().map(f=>Nr.mul([f],[u]).toJSON()[0].splice(0,n))}catch{const s=[];for(let a=0;a<r.length;a++){const l=Math.random()*i,c=Math.random()*i;s.push([l,c])}return s}}}const PFe=800;class OFe{constructor(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}layout(){const e=this,n=e.positions,r=[],i=e.iterations,o=e.width/10;e.maxDisplace=o,e.disp=r;for(let s=0;s<i;s++)n.forEach((a,l)=>{r[l]={x:0,y:0}}),e.getRepulsion(),e.updatePositions();return n}getRepulsion(){const e=this,n=e.positions,r=e.nodes,i=e.disp,o=e.k,s=e.radii||[];n.forEach((a,l)=>{i[l]={x:0,y:0},n.forEach((c,u)=>{if(l===u||s[l]!==s[u])return;let f=a[0]-c[0],d=a[1]-c[1],h=Math.sqrt(f*f+d*d);if(h===0){h=1;const p=l>u?1:-1;f=.01*p,d=.01*p}if(h<e.nodeSizeFunc(r[l])/2+e.nodeSizeFunc(r[u])/2){const p=o*o/h;i[l].x+=f/h*p,i[l].y+=d/h*p}})})}updatePositions(){const e=this,n=e.positions,r=e.disp,i=e.speed,o=e.strictRadial,s=e.focusID,a=e.maxDisplace||e.width/10;o&&r.forEach((c,u)=>{const f=n[u][0]-n[s][0],d=n[u][1]-n[s][1],h=Math.sqrt(f*f+d*d);let p=d/h,g=-f/h;const m=Math.sqrt(c.x*c.x+c.y*c.y);let y=Math.acos((p*c.x+g*c.y)/m);y>Math.PI/2&&(y-=Math.PI/2,p*=-1,g*=-1);const b=Math.cos(y)*m;c.x=p*b,c.y=g*b});const l=e.radii;n.forEach((c,u)=>{if(u===s)return;const f=Math.sqrt(r[u].x*r[u].x+r[u].y*r[u].y);if(f>0&&u!==s){const d=Math.min(a*(i/PFe),f);if(c[0]+=r[u].x/f*d,c[1]+=r[u].y/f*d,o){let h=c[0]-n[s][0],p=c[1]-n[s][1];const g=Math.sqrt(h*h+p*p);h=h/g*l[u],p=p/g*l[u],c[0]=n[s][0]+h,c[1]=n[s][1]+p}}})}}function MFe(t){const e=t.length,n=t[0].length,r=[];for(let i=0;i<e;i++){const o=[];for(let s=0;s<n;s++)t[i][s]!==0?o.push(1/(t[i][s]*t[i][s])):o.push(0);r.push(o)}return r}function AFe(t,e){let n=-1;return t.forEach((r,i)=>{r.id===e&&(n=i)}),n}function yV(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}class kFe extends sc{constructor(e){super(),this.maxIteration=1e3,this.focusNode=null,this.unitRadius=null,this.linkDistance=50,this.preventOverlap=!1,this.strictRadial=!0,this.maxPreventOverlapIteration=200,this.sortStrength=10,this.nodes=[],this.edges=[],this.updateCfg(e)}getDefaultCfg(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}execute(){const e=this,n=e.nodes,r=e.edges||[];if(!n||n.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const i=e.center;if(n.length===1){n[0].x=i[0],n[0].y=i[1],e.onLayoutEnd&&e.onLayoutEnd();return}const o=e.linkDistance;let s=null;if(oC(e.focusNode)){let N=!1;for(let $=0;$<n.length;$++)n[$].id===e.focusNode&&(s=n[$],e.focusNode=s,N=!0,$=n.length);N||(s=null)}else s=e.focusNode;s||(s=n[0],e.focusNode=s);const a=AFe(n,s.id);e.focusIndex=a;const l=Aoe({nodes:n,edges:r},!1),c=Moe(l),u=e.maxToFocus(c,a);e.handleInfinity(c,a,u+1),e.distances=c;const f=c[a],d=e.width||500,h=e.height||500;let p=d-i[0]>i[0]?i[0]:d-i[0],g=h-i[1]>i[1]?i[1]:h-i[1];p===0&&(p=d/2),g===0&&(g=h/2);const m=g>p?p:g,y=Math.max(...f),b=[];f.forEach((N,$)=>{e.unitRadius||(e.unitRadius=m/y),b[$]=N*e.unitRadius}),e.radii=b;const C=e.eIdealDisMatrix();e.eIdealDistances=C;const E=MFe(C);e.weights=E;let w=new TFe({linkDistance:o,distances:C}).layout();w.forEach(N=>{E$(N[0])&&(N[0]=Math.random()*o),E$(N[1])&&(N[1]=Math.random()*o)}),e.positions=w,w.forEach((N,$)=>{n[$].x=N[0]+i[0],n[$].y=N[1]+i[1]}),w.forEach(N=>{N[0]-=w[a][0],N[1]-=w[a][1]}),e.run();const M=e.preventOverlap,k=e.nodeSize;let I;const A=e.strictRadial;if(M){const N=e.nodeSpacing;let $;Dn(N)?$=()=>N:cv(N)?$=N:$=()=>0,k?fl(k)?I=j=>(k[0]>k[1]?k[0]:k[1])+$(j):I=j=>k+$(j):I=j=>j.size?fl(j.size)?(j.size[0]>j.size[1]?j.size[0]:j.size[1])+$(j):Qp(j.size)?(j.size.width>j.size.height?j.size.width:j.size.height)+$(j):j.size+$(j):10+$(j);const L={nodes:n,nodeSizeFunc:I,adjMatrix:l,positions:w,radii:b,height:h,width:d,strictRadial:A,focusID:a,iterations:e.maxPreventOverlapIteration||200,k:w.length/4.5};w=new OFe(L).layout()}return w.forEach((N,$)=>{n[$].x=N[0]+i[0],n[$].y=N[1]+i[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:r}}run(){const e=this,n=e.maxIteration,r=e.positions||[],i=e.weights||[],o=e.eIdealDistances||[],s=e.radii||[];for(let a=0;a<=n;a++){const l=a/n;e.oneIteration(l,r,s,o,i)}}oneIteration(e,n,r,i,o){const s=this,a=1-e,l=s.focusIndex;n.forEach((c,u)=>{const f=yV(c,[0,0]),d=f===0?0:1/f;if(u===l)return;let h=0,p=0,g=0;n.forEach((y,b)=>{if(u===b)return;const C=yV(c,y),E=C===0?0:1/C,_=i[b][u];g+=o[u][b],h+=o[u][b]*(y[0]+_*(c[0]-y[0])*E),p+=o[u][b]*(y[1]+_*(c[1]-y[1])*E)});const m=r[u]===0?0:1/r[u];g*=a,g+=e*m*m,h*=a,h+=e*m*c[0]*d,c[0]=h/g,p*=a,p+=e*m*c[1]*d,c[1]=p/g})}eIdealDisMatrix(){const e=this,n=e.nodes;if(!n)return[];const r=e.distances,i=e.linkDistance,o=e.radii||[],s=e.unitRadius||50,a=[];return r&&r.forEach((l,c)=>{const u=[];l.forEach((f,d)=>{if(c===d)u.push(0);else if(o[c]===o[d])if(e.sortBy==="data")u.push(f*(Math.abs(c-d)*e.sortStrength)/(o[c]/s));else if(e.sortBy){let h=n[c][e.sortBy]||0,p=n[d][e.sortBy]||0;oC(h)&&(h=h.charCodeAt(0)),oC(p)&&(p=p.charCodeAt(0)),u.push(f*(Math.abs(h-p)*e.sortStrength)/(o[c]/s))}else u.push(f*i/(o[c]/s));else{const h=(i+s)/2;u.push(f*h)}}),a.push(u)}),a}handleInfinity(e,n,r){const i=e.length;for(let o=0;o<i;o++)if(e[n][o]===1/0){e[n][o]=r,e[o][n]=r;for(let s=0;s<i;s++)e[o][s]!==1/0&&e[n][s]===1/0&&(e[n][s]=r+e[o][s],e[s][n]=r+e[o][s])}for(let o=0;o<i;o++)if(o!==n){for(let s=0;s<i;s++)if(e[o][s]===1/0){let a=Math.abs(e[n][o]-e[n][s]);a=a===0?1:a,e[o][s]=a}}}maxToFocus(e,n){let r=0;for(let i=0;i<e[n].length;i++)e[n][i]!==1/0&&(r=e[n][i]>r?e[n][i]:r);return r}getType(){return"radial"}}class DFe extends sc{constructor(e){super(),this.nodeSize=30,this.minNodeSpacing=10,this.preventOverlap=!1,this.equidistant=!1,this.startAngle=3/2*Math.PI,this.clockwise=!0,this.sortBy="degree",this.nodes=[],this.edges=[],this.width=300,this.height=300,this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}execute(){const e=this,n=e.nodes,r=e.edges,i=n.length;if(i===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const o=e.center;if(i===1){n[0].x=o[0],n[0].y=o[1],e.onLayoutEnd&&e.onLayoutEnd();return}const s=[];let a;fl(e.nodeSize)?a=Math.max(e.nodeSize[0],e.nodeSize[1]):a=e.nodeSize,n.forEach(p=>{s.push(p);let g=a;fl(p.size)?g=Math.max(p.size[0],p.size[1]):Dn(p.size)?g=p.size:Qp(p.size)&&(g=Math.max(p.size.width,p.size.height)),a=Math.max(a,g)}),e.clockwise=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise;const l={},c={};if(s.forEach((p,g)=>{l[p.id]=p,c[p.id]=g}),(e.sortBy==="degree"||!oC(e.sortBy)||s[0][e.sortBy]===void 0)&&(e.sortBy="degree",!Dn(n[0].degree))){const p=AE(n.length,c,r);s.forEach((g,m)=>{g.degree=p[m]})}s.sort((p,g)=>g[e.sortBy]-p[e.sortBy]),e.maxValueNode=s[0],e.maxLevelDiff=e.maxLevelDiff||e.maxValueNode[e.sortBy]/4;const u=[[]];let f=u[0];s.forEach(p=>{if(f.length>0){const g=Math.abs(f[0][e.sortBy]-p[e.sortBy]);e.maxLevelDiff&&g>=e.maxLevelDiff&&(f=[],u.push(f))}f.push(p)});let d=a+e.minNodeSpacing;if(!e.preventOverlap){const p=u.length>0&&u[0].length>1,m=(Math.min(e.width,e.height)/2-d)/(u.length+(p?1:0));d=Math.min(d,m)}let h=0;if(u.forEach(p=>{let g=e.sweep;g===void 0&&(g=2*Math.PI-2*Math.PI/p.length);const m=p.dTheta=g/Math.max(1,p.length-1);if(p.length>1&&e.preventOverlap){const y=Math.cos(m)-Math.cos(0),b=Math.sin(m)-Math.sin(0),C=Math.sqrt(d*d/(y*y+b*b));h=Math.max(C,h)}p.r=h,h+=d}),e.equidistant){let p=0,g=0;for(let m=0;m<u.length;m++){const b=u[m].r-g;p=Math.max(p,b)}g=0,u.forEach((m,y)=>{y===0&&(g=m.r),m.r=g,g+=p})}return u.forEach(p=>{const g=p.dTheta,m=p.r;p.forEach((y,b)=>{const C=e.startAngle+(e.clockwise?1:-1)*g*b;y.x=o[0]+m*Math.cos(C),y.y=o[1]+m*Math.sin(C)})}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:r}}getType(){return"concentric"}}class NFe extends sc{constructor(e){super(),this.center=[0,0],this.linkDistance=50,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.updateCfg(e)}getDefaultCfg(){return{center:[0,0],linkDistance:50}}execute(){const e=this,{nodes:n,edges:r=[]}=e,i=e.center;if(!n||n.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}if(n.length===1){n[0].x=i[0],n[0].y=i[1],e.onLayoutEnd&&e.onLayoutEnd();return}const o=e.linkDistance,s=Aoe({nodes:n,edges:r},!1),a=Moe(s);e.handleInfinity(a);const l=x4e(a,o);e.scaledDistances=l;const c=e.runMDS();return e.positions=c,c.forEach((u,f)=>{n[f].x=u[0]+i[0],n[f].y=u[1]+i[1]}),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:n,edges:r}}runMDS(){const e=this,n=2,r=e.scaledDistances,i=Nr.mul(Nr.pow(r,2),-.5),o=i.mean("row"),s=i.mean("column"),a=i.mean();i.add(a).subRowVector(o).subColumnVector(s);const l=new xse(i),c=Nr.sqrt(l.diagonalMatrix).diagonal();return l.leftSingularVectors.toJSON().map(u=>Nr.mul([u],[c]).toJSON()[0].splice(0,n))}handleInfinity(e){let n=-999999;e.forEach(r=>{r.forEach(i=>{i!==1/0&&n<i&&(n=i)})}),e.forEach((r,i)=>{r.forEach((o,s)=>{o===1/0&&(e[i][s]=n)})})}getType(){return"mds"}}const RFe=800;class IFe extends sc{constructor(e){super(),this.maxIteration=1e3,this.workerEnabled=!1,this.gravity=10,this.speed=5,this.clustering=!1,this.clusterGravity=10,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.onLayoutEnd=()=>{},this.tick=()=>{},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){var e,n;const r=this,i=r.nodes;if(r.timeInterval!==void 0&&typeof window<"u"&&window.clearInterval(r.timeInterval),!i||i.length===0){(e=r.onLayoutEnd)===null||e===void 0||e.call(r);return}!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);const o=r.center;if(i.length===1){i[0].x=o[0],i[0].y=o[1],(n=r.onLayoutEnd)===null||n===void 0||n.call(r);return}const s={},a={};return i.forEach((l,c)=>{Dn(l.x)||(l.x=Math.random()*this.width),Dn(l.y)||(l.y=Math.random()*this.height),s[l.id]=l,a[l.id]=c}),r.nodeMap=s,r.nodeIdxMap=a,r.run()}run(){var e;const n=this,r=n.nodes;if(!r)return;const{edges:i,maxIteration:o,workerEnabled:s,clustering:a}=n,l={};if(a&&r.forEach(c=>{l[c.cluster]===void 0&&(l[c.cluster]={name:c.cluster,cx:0,cy:0,count:0})}),s){for(let c=0;c<o;c++)n.runOneStep(l);(e=n.onLayoutEnd)===null||e===void 0||e.call(n)}else{if(typeof window>"u")return;let c=0;this.timeInterval=window.setInterval(()=>{var u;n.runOneStep(l),c++,c>=o&&((u=n.onLayoutEnd)===null||u===void 0||u.call(n),window.clearInterval(n.timeInterval))},0)}return{nodes:r,edges:i}}runOneStep(e){var n;const r=this,i=r.nodes;if(!i)return;const{edges:o,center:s,gravity:a,speed:l,clustering:c}=r,u=r.height*r.width,f=Math.sqrt(u)/10,d=u/(i.length+1),h=Math.sqrt(d),p=[];if(i.forEach((g,m)=>{p[m]={x:0,y:0}}),r.applyCalculate(i,o,p,h,d),c){for(const m in e)e[m].cx=0,e[m].cy=0,e[m].count=0;i.forEach(m=>{const y=e[m.cluster];Dn(m.x)&&(y.cx+=m.x),Dn(m.y)&&(y.cy+=m.y),y.count++});for(const m in e)e[m].cx/=e[m].count,e[m].cy/=e[m].count;const g=r.clusterGravity||a;i.forEach((m,y)=>{if(!Dn(m.x)||!Dn(m.y))return;const b=e[m.cluster],C=Math.sqrt((m.x-b.cx)*(m.x-b.cx)+(m.y-b.cy)*(m.y-b.cy)),E=h*g;p[y].x-=E*(m.x-b.cx)/C,p[y].y-=E*(m.y-b.cy)/C})}i.forEach((g,m)=>{if(!Dn(g.x)||!Dn(g.y))return;const y=.01*h*a;p[m].x-=y*(g.x-s[0]),p[m].y-=y*(g.y-s[1])}),i.forEach((g,m)=>{if(Dn(g.fx)&&Dn(g.fy)){g.x=g.fx,g.y=g.fy;return}if(!Dn(g.x)||!Dn(g.y))return;const y=Math.sqrt(p[m].x*p[m].x+p[m].y*p[m].y);if(y>0){const b=Math.min(f*(l/RFe),y);g.x+=p[m].x/y*b,g.y+=p[m].y/y*b}}),(n=r.tick)===null||n===void 0||n.call(r)}applyCalculate(e,n,r,i,o){const s=this;s.calRepulsive(e,r,o),n&&s.calAttractive(n,r,i)}calRepulsive(e,n,r){e.forEach((i,o)=>{n[o]={x:0,y:0},e.forEach((s,a)=>{if(o===a||!Dn(i.x)||!Dn(s.x)||!Dn(i.y)||!Dn(s.y))return;let l=i.x-s.x,c=i.y-s.y,u=l*l+c*c;if(u===0){u=1;const d=o>a?1:-1;l=.01*d,c=.01*d}const f=r/u;n[o].x+=l*f,n[o].y+=c*f})})}calAttractive(e,n,r){e.forEach(i=>{const o=zi(i,"source"),s=zi(i,"target");if(!o||!s)return;const a=this.nodeIdxMap[o],l=this.nodeIdxMap[s];if(a===l)return;const c=this.nodeMap[o],u=this.nodeMap[s];if(!Dn(u.x)||!Dn(c.x)||!Dn(u.y)||!Dn(c.y))return;const f=u.x-c.x,d=u.y-c.y,h=Math.sqrt(f*f+d*d),p=h*h/r;n[l].x-=f/h*p,n[l].y-=d/h*p,n[a].x+=f/h*p,n[a].y+=d/h*p})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)}destroy(){const e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0}getType(){return"fruchterman"}}function gr(t,e,n,r){!n||Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t,e,n){return e&&bV(t.prototype,e),n&&bV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(s){o[s]=r[s]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(s,a){return a(t,e,s)||s},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var wse={exports:{}},Cse={exports:{}};(function(t){function e(n){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Cse);(function(t){var e=Cse.exports.default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},i=Object.prototype,o=i.hasOwnProperty,s=typeof Symbol=="function"?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(L,B,j){return Object.defineProperty(L,B,{value:j,enumerable:!0,configurable:!0,writable:!0}),L[B]}try{u({},"")}catch{u=function(j,H,te){return j[H]=te}}function f(L,B,j,H){var te=B&&B.prototype instanceof p?B:p,Y=Object.create(te.prototype),ue=new A(H||[]);return Y._invoke=function(ce,se,fe){var me="suspendedStart";return function(K,le){if(me==="executing")throw new Error("Generator is already running");if(me==="completed"){if(K==="throw")throw le;return $()}for(fe.method=K,fe.arg=le;;){var Ne=fe.delegate;if(Ne){var Re=M(Ne,fe);if(Re){if(Re===h)continue;return Re}}if(fe.method==="next")fe.sent=fe._sent=fe.arg;else if(fe.method==="throw"){if(me==="suspendedStart")throw me="completed",fe.arg;fe.dispatchException(fe.arg)}else fe.method==="return"&&fe.abrupt("return",fe.arg);me="executing";var Je=d(ce,se,fe);if(Je.type==="normal"){if(me=fe.done?"completed":"suspendedYield",Je.arg===h)continue;return{value:Je.arg,done:fe.done}}Je.type==="throw"&&(me="completed",fe.method="throw",fe.arg=Je.arg)}}}(L,j,ue),Y}function d(L,B,j){try{return{type:"normal",arg:L.call(B,j)}}catch(H){return{type:"throw",arg:H}}}r.wrap=f;var h={};function p(){}function g(){}function m(){}var y={};u(y,a,function(){return this});var b=Object.getPrototypeOf,C=b&&b(b(N([])));C&&C!==i&&o.call(C,a)&&(y=C);var E=m.prototype=p.prototype=Object.create(y);function _(L){["next","throw","return"].forEach(function(B){u(L,B,function(j){return this._invoke(B,j)})})}function w(L,B){function j(te,Y,ue,ce){var se=d(L[te],L,Y);if(se.type!=="throw"){var fe=se.arg,me=fe.value;return me&&e(me)=="object"&&o.call(me,"__await")?B.resolve(me.__await).then(function(K){j("next",K,ue,ce)},function(K){j("throw",K,ue,ce)}):B.resolve(me).then(function(K){fe.value=K,ue(fe)},function(K){return j("throw",K,ue,ce)})}ce(se.arg)}var H;this._invoke=function(te,Y){function ue(){return new B(function(ce,se){j(te,Y,ce,se)})}return H=H?H.then(ue,ue):ue()}}function M(L,B){var j=L.iterator[B.method];if(j===void 0){if(B.delegate=null,B.method==="throw"){if(L.iterator.return&&(B.method="return",B.arg=void 0,M(L,B),B.method==="throw"))return h;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var H=d(j,L.iterator,B.arg);if(H.type==="throw")return B.method="throw",B.arg=H.arg,B.delegate=null,h;var te=H.arg;return te?te.done?(B[L.resultName]=te.value,B.next=L.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,h):te:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,h)}function k(L){var B={tryLoc:L[0]};1 in L&&(B.catchLoc=L[1]),2 in L&&(B.finallyLoc=L[2],B.afterLoc=L[3]),this.tryEntries.push(B)}function I(L){var B=L.completion||{};B.type="normal",delete B.arg,L.completion=B}function A(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(k,this),this.reset(!0)}function N(L){if(L){var B=L[a];if(B)return B.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var j=-1,H=function te(){for(;++j<L.length;)if(o.call(L,j))return te.value=L[j],te.done=!1,te;return te.value=void 0,te.done=!0,te};return H.next=H}}return{next:$}}function $(){return{value:void 0,done:!0}}return g.prototype=m,u(E,"constructor",m),u(m,"constructor",g),g.displayName=u(m,c,"GeneratorFunction"),r.isGeneratorFunction=function(L){var B=typeof L=="function"&&L.constructor;return!!B&&(B===g||(B.displayName||B.name)==="GeneratorFunction")},r.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,m):(L.__proto__=m,u(L,c,"GeneratorFunction")),L.prototype=Object.create(E),L},r.awrap=function(L){return{__await:L}},_(w.prototype),u(w.prototype,l,function(){return this}),r.AsyncIterator=w,r.async=function(L,B,j,H,te){te===void 0&&(te=Promise);var Y=new w(f(L,B,j,H),te);return r.isGeneratorFunction(B)?Y:Y.next().then(function(ue){return ue.done?ue.value:Y.next()})},_(E),u(E,c,"Generator"),u(E,a,function(){return this}),u(E,"toString",function(){return"[object Generator]"}),r.keys=function(L){var B=[];for(var j in L)B.push(j);return B.reverse(),function H(){for(;B.length;){var te=B.pop();if(te in L)return H.value=te,H.done=!1,H}return H.done=!0,H}},r.values=N,A.prototype={constructor:A,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!B)for(var j in this)j.charAt(0)==="t"&&o.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var j=this;function H(fe,me){return ue.type="throw",ue.arg=B,j.next=fe,me&&(j.method="next",j.arg=void 0),!!me}for(var te=this.tryEntries.length-1;te>=0;--te){var Y=this.tryEntries[te],ue=Y.completion;if(Y.tryLoc==="root")return H("end");if(Y.tryLoc<=this.prev){var ce=o.call(Y,"catchLoc"),se=o.call(Y,"finallyLoc");if(ce&&se){if(this.prev<Y.catchLoc)return H(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return H(Y.finallyLoc)}else if(ce){if(this.prev<Y.catchLoc)return H(Y.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return H(Y.finallyLoc)}}}},abrupt:function(B,j){for(var H=this.tryEntries.length-1;H>=0;--H){var te=this.tryEntries[H];if(te.tryLoc<=this.prev&&o.call(te,"finallyLoc")&&this.prev<te.finallyLoc){var Y=te;break}}Y&&(B==="break"||B==="continue")&&Y.tryLoc<=j&&j<=Y.finallyLoc&&(Y=null);var ue=Y?Y.completion:{};return ue.type=B,ue.arg=j,Y?(this.method="next",this.next=Y.finallyLoc,h):this.complete(ue)},complete:function(B,j){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&j&&(this.next=j),h},finish:function(B){for(var j=this.tryEntries.length-1;j>=0;--j){var H=this.tryEntries[j];if(H.finallyLoc===B)return this.complete(H.completion,H.afterLoc),I(H),h}},catch:function(B){for(var j=this.tryEntries.length-1;j>=0;--j){var H=this.tryEntries[j];if(H.tryLoc===B){var te=H.completion;if(te.type==="throw"){var Y=te.arg;I(H)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(B,j,H){return this.delegate={iterator:N(B),resultName:j,nextLoc:H},this.method==="next"&&(this.arg=void 0),h}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(wse);var kO=wse.exports(),Hn=kO;try{regeneratorRuntime=kO}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=kO:Function("r","regeneratorRuntime = r")(kO)}function xV(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){n(c);return}a.done?e(l):Promise.resolve(l).then(r,i)}function ii(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){xV(o,r,i,s,a,"next",l)}function a(l){xV(o,r,i,s,a,"throw",l)}s(void 0)})}}var $Fe=-1,LFe=1;function Jd(){return LFe++}var iy=function t(e){Cn(this,t)},oy=function(){function t(e){Cn(this,t),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=e}return Rn(t,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(n){return this.lookup[n]>-1}},{key:"create",value:function(n,r){this.lookup[n]=this.components.length;var i=new this.clazz(r||{});return this.components.push(i),this.entities.push(n),i}},{key:"remove",value:function(n){var r=this.lookup[n];r>-1&&r<this.components.length-1&&(this.components[r]=this.components[this.components.length-1],this.entities[r]=this.entities[this.entities.length-1],this.lookup[this.entities[r]]=r),this.components.pop(),this.entities.pop(),delete this.lookup[n]}},{key:"removeKeepSorted",value:function(n){var r=this.lookup[n];if(r>-1){var i=this.entities[r];if(r<this.components.length-1){for(var o=r+1;o<this.components.length;++o)this.components[o-1]=this.components[o];for(var s=r+1;s<this.entities.length;++s)this.entities[s-1]=this.entities[s],this.lookup[this.entities[s-1]]=s-1}this.components.pop(),this.entities.pop(),delete this.lookup[i]}}},{key:"moveItem",value:function(n,r){if(n!==r){for(var i=this.components[n],o=this.entities[n],s=n<r?1:-1,a=n;a!==r;a+=s){var l=a+s;this.components[a]=this.components[l],this.entities[a]=this.entities[l],this.lookup[this.entities[a]]=a}this.components[r]=i,this.entities[r]=o,this.lookup[o]=r}}},{key:"getEntity",value:function(n){return this.entities[n]}},{key:"getComponent",value:function(n){return this.components[n]}},{key:"getComponentByEntity",value:function(n){var r=this.lookup[n];return r>-1?this.components[r]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(n){for(var r=0,i=Object.keys(this.lookup);r<i.length;r++){var o=i[r],s=Number(o);if(this.lookup[s]===n)return s}return $Fe}},{key:"find",value:function(n){for(var r=0;r<this.getCount();r++){var i=this.getComponent(r);if(n(i,r))return i}return null}},{key:"findIndex",value:function(n){for(var r=0;r<this.getCount();r++){var i=this.getComponent(r);if(n(i,r))return r}return-1}},{key:"forEach",value:function(n){for(var r=0,i=Object.keys(this.lookup);r<i.length;r++){var o=i[r],s=Number(o),a=this.lookup[s];n(s,this.getComponent(a))}}},{key:"forEachAsync",value:function(){var e=ii(Hn.mark(function r(i){var o,s,a,l,c;return Hn.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:o=0,s=Object.keys(this.lookup);case 1:if(!(o<s.length)){f.next=10;break}return a=s[o],l=Number(a),c=this.lookup[l],f.next=7,i(l,this.getComponent(c));case 7:o++,f.next=1;break;case 10:case"end":return f.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"map",value:function(n){for(var r=[],i=0,o=Object.keys(this.lookup);i<o.length;i++){var s=o[i],a=Number(s),l=this.lookup[a];r.push(n(a,this.getComponent(l)))}return r}}]),t}(),Gt={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},FFe=function t(){Cn(this,t),this.index=void 0},zFe=function t(){Cn(this,t),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},GFe=function(){function t(){Cn(this,t),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return Rn(t,[{key:"read",value:function(n){return this.reads.find(function(r){return r.index===n.index})||this.reads.push(n),n}},{key:"sample",value:function(n){return this.read(n),n}},{key:"write",value:function(n,r){var i=this.writes.find(function(l){return l.index===r.index});if(i)return r;var o=n.getResourceNode(r);o.resource.version++,o.resource.imported&&(this.hasSideEffect=!0);var s=n.createResourceNode(o.resource),a=n.getResourceNode(s);return a.writer=this,this.writes.push(s),s}}]),t}();function A$(t,e){return A$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A$(t,e)}function Zi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A$(t,e)}function ts(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bl(t,e){if(e&&(Ar(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ts(t)}function Bi(t){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bi(t)}var BFe=function t(){Cn(this,t),this.first=void 0,this.last=void 0};function jFe(t){var e=VFe();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function VFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var wV=function(t){Zi(n,t);var e=jFe(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.version=0,r.refs=0,r.name=void 0,r.imported=void 0,r.priority=void 0,r.discardStart=!0,r.discardEnd=!1,r.descriptor=void 0,r.resource=void 0,r}return Rn(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}(BFe),UFe=function t(){Cn(this,t),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},CV,SV,EV,fI,_V,TV;function Bu(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=HFe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function HFe(t,e){if(!!t){if(typeof t=="string")return PV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PV(t,e)}}function PV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var WFe=(CV=Ki(),SV=hr(Gt.RenderEngine),CV(EV=(fI=(TV=function(){function t(){Cn(this,t),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],gr(this,"engine",_V,this)}return Rn(t,[{key:"execute",value:function(){var e=ii(Hn.mark(function r(i){return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.compile(),s.next=3,this.executePassNodes(i);case 3:case"end":return s.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(n){n.tearDown&&n.tearDown()}),this.reset()}},{key:"addPass",value:function(n,r,i,o){var s=new zFe;s.execute=i,o&&(s.tearDown=o),s.name=n;var a=new GFe;return a.name=n,this.passNodes.push(a),this.frameGraphPasses.push(s),r(this,a,s),s}},{key:"getPass",value:function(n){return this.frameGraphPasses.find(function(r){return r.name===n})}},{key:"compile",value:function(){var n=this,r=Bu(this.passNodes),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;o.refCount=o.writes.length+(o.hasSideEffect?1:0),o.reads.forEach(function(Y){n.resourceNodes[Y.index].readerCount++})}}catch(Y){r.e(Y)}finally{r.f()}var s=[],a=Bu(this.resourceNodes),l;try{for(a.s();!(l=a.n()).done;){var c=l.value;c.readerCount===0&&s.push(c)}}catch(Y){a.e(Y)}finally{a.f()}for(;s.length;){var u=s.pop(),f=u&&u.writer;if(f&&--f.refCount===0){var d=Bu(f.reads),h;try{for(d.s();!(h=d.n()).done;){var p=h.value,g=this.resourceNodes[p.index];--g.readerCount===0&&s.push(g)}}catch(Y){d.e(Y)}finally{d.f()}}}this.resourceNodes.forEach(function(Y){Y.resource.refs+=Y.readerCount});var m=Bu(this.passNodes),y;try{for(m.s();!(y=m.n()).done;){var b=y.value;if(!!b.refCount){var C=Bu(b.reads),E;try{for(C.s();!(E=C.n()).done;){var _=E.value,w=this.resourceNodes[_.index].resource;w.first=w.first?w.first:b,w.last=b}}catch(Y){C.e(Y)}finally{C.f()}var M=Bu(b.writes),k;try{for(M.s();!(k=M.n()).done;){var I=k.value,A=this.resourceNodes[I.index].resource;A.first=A.first?A.first:b,A.last=b}}catch(Y){M.e(Y)}finally{M.f()}}}}catch(Y){m.e(Y)}finally{m.f()}for(var N=0;N<2;N++){var $=Bu(this.resourceNodes),L;try{for($.s();!(L=$.n()).done;){var B=L.value,j=B.resource;if(j.priority===N&&j.refs){var H=j.first,te=j.last;H&&te&&(H.devirtualize.push(j),te.destroy.push(j))}}}catch(Y){$.e(Y)}finally{$.f()}}}},{key:"executePassNodes",value:function(){var e=ii(Hn.mark(function r(i){var o,s,a,l,c,u,f,d,h,p,g,m,y,b,C,E,_;return Hn.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:o=Bu(this.passNodes.entries()),M.prev=1,o.s();case 3:if((s=o.n()).done){M.next=18;break}if(a=Ke(s.value,2),l=a[0],c=a[1],!c.refCount){M.next=16;break}u=Bu(c.devirtualize);try{for(u.s();!(f=u.n()).done;)d=f.value,d.preExecuteDevirtualize(this.engine)}catch(k){u.e(k)}finally{u.f()}h=Bu(c.destroy);try{for(h.s();!(p=h.n()).done;)g=p.value,g.preExecuteDestroy(this.engine)}catch(k){h.e(k)}finally{h.f()}return M.next=12,this.frameGraphPasses[l].execute(this,this.frameGraphPasses[l],i);case 12:m=Bu(c.devirtualize);try{for(m.s();!(y=m.n()).done;)b=y.value,b.postExecuteDevirtualize(this.engine)}catch(k){m.e(k)}finally{m.f()}C=Bu(c.destroy);try{for(C.s();!(E=C.n()).done;)_=E.value,_.postExecuteDestroy(this.engine)}catch(k){C.e(k)}finally{C.f()}case 16:M.next=3;break;case 18:M.next=23;break;case 20:M.prev=20,M.t0=M.catch(1),o.e(M.t0);case 23:return M.prev=23,o.f(),M.finish(23);case 26:this.reset();case 27:case"end":return M.stop()}},r,this,[[1,20,23,26]])}));function n(r){return e.apply(this,arguments)}return n}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(n){return this.resourceNodes[n.index]}},{key:"createResourceNode",value:function(n){var r=new UFe;r.resource=n,r.version=n.version,this.resourceNodes.push(r);var i=new FFe;return i.index=this.resourceNodes.length-1,i}},{key:"createTexture",value:function(n,r,i){var o=new wV;return o.name=r,o.descriptor=i,this.createResourceNode(o)}},{key:"createRenderTarget",value:function(n,r,i){var o=new wV;return o.name=r,o.descriptor=i,this.createResourceNode(o)}},{key:"present",value:function(n){this.addPass("Present",function(r,i){i.read(n),i.hasSideEffect=!0},ii(Hn.mark(function r(){return Hn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},r)})))}}]),t}(),TV),_V=vr(fI.prototype,"engine",[SV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fI))||EV),DO=1e-6,tc=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function DE(){var t=new tc(9);return tc!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function YFe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function qFe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],g=e[13],m=e[14],y=e[15],b=n*a-r*s,C=n*l-i*s,E=n*c-o*s,_=r*l-i*a,w=r*c-o*a,M=i*c-o*l,k=u*g-f*p,I=u*m-d*p,A=u*y-h*p,N=f*m-d*g,$=f*y-h*g,L=d*y-h*m,B=b*L-C*$+E*N+_*A-w*I+M*k;return B?(B=1/B,t[0]=(a*L-l*$+c*N)*B,t[1]=(l*A-s*L-c*I)*B,t[2]=(s*$-a*A+c*k)*B,t[3]=(i*$-r*L-o*N)*B,t[4]=(n*L-i*A+o*I)*B,t[5]=(r*A-n*$-o*k)*B,t[6]=(g*M-m*w+y*_)*B,t[7]=(m*E-p*M-y*C)*B,t[8]=(p*w-g*E+y*b)*B,t):null}function Cc(){var t=new tc(16);return tc!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function XFe(t){var e=new tc(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function k$(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Sse(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L3(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],g=e[13],m=e[14],y=e[15],b=n*a-r*s,C=n*l-i*s,E=n*c-o*s,_=r*l-i*a,w=r*c-o*a,M=i*c-o*l,k=u*g-f*p,I=u*m-d*p,A=u*y-h*p,N=f*m-d*g,$=f*y-h*g,L=d*y-h*m,B=b*L-C*$+E*N+_*A-w*I+M*k;return B?(B=1/B,t[0]=(a*L-l*$+c*N)*B,t[1]=(i*$-r*L-o*N)*B,t[2]=(g*M-m*w+y*_)*B,t[3]=(d*w-f*M-h*_)*B,t[4]=(l*A-s*L-c*I)*B,t[5]=(n*L-i*A+o*I)*B,t[6]=(m*E-p*M-y*C)*B,t[7]=(u*M-d*E+h*C)*B,t[8]=(s*$-a*A+c*k)*B,t[9]=(r*A-n*$-o*k)*B,t[10]=(p*w-g*E+y*b)*B,t[11]=(f*E-u*w-h*b)*B,t[12]=(a*I-s*N-l*k)*B,t[13]=(n*N-r*I+i*k)*B,t[14]=(g*C-p*_-m*b)*B,t[15]=(u*_-f*C+d*b)*B,t):null}function b0(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],h=e[10],p=e[11],g=e[12],m=e[13],y=e[14],b=e[15],C=n[0],E=n[1],_=n[2],w=n[3];return t[0]=C*r+E*a+_*f+w*g,t[1]=C*i+E*l+_*d+w*m,t[2]=C*o+E*c+_*h+w*y,t[3]=C*s+E*u+_*p+w*b,C=n[4],E=n[5],_=n[6],w=n[7],t[4]=C*r+E*a+_*f+w*g,t[5]=C*i+E*l+_*d+w*m,t[6]=C*o+E*c+_*h+w*y,t[7]=C*s+E*u+_*p+w*b,C=n[8],E=n[9],_=n[10],w=n[11],t[8]=C*r+E*a+_*f+w*g,t[9]=C*i+E*l+_*d+w*m,t[10]=C*o+E*c+_*h+w*y,t[11]=C*s+E*u+_*p+w*b,C=n[12],E=n[13],_=n[14],w=n[15],t[12]=C*r+E*a+_*f+w*g,t[13]=C*i+E*l+_*d+w*m,t[14]=C*o+E*c+_*h+w*y,t[15]=C*s+E*u+_*p+w*b,t}function $x(t,e,n){var r=n[0],i=n[1],o=n[2],s,a,l,c,u,f,d,h,p,g,m,y;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(s=e[0],a=e[1],l=e[2],c=e[3],u=e[4],f=e[5],d=e[6],h=e[7],p=e[8],g=e[9],m=e[10],y=e[11],t[0]=s,t[1]=a,t[2]=l,t[3]=c,t[4]=u,t[5]=f,t[6]=d,t[7]=h,t[8]=p,t[9]=g,t[10]=m,t[11]=y,t[12]=s*r+u*i+p*o+e[12],t[13]=a*r+f*i+g*o+e[13],t[14]=l*r+d*i+m*o+e[14],t[15]=c*r+h*i+y*o+e[15]),t}function KFe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=s*i+u*r,t[6]=a*i+f*r,t[7]=l*i+d*r,t[8]=c*i-o*r,t[9]=u*i-s*r,t[10]=f*i-a*r,t[11]=d*i-l*r,t}function ZFe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],l=e[3],c=e[8],u=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=s*i-u*r,t[2]=a*i-f*r,t[3]=l*i-d*r,t[8]=o*r+c*i,t[9]=s*r+u*i,t[10]=a*r+f*i,t[11]=l*r+d*i,t}function Lx(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Ab(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],s=e[5],a=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,s,a),t[2]=Math.hypot(l,c,u),t}function Fx(t,e){var n=new tc(3);Ab(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],s=e[0]*r,a=e[1]*i,l=e[2]*o,c=e[4]*r,u=e[5]*i,f=e[6]*o,d=e[8]*r,h=e[9]*i,p=e[10]*o,g=s+u+p,m=0;return g>0?(m=Math.sqrt(g+1)*2,t[3]=.25*m,t[0]=(f-h)/m,t[1]=(d-l)/m,t[2]=(a-c)/m):s>u&&s>p?(m=Math.sqrt(1+s-u-p)*2,t[3]=(f-h)/m,t[0]=.25*m,t[1]=(a+c)/m,t[2]=(d+l)/m):u>p?(m=Math.sqrt(1+u-s-p)*2,t[3]=(d-l)/m,t[0]=(a+c)/m,t[1]=.25*m,t[2]=(f+h)/m):(m=Math.sqrt(1+p-s-u)*2,t[3]=(a-c)/m,t[0]=(d+l)/m,t[1]=(f+h)/m,t[2]=.25*m),t}function QFe(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3],l=i+i,c=o+o,u=s+s,f=i*l,d=i*c,h=i*u,p=o*c,g=o*u,m=s*u,y=a*l,b=a*c,C=a*u,E=r[0],_=r[1],w=r[2];return t[0]=(1-(p+m))*E,t[1]=(d+C)*E,t[2]=(h-b)*E,t[3]=0,t[4]=(d-C)*_,t[5]=(1-(f+m))*_,t[6]=(g+y)*_,t[7]=0,t[8]=(h+b)*w,t[9]=(g-y)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function OV(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,f=r*a,d=i*s,h=i*a,p=i*l,g=o*s,m=o*a,y=o*l;return t[0]=1-f-p,t[1]=u+y,t[2]=d-m,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=h+g,t[7]=0,t[8]=d+m,t[9]=h-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function JFe(t,e,n,r,i){var o=1/Math.tan(e/2),s;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(s=1/(r-i),t[10]=(i+r)*s,t[14]=2*i*r*s):(t[10]=-1,t[14]=-2*r),t}var e5e=JFe;function t5e(t,e,n,r,i,o,s){var a=1/(e-n),l=1/(r-i),c=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(s+o)*c,t[15]=1,t}var n5e=t5e;function r5e(t,e,n,r){var i,o,s,a,l,c,u,f,d,h,p=e[0],g=e[1],m=e[2],y=r[0],b=r[1],C=r[2],E=n[0],_=n[1],w=n[2];return Math.abs(p-E)<DO&&Math.abs(g-_)<DO&&Math.abs(m-w)<DO?Sse(t):(u=p-E,f=g-_,d=m-w,h=1/Math.hypot(u,f,d),u*=h,f*=h,d*=h,i=b*d-C*f,o=C*u-y*d,s=y*f-b*u,h=Math.hypot(i,o,s),h?(h=1/h,i*=h,o*=h,s*=h):(i=0,o=0,s=0),a=f*s-d*o,l=d*i-u*s,c=u*o-f*i,h=Math.hypot(a,l,c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),t[0]=i,t[1]=a,t[2]=u,t[3]=0,t[4]=o,t[5]=l,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*p+o*g+s*m),t[13]=-(a*p+l*g+c*m),t[14]=-(u*p+f*g+d*m),t[15]=1,t)}function mo(){var t=new tc(3);return tc!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function mp(t){var e=new tc(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function NO(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Kr(t,e,n){var r=new tc(3);return r[0]=t,r[1]=e,r[2]=n,r}function ul(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Zy(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ep(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function D$(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function i5e(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function _S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function o5e(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function sC(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function F3(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dI(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],l=n[2];return t[0]=i*l-o*a,t[1]=o*s-r*l,t[2]=r*a-i*s,t}function F0(t,e,n,r){var i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}function D8(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}function N8(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function s5e(t,e,n){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],l=e[1],c=e[2],u=i*c-o*l,f=o*a-r*c,d=r*l-i*a,h=i*d-o*f,p=o*u-r*d,g=r*f-i*u,m=s*2;return u*=m,f*=m,d*=m,h*=2,p*=2,g*=2,t[0]=a+u+h,t[1]=l+f+p,t[2]=c+d+g,t}var N$=D$,MV=o5e,Ese=NO;(function(){var t=mo();return function(e,n,r,i,o,s){var a,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();function Pw(){var t=new tc(4);return tc!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function _se(t,e,n,r){var i=new tc(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function a5e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function l5e(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=o*s,t}function Ow(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,t}(function(){var t=Pw();return function(e,n,r,i,o,s){var a,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();function Oa(){var t=new tc(4);return tc!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Xm(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Ju(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+s*a+i*c-o*l,t[1]=i*u+s*l+o*a-r*c,t[2]=o*u+s*c+r*l-i*a,t[3]=s*u-r*a-i*l-o*c,t}function RO(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3],l=n[0],c=n[1],u=n[2],f=n[3],d,h,p,g,m;return h=i*l+o*c+s*u+a*f,h<0&&(h=-h,l=-l,c=-c,u=-u,f=-f),1-h>DO?(d=Math.acos(h),p=Math.sin(d),g=Math.sin((1-r)*d)/p,m=Math.sin(r*d)/p):(g=1-r,m=r),t[0]=g*i+m*l,t[1]=g*o+m*c,t[2]=g*s+m*u,t[3]=g*a+m*f,t}function AV(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t}function c5e(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[s*3+s]+1),t[i]=.5*r,r=.5/r,t[3]=(e[o*3+s]-e[s*3+o])*r,t[o]=(e[o*3+i]+e[i*3+o])*r,t[s]=(e[s*3+i]+e[i*3+s])*r}return t}function hI(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),s=Math.cos(e),a=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=o*l*u-s*a*c,t[1]=s*a*u+o*l*c,t[2]=s*l*c-o*a*u,t[3]=s*l*u+o*a*c,t}var pI=_se,zx=a5e,u5e=Ju,Kb=l5e;(function(){var t=mo(),e=Kr(1,0,0),n=Kr(0,1,0);return function(r,i,o){var s=F3(i,o);return s<-.999999?(dI(t,e,i),Ese(t)<1e-6&&dI(t,n,i),sC(t,t),Xm(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(dI(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,Kb(r,r))}})();(function(){var t=Oa(),e=Oa();return function(n,r,i,o,s,a){return RO(t,r,s,a),RO(e,i,o,a),RO(n,t,e,2*a*(1-a)),n}})();(function(){var t=DE();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Kb(e,c5e(e,t))}})();var f5e=9007199254740991,d5e="[object Arguments]",h5e="[object Array]",p5e="[object Boolean]",g5e="[object Date]",v5e="[object Error]",m5e="[object Function]",y5e="[object Map]",b5e="[object Number]",x5e="[object Object]",w5e="[object RegExp]",C5e="[object Set]",S5e="[object String]",E5e="[object WeakMap]",_5e="[object ArrayBuffer]",T5e="[object DataView]",P5e="[object Float32Array]",O5e="[object Float64Array]",M5e="[object Int8Array]",A5e="[object Int16Array]",k5e="[object Int32Array]",D5e="[object Uint8Array]",N5e="[object Uint8ClampedArray]",R5e="[object Uint16Array]",I5e="[object Uint32Array]",cs={};cs[P5e]=cs[O5e]=cs[M5e]=cs[A5e]=cs[k5e]=cs[D5e]=cs[N5e]=cs[R5e]=cs[I5e]=!0;cs[d5e]=cs[h5e]=cs[_5e]=cs[p5e]=cs[T5e]=cs[g5e]=cs[v5e]=cs[m5e]=cs[y5e]=cs[b5e]=cs[x5e]=cs[w5e]=cs[C5e]=cs[S5e]=cs[E5e]=!1;var $5e=Object.prototype,L5e=$5e.toString;function F5e(t){return G5e(t)&&z5e(t.length)&&!!cs[L5e.call(t)]}function z5e(t){return typeof t=="number"&&t>-1&&t%1===0&&t<=f5e}function G5e(t){return!!t&&Ar(t)==="object"}var kV=F5e;function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B5e(t){var e=j5e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function j5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var V5e=function(t){Zi(n,t);var e=B5e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.dirty=!0,i.attributes=[],i.indices=void 0,i.indicesBuffer=void 0,i.vertexCount=0,i.maxInstancedCount=void 0,i.aabb=void 0,i.entity=void 0,Object.assign(ts(i),r),i}return Rn(n,[{key:"setAttribute",value:function(i,o,s,a){var l=this.attributes.find(function(c){return c.name===i});return l?(l.data=o,l.dirty=!0):this.attributes.push(NV(NV({dirty:!0,name:i,data:o},s),{},{bufferGetter:a})),this.dirty=!0,this}},{key:"setIndex",value:function(i){return this.indices=new Uint32Array(i.buffer?i.buffer:i),this.dirty=!0,this}},{key:"applyMatrix",value:function(i){var o=this.attributes.find(function(d){var h=d.name;return h==="position"}),s=this.attributes.find(function(d){var h=d.name;return h==="normal"});if(o&&(o.dirty=!0,o.data&&o.data.length))for(var a=0;a<o.data.length;a+=3){var l=_se(o.data[a],o.data[a+1],o.data[a+2],1);Ow(l,l,i),kV(o.data)?o.data.set([l[0],l[1],l[2]],a):(o.data[a]=l[0],o.data[a+1]=l[1],o.data[a+2]=l[2])}if(s){var c=qFe(DE(),i);if(s.data&&s.data.length)for(var u=0;u<s.data.length;u+=3){var f=Kr(s.data[u],s.data[u+1],s.data[u+2]);N8(f,f,c),sC(f,f),kV(s.data)?s.data.set([f[0],f[1],f[2]],u):(s.data[u]=f[0],s.data[u+1]=f[1],s.data[u+2]=f[2])}}}}]),n}(iy),He;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.COPY_SRC=1]="COPY_SRC",t[t.COPY_DST=2]="COPY_DST",t[t.SAMPLED=4]="SAMPLED",t[t.STORAGE=8]="STORAGE",t[t.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(He||(He={}));var RV,IV,$V,LV,vP,FV,zV,GV,U5e=(RV=Ki(),IV=hr(Gt.GeometryComponentManager),$V=hr(Gt.RenderEngine),RV(LV=(vP=(GV=function(){function t(){Cn(this,t),gr(this,"geometry",FV,this),gr(this,"engine",zV,this)}return Rn(t,[{key:"execute",value:function(){var e=ii(Hn.mark(function r(){var i=this;return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.geometry.forEach(function(a,l){l.dirty&&(l.attributes.forEach(function(c){if(c.dirty&&c.data){if(!c.buffer)c.buffer=i.engine.createBuffer({data:c.data,type:He.FLOAT});else{var u;(u=c.buffer)===null||u===void 0||u.subData({data:c.data,offset:0})}c.dirty=!1}}),l.indices&&(l.indicesBuffer?l.indicesBuffer.subData({data:l.indices,offset:0}):l.indicesBuffer=i.engine.createElements({data:l.indices,count:l.indices.length,type:He.UNSIGNED_INT,usage:He.STATIC_DRAW})),l.dirty=!1)});case 1:case"end":return s.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.geometry.forEach(function(n,r){r.indicesBuffer&&r.indicesBuffer.destroy(),r.attributes.forEach(function(i){i.buffer&&i.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},r=n.vertexCount,i=Jd();return this.geometry.create(i,{vertexCount:r})}},{key:"createInstancedBufferGeometry",value:function(n){var r=n.maxInstancedCount,i=n.vertexCount,o=Jd();return this.geometry.create(o,{maxInstancedCount:r,vertexCount:i})}}]),t}(),GV),FV=vr(vP.prototype,"geometry",[IV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zV=vr(vP.prototype,"engine",[$V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vP))||LV);function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5e(t){var e=W5e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function W5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Y5e=function(t){Zi(n,t);var e=H5e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.vertexShaderGLSL=void 0,i.fragmentShaderGLSL=void 0,i.defines={},i.dirty=!0,i.uniforms=[],i.cull={enable:!0,face:He.BACK},i.depth={enable:!0},i.blend=void 0,i.entity=void 0,i.type=void 0,Object.assign(ts(i),r),i}return Rn(n,[{key:"setDefines",value:function(i){return this.defines=jV(jV({},this.defines),i),this}},{key:"setCull",value:function(i){return this.cull=i,this}},{key:"setDepth",value:function(i){return this.depth=i,this}},{key:"setBlend",value:function(i){return this.blend=i,this}},{key:"setUniform",value:function(i,o){var s=this;if(typeof i!="string")return Object.keys(i).forEach(function(l){return s.setUniform(l,i[l])}),this;var a=this.uniforms.find(function(l){return l.name===i});return a?(a.dirty=!0,a.data=o):this.uniforms.push({name:i,dirty:!0,data:o}),this.dirty=!0,this}}]),n}(iy),VV,UV,HV,WV,YV,Gx,qV,XV,KV,ZV;function QV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var q5e=(VV=Ki(),UV=hr(Gt.MaterialComponentManager),HV=hr(Gt.RenderEngine),WV=hr(Gt.ShaderModuleService),VV(YV=(Gx=(ZV=function(){function t(){Cn(this,t),gr(this,"material",qV,this),gr(this,"engine",XV,this),gr(this,"shaderModule",KV,this)}return Rn(t,[{key:"execute",value:function(){var e=ii(Hn.mark(function r(){return Hn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},r)}));function n(){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(n){var r=Jd(),i=n.vertexShader,o=n.fragmentShader,s=[];if(!this.engine.supportWebGPU){var a="material-".concat(r);this.shaderModule.registerModule(a,{vs:n.vertexShader,fs:n.fragmentShader});var l=this.shaderModule.getModule(a);i=l.vs,o=l.fs,l.uniforms&&(s=Object.keys(l.uniforms).map(function(c){return{dirty:!0,name:c,data:l.uniforms[c]}}))}return this.material.create(r,JV(JV({vertexShaderGLSL:i,fragmentShaderGLSL:o},n),{},{uniforms:s}))}}]),t}(),ZV),qV=vr(Gx.prototype,"material",[UV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),XV=vr(Gx.prototype,"engine",[HV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KV=vr(Gx.prototype,"shaderModule",[WV],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gx))||YV);function X5e(t){var e=K5e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function K5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var R$;(function(t){t[t.Standard=0]="Standard"})(R$||(R$={}));var Z5e=function(t){Zi(n,t);var e=X5e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.strategy=R$.Standard,i.visibilityPlaneMask=0,i.visible=!1,Object.assign(ts(i),r),i}return n}(iy),R8=function(){function t(e,n){Cn(this,t),this.center=void 0,this.halfExtents=void 0,this.min=mo(),this.max=mo(),this.update(e,n)}return Rn(t,[{key:"update",value:function(n,r){this.center=n||mo(),this.halfExtents=r||Kr(.5,.5,.5),this.min=N$(this.min,this.center,this.halfExtents),this.max=Ep(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){Ep(this.center,r,n),_S(this.center,this.center,.5),N$(this.halfExtents,r,n),_S(this.halfExtents,this.halfExtents,.5),ul(this.min,n),ul(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){var r=this.center,i=r[0],o=r[1],s=r[2],a=this.halfExtents,l=a[0],c=a[1],u=a[2],f=i-l,d=i+l,h=o-c,p=o+c,g=s-u,m=s+u,y=n.center,b=y[0],C=y[1],E=y[2],_=n.halfExtents,w=_[0],M=_[1],k=_[2],I=b-w,A=b+w,N=C-M,$=C+M,L=E-k,B=E+k;I<f&&(f=I),A>d&&(d=A),N<h&&(h=N),$>p&&(p=$),L<g&&(g=L),B>m&&(m=B),r[0]=(f+d)*.5,r[1]=(h+p)*.5,r[2]=(g+m)*.5,a[0]=(d-f)*.5,a[1]=(p-h)*.5,a[2]=(m-g)*.5,this.min[0]=f,this.min[1]=h,this.min[2]=g,this.max[0]=d,this.max[1]=p,this.max[2]=m}},{key:"intersects",value:function(n){var r=this.getMax(),i=this.getMin(),o=n.getMax(),s=n.getMin();return i[0]<=o[0]&&r[0]>=s[0]&&i[1]<=o[1]&&r[1]>=s[1]&&i[2]<=o[2]&&r[2]>=s[2]}},{key:"containsPoint",value:function(n){var r=this.getMin(),i=this.getMax();return!(n[0]<r[0]||n[0]>i[0]||n[1]<r[1]||n[1]>i[1]||n[2]<r[2]||n[2]>i[2])}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?ul(mo(),this.min):n.pnVertexFlag===272?Kr(this.min[0],this.min[1],this.max[2]):n.pnVertexFlag===257?Kr(this.min[0],this.max[1],this.min[2]):n.pnVertexFlag===256?Kr(this.min[0],this.max[1],this.max[2]):n.pnVertexFlag===17?Kr(this.max[0],this.min[1],this.min[2]):n.pnVertexFlag===16?Kr(this.max[0],this.min[1],this.max[2]):n.pnVertexFlag===1?Kr(this.max[0],this.max[1],this.min[2]):Kr(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?ul(mo(),this.max):n.pnVertexFlag===272?Kr(this.max[0],this.max[1],this.min[2]):n.pnVertexFlag===257?Kr(this.max[0],this.min[1],this.max[2]):n.pnVertexFlag===256?Kr(this.max[0],this.min[1],this.min[2]):n.pnVertexFlag===17?Kr(this.min[0],this.max[1],this.max[2]):n.pnVertexFlag===16?Kr(this.min[0],this.max[1],this.min[2]):n.pnVertexFlag===1?Kr(this.min[0],this.min[1],this.max[2]):Kr(this.min[0],this.min[1],this.min[2])}}]),t}();function Q5e(t){var e=J5e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function J5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var e8e=function(t){Zi(n,t);var e=Q5e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.material=void 0,i.geometry=void 0,i.aabb=new R8,i.aabbDirty=!0,i.model=void 0,i.visible=!0,i.children=[],Object.assign(ts(i),r),i}return n}(iy),t8e=function(){function t(e,n){Cn(this,t),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=e||0,this.normal=n||Kr(0,1,0),this.updatePNVertexFlag()}return Rn(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return F3(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/Ese(this.normal);_S(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,i){var o=this.distanceToPoint(n),s=this.distanceToPoint(r),a=o/(o-s),l=a>=0&&a<=1;return l&&i&&F0(i,n,r,a),l}}]),t}(),Yg;(function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"})(Yg||(Yg={}));var n8e=function(){function t(e){if(Cn(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new t8e)}return Rn(t,[{key:"extractFromVPMatrix",value:function(n){var r=Ke(n,16),i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],h=r[9],p=r[10],g=r[11],m=r[12],y=r[13],b=r[14],C=r[15];Zy(this.planes[0].normal,a-i,f-l,g-d),this.planes[0].distance=-(C-m),Zy(this.planes[1].normal,a+i,f+l,g+d),this.planes[1].distance=-(C+m),Zy(this.planes[2].normal,a+o,f+c,g+h),this.planes[2].distance=-(C+y),Zy(this.planes[3].normal,a-o,f-c,g-h),this.planes[3].distance=-(C-y),Zy(this.planes[4].normal,a-s,f-u,g-p),this.planes[4].distance=-(C-b),Zy(this.planes[5].normal,a+s,f+u,g+p),this.planes[5].distance=-(C+b),this.planes.forEach(function(E){E.normalize(),E.updatePNVertexFlag()})}}]),t}();function r8e(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function i8e(t){var e=Ke(t,3),n=e[0],r=e[1],i=e[2],o=n+r*256+i*65536-1;return o}var eU,tU,nU,rU,iU,oU,sU,Rm,aU,lU,cU,uU,fU,dU;function hU(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=o8e(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function o8e(t,e){if(!!t){if(typeof t=="string")return pU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pU(t,e)}}function pU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s8e=(eU=Ki(),tU=hr(Gt.MeshComponentManager),nU=hr(Gt.CullableComponentManager),rU=hr(Gt.GeometryComponentManager),iU=hr(Gt.HierarchyComponentManager),oU=hr(Gt.TransformComponentManager),eU(sU=(Rm=(dU=function(){function t(){Cn(this,t),gr(this,"mesh",aU,this),gr(this,"cullable",lU,this),gr(this,"geometry",cU,this),gr(this,"hierarchy",uU,this),gr(this,"transform",fU,this),this.planes=void 0}return Rn(t,[{key:"setFrustumPlanes",value:function(n){this.planes=n}},{key:"execute",value:function(){var e=ii(Hn.mark(function r(i){var o,s,a,l,c,u,f,d,h,p,g,m,y,b,C,E,_,w,M,k,I;return Hn.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:o=hU(i);try{for(o.s();!(s=o.n()).done;){a=s.value,l=a.getScene(),c=a.getCamera(),u=hU(l.getEntities());try{for(u.s();!(f=u.n()).done;)d=f.value,h=this.mesh.getComponentByEntity(d),h&&(p=this.hierarchy.getComponentByEntity(d),g=this.cullable.getComponentByEntity(d),m=h.geometry,y=this.transform.getComponentByEntity(d),m&&m.aabb&&y&&h.aabbDirty&&(b=y.worldTransform,C=m.aabb,E=C.center,_=C.halfExtents,w=D8(mo(),E,b),M=r8e(b,DE()),k=N8(mo(),_,M),h.aabb.update(w,k),h.aabbDirty=!1),g&&m&&(I=this.cullable.getComponentByEntity((p==null?void 0:p.parentID)||-1),g.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(h.aabb,(I==null?void 0:I.visibilityPlaneMask)||Yg.INDETERMINATE,this.planes||c.getFrustum().planes),g.visible=g.visibilityPlaneMask!==Yg.OUTSIDE))}catch($){u.e($)}finally{u.f()}}}catch($){o.e($)}finally{o.f()}case 2:case"end":return N.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,i){if(r===Yg.OUTSIDE||r===Yg.INSIDE)return r;for(var o=Yg.INSIDE,s=0,a=i.length;s<a;++s){var l=s<31?1<<s:0;if(!(s<31&&(r&l)===0)){var c=i[s],u=c.normal,f=c.distance;if(F3(u,n.getNegativeFarPoint(i[s]))+f>0)return Yg.OUTSIDE;F3(u,n.getPositiveFarPoint(i[s]))+f>0&&(o|=l)}}return o}}]),t}(),dU),aU=vr(Rm.prototype,"mesh",[tU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lU=vr(Rm.prototype,"cullable",[nU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cU=vr(Rm.prototype,"geometry",[rU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uU=vr(Rm.prototype,"hierarchy",[iU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fU=vr(Rm.prototype,"transform",[oU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rm))||sU),gU,vU,mU,yU,bU,xU,wU,CU,SU,EU,_U,TU,If,PU,OU,MU,AU,kU,DU,NU,RU,IU,$U,LU;function mP(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=a8e(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function a8e(t,e){if(!!t){if(typeof t=="string")return FU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FU(t,e)}}function FU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n2=(gU=Ki(),vU=hr(Gt.MeshComponentManager),mU=hr(Gt.GeometryComponentManager),yU=hr(Gt.MaterialComponentManager),bU=hr(Gt.CullableComponentManager),xU=hr(Gt.TransformComponentManager),wU=hr(Gt.HierarchyComponentManager),CU=hr(Gt.Systems),SU=rd(Gt.FrameGraphSystem),EU=hr(Gt.RenderEngine),_U=hr(Gt.ResourcePool),gU(TU=(If=(LU=$U=function(){function t(){var e=this;Cn(this,t),gr(this,"mesh",PU,this),gr(this,"geometry",OU,this),gr(this,"material",MU,this),gr(this,"cullable",AU,this),gr(this,"transform",kU,this),gr(this,"hierarchy",DU,this),gr(this,"frameGraphSystem",NU,this),gr(this,"engine",RU,this),gr(this,"resourcePool",IU,this),this.modelCache={},this.setup=function(n,r,i){var o=n.createRenderTarget(r,"color buffer",{width:1,height:1,usage:He.RENDER_ATTACHMENT|He.SAMPLED|He.COPY_SRC});i.data={output:r.write(n,o)}},this.execute=function(){var n=ii(Hn.mark(function r(i,o,s){var a,l,c,u,f,d;return Hn.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:a=i.getResourceNode(o.data.output),l=e.resourcePool.getOrCreateResource(a.resource),c=mP(s),p.prev=3,c.s();case 5:if((u=c.n()).done){p.next=11;break}return f=u.value,p.next=9,e.initView(f);case 9:p.next=5;break;case 11:p.next=16;break;case 13:p.prev=13,p.t0=p.catch(3),c.e(p.t0);case 16:return p.prev=16,c.f(),p.finish(16);case 19:d=e.engine.getCanvas(),l.resize({width:d.width,height:d.height}),e.engine.setScissor({enable:!1}),e.engine.clear({framebuffer:l,color:s[0].getClearColor(),depth:1}),e.engine.useFramebuffer(l,function(){var g=mP(s),m;try{for(g.s();!(m=g.n()).done;){var y=m.value;e.renderView(y)}}catch(b){g.e(b)}finally{g.f()}});case 24:case"end":return p.stop()}},r,null,[[3,13,16,19]])}));return function(r,i,o){return n.apply(this,arguments)}}()}return Rn(t,[{key:"renderView",value:function(n){var r=n.getScene(),i=n.getCamera(),o=i.getViewTransform(),s=b0(Cc(),i.getPerspective(),o);i.getFrustum().extractFromVPMatrix(s);var a=n.getViewport(),l=a.x,c=a.y,u=a.width,f=a.height;this.engine.viewport({x:l,y:c,width:u,height:f});var d=mP(r.getEntities()),h;try{for(d.s();!(h=d.n()).done;){var p=h.value;this.renderMesh(p,{camera:i,view:n,viewMatrix:o})}}catch(g){d.e(g)}finally{d.f()}}},{key:"renderMesh",value:function(n,r){var i=r.camera,o=r.view,s=r.viewMatrix,a=this.mesh.getComponentByEntity(n);if(!(!a||!a.visible)){var l=a.material,c=a.geometry;if(!(!c||c.dirty||!l)){var u=this.transform.getComponentByEntity(n),f=b0(Cc(),s,u.worldTransform),d=o.getViewport(),h=d.width,p=d.height;l.setUniform({projectionMatrix:i.getPerspective(),modelViewMatrix:f,modelMatrix:u.worldTransform,viewMatrix:s,cameraPosition:i.getPosition(),u_viewport:[h,p]}),a.model&&(a.model.draw({uniforms:l.uniforms.reduce(function(g,m){return g[m.name]=m.data,g},{})}),l.uniforms.forEach(function(g){g.dirty=!1}),l.dirty=!1)}}}},{key:"initMesh",value:function(){var e=ii(Hn.mark(function r(i,o){var s,a,l,c,u,f,d,h;return Hn.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=this.mesh.getComponentByEntity(i),s){g.next=3;break}return g.abrupt("return");case 3:if(a=s.material,l=s.geometry,!(!l||l.dirty||!a)){g.next=7;break}return g.abrupt("return");case 7:if(s.model){g.next=24;break}if(c="m-".concat(a.entity,"-g-").concat(l.entity),!this.modelCache[c]){g.next=12;break}return s.model=this.modelCache[c],g.abrupt("return");case 12:return a.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),u=this.engine,f=u.createModel,d=u.createAttribute,h={vs:a.vertexShaderGLSL,fs:a.fragmentShaderGLSL,defines:a.defines,attributes:l.attributes.reduce(function(m,y){return y.data&&y.buffer&&(m[y.name]=d({buffer:y.buffer,attributes:y.attributes,arrayStride:y.arrayStride,stepMode:y.stepMode,divisor:y.stepMode==="vertex"?0:1})),m},{}),uniforms:a.uniforms.reduce(function(m,y){return m[y.name]=y.data,m},{}),scissor:{enable:!0,box:function(){return o.getViewport()}}},a.cull&&(h.cull=a.cull),a.depth&&(h.depth=a.depth),a.blend&&(h.blend=a.blend),l.indicesBuffer&&(h.elements=l.indicesBuffer),l.maxInstancedCount&&(h.instances=l.maxInstancedCount,h.count=l.vertexCount||3),g.next=22,f(h);case 22:s.model=g.sent,this.modelCache[c]=s.model;case 24:case"end":return g.stop()}},r,this)}));function n(r,i){return e.apply(this,arguments)}return n}()},{key:"initView",value:function(){var e=ii(Hn.mark(function r(i){var o,s,a,l;return Hn.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:o=i.getScene(),s=mP(o.getEntities()),u.prev=2,s.s();case 4:if((a=s.n()).done){u.next=10;break}return l=a.value,u.next=8,this.initMesh(l,i);case 8:u.next=4;break;case 10:u.next=15;break;case 12:u.prev=12,u.t0=u.catch(2),s.e(u.t0);case 15:return u.prev=15,s.f(),u.finish(15);case 18:case"end":return u.stop()}},r,this,[[2,12,15,18]])}));function n(r){return e.apply(this,arguments)}return n}()}]),t}(),$U.IDENTIFIER="Render Pass",LU),PU=vr(If.prototype,"mesh",[vU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),OU=vr(If.prototype,"geometry",[mU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MU=vr(If.prototype,"material",[yU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AU=vr(If.prototype,"cullable",[bU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kU=vr(If.prototype,"transform",[xU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),DU=vr(If.prototype,"hierarchy",[wU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NU=vr(If.prototype,"frameGraphSystem",[CU,SU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),RU=vr(If.prototype,"engine",[EU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),IU=vr(If.prototype,"resourcePool",[_U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),If))||TU),zU,GU,BU,jU,VU,UU,Qy,HU,WU,YU,qU,XU,KU;function gI(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=l8e(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function l8e(t,e){if(!!t){if(typeof t=="string")return ZU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZU(t,e)}}function ZU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vI={NONE:0,ENCODE:1,HIGHLIGHT:2},I$=(zU=Ki(),GU=hr(Gt.RenderEngine),BU=hr(Gt.ResourcePool),jU=hr(Gt.RenderPassFactory),VU=hr(Gt.MeshComponentManager),zU(UU=(Qy=(KU=XU=function(){function t(){var e=this;Cn(this,t),gr(this,"engine",HU,this),gr(this,"resourcePool",WU,this),gr(this,"renderPassFactory",YU,this),gr(this,"mesh",qU,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(n,r,i){var o=n.createRenderTarget(r,"picking fbo",{width:1,height:1});i.data={output:r.write(n,o)},r.hasSideEffect=!0},this.execute=function(){var n=ii(Hn.mark(function r(i,o,s){var a,l,c;return Hn.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(e.views=s,!e.alreadyInRendering){f.next=3;break}return f.abrupt("return");case 3:a=gI(s);try{for(c=function(){var h=l.value,p=h.getViewport(),g=p.width,m=p.height;e.alreadyInRendering=!0;var y=i.getResourceNode(o.data.output);e.pickingFBO=e.resourcePool.getOrCreateResource(y.resource),e.pickingFBO.resize({width:g,height:m}),e.engine.useFramebuffer(e.pickingFBO,function(){e.engine.clear({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var b=e.renderPassFactory(n2.IDENTIFIER),C=[],E=h.getScene(),_=gI(E.getEntities()),w;try{for(_.s();!(w=_.n()).done;){var M=w.value,k=e.mesh.getComponentByEntity(M),I=k.material;I.setUniform("u_PickingStage",vI.ENCODE),C.push(k)}}catch(A){_.e(A)}finally{_.f()}b.renderView(h),C.forEach(function(A){var N=A.material;N.setUniform("u_PickingStage",vI.HIGHLIGHT)}),e.alreadyInRendering=!1})},a.s();!(l=a.n()).done;)c()}catch(d){a.e(d)}finally{a.f()}case 5:case"end":return f.stop()}},r)}));return function(r,i,o){return n.apply(this,arguments)}}(),this.pick=function(n,r){var i=n.x,o=n.y,s=e.engine,a=s.readPixels,l=s.useFramebuffer,c=r.getViewport(),u=c.width,f=c.height,d=i*window.devicePixelRatio,h=o*window.devicePixelRatio;if(!(d>u||d<0||h>f||h<0)){var p,g;return l(e.pickingFBO,function(){p=a({x:Math.round(d),y:Math.round(f-(o+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:e.pickingFBO}),(p[0]!==0||p[1]!==0||p[2]!==0)&&(g=i8e(p),e.highlightEnabled&&e.highlightPickedFeature(p,r))}),g}}}return Rn(t,[{key:"enableHighlight",value:function(n){this.highlightEnabled=n}},{key:"setHighlightColor",value:function(n){this.highlightColor=n}},{key:"highlightPickedFeature",value:function(n,r){if(n){var i=gI(r.getScene().getEntities()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,a=this.mesh.getComponentByEntity(s),l=a.material;l.setUniform("u_PickingStage",vI.HIGHLIGHT),l.setUniform("u_PickingColor",[n[0],n[1],n[2]]),l.setUniform("u_HighlightColor",this.highlightColor)}}catch(c){i.e(c)}finally{i.f()}}}}]),t}(),XU.IDENTIFIER="PixelPicking Pass",KU),HU=vr(Qy.prototype,"engine",[GU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),WU=vr(Qy.prototype,"resourcePool",[BU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),YU=vr(Qy.prototype,"renderPassFactory",[jU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qU=vr(Qy.prototype,"mesh",[VU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy))||UU),QU,JU,eH,tH,yP,nH,rH,iH,oH,c8e=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,u8e=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,f8e=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,d8e=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,z3=(QU=Ki(),JU=hr(Gt.RenderEngine),eH=hr(Gt.ResourcePool),QU(tH=(yP=(oH=iH=function t(){var e=this;Cn(this,t),gr(this,"engine",nH,this),gr(this,"resourcePool",rH,this),this.model=void 0,this.setup=function(n,r,i){var o=n.getPass(n2.IDENTIFIER);if(o){var s=n.createRenderTarget(r,"render to screen",{width:1,height:1});i.data={input:r.read(o.data.output),output:r.write(n,s)}}},this.execute=function(){var n=ii(Hn.mark(function r(i,o){var s,a,l,c,u,f,d;return Hn.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s=e.engine,a=s.createModel,l=s.createAttribute,c=s.createBuffer,e.model){p.next=6;break}return p.next=4,a({vs:e.engine.supportWebGPU?d8e:u8e,fs:e.engine.supportWebGPU?f8e:c8e,attributes:{a_Position:l({buffer:c({data:[-4,-4,4,-4,0,4],type:He.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:u=p.sent,e.model=u;case 6:f=i.getResourceNode(o.data.input),d=e.resourcePool.getOrCreateResource(f.resource),e.engine.useFramebuffer(null,function(){e.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),e.model.draw({uniforms:{u_Texture:d}})});case 9:case"end":return p.stop()}},r)}));return function(r,i){return n.apply(this,arguments)}}(),this.tearDown=function(){e.model=void 0}},iH.IDENTIFIER="Copy Pass",oH),nH=vr(yP.prototype,"engine",[JU],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rH=vr(yP.prototype,"resourcePool",[eH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yP))||tH),sH,aH,lH,cH,uH,fH,dH,Jy,hH,pH,gH,vH,mH,h8e=(sH=Ki(),aH=hr(Gt.Systems),lH=rd(Gt.FrameGraphSystem),cH=hr(Gt.RenderPassFactory),uH=hr(Gt.ConfigService),fH=hr(Gt.ResourcePool),sH(dH=(Jy=(mH=function(){function t(){Cn(this,t),gr(this,"frameGraphSystem",hH,this),gr(this,"renderPassFactory",pH,this),gr(this,"configService",gH,this),gr(this,"resourcePool",vH,this)}return Rn(t,[{key:"execute",value:function(){var e=ii(Hn.mark(function r(i){var o,s,a,l,c,u,f,d;return Hn.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:o=this.renderPassFactory(n2.IDENTIFIER),s=o.setup,a=o.execute,this.frameGraphSystem.addPass(n2.IDENTIFIER,s,a),l=this.renderPassFactory(z3.IDENTIFIER),c=l.setup,u=l.execute,f=l.tearDown,d=this.frameGraphSystem.addPass(z3.IDENTIFIER,c,u,f),this.frameGraphSystem.present(d.data.output);case 5:case"end":return p.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(n,r){var i=this.renderPassFactory(I$.IDENTIFIER);return i.pick(n,r)}}]),t}(),mH),hH=vr(Jy.prototype,"frameGraphSystem",[aH,lH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pH=vr(Jy.prototype,"renderPassFactory",[cH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gH=vr(Jy.prototype,"configService",[uH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vH=vr(Jy.prototype,"resourcePool",[fH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jy))||dH);function p8e(t){var e=g8e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function g8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var v8e=function(t){Zi(n,t);var e=p8e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.parentID=void 0,Object.assign(ts(i),r),i}return n}(iy),yH,bH,xH,wH,CH,Bx,SH,EH,_H,TH,m8e=(yH=Ki(),bH=hr(Gt.HierarchyComponentManager),xH=hr(Gt.TransformComponentManager),wH=hr(Gt.MeshComponentManager),yH(CH=(Bx=(TH=function(){function t(){Cn(this,t),gr(this,"hierarchy",SH,this),gr(this,"transform",EH,this),gr(this,"mesh",_H,this)}return Rn(t,[{key:"execute",value:function(){var e=ii(Hn.mark(function r(){return Hn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return o.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var n=this;this.transform.forEach(function(r,i){(i.isDirty()||i.isLocalDirty())&&(n.setMeshAABBDirty(n.mesh.getComponentByEntity(r)),i.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var n=this;this.hierarchy.forEach(function(r,i){var o=n.transform.getComponentByEntity(r),s=n.transform.getComponentByEntity(i.parentID);o!==null&&s!==null&&o.updateTransformWithParent(s)})}},{key:"attach",value:function(n,r,i){this.hierarchy.contains(n)&&this.detach(n),this.hierarchy.create(n,{parentID:r});var o=this.mesh.getComponentByEntity(r);if(this.setMeshAABBDirty(o),o&&o.children.indexOf(n)===-1&&o.children.push(n),this.hierarchy.getCount()>1)for(var s=this.hierarchy.getCount()-1;s>0;--s)for(var a=this.hierarchy.getEntity(s),l=0;l<s;++l){var c=this.hierarchy.getComponent(l);if(c.parentID===a){this.hierarchy.moveItem(s,l),++s;break}}this.hierarchy.getComponentByEntity(n);var u=this.transform.getComponentByEntity(r);u===null&&(u=this.transform.create(r));var f=this.transform.getComponentByEntity(n);f===null&&(f=this.transform.create(n),u=this.transform.getComponentByEntity(r)),f.parent=u,!i&&u&&(f.matrixTransform(L3(Cc(),u.worldTransform)),f.updateTransform()),u&&f.updateTransformWithParent(u)}},{key:"detach",value:function(n){var r=this.hierarchy.getComponentByEntity(n);if(r!==null){var i=this.transform.getComponentByEntity(n);i!==null&&(i.parent=null,i.applyTransform()),this.hierarchy.removeKeepSorted(n);var o=this.mesh.getComponentByEntity(r.parentID);if(o){var s=o.children.indexOf(n);o.children.splice(s,1)}this.setMeshAABBDirty(o)}}},{key:"detachChildren",value:function(n){var r=this.mesh.getComponentByEntity(n);r&&(r.children=[]);for(var i=0;i<this.hierarchy.getCount();){var o;if(((o=this.hierarchy.getComponent(i))===null||o===void 0?void 0:o.parentID)===n){var s=this.hierarchy.getEntity(i);this.detach(s)}else++i}}},{key:"setMeshAABBDirty",value:function(n){n&&(n.aabbDirty=!0)}}]),t}(),TH),SH=vr(Bx.prototype,"hierarchy",[bH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EH=vr(Bx.prototype,"transform",[xH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_H=vr(Bx.prototype,"mesh",[wH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bx))||CH);function y8e(t){var e=b8e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function b8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Tse=function(t){Zi(n,t);var e=y8e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.dirtyFlag=void 0,i.localDirtyFlag=void 0,i.parent=null,i.localPosition=Kr(0,0,0),i.localRotation=pI(0,0,0,1),i.localScale=Kr(1,1,1),i.localTransform=Cc(),i.position=Kr(0,0,0),i.rotation=pI(0,0,0,1),i.scaling=Kr(1,1,1),i.worldTransform=Cc(),i.matrixTransform=function(){var o=Cc();return function(s){b0(o,i.getLocalTransform(),s),Ab(i.localScale,o),Lx(i.localPosition,o),Fx(i.localRotation,o)}}(),i.rotateRollPitchYaw=function(){var o=Oa(),s=Oa(),a=Oa();return function(l,c,u){i.setDirty(),hI(o,l,0,0),hI(s,0,c,0),hI(a,0,0,u),Ju(i.localRotation,o,i.localRotation),Ju(i.localRotation,i.localRotation,s),Ju(i.localRotation,a,i.localRotation),Kb(i.localRotation,i.localRotation)}}(),i.lerp=function(){var o=mo(),s=Oa(),a=mo(),l=mo(),c=Oa(),u=mo();return function(f,d,h){i.setDirty(),Ab(o,f.worldTransform),Lx(a,f.worldTransform),Fx(s,f.worldTransform),Ab(l,d.worldTransform),Lx(u,d.worldTransform),Fx(c,d.worldTransform),F0(i.localScale,o,l,h),RO(i.localRotation,s,c,h),F0(i.localPosition,a,u,h)}}(),i.translate=function(){var o=mo();return function(s){return Ep(o,i.getPosition(),s),i.setPosition(o),i.setDirty(!0),ts(i)}}(),i.translateLocal=function(){return function(o){return s5e(o,o,i.localRotation),Ep(i.localPosition,i.localPosition,o),i.setLocalDirty(!0),ts(i)}}(),i.setPosition=function(){var o=Cc();return function(s){return i.position=s,i.setLocalDirty(!0),i.parent===null?ul(i.localPosition,s):(k$(o,i.parent.worldTransform),L3(o,o),D8(i.localPosition,s,o)),ts(i)}}(),i.rotate=function(){var o=Oa();return function(s){if(i.parent===null)Ju(i.localRotation,i.localRotation,s),Kb(i.localRotation,i.localRotation);else{var a=i.getRotation(),l=i.parent.getRotation();zx(o,l),AV(o,o),Ju(o,o,s),Ju(i.localRotation,s,a),Kb(i.localRotation,i.localRotation)}return i.setLocalDirty(),ts(i)}}(),i.rotateLocal=function(){return function(o){return Ju(i.localRotation,i.localRotation,o),Kb(i.localRotation,i.localRotation),i.setLocalDirty(!0),ts(i)}}(),i.setRotation=function(){var o=Oa();return function(s){return i.parent===null?zx(i.localRotation,s):(zx(o,i.parent.getRotation()),AV(o,o),zx(i.localRotation,o),u5e(i.localRotation,i.localRotation,s)),i.setLocalDirty(!0),ts(i)}}(),i}return Rn(n,[{key:"setLocalPosition",value:function(i){ul(this.localPosition,i),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(i){ul(this.localScale,i),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(i){return zx(this.localRotation,i),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(k$(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(i){b0(this.worldTransform,i.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),Ab(this.localScale,this.worldTransform),Lx(this.localPosition,this.worldTransform),Fx(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=Kr(0,0,0),this.localRotation=pI(0,0,0,1),this.localScale=Kr(1,1,1)}},{key:"scaleLocal",value:function(i){return this.setLocalDirty(),i5e(this.localScale,this.localScale,i),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(QFe(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return Lx(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return Fx(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return Ab(this.scaling,this.worldTransform),this.scaling}}]),n}(iy);Tse.DIRTY=1<<0;var PH,OH,MH,mI,AH,kH,x8e=(PH=Ki(),OH=hr(Gt.RenderEngine),PH(MH=(mI=(kH=function(){function t(){Cn(this,t),gr(this,"engine",AH,this),this.resourcePool={}}return Rn(t,[{key:"getOrCreateResource",value:function(n){if(!this.resourcePool[n.name]){var r=n.descriptor,i=r.width,o=r.height,s=r.usage;this.resourcePool[n.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:i,height:o,wrapS:He.CLAMP_TO_EDGE,wrapT:He.CLAMP_TO_EDGE,usage:s})})}return this.resourcePool[n.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),t}(),kH),AH=vr(mI.prototype,"engine",[OH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mI))||MH);function w8e(t){var e=C8e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function C8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var S8e=function(t){Zi(n,t);var e=w8e(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.name=void 0,i.name=r.name||"",i}return n}(iy),DH,NH,RH,E8e=(DH=Ki(),DH(NH=(RH=function(){function t(){Cn(this,t),this.config=void 0}return Rn(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(n){this.config=n}}]),t}(),RH))||NH),IH,$H,LH;(function(t){t.PANSTART="PANSTART",t.PANEND="PANEND",t.PANMOVE="PANMOVE",t.PINCH="PINCH",t.KEYDOWN="KEYDOWN",t.KEYUP="KEYUP",t.HOVER="HOVER"})(LH||(LH={}));var _8e=(IH=Ki(),IH($H=function(){function t(){Cn(this,t)}return Rn(t,[{key:"listen",value:function(n){}},{key:"on",value:function(n,r){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),t}())||$H);function T8e(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16;break}return e}var P8e=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function FH(t){var e={};return t=t.replace(P8e,function(n,r,i){var o=i.split(":"),s=o[0].trim(),a="";switch(o.length>1&&(a=o[1].trim()),r){case"bool":a=a==="true";break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a?a=a.replace("[","").replace("]","").split(",").reduce(function(l,c){return l.push(Number(c.trim())),l},[]):a=new Array(T8e(r)).fill(0);break}return e[s]=a,"uniform ".concat(r," ").concat(s,`;
`)}),{content:t,uniforms:e}}function O8e(t){return t.filter(function(e,n,r){return r.indexOf(e)===n})}var zH,GH,BH;function jH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var M8e=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,A8e=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,k8e=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,D8e=/precision\s+(high|low|medium)p\s+float/,N8e=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,R8e=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,I8e=(zH=Ki(),zH(GH=(BH=function(){function t(){Cn(this,t),this.moduleCache={},this.rawContentCache={}}return Rn(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:A8e,fs:M8e}),this.registerModule("sdf2d",{vs:"",fs:k8e})}},{key:"registerModule",value:function(n,r){if(!this.rawContentCache[n]){var i=r.vs,o=i===void 0?"":i,s=r.fs,a=s===void 0?"":s,l=r.uniforms,c=FH(o),u=c.content,f=c.uniforms,d=FH(a),h=d.content,p=d.uniforms;this.rawContentCache[n]={fs:h,uniforms:jx(jx(jx({},f),p),l),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(n){var r=this;if(this.moduleCache[n])return this.moduleCache[n];var i=this.rawContentCache[n].vs||"",o=this.rawContentCache[n].fs||"",s=this.processModule(i,[],"vs"),a=s.content,l=s.includeList,c=this.processModule(o,[],"fs"),u=c.content,f=c.includeList,d=u,h=O8e(l.concat(f).concat(n)).reduce(function(p,g){return jx(jx({},p),r.rawContentCache[g].uniforms)},{});return D8e.test(u)||(d=N8e+u),this.moduleCache[n]={fs:d.trim(),uniforms:h,vs:a.trim()},this.moduleCache[n]}},{key:"processModule",value:function(n,r,i){var o=this,s=n.replace(R8e,function(a,l){var c=l.split(" "),u=c[0].replace(/"/g,"");if(r.indexOf(u)>-1)return"";var f=o.rawContentCache[u][i];r.push(u);var d=o.processModule(f||"",r,i),h=d.content;return h});return{content:s,includeList:r}}}]),t}(),BH))||GH),eg=new Ck;eg.bind(Gt.ShaderModuleService).to(I8e).inSingletonScope();eg.bind(Gt.NameComponentManager).toConstantValue(new oy(S8e));eg.bind(Gt.HierarchyComponentManager).toConstantValue(new oy(v8e));eg.bind(Gt.TransformComponentManager).toConstantValue(new oy(Tse));eg.bind(Gt.MeshComponentManager).toConstantValue(new oy(e8e));eg.bind(Gt.CullableComponentManager).toConstantValue(new oy(Z5e));eg.bind(Gt.GeometryComponentManager).toConstantValue(new oy(V5e));eg.bind(Gt.MaterialComponentManager).toConstantValue(new oy(Y5e));function $8e(){var t=new Ck;return t.parent=eg,t.bind(Gt.Systems).to(m8e).inSingletonScope().whenTargetNamed(Gt.SceneGraphSystem),t.bind(Gt.Systems).to(WFe).inSingletonScope().whenTargetNamed(Gt.FrameGraphSystem),t.bind(Gt.Systems).to(s8e).inSingletonScope().whenTargetNamed(Gt.MeshSystem),t.bind(Gt.Systems).to(U5e).inSingletonScope().whenTargetNamed(Gt.GeometrySystem),t.bind(Gt.Systems).to(q5e).inSingletonScope().whenTargetNamed(Gt.MaterialSystem),t.bind(Gt.Systems).to(h8e).inSingletonScope().whenTargetNamed(Gt.RendererSystem),t.bind(Gt.ResourcePool).to(x8e).inSingletonScope(),t.bind(Gt.ConfigService).to(E8e).inSingletonScope(),t.bind(Gt.InteractorService).to(_8e).inSingletonScope(),t.bind(Gt.RenderPass).to(n2).inSingletonScope().whenTargetNamed(n2.IDENTIFIER),t.bind(Gt.RenderPass).to(z3).inSingletonScope().whenTargetNamed(z3.IDENTIFIER),t.bind(Gt.RenderPass).to(I$).inSingletonScope().whenTargetNamed(I$.IDENTIFIER),t.bind(Gt.RenderPassFactory).toFactory(function(e){return function(n){return e.container.getNamed(Gt.RenderPass,n)}}),t}function I8(t){for(var e=new R8,n=Kr(t[0],t[1],t[2]),r=Kr(t[0],t[1],t[2]),i=3;i<t.length;){var o=t[i++],s=t[i++],a=t[i++];o<n[0]&&(n[0]=o),s<n[1]&&(n[1]=s),a<n[2]&&(n[2]=a),o>r[0]&&(r[0]=o),s>r[1]&&(r[1]=s),a>r[2]&&(r[2]=a)}return e.setMinMax(n,r),e}var wc=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);mo();mo();mo();mo();mo();mo();var VH;(function(t){t.Normal="normal",t.PostProcessing="post-processing"})(VH||(VH={}));var z0;(function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"})(z0||(z0={}));var UH;(function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"})(UH||(UH={}));var jv;(function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"})(jv||(jv={}));var aC;(function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"})(aC||(aC={}));var L8e="__DefineValuePlaceholder__";function $8(t){return typeof t=="number"}function rp(t){return t===void 0?0:t>360||t<-360?t%360:t}function Im(t,e,n){return $8(t)?Kr(t,e,n):t.length===3?mp(t):Kr(t[0],t[1],t[2])}var HH=function(){function t(e,n){Cn(this,t),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=e,this.matrix=XFe(n.matrix),this.right=mp(n.right),this.up=mp(n.up),this.forward=mp(n.forward),this.position=mp(n.position),this.focalPoint=mp(n.focalPoint),this.distanceVector=mp(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return Rn(t,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(n){n.matrix=k$(n.matrix,this.matrix),n.right=ul(n.right,this.right),n.up=ul(n.up,this.up),n.forward=ul(n.forward,this.forward),n.position=ul(n.position,this.position),n.focalPoint=ul(n.focalPoint,this.focalPoint),n.distanceVector=ul(n.distanceVector,this.distanceVector),n.azimuth=this.azimuth,n.elevation=this.elevation,n.roll=this.roll,n.relAzimuth=this.relAzimuth,n.relElevation=this.relElevation,n.relRoll=this.relRoll,n.dollyingStep=this.dollyingStep,n.distance=this.distance}}]),t}(),WH,YH,qH,yI,XH,KH,ZH,ko;(function(t){t.ORBITING="ORBITING",t.EXPLORING="EXPLORING",t.TRACKING="TRACKING"})(ko||(ko={}));var G3;(function(t){t.DEFAULT="DEFAULT",t.ROTATIONAL="ROTATIONAL",t.TRANSLATIONAL="TRANSLATIONAL",t.CINEMATIC="CINEMATIC"})(G3||(G3={}));var e0;(function(t){t.ORTHOGRAPHIC="ORTHOGRAPHIC",t.PERSPECTIVE="PERSPECTIVE"})(e0||(e0={}));var ip=Math.PI/180,Fg=180/Math.PI,QH=(WH=Ki(),YH=hr(Gt.InteractorService),WH(qH=(yI=(ZH=KH=function(){function t(){Cn(this,t),this.matrix=Cc(),this.right=Kr(1,0,0),this.up=Kr(0,1,0),this.forward=Kr(0,0,1),this.position=Kr(0,0,1),this.focalPoint=Kr(0,0,0),this.distanceVector=Kr(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,gr(this,"interactor",XH,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Cc(),this.view=void 0,this.following=void 0,this.type=ko.EXPLORING,this.trackingMode=G3.DEFAULT,this.projectionMode=e0.PERSPECTIVE,this.frustum=new n8e,this.landmarks=[],this.landmarkAnimationID=void 0}return Rn(t,[{key:"clone",value:function(){var n=new t;return n.setType(this.type,void 0),n.interactor=this.interactor,n}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(n,r){return this.type=n,this.type===ko.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===ko.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==ko.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){this.rotateWorld=n,this._getAngles()}},{key:"getViewTransform",value:function(){return L3(Cc(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setViewOffset",value:function(n,r,i,o,s,a){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.projectionMode===e0.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===e0.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(n,r,i,o){return this.projectionMode=e0.PERSPECTIVE,this.fov=i,this.near=n,this.far=r,this.aspect=o,e5e(this.perspective,this.fov*ip,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(n,r,i,o,s,a){this.projectionMode=e0.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=i,this.bottom=o,this.near=s,this.far=a;var l=(this.rright-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,d=u-l,h=u+l,p=f+c,g=f-c;if(this.view!==void 0&&this.view.enabled){var m=(this.rright-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=m*this.view.offsetX,h=d+m*this.view.width,p-=y*this.view.offsetY,g=p-y*this.view.height}return n5e(this.perspective,d,h,p,g,s,a),this}},{key:"setPosition",value:function(n,r,i){return this._setPosition(n,r,i),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(n,r,i){var o=Kr(0,1,0);if(this.focalPoint=Im(n,r,i),this.trackingMode===G3.CINEMATIC){var s=D$(mo(),this.focalPoint,this.position);n=s[0],r=s[1],i=s[2];var a=NO(s),l=Math.asin(r/a)*Fg,c=90+Math.atan2(i,n)*Fg,u=Cc();ZFe(u,u,c*ip),KFe(u,u,l*ip),o=D8(mo(),[0,1,0],u)}return L3(this.matrix,r5e(Cc(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(n){if(!(this.distance===n||n<0)){this.distance=n,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var r=mo();n=this.distance;var i=this.forward,o=this.focalPoint;return r[0]=n*i[0]+o[0],r[1]=n*i[1]+o[1],r[2]=n*i[2]+o[2],this._setPosition(r),this}}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"changeAzimuth",value:function(n){return this.setAzimuth(this.azimuth+n),this}},{key:"changeElevation",value:function(n){return this.setElevation(this.elevation+n),this}},{key:"changeRoll",value:function(n){return this.setRoll(this.roll+n),this}},{key:"setAzimuth",value:function(n){return this.azimuth=rp(n),this.computeMatrix(),this._getAxes(),this.type===ko.ORBITING||this.type===ko.EXPLORING?this._getPosition():this.type===ko.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=rp(n),this.computeMatrix(),this._getAxes(),this.type===ko.ORBITING||this.type===ko.EXPLORING?this._getPosition():this.type===ko.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(n){return this.roll=rp(n),this.computeMatrix(),this._getAxes(),this.type===ko.ORBITING||this.type===ko.EXPLORING?this._getPosition():this.type===ko.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(n,r,i){if(this.type===ko.EXPLORING){n=rp(n),r=rp(r),i=rp(i);var o=Xm(Oa(),[1,0,0],(this.rotateWorld?1:-1)*r*ip),s=Xm(Oa(),[0,1,0],(this.rotateWorld?1:-1)*n*ip),a=Xm(Oa(),[0,0,1],i*ip),l=Ju(Oa(),s,o);l=Ju(Oa(),l,a);var c=OV(Cc(),l);$x(this.matrix,this.matrix,[0,0,-this.distance]),b0(this.matrix,this.matrix,c),$x(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+r)>90)return;this.relElevation=rp(r),this.relAzimuth=rp(n),this.relRoll=rp(i),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===ko.ORBITING||this.type===ko.EXPLORING?this._getPosition():this.type===ko.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(n,r){var i=Im(n,r,0),o=mp(this.position);return Ep(o,o,_S(mo(),this.right,i[0])),Ep(o,o,_S(mo(),this.up,i[1])),this._setPosition(o),this}},{key:"dolly",value:function(n){var r=this.forward,i=mp(this.position),o=n*this.dollyingStep,s=this.distance+n*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,i[0]+=o*r[0],i[1]+=o*r[1],i[2]+=o*r[2],this._setPosition(i),this.type===ko.ORBITING||this.type===ko.EXPLORING?this._getDistance():this.type===ko.TRACKING&&Ep(this.focalPoint,i,this.distanceVector),this}},{key:"createLandmark",value:function(n,r){var i=this.clone();i.setPosition(r.position),i.setFocalPoint(r.focalPoint),r.roll!==void 0&&i.setRoll(r.roll);var o=new HH(n,i);return this.landmarks.push(o),o}},{key:"setLandmark",value:function(n){var r=new HH(n,this);return this.landmarks.push(r),this}},{key:"gotoLandmark",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,o=this.landmarks.find(function(f){return f.name===n});if(o){if(i===0){o.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var s=o.getPosition(),a=o.getFocalPoint(),l=o.getRoll(),c,u=function f(d){c===void 0&&(c=d);var h=d-c,p=(1-Math.cos(h/i*Math.PI))/2,g=mo(),m=mo(),y=0;F0(g,r.focalPoint,a,p),F0(m,r.position,s,p),y=r.roll*(1-p)+l*p,r.setFocalPoint(g),r.setPosition(m),r.setRoll(y),r.computeMatrix();var b=MV(g,a)+MV(m,s);if(!(b>.01)){r.setFocalPoint(g),r.setPosition(m),r.setRoll(y),r.computeMatrix(),r.interactor.connect();return}h<i&&(r.landmarkAnimationID=window.requestAnimationFrame(f))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var n,r,i=Xm(Oa(),[0,0,1],this.roll*ip);Sse(this.matrix),n=Xm(Oa(),[1,0,0],(this.rotateWorld&&this.type!==ko.TRACKING||this.type===ko.TRACKING?1:-1)*this.elevation*ip),r=Xm(Oa(),[0,1,0],(this.rotateWorld&&this.type!==ko.TRACKING||this.type===ko.TRACKING?1:-1)*this.azimuth*ip);var o=Ju(Oa(),r,n);o=Ju(Oa(),o,i);var s=OV(Cc(),o);this.type===ko.ORBITING||this.type===ko.EXPLORING?($x(this.matrix,this.matrix,this.focalPoint),b0(this.matrix,this.matrix,s),$x(this.matrix,this.matrix,[0,0,this.distance])):this.type===ko.TRACKING&&($x(this.matrix,this.matrix,this.position),b0(this.matrix,this.matrix,s))}},{key:"_setPosition",value:function(n,r,i){this.position=Im(n,r,i);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1}},{key:"_getAxes",value:function(){ul(this.right,Im(Ow(Pw(),[1,0,0,0],this.matrix))),ul(this.up,Im(Ow(Pw(),[0,1,0,0],this.matrix))),ul(this.forward,Im(Ow(Pw(),[0,0,1,0],this.matrix))),sC(this.right,this.right),sC(this.up,this.up),sC(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],o=NO(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===ko.TRACKING?(this.elevation=Math.asin(r/o)*Fg,this.azimuth=Math.atan2(-n,-i)*Fg):this.rotateWorld?(this.elevation=Math.asin(r/o)*Fg,this.azimuth=Math.atan2(-n,-i)*Fg):(this.elevation=-Math.asin(r/o)*Fg,this.azimuth=-Math.atan2(-n,-i)*Fg)}},{key:"_getPosition",value:function(){ul(this.position,Im(Ow(Pw(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){N8(this.distanceVector,[0,0,-this.distance],YFe(DE(),this.matrix)),Ep(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=D$(mo(),this.focalPoint,this.position),this.distance=NO(this.distanceVector),this.dollyingStep=this.distance/100}}]),t}(),KH.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},ZH),XH=vr(yI.prototype,"interactor",[YH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yI))||qH),JH,eW,tW,bI,nW,Vx,rW,fv=(JH=Ki(),eW=hr(Gt.GeometryComponentManager),JH(tW=(bI=(rW=Vx=function(){function t(){Cn(this,t),this.config=void 0,gr(this,"geometry",nW,this),this.entity=void 0,this.component=void 0}return Rn(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n){this.entity=n,this.component=this.geometry.create(n),this.component.entity=n,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),t}(),Vx.BOX="box",Vx.SPHERE="sphere",Vx.PLANE="plane",Vx.MERGED="merged",rW),nW=vr(bI.prototype,"geometry",[eW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bI))||tW),vn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TextureCompressionBC="texture-compression-bc"}(t.ExtensionName||(t.ExtensionName={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.AddressMode||(t.AddressMode={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.BindingType||(t.BindingType={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.BlendFactor||(t.BlendFactor={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.BlendOperation||(t.BlendOperation={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.CompareFunction||(t.CompareFunction={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.CullMode||(t.CullMode={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.FilterMode||(t.FilterMode={})),function(e){e.CCW="ccw",e.CW="cw"}(t.FrontFace||(t.FrontFace={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.IndexFormat||(t.IndexFormat={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.InputStepMode||(t.InputStepMode={})),function(e){e.Load="load"}(t.LoadOp||(t.LoadOp={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.PrimitiveTopology||(t.PrimitiveTopology={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.StencilOperation||(t.StencilOperation={})),function(e){e.Store="store",e.Clear="clear"}(t.StoreOp||(t.StoreOp={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.TextureDimension||(t.TextureDimension={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.TextureFormat||(t.TextureFormat={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.TextureComponentType||(t.TextureComponentType={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.TextureViewDimension||(t.TextureViewDimension={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.VertexFormat||(t.VertexFormat={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.TextureAspect||(t.TextureAspect={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.CompilationMessageType||(t.CompilationMessageType={})),function(e){e.Occlusion="occlusion"}(t.QueryType||(t.QueryType={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.BufferUsage||(t.BufferUsage={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.ColorWrite||(t.ColorWrite={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.ShaderStage||(t.ShaderStage={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.TextureUsage||(t.TextureUsage={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.MapMode||(t.MapMode={}))})(vn);function Pse(){if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var F8e={}.toString,z8e=function(e,n){return F8e.call(e)==="[object "+n+"]"};const G8e=function(t){return Array.isArray?Array.isArray(t):z8e(t,"Array")};var B8e=9007199254740991,j8e="[object Arguments]",V8e="[object Array]",U8e="[object Boolean]",H8e="[object Date]",W8e="[object Error]",Y8e="[object Function]",q8e="[object Map]",X8e="[object Number]",K8e="[object Object]",Z8e="[object RegExp]",Q8e="[object Set]",J8e="[object String]",eze="[object WeakMap]",tze="[object ArrayBuffer]",nze="[object DataView]",rze="[object Float32Array]",ize="[object Float64Array]",oze="[object Int8Array]",sze="[object Int16Array]",aze="[object Int32Array]",lze="[object Uint8Array]",cze="[object Uint8ClampedArray]",uze="[object Uint16Array]",fze="[object Uint32Array]",us={};us[rze]=us[ize]=us[oze]=us[sze]=us[aze]=us[lze]=us[cze]=us[uze]=us[fze]=!0;us[j8e]=us[V8e]=us[tze]=us[U8e]=us[nze]=us[H8e]=us[W8e]=us[Y8e]=us[q8e]=us[X8e]=us[K8e]=us[Z8e]=us[Q8e]=us[J8e]=us[eze]=!1;var dze=Object.prototype,hze=dze.toString;function pze(t){return vze(t)&&gze(t.length)&&!!us[hze.call(t)]}function gze(t){return typeof t=="number"&&t>-1&&t%1===0&&t<=B8e}function vze(t){return!!t&&Ar(t)==="object"}var Ose=pze,iW,oW,sW,aW,bP,lW,cW,uW;function fW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fW(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hW=(iW=Ki(),oW=hr(Gt.RenderEngine),sW=hr(Gt.ConfigService),iW(aW=(bP=(uW=function(){function t(){Cn(this,t),gr(this,"engine",lW,this),gr(this,"configService",cW,this),this.entity=Jd(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return Rn(t,[{key:"init",value:function(){var n=this.configService.get(),r=n.canvas,i=n.engineOptions;this.initPromise=this.engine.init(dW({canvas:r||Pse(),swapChainFormat:vn.TextureFormat.BGRA8Unorm,antialiasing:!1},i))}},{key:"setBundle",value:function(n){this.compiledBundle=JSON.parse(JSON.stringify(n))}},{key:"setDispatch",value:function(n){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=n),this}},{key:"setMaxIteration",value:function(n){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=n),this}},{key:"setBinding",value:function(n,r){var i=this;if(typeof n=="string"){var o=$8(r)||Ose(r)||G8e(r);if(this.compiledBundle&&this.compiledBundle.context){var s=this.compiledBundle.context.defines.find(function(l){return l.name===n});if(s)return s.value=r,this;var a=this.compiledBundle.context.uniforms.find(function(l){return l.name===n});a&&(o?(a.data=r,a.isReferer=!1,a.storageClass===jv.Uniform?this.model&&this.model.updateUniform(n,r):this.model&&this.model.updateBuffer(n,r)):(a.isReferer=!0,a.data=r))}}else Object.keys(n).forEach(function(l){i.setBinding(l,n[l])});return this}},{key:"execute",value:function(){var e=ii(Hn.mark(function r(){var i=this,o,s,a=arguments;return Hn.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=a.length>0&&a[0]!==void 0?a[0]:1,!this.dirty){c.next=6;break}return this.compiledBundle.context&&(o>1?this.compiledBundle.context.maxIteration=o:this.compiledBundle.context.maxIteration++),c.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(u){var f=u.isReferer;return f}).forEach(function(u){var f=u.data,d=u.name;i.model.confirmInput(f.model,d)}),s=0;s<o;s++)this.model.run();return this.engine.endFrame(),c.abrupt("return",this);case 12:case"end":return c.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getOutput",value:function(){var e=ii(Hn.mark(function r(){return Hn.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.model.readData());case 1:case"end":return o.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"compile",value:function(){var e=ii(Hn.mark(function r(){var i,o,s;return Hn.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.initPromise;case 2:return i=dW({},this.compiledBundle.context),o=this.engine.supportWebGPU?this.engine.useWGSL?aC.WGSL:aC.GLSL450:aC.GLSL100,s=this.compiledBundle.shaders[o],i.defines.filter(function(c){return c.runtime}).forEach(function(c){var u="".concat(L8e).concat(c.name);s=s.replace(u,"".concat(c.value))}),i.shader=s,i.uniforms.forEach(function(c){if(!c.data&&c.storageClass===jv.StorageBuffer){var u=1;c.type===z0.FloatArray?u=1:c.type===z0.Vector4FloatArray&&(u=4),c.data=new Float32Array(i.output.length*u).fill(0)}}),this.compiledBundle.context=i,l.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=l.sent;case 12:case"end":return l.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}]),t}(),uW),lW=vr(bP.prototype,"engine",[oW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cW=vr(bP.prototype,"configService",[sW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bP))||aW),pW,gW,vW,xI,mW,yW,bW,Mse=(pW=Ki(),gW=hr(Gt.MaterialComponentManager),pW(vW=(xI=(bW=yW=function(){function t(){Cn(this,t),this.config=void 0,gr(this,"material",mW,this),this.entity=void 0,this.component=void 0}return Rn(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n,r){this.entity=n,this.component=this.material.create(n),this.component.entity=n,this.component.type=r,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),t}(),yW.BASIC="basic",bW),mW=vr(xI.prototype,"material",[gW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xI))||vW),xW,wW,CW,SW,EW,_W,TW,eb,PW,OW,MW,AW,xP,kW,tv=(xW=Ki(),wW=hr(Gt.MeshComponentManager),CW=hr(Gt.CullableComponentManager),SW=hr(Gt.TransformComponentManager),EW=hr(Gt.Systems),_W=rd(Gt.SceneGraphSystem),xW(TW=(eb=(kW=xP=function(){function t(){Cn(this,t),this.attributes={},this.config=void 0,gr(this,"mesh",PW,this),gr(this,"cullable",OW,this),gr(this,"transform",MW,this),gr(this,"sceneGraphSystem",AW,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Rn(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(n){this.config=n}},{key:"setEntity",value:function(n){this.entity=n,this.cullable.create(n),this.meshComponent=this.mesh.create(n),this.transformComponent=this.transform.create(n),this.onEntityCreated()}},{key:"setMaterial",value:function(n){return this.meshComponent.material=n,this}},{key:"setGeometry",value:function(n){return this.meshComponent.geometry=n,this}},{key:"setAttributes",value:function(n){var r=this;Object.keys(n).forEach(function(i){n[i]!==void 0&&n[i]!==r.attributes[i]&&(r.onAttributeChanged({name:i,data:n[i]}),r.attributes[i]=n[i])})}},{key:"setVisible",value:function(n){var r=this;return this.meshComponent.visible=n,this.meshComponent.children.forEach(function(i){var o=r.mesh.getComponentByEntity(i);o&&(o.visible=n)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(n){return this.sceneGraphSystem.attach(this.entity,n.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(n){var r=n.name,i=n.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(r),i)}},{key:"convertAttributeName2UniformName",value:function(n){return n}}]),t}(),xP.POINT="point",xP.LINE="line",xP.GRID="grid",kW),PW=vr(eb.prototype,"mesh",[wW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),OW=vr(eb.prototype,"cullable",[CW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MW=vr(eb.prototype,"transform",[SW],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AW=vr(eb.prototype,"sceneGraphSystem",[EW,_W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eb))||TW),Ase={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ou,function(){var n=function(G){return G instanceof Uint8Array||G instanceof Uint16Array||G instanceof Uint32Array||G instanceof Int8Array||G instanceof Int16Array||G instanceof Int32Array||G instanceof Float32Array||G instanceof Float64Array||G instanceof Uint8ClampedArray},r=function(G,Q){for(var we=Object.keys(Q),rt=0;rt<we.length;++rt)G[we[rt]]=Q[we[rt]];return G},i=`
`;function o(G){return typeof atob<"u"?atob(G):"base64:"+G}function s(G){var Q=new Error("(regl) "+G);throw console.error(Q),Q}function a(G,Q){G||s(Q)}function l(G){return G?": "+G:""}function c(G,Q,we){G in Q||s("unknown parameter ("+G+")"+l(we)+". possible values: "+Object.keys(Q).join())}function u(G,Q){n(G)||s("invalid parameter type"+l(Q)+". must be a typed array")}function f(G,Q){switch(Q){case"number":return typeof G=="number";case"object":return typeof G=="object";case"string":return typeof G=="string";case"boolean":return typeof G=="boolean";case"function":return typeof G=="function";case"undefined":return typeof G>"u";case"symbol":return typeof G=="symbol"}}function d(G,Q,we){f(G,Q)||s("invalid parameter type"+l(we)+". expected "+Q+", got "+typeof G)}function h(G,Q){G>=0&&(G|0)===G||s("invalid parameter type, ("+G+")"+l(Q)+". must be a nonnegative integer")}function p(G,Q,we){Q.indexOf(G)<0&&s("invalid value"+l(we)+". must be one of: "+Q)}var g=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(G){Object.keys(G).forEach(function(Q){g.indexOf(Q)<0&&s('invalid regl constructor argument "'+Q+'". must be one of '+g)})}function y(G,Q){for(G=G+"";G.length<Q;)G=" "+G;return G}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function C(G,Q){this.number=G,this.line=Q,this.errors=[]}function E(G,Q,we){this.file=G,this.line=Q,this.message=we}function _(){var G=new Error,Q=(G.stack||G).toString(),we=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Q);if(we)return we[1];var rt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Q);return rt?rt[1]:"unknown"}function w(){var G=new Error,Q=(G.stack||G).toString(),we=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Q);if(we)return we[1];var rt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Q);return rt?rt[1]:"unknown"}function M(G,Q){var we=G.split(`
`),rt=1,yt=0,it={unknown:new b,0:new b};it.unknown.name=it[0].name=Q||_(),it.unknown.lines.push(new C(0,""));for(var ct=0;ct<we.length;++ct){var Vt=we[ct],Ot=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Vt);if(Ot)switch(Ot[1]){case"line":var Zt=/(\d+)(\s+\d+)?/.exec(Ot[2]);Zt&&(rt=Zt[1]|0,Zt[2]&&(yt=Zt[2]|0,yt in it||(it[yt]=new b)));break;case"define":var Wt=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Ot[2]);Wt&&(it[yt].name=Wt[1]?o(Wt[2]):Wt[2]);break}it[yt].lines.push(new C(rt++,Vt))}return Object.keys(it).forEach(function(nn){var hn=it[nn];hn.lines.forEach(function(Ut){hn.index[Ut.number]=Ut})}),it}function k(G){var Q=[];return G.split(`
`).forEach(function(we){if(!(we.length<5)){var rt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(we);rt?Q.push(new E(rt[1]|0,rt[2]|0,rt[3].trim())):we.length>0&&Q.push(new E("unknown",0,we))}}),Q}function I(G,Q){Q.forEach(function(we){var rt=G[we.file];if(rt){var yt=rt.index[we.line];if(yt){yt.errors.push(we),rt.hasErrors=!0;return}}G.unknown.hasErrors=!0,G.unknown.lines[0].errors.push(we)})}function A(G,Q,we,rt,yt){if(!G.getShaderParameter(Q,G.COMPILE_STATUS)){var it=G.getShaderInfoLog(Q),ct=rt===G.FRAGMENT_SHADER?"fragment":"vertex";te(we,"string",ct+" shader source must be a string",yt);var Vt=M(we,yt),Ot=k(it);I(Vt,Ot),Object.keys(Vt).forEach(function(Zt){var Wt=Vt[Zt];if(!Wt.hasErrors)return;var nn=[""],hn=[""];function Ut(an,Ue){nn.push(an),hn.push(Ue||"")}Ut("file number "+Zt+": "+Wt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Wt.lines.forEach(function(an){if(an.errors.length>0){Ut(y(an.number,4)+"|  ","background-color:yellow; font-weight:bold"),Ut(an.line+i,"color:red; background-color:yellow; font-weight:bold");var Ue=0;an.errors.forEach(function(ft){var Bt=ft.message,rn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Bt);if(rn){var Mt=rn[1];switch(Bt=rn[2],Mt){case"assign":Mt="=";break}Ue=Math.max(an.line.indexOf(Mt,Ue),0)}else Ue=0;Ut(y("| ",6)),Ut(y("^^^",Ue+3)+i,"font-weight:bold"),Ut(y("| ",6)),Ut(Bt+i,"font-weight:bold")}),Ut(y("| ",6)+i)}else Ut(y(an.number,4)+"|  "),Ut(an.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(hn[0]=nn.join("%c"),console.log.apply(console,hn)):console.log(nn.join(""))}),a.raise("Error compiling "+ct+" shader, "+Vt[0].name)}}function N(G,Q,we,rt,yt){if(!G.getProgramParameter(Q,G.LINK_STATUS)){var it=G.getProgramInfoLog(Q),ct=M(we,yt),Vt=M(rt,yt),Ot='Error linking program with vertex shader, "'+Vt[0].name+'", and fragment shader "'+ct[0].name+'"';typeof document<"u"?console.log("%c"+Ot+i+"%c"+it,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Ot+i+it),a.raise(Ot)}}function $(G){G._commandRef=_()}function L(G,Q,we,rt){$(G);function yt(Ot){return Ot?rt.id(Ot):0}G._fragId=yt(G.static.frag),G._vertId=yt(G.static.vert);function it(Ot,Zt){Object.keys(Zt).forEach(function(Wt){Ot[rt.id(Wt)]=!0})}var ct=G._uniformSet={};it(ct,Q.static),it(ct,Q.dynamic);var Vt=G._attributeSet={};it(Vt,we.static),it(Vt,we.dynamic),G._hasCount="count"in G.static||"count"in G.dynamic||"elements"in G.static||"elements"in G.dynamic}function B(G,Q){var we=w();s(G+" in command "+(Q||_())+(we==="unknown"?"":" called from "+we))}function j(G,Q,we){G||B(Q,we||_())}function H(G,Q,we,rt){G in Q||B("unknown parameter ("+G+")"+l(we)+". possible values: "+Object.keys(Q).join(),rt||_())}function te(G,Q,we,rt){f(G,Q)||B("invalid parameter type"+l(we)+". expected "+Q+", got "+typeof G,rt||_())}function Y(G){G()}function ue(G,Q,we){G.texture?p(G.texture._texture.internalformat,Q,"unsupported texture format for attachment"):p(G.renderbuffer._renderbuffer.format,we,"unsupported renderbuffer format for attachment")}var ce=33071,se=9728,fe=9984,me=9985,K=9986,le=9987,Ne=5120,Re=5121,Je=5122,$e=5123,tt=5124,Pt=5125,bt=5126,X=32819,ve=32820,ne=33635,ke=34042,je=36193,Ve={};Ve[Ne]=Ve[Re]=1,Ve[Je]=Ve[$e]=Ve[je]=Ve[ne]=Ve[X]=Ve[ve]=2,Ve[tt]=Ve[Pt]=Ve[bt]=Ve[ke]=4;function $t(G,Q){return G===ve||G===X||G===ne?2:G===ke?4:Ve[G]*Q}function Ct(G){return!(G&G-1)&&!!G}function ln(G,Q,we){var rt,yt=Q.width,it=Q.height,ct=Q.channels;a(yt>0&&yt<=we.maxTextureSize&&it>0&&it<=we.maxTextureSize,"invalid texture shape"),(G.wrapS!==ce||G.wrapT!==ce)&&a(Ct(yt)&&Ct(it),"incompatible wrap mode for texture, both width and height must be power of 2"),Q.mipmask===1?yt!==1&&it!==1&&a(G.minFilter!==fe&&G.minFilter!==K&&G.minFilter!==me&&G.minFilter!==le,"min filter requires mipmap"):(a(Ct(yt)&&Ct(it),"texture must be a square power of 2 to support mipmapping"),a(Q.mipmask===(yt<<1)-1,"missing or incomplete mipmap data")),Q.type===bt&&(we.extensions.indexOf("oes_texture_float_linear")<0&&a(G.minFilter===se&&G.magFilter===se,"filter not supported, must enable oes_texture_float_linear"),a(!G.genMipmaps,"mipmap generation not supported with float textures"));var Vt=Q.images;for(rt=0;rt<16;++rt)if(Vt[rt]){var Ot=yt>>rt,Zt=it>>rt;a(Q.mipmask&1<<rt,"missing mipmap data");var Wt=Vt[rt];if(a(Wt.width===Ot&&Wt.height===Zt,"invalid shape for mip images"),a(Wt.format===Q.format&&Wt.internalformat===Q.internalformat&&Wt.type===Q.type,"incompatible type for mip image"),!Wt.compressed)if(Wt.data){var nn=Math.ceil($t(Wt.type,ct)*Ot/Wt.unpackAlignment)*Wt.unpackAlignment;a(Wt.data.byteLength===nn*Zt,"invalid data for image, buffer size is inconsistent with image format")}else Wt.element||Wt.copy}else G.genMipmaps||a((Q.mipmask&1<<rt)===0,"extra mipmap data");Q.compressed&&a(!G.genMipmaps,"mipmap generation for compressed images not supported")}function bn(G,Q,we,rt){var yt=G.width,it=G.height,ct=G.channels;a(yt>0&&yt<=rt.maxTextureSize&&it>0&&it<=rt.maxTextureSize,"invalid texture shape"),a(yt===it,"cube map must be square"),a(Q.wrapS===ce&&Q.wrapT===ce,"wrap mode not supported by cube map");for(var Vt=0;Vt<we.length;++Vt){var Ot=we[Vt];a(Ot.width===yt&&Ot.height===it,"inconsistent cube map face shape"),Q.genMipmaps&&(a(!Ot.compressed,"can not generate mipmap for compressed textures"),a(Ot.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Zt=Ot.images,Wt=0;Wt<16;++Wt){var nn=Zt[Wt];if(nn){var hn=yt>>Wt,Ut=it>>Wt;a(Ot.mipmask&1<<Wt,"missing mipmap data"),a(nn.width===hn&&nn.height===Ut,"invalid shape for mip images"),a(nn.format===G.format&&nn.internalformat===G.internalformat&&nn.type===G.type,"incompatible type for mip image"),nn.compressed||(nn.data?a(nn.data.byteLength===hn*Ut*Math.max($t(nn.type,ct),nn.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):nn.element||nn.copy)}}}}var Z=r(a,{optional:Y,raise:s,commandRaise:B,command:j,parameter:c,commandParameter:H,constructor:m,type:d,commandType:te,isTypedArray:u,nni:h,oneOf:p,shaderError:A,linkError:N,callSite:w,saveCommandRef:$,saveDrawInfo:L,framebufferFormat:ue,guessCommand:_,texture2D:ln,textureCube:bn}),J=0,xe=0,Se=5,ze=6;function ot(G,Q){this.id=J++,this.type=G,this.data=Q}function yn(G){return G.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function xt(G){if(G.length===0)return[];var Q=G.charAt(0),we=G.charAt(G.length-1);if(G.length>1&&Q===we&&(Q==='"'||Q==="'"))return['"'+yn(G.substr(1,G.length-2))+'"'];var rt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(G);if(rt)return xt(G.substr(0,rt.index)).concat(xt(rt[1])).concat(xt(G.substr(rt.index+rt[0].length)));var yt=G.split(".");if(yt.length===1)return['"'+yn(G)+'"'];for(var it=[],ct=0;ct<yt.length;++ct)it=it.concat(xt(yt[ct]));return it}function It(G){return"["+xt(G).join("][")+"]"}function qe(G,Q){return new ot(G,It(Q+""))}function Tt(G){return typeof G=="function"&&!G._reglType||G instanceof ot}function Dt(G,Q){if(typeof G=="function")return new ot(xe,G);if(typeof G=="number"||typeof G=="boolean")return new ot(Se,G);if(Array.isArray(G))return new ot(ze,G.map((we,rt)=>Dt(we,Q+"["+rt+"]")));if(G instanceof ot)return G;Z(!1,"invalid option type in uniform "+Q)}var _n={DynamicVariable:ot,define:qe,isDynamic:Tt,unbox:Dt,accessor:It},lr={next:typeof requestAnimationFrame=="function"?function(G){return requestAnimationFrame(G)}:function(G){return setTimeout(G,16)},cancel:typeof cancelAnimationFrame=="function"?function(G){return cancelAnimationFrame(G)}:clearTimeout},Qn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Wn(){var G={"":0},Q=[""];return{id:function(we){var rt=G[we];return rt||(rt=G[we]=Q.length,Q.push(we),rt)},str:function(we){return Q[we]}}}function In(G,Q,we){var rt=document.createElement("canvas");r(rt.style,{border:0,margin:0,padding:0,top:0,left:0}),G.appendChild(rt),G===document.body&&(rt.style.position="absolute",r(G.style,{margin:0,padding:0}));function yt(){var Vt=window.innerWidth,Ot=window.innerHeight;if(G!==document.body){var Zt=G.getBoundingClientRect();Vt=Zt.right-Zt.left,Ot=Zt.bottom-Zt.top}rt.width=we*Vt,rt.height=we*Ot,r(rt.style,{width:Vt+"px",height:Ot+"px"})}var it;G!==document.body&&typeof ResizeObserver=="function"?(it=new ResizeObserver(function(){setTimeout(yt)}),it.observe(G)):window.addEventListener("resize",yt,!1);function ct(){it?it.disconnect():window.removeEventListener("resize",yt),G.removeChild(rt)}return yt(),{canvas:rt,onDestroy:ct}}function en(G,Q){function we(rt){try{return G.getContext(rt,Q)}catch{return null}}return we("webgl")||we("experimental-webgl")||we("webgl-experimental")}function Pn(G){return typeof G.nodeName=="string"&&typeof G.appendChild=="function"&&typeof G.getBoundingClientRect=="function"}function Sr(G){return typeof G.drawArrays=="function"||typeof G.drawElements=="function"}function Fn(G){return typeof G=="string"?G.split():(Z(Array.isArray(G),"invalid extension array"),G)}function ro(G){return typeof G=="string"?(Z(typeof document<"u","not supported outside of DOM"),document.querySelector(G)):G}function wo(G){var Q=G||{},we,rt,yt,it,ct={},Vt=[],Ot=[],Zt=typeof window>"u"?1:window.devicePixelRatio,Wt=!1,nn=function(an){an&&Z.raise(an)},hn=function(){};if(typeof Q=="string"?(Z(typeof document<"u","selector queries only supported in DOM enviroments"),we=document.querySelector(Q),Z(we,"invalid query string for element")):typeof Q=="object"?Pn(Q)?we=Q:Sr(Q)?(it=Q,yt=it.canvas):(Z.constructor(Q),"gl"in Q?it=Q.gl:"canvas"in Q?yt=ro(Q.canvas):"container"in Q&&(rt=ro(Q.container)),"attributes"in Q&&(ct=Q.attributes,Z.type(ct,"object","invalid context attributes")),"extensions"in Q&&(Vt=Fn(Q.extensions)),"optionalExtensions"in Q&&(Ot=Fn(Q.optionalExtensions)),"onDone"in Q&&(Z.type(Q.onDone,"function","invalid or missing onDone callback"),nn=Q.onDone),"profile"in Q&&(Wt=!!Q.profile),"pixelRatio"in Q&&(Zt=+Q.pixelRatio,Z(Zt>0,"invalid pixel ratio"))):Z.raise("invalid arguments to regl"),we&&(we.nodeName.toLowerCase()==="canvas"?yt=we:rt=we),!it){if(!yt){Z(typeof document<"u","must manually specify webgl context outside of DOM environments");var Ut=In(rt||document.body,nn,Zt);if(!Ut)return null;yt=Ut.canvas,hn=Ut.onDestroy}ct.premultipliedAlpha===void 0&&(ct.premultipliedAlpha=!0),it=en(yt,ct)}return it?{gl:it,canvas:yt,container:rt,extensions:Vt,optionalExtensions:Ot,pixelRatio:Zt,profile:Wt,onDone:nn,onDestroy:hn}:(hn(),nn("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Tr(G,Q){var we={};function rt(ct){Z.type(ct,"string","extension name must be string");var Vt=ct.toLowerCase(),Ot;try{Ot=we[Vt]=G.getExtension(Vt)}catch{}return!!Ot}for(var yt=0;yt<Q.extensions.length;++yt){var it=Q.extensions[yt];if(!rt(it))return Q.onDestroy(),Q.onDone('"'+it+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Q.optionalExtensions.forEach(rt),{extensions:we,restore:function(){Object.keys(we).forEach(function(ct){if(we[ct]&&!rt(ct))throw new Error("(regl): error restoring extension "+ct)})}}}function Yt(G,Q){for(var we=Array(G),rt=0;rt<G;++rt)we[rt]=Q(rt);return we}var gn=5120,dn=5121,zt=5122,On=5123,Gr=5124,qo=5125,Hr=5126;function Qi(G){for(var Q=16;Q<=1<<28;Q*=16)if(G<=Q)return Q;return 0}function Vi(G){var Q,we;return Q=(G>65535)<<4,G>>>=Q,we=(G>255)<<3,G>>>=we,Q|=we,we=(G>15)<<2,G>>>=we,Q|=we,we=(G>3)<<1,G>>>=we,Q|=we,Q|G>>1}function ys(){var G=Yt(8,function(){return[]});function Q(it){var ct=Qi(it),Vt=G[Vi(ct)>>2];return Vt.length>0?Vt.pop():new ArrayBuffer(ct)}function we(it){G[Vi(it.byteLength)>>2].push(it)}function rt(it,ct){var Vt=null;switch(it){case gn:Vt=new Int8Array(Q(ct),0,ct);break;case dn:Vt=new Uint8Array(Q(ct),0,ct);break;case zt:Vt=new Int16Array(Q(2*ct),0,ct);break;case On:Vt=new Uint16Array(Q(2*ct),0,ct);break;case Gr:Vt=new Int32Array(Q(4*ct),0,ct);break;case qo:Vt=new Uint32Array(Q(4*ct),0,ct);break;case Hr:Vt=new Float32Array(Q(4*ct),0,ct);break;default:return null}return Vt.length!==ct?Vt.subarray(0,ct):Vt}function yt(it){we(it.buffer)}return{alloc:Q,free:we,allocType:rt,freeType:yt}}var qr=ys();qr.zero=ys();var bs=3408,io=3410,Fo=3411,xs=3412,ua=3413,Sa=3414,Xr=3415,Fr=33901,fr=33902,er=3379,oo=3386,ws=34921,Ia=36347,xl=36348,wl=35661,el=35660,Cl=34930,ho=36349,ti=34076,Br=34024,Di=7936,tr=7937,or=7938,Ui=35724,Hi=34047,po=36063,Ms=34852,As=3553,zo=34067,fa=34069,da=33984,ha=6408,Fl=5126,$a=5121,La=36160,md=36053,cg=36064,Tu=16384,Ic=function(G,Q){var we=1;Q.ext_texture_filter_anisotropic&&(we=G.getParameter(Hi));var rt=1,yt=1;Q.webgl_draw_buffers&&(rt=G.getParameter(Ms),yt=G.getParameter(po));var it=!!Q.oes_texture_float;if(it){var ct=G.createTexture();G.bindTexture(As,ct),G.texImage2D(As,0,ha,1,1,0,ha,Fl,null);var Vt=G.createFramebuffer();if(G.bindFramebuffer(La,Vt),G.framebufferTexture2D(La,cg,As,ct,0),G.bindTexture(As,null),G.checkFramebufferStatus(La)!==md)it=!1;else{G.viewport(0,0,1,1),G.clearColor(1,0,0,1),G.clear(Tu);var Ot=qr.allocType(Fl,4);G.readPixels(0,0,1,1,ha,Fl,Ot),G.getError()?it=!1:(G.deleteFramebuffer(Vt),G.deleteTexture(ct),it=Ot[0]===1),qr.freeType(Ot)}}var Zt=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Wt=!0;if(!Zt){var nn=G.createTexture(),hn=qr.allocType($a,36);G.activeTexture(da),G.bindTexture(zo,nn),G.texImage2D(fa,0,ha,3,3,0,ha,$a,hn),qr.freeType(hn),G.bindTexture(zo,null),G.deleteTexture(nn),Wt=!G.getError()}return{colorBits:[G.getParameter(io),G.getParameter(Fo),G.getParameter(xs),G.getParameter(ua)],depthBits:G.getParameter(Sa),stencilBits:G.getParameter(Xr),subpixelBits:G.getParameter(bs),extensions:Object.keys(Q).filter(function(Ut){return!!Q[Ut]}),maxAnisotropic:we,maxDrawbuffers:rt,maxColorAttachments:yt,pointSizeDims:G.getParameter(Fr),lineWidthDims:G.getParameter(fr),maxViewportDims:G.getParameter(oo),maxCombinedTextureUnits:G.getParameter(wl),maxCubeMapSize:G.getParameter(ti),maxRenderbufferSize:G.getParameter(Br),maxTextureUnits:G.getParameter(Cl),maxTextureSize:G.getParameter(er),maxAttributes:G.getParameter(ws),maxVertexUniforms:G.getParameter(Ia),maxVertexTextureUnits:G.getParameter(el),maxVaryingVectors:G.getParameter(xl),maxFragmentUniforms:G.getParameter(ho),glsl:G.getParameter(Ui),renderer:G.getParameter(tr),vendor:G.getParameter(Di),version:G.getParameter(or),readFloat:it,npotTextureCube:Wt}};function Uo(G){return!!G&&typeof G=="object"&&Array.isArray(G.shape)&&Array.isArray(G.stride)&&typeof G.offset=="number"&&G.shape.length===G.stride.length&&(Array.isArray(G.data)||n(G.data))}var Ws=function(G){return Object.keys(G).map(function(Q){return G[Q]})},$c={shape:Pu,flatten:xf};function ug(G,Q,we){for(var rt=0;rt<Q;++rt)we[rt]=G[rt]}function Eh(G,Q,we,rt){for(var yt=0,it=0;it<Q;++it)for(var ct=G[it],Vt=0;Vt<we;++Vt)rt[yt++]=ct[Vt]}function yd(G,Q,we,rt,yt,it){for(var ct=it,Vt=0;Vt<Q;++Vt)for(var Ot=G[Vt],Zt=0;Zt<we;++Zt)for(var Wt=Ot[Zt],nn=0;nn<rt;++nn)yt[ct++]=Wt[nn]}function _h(G,Q,we,rt,yt){for(var it=1,ct=we+1;ct<Q.length;++ct)it*=Q[ct];var Vt=Q[we];if(Q.length-we===4){var Ot=Q[we+1],Zt=Q[we+2],Wt=Q[we+3];for(ct=0;ct<Vt;++ct)yd(G[ct],Ot,Zt,Wt,rt,yt),yt+=it}else for(ct=0;ct<Vt;++ct)_h(G[ct],Q,we+1,rt,yt),yt+=it}function xf(G,Q,we,rt){var yt=1;if(Q.length)for(var it=0;it<Q.length;++it)yt*=Q[it];else yt=0;var ct=rt||qr.allocType(we,yt);switch(Q.length){case 0:break;case 1:ug(G,Q[0],ct);break;case 2:Eh(G,Q[0],Q[1],ct);break;case 3:yd(G,Q[0],Q[1],Q[2],ct,0);break;default:_h(G,Q,0,ct,0)}return ct}function Pu(G){for(var Q=[],we=G;we.length;we=we[0])Q.push(we.length);return Q}var bd={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},sm=5120,xd=5122,fg=5124,am=5121,Th=5123,dg=5125,Lc=5126,Ph=5126,zl={int8:sm,int16:xd,int32:fg,uint8:am,uint16:Th,uint32:dg,float:Lc,float32:Ph},wd=35048,hg=35040,Ou={dynamic:wd,stream:hg,static:35044},Ji=$c.flatten,so=$c.shape,Oh=35044,wf=35040,Cf=5121,Mu=5126,Gl=[];Gl[5120]=1,Gl[5122]=2,Gl[5124]=4,Gl[5121]=1,Gl[5123]=2,Gl[5125]=4,Gl[5126]=4;function Cd(G){return bd[Object.prototype.toString.call(G)]|0}function Sd(G,Q){for(var we=0;we<Q.length;++we)G[we]=Q[we]}function S(G,Q,we,rt,yt,it,ct){for(var Vt=0,Ot=0;Ot<we;++Ot)for(var Zt=0;Zt<rt;++Zt)G[Vt++]=Q[yt*Ot+it*Zt+ct]}function O(G,Q,we,rt){var yt=0,it={};function ct(Ue){this.id=yt++,this.buffer=G.createBuffer(),this.type=Ue,this.usage=Oh,this.byteLength=0,this.dimension=1,this.dtype=Cf,this.persistentData=null,we.profile&&(this.stats={size:0})}ct.prototype.bind=function(){G.bindBuffer(this.type,this.buffer)},ct.prototype.destroy=function(){hn(this)};var Vt=[];function Ot(Ue,ft){var Bt=Vt.pop();return Bt||(Bt=new ct(Ue)),Bt.bind(),nn(Bt,ft,wf,0,1,!1),Bt}function Zt(Ue){Vt.push(Ue)}function Wt(Ue,ft,Bt){Ue.byteLength=ft.byteLength,G.bufferData(Ue.type,ft,Bt)}function nn(Ue,ft,Bt,rn,Mt,Sn){var Nt;if(Ue.usage=Bt,Array.isArray(ft)){if(Ue.dtype=rn||Mu,ft.length>0){var cn;if(Array.isArray(ft[0])){Nt=so(ft);for(var Rt=1,on=1;on<Nt.length;++on)Rt*=Nt[on];Ue.dimension=Rt,cn=Ji(ft,Nt,Ue.dtype),Wt(Ue,cn,Bt),Sn?Ue.persistentData=cn:qr.freeType(cn)}else if(typeof ft[0]=="number"){Ue.dimension=Mt;var Kn=qr.allocType(Ue.dtype,ft.length);Sd(Kn,ft),Wt(Ue,Kn,Bt),Sn?Ue.persistentData=Kn:qr.freeType(Kn)}else n(ft[0])?(Ue.dimension=ft[0].length,Ue.dtype=rn||Cd(ft[0])||Mu,cn=Ji(ft,[ft.length,ft[0].length],Ue.dtype),Wt(Ue,cn,Bt),Sn?Ue.persistentData=cn:qr.freeType(cn)):Z.raise("invalid buffer data")}}else if(n(ft))Ue.dtype=rn||Cd(ft),Ue.dimension=Mt,Wt(Ue,ft,Bt),Sn&&(Ue.persistentData=new Uint8Array(new Uint8Array(ft.buffer)));else if(Uo(ft)){Nt=ft.shape;var wr=ft.stride,pn=ft.offset,Jt=0,At=0,pr=0,Mr=0;Nt.length===1?(Jt=Nt[0],At=1,pr=wr[0],Mr=0):Nt.length===2?(Jt=Nt[0],At=Nt[1],pr=wr[0],Mr=wr[1]):Z.raise("invalid shape"),Ue.dtype=rn||Cd(ft.data)||Mu,Ue.dimension=At;var An=qr.allocType(Ue.dtype,Jt*At);S(An,ft.data,Jt,At,pr,Mr,pn),Wt(Ue,An,Bt),Sn?Ue.persistentData=An:qr.freeType(An)}else ft instanceof ArrayBuffer?(Ue.dtype=Cf,Ue.dimension=Mt,Wt(Ue,ft,Bt),Sn&&(Ue.persistentData=new Uint8Array(new Uint8Array(ft)))):Z.raise("invalid buffer data")}function hn(Ue){Q.bufferCount--,rt(Ue);var ft=Ue.buffer;Z(ft,"buffer must not be deleted already"),G.deleteBuffer(ft),Ue.buffer=null,delete it[Ue.id]}function Ut(Ue,ft,Bt,rn){Q.bufferCount++;var Mt=new ct(ft);it[Mt.id]=Mt;function Sn(Rt){var on=Oh,Kn=null,wr=0,pn=0,Jt=1;return Array.isArray(Rt)||n(Rt)||Uo(Rt)||Rt instanceof ArrayBuffer?Kn=Rt:typeof Rt=="number"?wr=Rt|0:Rt&&(Z.type(Rt,"object","buffer arguments must be an object, a number or an array"),"data"in Rt&&(Z(Kn===null||Array.isArray(Kn)||n(Kn)||Uo(Kn),"invalid data for buffer"),Kn=Rt.data),"usage"in Rt&&(Z.parameter(Rt.usage,Ou,"invalid buffer usage"),on=Ou[Rt.usage]),"type"in Rt&&(Z.parameter(Rt.type,zl,"invalid buffer type"),pn=zl[Rt.type]),"dimension"in Rt&&(Z.type(Rt.dimension,"number","invalid dimension"),Jt=Rt.dimension|0),"length"in Rt&&(Z.nni(wr,"buffer length must be a nonnegative integer"),wr=Rt.length|0)),Mt.bind(),Kn?nn(Mt,Kn,on,pn,Jt,rn):(wr&&G.bufferData(Mt.type,wr,on),Mt.dtype=pn||Cf,Mt.usage=on,Mt.dimension=Jt,Mt.byteLength=wr),we.profile&&(Mt.stats.size=Mt.byteLength*Gl[Mt.dtype]),Sn}function Nt(Rt,on){Z(on+Rt.byteLength<=Mt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Rt.byteLength+" starting from offset "+on+" to a buffer of size "+Mt.byteLength),G.bufferSubData(Mt.type,on,Rt)}function cn(Rt,on){var Kn=(on||0)|0,wr;if(Mt.bind(),n(Rt)||Rt instanceof ArrayBuffer)Nt(Rt,Kn);else if(Array.isArray(Rt)){if(Rt.length>0)if(typeof Rt[0]=="number"){var pn=qr.allocType(Mt.dtype,Rt.length);Sd(pn,Rt),Nt(pn,Kn),qr.freeType(pn)}else if(Array.isArray(Rt[0])||n(Rt[0])){wr=so(Rt);var Jt=Ji(Rt,wr,Mt.dtype);Nt(Jt,Kn),qr.freeType(Jt)}else Z.raise("invalid buffer data")}else if(Uo(Rt)){wr=Rt.shape;var At=Rt.stride,pr=0,Mr=0,An=0,jr=0;wr.length===1?(pr=wr[0],Mr=1,An=At[0],jr=0):wr.length===2?(pr=wr[0],Mr=wr[1],An=At[0],jr=At[1]):Z.raise("invalid shape");var Cr=Array.isArray(Rt.data)?Mt.dtype:Cd(Rt.data),Rr=qr.allocType(Cr,pr*Mr);S(Rr,Rt.data,pr,Mr,An,jr,Rt.offset),Nt(Rr,Kn),qr.freeType(Rr)}else Z.raise("invalid data for buffer subdata");return Sn}return Bt||Sn(Ue),Sn._reglType="buffer",Sn._buffer=Mt,Sn.subdata=cn,we.profile&&(Sn.stats=Mt.stats),Sn.destroy=function(){hn(Mt)},Sn}function an(){Ws(it).forEach(function(Ue){Ue.buffer=G.createBuffer(),G.bindBuffer(Ue.type,Ue.buffer),G.bufferData(Ue.type,Ue.persistentData||Ue.byteLength,Ue.usage)})}return we.profile&&(Q.getTotalBufferSize=function(){var Ue=0;return Object.keys(it).forEach(function(ft){Ue+=it[ft].stats.size}),Ue}),{create:Ut,createStream:Ot,destroyStream:Zt,clear:function(){Ws(it).forEach(hn),Vt.forEach(hn)},getBuffer:function(Ue){return Ue&&Ue._buffer instanceof ct?Ue._buffer:null},restore:an,_initBuffer:nn}}var R=0,F=0,U=1,W=1,ee=4,Ae=4,Oe={points:R,point:F,lines:U,line:W,triangles:ee,triangle:Ae,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ze=0,vt=1,Ht=4,ut=5120,mt=5121,cr=5122,rr=5123,sr=5124,ao=5125,Ri=34963,Cs=35040,Ti=35044;function Vn(G,Q,we,rt){var yt={},it=0,ct={uint8:mt,uint16:rr};Q.oes_element_index_uint&&(ct.uint32=ao);function Vt(an){this.id=it++,yt[this.id]=this,this.buffer=an,this.primType=Ht,this.vertCount=0,this.type=0}Vt.prototype.bind=function(){this.buffer.bind()};var Ot=[];function Zt(an){var Ue=Ot.pop();return Ue||(Ue=new Vt(we.create(null,Ri,!0,!1)._buffer)),nn(Ue,an,Cs,-1,-1,0,0),Ue}function Wt(an){Ot.push(an)}function nn(an,Ue,ft,Bt,rn,Mt,Sn){an.buffer.bind();var Nt;if(Ue){var cn=Sn;!Sn&&(!n(Ue)||Uo(Ue)&&!n(Ue.data))&&(cn=Q.oes_element_index_uint?ao:rr),we._initBuffer(an.buffer,Ue,ft,cn,3)}else G.bufferData(Ri,Mt,ft),an.buffer.dtype=Nt||mt,an.buffer.usage=ft,an.buffer.dimension=3,an.buffer.byteLength=Mt;if(Nt=Sn,!Sn){switch(an.buffer.dtype){case mt:case ut:Nt=mt;break;case rr:case cr:Nt=rr;break;case ao:case sr:Nt=ao;break;default:Z.raise("unsupported type for element array")}an.buffer.dtype=Nt}an.type=Nt,Z(Nt!==ao||!!Q.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Rt=rn;Rt<0&&(Rt=an.buffer.byteLength,Nt===rr?Rt>>=1:Nt===ao&&(Rt>>=2)),an.vertCount=Rt;var on=Bt;if(Bt<0){on=Ht;var Kn=an.buffer.dimension;Kn===1&&(on=Ze),Kn===2&&(on=vt),Kn===3&&(on=Ht)}an.primType=on}function hn(an){rt.elementsCount--,Z(an.buffer!==null,"must not double destroy elements"),delete yt[an.id],an.buffer.destroy(),an.buffer=null}function Ut(an,Ue){var ft=we.create(null,Ri,!0),Bt=new Vt(ft._buffer);rt.elementsCount++;function rn(Mt){if(!Mt)ft(),Bt.primType=Ht,Bt.vertCount=0,Bt.type=mt;else if(typeof Mt=="number")ft(Mt),Bt.primType=Ht,Bt.vertCount=Mt|0,Bt.type=mt;else{var Sn=null,Nt=Ti,cn=-1,Rt=-1,on=0,Kn=0;Array.isArray(Mt)||n(Mt)||Uo(Mt)?Sn=Mt:(Z.type(Mt,"object","invalid arguments for elements"),"data"in Mt&&(Sn=Mt.data,Z(Array.isArray(Sn)||n(Sn)||Uo(Sn),"invalid data for element buffer")),"usage"in Mt&&(Z.parameter(Mt.usage,Ou,"invalid element buffer usage"),Nt=Ou[Mt.usage]),"primitive"in Mt&&(Z.parameter(Mt.primitive,Oe,"invalid element buffer primitive"),cn=Oe[Mt.primitive]),"count"in Mt&&(Z(typeof Mt.count=="number"&&Mt.count>=0,"invalid vertex count for elements"),Rt=Mt.count|0),"type"in Mt&&(Z.parameter(Mt.type,ct,"invalid buffer type"),Kn=ct[Mt.type]),"length"in Mt?on=Mt.length|0:(on=Rt,Kn===rr||Kn===cr?on*=2:(Kn===ao||Kn===sr)&&(on*=4))),nn(Bt,Sn,Nt,cn,Rt,on,Kn)}return rn}return rn(an),rn._reglType="elements",rn._elements=Bt,rn.subdata=function(Mt,Sn){return ft.subdata(Mt,Sn),rn},rn.destroy=function(){hn(Bt)},rn}return{create:Ut,createStream:Zt,destroyStream:Wt,getElements:function(an){return typeof an=="function"&&an._elements instanceof Vt?an._elements:null},clear:function(){Ws(yt).forEach(hn)}}}var Go=new Float32Array(1),Mn=new Uint32Array(Go.buffer),sn=5123;function Yn(G){for(var Q=qr.allocType(sn,G.length),we=0;we<G.length;++we)if(isNaN(G[we]))Q[we]=65535;else if(G[we]===1/0)Q[we]=31744;else if(G[we]===-1/0)Q[we]=64512;else{Go[0]=G[we];var rt=Mn[0],yt=rt>>>31<<15,it=(rt<<1>>>24)-127,ct=rt>>13&(1<<10)-1;if(it<-24)Q[we]=yt;else if(it<-14){var Vt=-14-it;Q[we]=yt+(ct+(1<<10)>>Vt)}else it>15?Q[we]=yt+31744:Q[we]=yt+(it+15<<10)+ct}return Q}function Jn(G){return Array.isArray(G)||n(G)}var vi=function(G){return!(G&G-1)&&!!G},Ea=34467,Co=3553,Wi=34067,So=34069,go=6408,ea=6406,Ss=6407,tl=6409,Au=6410,Ii=32854,Fc=32855,Mh=36194,Ah=32819,X2=32820,kh=33635,nl=34042,Ed=6402,ku=34041,pg=35904,gg=35906,zc=36193,lm=33776,cm=33777,um=33778,Sf=33779,Ef=35986,vg=35987,cc=34798,Sl=35840,mg=35841,uc=35842,_d=35843,vy=36196,$i=5121,Td=5123,Ys=5125,No=5126,yg=10242,my=10243,K2=10497,fm=33071,yy=33648,_f=10240,Du=10241,We=9728,kt=9729,gt=9984,Un=9985,zr=9986,mi=9987,is=33170,Li=4352,dm=4353,ae=4354,_e=34046,Ge=3317,Ft=37440,Qe=37441,jt=37443,tn=37444,qt=33984,Ln=[gt,zr,Un,mi],yr=[0,tl,Au,Ss,go],qn={};qn[tl]=qn[ea]=qn[Ed]=1,qn[ku]=qn[Au]=2,qn[Ss]=qn[pg]=3,qn[go]=qn[gg]=4;function br(G){return"[object "+G+"]"}var ni=br("HTMLCanvasElement"),vo=br("OffscreenCanvas"),xr=br("CanvasRenderingContext2D"),Eo=br("ImageBitmap"),Es=br("HTMLImageElement"),_a=br("HTMLVideoElement"),_o=Object.keys(bd).concat([ni,vo,xr,Eo,Es,_a]),Bl=[];Bl[$i]=1,Bl[No]=4,Bl[zc]=2,Bl[Td]=2,Bl[Ys]=4;var Ho=[];Ho[Ii]=2,Ho[Fc]=2,Ho[Mh]=2,Ho[ku]=4,Ho[lm]=.5,Ho[cm]=.5,Ho[um]=1,Ho[Sf]=1,Ho[Ef]=.5,Ho[vg]=1,Ho[cc]=1,Ho[Sl]=.5,Ho[mg]=.25,Ho[uc]=.5,Ho[_d]=.25,Ho[vy]=.5;function ta(G){return Array.isArray(G)&&(G.length===0||typeof G[0]=="number")}function Z2(G){if(!Array.isArray(G))return!1;var Q=G.length;return!(Q===0||!Jn(G[0]))}function Gc(G){return Object.prototype.toString.call(G)}function Pd(G){return Gc(G)===ni}function hm(G){return Gc(G)===vo}function sN(G){return Gc(G)===xr}function aN(G){return Gc(G)===Eo}function lN(G){return Gc(G)===Es}function by(G){return Gc(G)===_a}function bg(G){if(!G)return!1;var Q=Gc(G);return _o.indexOf(Q)>=0?!0:ta(G)||Z2(G)||Uo(G)}function xy(G){return bd[Object.prototype.toString.call(G)]|0}function cN(G,Q){var we=Q.length;switch(G.type){case $i:case Td:case Ys:case No:var rt=qr.allocType(G.type,we);rt.set(Q),G.data=rt;break;case zc:G.data=Yn(Q);break;default:Z.raise("unsupported texture type, must specify a typed array")}}function Q2(G,Q){return qr.allocType(G.type===zc?No:G.type,Q)}function U_(G,Q){G.type===zc?(G.data=Yn(Q),qr.freeType(Q)):G.data=Q}function uN(G,Q,we,rt,yt,it){for(var ct=G.width,Vt=G.height,Ot=G.channels,Zt=ct*Vt*Ot,Wt=Q2(G,Zt),nn=0,hn=0;hn<Vt;++hn)for(var Ut=0;Ut<ct;++Ut)for(var an=0;an<Ot;++an)Wt[nn++]=Q[we*Ut+rt*hn+yt*an+it];U_(G,Wt)}function _s(G,Q,we,rt,yt,it){var ct;if(typeof Ho[G]<"u"?ct=Ho[G]:ct=qn[G]*Bl[Q],it&&(ct*=6),yt){for(var Vt=0,Ot=we;Ot>=1;)Vt+=ct*Ot*Ot,Ot/=2;return Vt}else return ct*we*rt}function Fa(G,Q,we,rt,yt,it,ct){var Vt={"don't care":Li,"dont care":Li,nice:ae,fast:dm},Ot={repeat:K2,clamp:fm,mirror:yy},Zt={nearest:We,linear:kt},Wt=r({mipmap:mi,"nearest mipmap nearest":gt,"linear mipmap nearest":Un,"nearest mipmap linear":zr,"linear mipmap linear":mi},Zt),nn={none:0,browser:tn},hn={uint8:$i,rgba4:Ah,rgb565:kh,"rgb5 a1":X2},Ut={alpha:ea,luminance:tl,"luminance alpha":Au,rgb:Ss,rgba:go,rgba4:Ii,"rgb5 a1":Fc,rgb565:Mh},an={};Q.ext_srgb&&(Ut.srgb=pg,Ut.srgba=gg),Q.oes_texture_float&&(hn.float32=hn.float=No),Q.oes_texture_half_float&&(hn.float16=hn["half float"]=zc),Q.webgl_depth_texture&&(r(Ut,{depth:Ed,"depth stencil":ku}),r(hn,{uint16:Td,uint32:Ys,"depth stencil":nl})),Q.webgl_compressed_texture_s3tc&&r(an,{"rgb s3tc dxt1":lm,"rgba s3tc dxt1":cm,"rgba s3tc dxt3":um,"rgba s3tc dxt5":Sf}),Q.webgl_compressed_texture_atc&&r(an,{"rgb atc":Ef,"rgba atc explicit alpha":vg,"rgba atc interpolated alpha":cc}),Q.webgl_compressed_texture_pvrtc&&r(an,{"rgb pvrtc 4bppv1":Sl,"rgb pvrtc 2bppv1":mg,"rgba pvrtc 4bppv1":uc,"rgba pvrtc 2bppv1":_d}),Q.webgl_compressed_texture_etc1&&(an["rgb etc1"]=vy);var Ue=Array.prototype.slice.call(G.getParameter(Ea));Object.keys(an).forEach(function(ye){var st=an[ye];Ue.indexOf(st)>=0&&(Ut[ye]=st)});var ft=Object.keys(Ut);we.textureFormats=ft;var Bt=[];Object.keys(Ut).forEach(function(ye){var st=Ut[ye];Bt[st]=ye});var rn=[];Object.keys(hn).forEach(function(ye){var st=hn[ye];rn[st]=ye});var Mt=[];Object.keys(Zt).forEach(function(ye){var st=Zt[ye];Mt[st]=ye});var Sn=[];Object.keys(Wt).forEach(function(ye){var st=Wt[ye];Sn[st]=ye});var Nt=[];Object.keys(Ot).forEach(function(ye){var st=Ot[ye];Nt[st]=ye});var cn=ft.reduce(function(ye,st){var et=Ut[st];return et===tl||et===ea||et===tl||et===Au||et===Ed||et===ku||Q.ext_srgb&&(et===pg||et===gg)?ye[et]=et:et===Fc||st.indexOf("rgba")>=0?ye[et]=go:ye[et]=Ss,ye},{});function Rt(){this.internalformat=go,this.format=go,this.type=$i,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=tn,this.width=0,this.height=0,this.channels=0}function on(ye,st){ye.internalformat=st.internalformat,ye.format=st.format,ye.type=st.type,ye.compressed=st.compressed,ye.premultiplyAlpha=st.premultiplyAlpha,ye.flipY=st.flipY,ye.unpackAlignment=st.unpackAlignment,ye.colorSpace=st.colorSpace,ye.width=st.width,ye.height=st.height,ye.channels=st.channels}function Kn(ye,st){if(!(typeof st!="object"||!st)){if("premultiplyAlpha"in st&&(Z.type(st.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),ye.premultiplyAlpha=st.premultiplyAlpha),"flipY"in st&&(Z.type(st.flipY,"boolean","invalid texture flip"),ye.flipY=st.flipY),"alignment"in st&&(Z.oneOf(st.alignment,[1,2,4,8],"invalid texture unpack alignment"),ye.unpackAlignment=st.alignment),"colorSpace"in st&&(Z.parameter(st.colorSpace,nn,"invalid colorSpace"),ye.colorSpace=nn[st.colorSpace]),"type"in st){var et=st.type;Z(Q.oes_texture_float||!(et==="float"||et==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Z(Q.oes_texture_half_float||!(et==="half float"||et==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Z(Q.webgl_depth_texture||!(et==="uint16"||et==="uint32"||et==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Z.parameter(et,hn,"invalid texture type"),ye.type=hn[et]}var Tn=ye.width,Vr=ye.height,ge=ye.channels,re=!1;"shape"in st?(Z(Array.isArray(st.shape)&&st.shape.length>=2,"shape must be an array"),Tn=st.shape[0],Vr=st.shape[1],st.shape.length===3&&(ge=st.shape[2],Z(ge>0&&ge<=4,"invalid number of channels"),re=!0),Z(Tn>=0&&Tn<=we.maxTextureSize,"invalid width"),Z(Vr>=0&&Vr<=we.maxTextureSize,"invalid height")):("radius"in st&&(Tn=Vr=st.radius,Z(Tn>=0&&Tn<=we.maxTextureSize,"invalid radius")),"width"in st&&(Tn=st.width,Z(Tn>=0&&Tn<=we.maxTextureSize,"invalid width")),"height"in st&&(Vr=st.height,Z(Vr>=0&&Vr<=we.maxTextureSize,"invalid height")),"channels"in st&&(ge=st.channels,Z(ge>0&&ge<=4,"invalid number of channels"),re=!0)),ye.width=Tn|0,ye.height=Vr|0,ye.channels=ge|0;var Te=!1;if("format"in st){var Be=st.format;Z(Q.webgl_depth_texture||!(Be==="depth"||Be==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Z.parameter(Be,Ut,"invalid texture format");var Ye=ye.internalformat=Ut[Be];ye.format=cn[Ye],Be in hn&&("type"in st||(ye.type=hn[Be])),Be in an&&(ye.compressed=!0),Te=!0}!re&&Te?ye.channels=qn[ye.format]:re&&!Te?ye.channels!==yr[ye.format]&&(ye.format=ye.internalformat=yr[ye.channels]):Te&&re&&Z(ye.channels===qn[ye.format],"number of channels inconsistent with specified format")}}function wr(ye){G.pixelStorei(Ft,ye.flipY),G.pixelStorei(Qe,ye.premultiplyAlpha),G.pixelStorei(jt,ye.colorSpace),G.pixelStorei(Ge,ye.unpackAlignment)}function pn(){Rt.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Jt(ye,st){var et=null;if(bg(st)?et=st:st&&(Z.type(st,"object","invalid pixel data type"),Kn(ye,st),"x"in st&&(ye.xOffset=st.x|0),"y"in st&&(ye.yOffset=st.y|0),bg(st.data)&&(et=st.data)),Z(!ye.compressed||et instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),st.copy){Z(!et,"can not specify copy and data field for the same texture");var Tn=yt.viewportWidth,Vr=yt.viewportHeight;ye.width=ye.width||Tn-ye.xOffset,ye.height=ye.height||Vr-ye.yOffset,ye.needsCopy=!0,Z(ye.xOffset>=0&&ye.xOffset<Tn&&ye.yOffset>=0&&ye.yOffset<Vr&&ye.width>0&&ye.width<=Tn&&ye.height>0&&ye.height<=Vr,"copy texture read out of bounds")}else if(!et)ye.width=ye.width||1,ye.height=ye.height||1,ye.channels=ye.channels||4;else if(n(et))ye.channels=ye.channels||4,ye.data=et,!("type"in st)&&ye.type===$i&&(ye.type=xy(et));else if(ta(et))ye.channels=ye.channels||4,cN(ye,et),ye.alignment=1,ye.needsFree=!0;else if(Uo(et)){var ge=et.data;!Array.isArray(ge)&&ye.type===$i&&(ye.type=xy(ge));var re=et.shape,Te=et.stride,Be,Ye,De,Pe,Ie,de;re.length===3?(De=re[2],de=Te[2]):(Z(re.length===2,"invalid ndarray pixel data, must be 2 or 3D"),De=1,de=1),Be=re[0],Ye=re[1],Pe=Te[0],Ie=Te[1],ye.alignment=1,ye.width=Be,ye.height=Ye,ye.channels=De,ye.format=ye.internalformat=yr[De],ye.needsFree=!0,uN(ye,ge,Pe,Ie,de,et.offset)}else if(Pd(et)||hm(et)||sN(et))Pd(et)||hm(et)?ye.element=et:ye.element=et.canvas,ye.width=ye.element.width,ye.height=ye.element.height,ye.channels=4;else if(aN(et))ye.element=et,ye.width=et.width,ye.height=et.height,ye.channels=4;else if(lN(et))ye.element=et,ye.width=et.naturalWidth,ye.height=et.naturalHeight,ye.channels=4;else if(by(et))ye.element=et,ye.width=et.videoWidth,ye.height=et.videoHeight,ye.channels=4;else if(Z2(et)){var Ee=ye.width||et[0].length,he=ye.height||et.length,Fe=ye.channels;Jn(et[0][0])?Fe=Fe||et[0][0].length:Fe=Fe||1;for(var Xe=$c.shape(et),wt=1,Et=0;Et<Xe.length;++Et)wt*=Xe[Et];var pt=Q2(ye,wt);$c.flatten(et,Xe,"",pt),U_(ye,pt),ye.alignment=1,ye.width=Ee,ye.height=he,ye.channels=Fe,ye.format=ye.internalformat=yr[Fe],ye.needsFree=!0}ye.type===No?Z(we.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):ye.type===zc&&Z(we.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function At(ye,st,et){var Tn=ye.element,Vr=ye.data,ge=ye.internalformat,re=ye.format,Te=ye.type,Be=ye.width,Ye=ye.height;wr(ye),Tn?G.texImage2D(st,et,re,re,Te,Tn):ye.compressed?G.compressedTexImage2D(st,et,ge,Be,Ye,0,Vr):ye.needsCopy?(rt(),G.copyTexImage2D(st,et,re,ye.xOffset,ye.yOffset,Be,Ye,0)):G.texImage2D(st,et,re,Be,Ye,0,re,Te,Vr||null)}function pr(ye,st,et,Tn,Vr){var ge=ye.element,re=ye.data,Te=ye.internalformat,Be=ye.format,Ye=ye.type,De=ye.width,Pe=ye.height;wr(ye),ge?G.texSubImage2D(st,Vr,et,Tn,Be,Ye,ge):ye.compressed?G.compressedTexSubImage2D(st,Vr,et,Tn,Te,De,Pe,re):ye.needsCopy?(rt(),G.copyTexSubImage2D(st,Vr,et,Tn,ye.xOffset,ye.yOffset,De,Pe)):G.texSubImage2D(st,Vr,et,Tn,De,Pe,Be,Ye,re)}var Mr=[];function An(){return Mr.pop()||new pn}function jr(ye){ye.needsFree&&qr.freeType(ye.data),pn.call(ye),Mr.push(ye)}function Cr(){Rt.call(this),this.genMipmaps=!1,this.mipmapHint=Li,this.mipmask=0,this.images=Array(16)}function Rr(ye,st,et){var Tn=ye.images[0]=An();ye.mipmask=1,Tn.width=ye.width=st,Tn.height=ye.height=et,Tn.channels=ye.channels=4}function Qr(ye,st){var et=null;if(bg(st))et=ye.images[0]=An(),on(et,ye),Jt(et,st),ye.mipmask=1;else if(Kn(ye,st),Array.isArray(st.mipmap))for(var Tn=st.mipmap,Vr=0;Vr<Tn.length;++Vr)et=ye.images[Vr]=An(),on(et,ye),et.width>>=Vr,et.height>>=Vr,Jt(et,Tn[Vr]),ye.mipmask|=1<<Vr;else et=ye.images[0]=An(),on(et,ye),Jt(et,st),ye.mipmask=1;on(ye,ye.images[0]),ye.compressed&&(ye.internalformat===lm||ye.internalformat===cm||ye.internalformat===um||ye.internalformat===Sf)&&Z(ye.width%4===0&&ye.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Xo(ye,st){for(var et=ye.images,Tn=0;Tn<et.length;++Tn){if(!et[Tn])return;At(et[Tn],st,Tn)}}var ks=[];function Wr(){var ye=ks.pop()||new Cr;Rt.call(ye),ye.mipmask=0;for(var st=0;st<16;++st)ye.images[st]=null;return ye}function Ko(ye){for(var st=ye.images,et=0;et<st.length;++et)st[et]&&jr(st[et]),st[et]=null;ks.push(ye)}function To(){this.minFilter=We,this.magFilter=We,this.wrapS=fm,this.wrapT=fm,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Li}function lo(ye,st){if("min"in st){var et=st.min;Z.parameter(et,Wt),ye.minFilter=Wt[et],Ln.indexOf(ye.minFilter)>=0&&!("faces"in st)&&(ye.genMipmaps=!0)}if("mag"in st){var Tn=st.mag;Z.parameter(Tn,Zt),ye.magFilter=Zt[Tn]}var Vr=ye.wrapS,ge=ye.wrapT;if("wrap"in st){var re=st.wrap;typeof re=="string"?(Z.parameter(re,Ot),Vr=ge=Ot[re]):Array.isArray(re)&&(Z.parameter(re[0],Ot),Z.parameter(re[1],Ot),Vr=Ot[re[0]],ge=Ot[re[1]])}else{if("wrapS"in st){var Te=st.wrapS;Z.parameter(Te,Ot),Vr=Ot[Te]}if("wrapT"in st){var Be=st.wrapT;Z.parameter(Be,Ot),ge=Ot[Be]}}if(ye.wrapS=Vr,ye.wrapT=ge,"anisotropic"in st){var Ye=st.anisotropic;Z(typeof Ye=="number"&&Ye>=1&&Ye<=we.maxAnisotropic,"aniso samples must be between 1 and "),ye.anisotropic=st.anisotropic}if("mipmap"in st){var De=!1;switch(typeof st.mipmap){case"string":Z.parameter(st.mipmap,Vt,"invalid mipmap hint"),ye.mipmapHint=Vt[st.mipmap],ye.genMipmaps=!0,De=!0;break;case"boolean":De=ye.genMipmaps=st.mipmap;break;case"object":Z(Array.isArray(st.mipmap),"invalid mipmap type"),ye.genMipmaps=!1,De=!0;break;default:Z.raise("invalid mipmap type")}De&&!("min"in st)&&(ye.minFilter=gt)}}function Ro(ye,st){G.texParameteri(st,Du,ye.minFilter),G.texParameteri(st,_f,ye.magFilter),G.texParameteri(st,yg,ye.wrapS),G.texParameteri(st,my,ye.wrapT),Q.ext_texture_filter_anisotropic&&G.texParameteri(st,_e,ye.anisotropic),ye.genMipmaps&&(G.hint(is,ye.mipmapHint),G.generateMipmap(st))}var Ds=0,qs={},va=we.maxTextureUnits,os=Array(va).map(function(){return null});function kr(ye){Rt.call(this),this.mipmask=0,this.internalformat=go,this.id=Ds++,this.refCount=1,this.target=ye,this.texture=G.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new To,ct.profile&&(this.stats={size:0})}function ma(ye){G.activeTexture(qt),G.bindTexture(ye.target,ye.texture)}function Oi(){var ye=os[0];ye?G.bindTexture(ye.target,ye.texture):G.bindTexture(Co,null)}function ar(ye){var st=ye.texture;Z(st,"must not double destroy texture");var et=ye.unit,Tn=ye.target;et>=0&&(G.activeTexture(qt+et),G.bindTexture(Tn,null),os[et]=null),G.deleteTexture(st),ye.texture=null,ye.params=null,ye.pixels=null,ye.refCount=0,delete qs[ye.id],it.textureCount--}r(kr.prototype,{bind:function(){var ye=this;ye.bindCount+=1;var st=ye.unit;if(st<0){for(var et=0;et<va;++et){var Tn=os[et];if(Tn){if(Tn.bindCount>0)continue;Tn.unit=-1}os[et]=ye,st=et;break}st>=va&&Z.raise("insufficient number of texture units"),ct.profile&&it.maxTextureUnits<st+1&&(it.maxTextureUnits=st+1),ye.unit=st,G.activeTexture(qt+st),G.bindTexture(ye.target,ye.texture)}return st},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ar(this)}});function Yr(ye,st){var et=new kr(Co);qs[et.id]=et,it.textureCount++;function Tn(re,Te){var Be=et.texInfo;To.call(Be);var Ye=Wr();return typeof re=="number"?typeof Te=="number"?Rr(Ye,re|0,Te|0):Rr(Ye,re|0,re|0):re?(Z.type(re,"object","invalid arguments to regl.texture"),lo(Be,re),Qr(Ye,re)):Rr(Ye,1,1),Be.genMipmaps&&(Ye.mipmask=(Ye.width<<1)-1),et.mipmask=Ye.mipmask,on(et,Ye),Z.texture2D(Be,Ye,we),et.internalformat=Ye.internalformat,Tn.width=Ye.width,Tn.height=Ye.height,ma(et),Xo(Ye,Co),Ro(Be,Co),Oi(),Ko(Ye),ct.profile&&(et.stats.size=_s(et.internalformat,et.type,Ye.width,Ye.height,Be.genMipmaps,!1)),Tn.format=Bt[et.internalformat],Tn.type=rn[et.type],Tn.mag=Mt[Be.magFilter],Tn.min=Sn[Be.minFilter],Tn.wrapS=Nt[Be.wrapS],Tn.wrapT=Nt[Be.wrapT],Tn}function Vr(re,Te,Be,Ye){Z(!!re,"must specify image data");var De=Te|0,Pe=Be|0,Ie=Ye|0,de=An();return on(de,et),de.width=0,de.height=0,Jt(de,re),de.width=de.width||(et.width>>Ie)-De,de.height=de.height||(et.height>>Ie)-Pe,Z(et.type===de.type&&et.format===de.format&&et.internalformat===de.internalformat,"incompatible format for texture.subimage"),Z(De>=0&&Pe>=0&&De+de.width<=et.width&&Pe+de.height<=et.height,"texture.subimage write out of bounds"),Z(et.mipmask&1<<Ie,"missing mipmap data"),Z(de.data||de.element||de.needsCopy,"missing image data"),ma(et),pr(de,Co,De,Pe,Ie),Oi(),jr(de),Tn}function ge(re,Te){var Be=re|0,Ye=Te|0||Be;if(Be===et.width&&Ye===et.height)return Tn;Tn.width=et.width=Be,Tn.height=et.height=Ye,ma(et);for(var De=0;et.mipmask>>De;++De){var Pe=Be>>De,Ie=Ye>>De;if(!Pe||!Ie)break;G.texImage2D(Co,De,et.format,Pe,Ie,0,et.format,et.type,null)}return Oi(),ct.profile&&(et.stats.size=_s(et.internalformat,et.type,Be,Ye,!1,!1)),Tn}return Tn(ye,st),Tn.subimage=Vr,Tn.resize=ge,Tn._reglType="texture2d",Tn._texture=et,ct.profile&&(Tn.stats=et.stats),Tn.destroy=function(){et.decRef()},Tn}function ai(ye,st,et,Tn,Vr,ge){var re=new kr(Wi);qs[re.id]=re,it.cubeCount++;var Te=new Array(6);function Be(Pe,Ie,de,Ee,he,Fe){var Xe,wt=re.texInfo;for(To.call(wt),Xe=0;Xe<6;++Xe)Te[Xe]=Wr();if(typeof Pe=="number"||!Pe){var Et=Pe|0||1;for(Xe=0;Xe<6;++Xe)Rr(Te[Xe],Et,Et)}else if(typeof Pe=="object")if(Ie)Qr(Te[0],Pe),Qr(Te[1],Ie),Qr(Te[2],de),Qr(Te[3],Ee),Qr(Te[4],he),Qr(Te[5],Fe);else if(lo(wt,Pe),Kn(re,Pe),"faces"in Pe){var pt=Pe.faces;for(Z(Array.isArray(pt)&&pt.length===6,"cube faces must be a length 6 array"),Xe=0;Xe<6;++Xe)Z(typeof pt[Xe]=="object"&&!!pt[Xe],"invalid input for cube map face"),on(Te[Xe],re),Qr(Te[Xe],pt[Xe])}else for(Xe=0;Xe<6;++Xe)Qr(Te[Xe],Pe);else Z.raise("invalid arguments to cube map");for(on(re,Te[0]),we.npotTextureCube||Z(vi(re.width)&&vi(re.height),"your browser does not support non power or two texture dimensions"),wt.genMipmaps?re.mipmask=(Te[0].width<<1)-1:re.mipmask=Te[0].mipmask,Z.textureCube(re,wt,Te,we),re.internalformat=Te[0].internalformat,Be.width=Te[0].width,Be.height=Te[0].height,ma(re),Xe=0;Xe<6;++Xe)Xo(Te[Xe],So+Xe);for(Ro(wt,Wi),Oi(),ct.profile&&(re.stats.size=_s(re.internalformat,re.type,Be.width,Be.height,wt.genMipmaps,!0)),Be.format=Bt[re.internalformat],Be.type=rn[re.type],Be.mag=Mt[wt.magFilter],Be.min=Sn[wt.minFilter],Be.wrapS=Nt[wt.wrapS],Be.wrapT=Nt[wt.wrapT],Xe=0;Xe<6;++Xe)Ko(Te[Xe]);return Be}function Ye(Pe,Ie,de,Ee,he){Z(!!Ie,"must specify image data"),Z(typeof Pe=="number"&&Pe===(Pe|0)&&Pe>=0&&Pe<6,"invalid face");var Fe=de|0,Xe=Ee|0,wt=he|0,Et=An();return on(Et,re),Et.width=0,Et.height=0,Jt(Et,Ie),Et.width=Et.width||(re.width>>wt)-Fe,Et.height=Et.height||(re.height>>wt)-Xe,Z(re.type===Et.type&&re.format===Et.format&&re.internalformat===Et.internalformat,"incompatible format for texture.subimage"),Z(Fe>=0&&Xe>=0&&Fe+Et.width<=re.width&&Xe+Et.height<=re.height,"texture.subimage write out of bounds"),Z(re.mipmask&1<<wt,"missing mipmap data"),Z(Et.data||Et.element||Et.needsCopy,"missing image data"),ma(re),pr(Et,So+Pe,Fe,Xe,wt),Oi(),jr(Et),Be}function De(Pe){var Ie=Pe|0;if(Ie!==re.width){Be.width=re.width=Ie,Be.height=re.height=Ie,ma(re);for(var de=0;de<6;++de)for(var Ee=0;re.mipmask>>Ee;++Ee)G.texImage2D(So+de,Ee,re.format,Ie>>Ee,Ie>>Ee,0,re.format,re.type,null);return Oi(),ct.profile&&(re.stats.size=_s(re.internalformat,re.type,Be.width,Be.height,!1,!0)),Be}}return Be(ye,st,et,Tn,Vr,ge),Be.subimage=Ye,Be.resize=De,Be._reglType="textureCube",Be._texture=re,ct.profile&&(Be.stats=re.stats),Be.destroy=function(){re.decRef()},Be}function ss(){for(var ye=0;ye<va;++ye)G.activeTexture(qt+ye),G.bindTexture(Co,null),os[ye]=null;Ws(qs).forEach(ar),it.cubeCount=0,it.textureCount=0}ct.profile&&(it.getTotalTextureSize=function(){var ye=0;return Object.keys(qs).forEach(function(st){ye+=qs[st].stats.size}),ye});function zu(){for(var ye=0;ye<va;++ye){var st=os[ye];st&&(st.bindCount=0,st.unit=-1,os[ye]=null)}Ws(qs).forEach(function(et){et.texture=G.createTexture(),G.bindTexture(et.target,et.texture);for(var Tn=0;Tn<32;++Tn)if((et.mipmask&1<<Tn)!==0)if(et.target===Co)G.texImage2D(Co,Tn,et.internalformat,et.width>>Tn,et.height>>Tn,0,et.internalformat,et.type,null);else for(var Vr=0;Vr<6;++Vr)G.texImage2D(So+Vr,Tn,et.internalformat,et.width>>Tn,et.height>>Tn,0,et.internalformat,et.type,null);Ro(et.texInfo,et.target)})}function Qh(){for(var ye=0;ye<va;++ye){var st=os[ye];st&&(st.bindCount=0,st.unit=-1,os[ye]=null),G.activeTexture(qt+ye),G.bindTexture(Co,null),G.bindTexture(Wi,null)}}return{create2D:Yr,createCube:ai,clear:ss,getTexture:function(ye){return null},restore:zu,refresh:Qh}}var Od=36161,wy=32854,J2=32855,H_=36194,Cy=33189,xg=36168,Sy=34041,Dh=35907,wg=34836,Cg=34842,pm=34843,za=[];za[wy]=2,za[J2]=2,za[H_]=2,za[Cy]=2,za[xg]=1,za[Sy]=4,za[Dh]=4,za[wg]=16,za[Cg]=8,za[pm]=6;function W_(G,Q,we){return za[G]*Q*we}var fN=function(G,Q,we,rt,yt){var it={rgba4:wy,rgb565:H_,"rgb5 a1":J2,depth:Cy,stencil:xg,"depth stencil":Sy};Q.ext_srgb&&(it.srgba=Dh),Q.ext_color_buffer_half_float&&(it.rgba16f=Cg,it.rgb16f=pm),Q.webgl_color_buffer_float&&(it.rgba32f=wg);var ct=[];Object.keys(it).forEach(function(Ut){var an=it[Ut];ct[an]=Ut});var Vt=0,Ot={};function Zt(Ut){this.id=Vt++,this.refCount=1,this.renderbuffer=Ut,this.format=wy,this.width=0,this.height=0,yt.profile&&(this.stats={size:0})}Zt.prototype.decRef=function(){--this.refCount<=0&&Wt(this)};function Wt(Ut){var an=Ut.renderbuffer;Z(an,"must not double destroy renderbuffer"),G.bindRenderbuffer(Od,null),G.deleteRenderbuffer(an),Ut.renderbuffer=null,Ut.refCount=0,delete Ot[Ut.id],rt.renderbufferCount--}function nn(Ut,an){var Ue=new Zt(G.createRenderbuffer());Ot[Ue.id]=Ue,rt.renderbufferCount++;function ft(rn,Mt){var Sn=0,Nt=0,cn=wy;if(typeof rn=="object"&&rn){var Rt=rn;if("shape"in Rt){var on=Rt.shape;Z(Array.isArray(on)&&on.length>=2,"invalid renderbuffer shape"),Sn=on[0]|0,Nt=on[1]|0}else"radius"in Rt&&(Sn=Nt=Rt.radius|0),"width"in Rt&&(Sn=Rt.width|0),"height"in Rt&&(Nt=Rt.height|0);"format"in Rt&&(Z.parameter(Rt.format,it,"invalid renderbuffer format"),cn=it[Rt.format])}else typeof rn=="number"?(Sn=rn|0,typeof Mt=="number"?Nt=Mt|0:Nt=Sn):rn?Z.raise("invalid arguments to renderbuffer constructor"):Sn=Nt=1;if(Z(Sn>0&&Nt>0&&Sn<=we.maxRenderbufferSize&&Nt<=we.maxRenderbufferSize,"invalid renderbuffer size"),!(Sn===Ue.width&&Nt===Ue.height&&cn===Ue.format))return ft.width=Ue.width=Sn,ft.height=Ue.height=Nt,Ue.format=cn,G.bindRenderbuffer(Od,Ue.renderbuffer),G.renderbufferStorage(Od,cn,Sn,Nt),Z(G.getError()===0,"invalid render buffer format"),yt.profile&&(Ue.stats.size=W_(Ue.format,Ue.width,Ue.height)),ft.format=ct[Ue.format],ft}function Bt(rn,Mt){var Sn=rn|0,Nt=Mt|0||Sn;return Sn===Ue.width&&Nt===Ue.height||(Z(Sn>0&&Nt>0&&Sn<=we.maxRenderbufferSize&&Nt<=we.maxRenderbufferSize,"invalid renderbuffer size"),ft.width=Ue.width=Sn,ft.height=Ue.height=Nt,G.bindRenderbuffer(Od,Ue.renderbuffer),G.renderbufferStorage(Od,Ue.format,Sn,Nt),Z(G.getError()===0,"invalid render buffer format"),yt.profile&&(Ue.stats.size=W_(Ue.format,Ue.width,Ue.height))),ft}return ft(Ut,an),ft.resize=Bt,ft._reglType="renderbuffer",ft._renderbuffer=Ue,yt.profile&&(ft.stats=Ue.stats),ft.destroy=function(){Ue.decRef()},ft}yt.profile&&(rt.getTotalRenderbufferSize=function(){var Ut=0;return Object.keys(Ot).forEach(function(an){Ut+=Ot[an].stats.size}),Ut});function hn(){Ws(Ot).forEach(function(Ut){Ut.renderbuffer=G.createRenderbuffer(),G.bindRenderbuffer(Od,Ut.renderbuffer),G.renderbufferStorage(Od,Ut.format,Ut.width,Ut.height)}),G.bindRenderbuffer(Od,null)}return{create:nn,clear:function(){Ws(Ot).forEach(Wt)},restore:hn}},Tf=36160,ex=36161,Nh=3553,Rh=34069,Sg=36064,tx=36096,oe=36128,Ih=33306,gm=36053,fc=36054,Pi=36055,dN=36057,hN=36061,pN=36193,$h=5121,gN=5126,Y_=6407,q_=6408,vN=6402,mN=[Y_,q_],Bc=[];Bc[q_]=4,Bc[Y_]=3;var Ey=[];Ey[$h]=1,Ey[gN]=4,Ey[pN]=2;var yN=32854,bN=32855,xN=36194,wN=33189,Pf=36168,X_=34041,CN=35907,SN=34836,EN=34842,_N=34843,Lh=[yN,bN,xN,CN,EN,_N,SN],Eg={};Eg[gm]="complete",Eg[fc]="incomplete attachment",Eg[dN]="incomplete dimensions",Eg[Pi]="incomplete, missing attachment",Eg[hN]="unsupported";function TN(G,Q,we,rt,yt,it){var ct={cur:null,next:null,dirty:!1,setFBO:null},Vt=["rgba"],Ot=["rgba4","rgb565","rgb5 a1"];Q.ext_srgb&&Ot.push("srgba"),Q.ext_color_buffer_half_float&&Ot.push("rgba16f","rgb16f"),Q.webgl_color_buffer_float&&Ot.push("rgba32f");var Zt=["uint8"];Q.oes_texture_half_float&&Zt.push("half float","float16"),Q.oes_texture_float&&Zt.push("float","float32");function Wt(pn,Jt,At){this.target=pn,this.texture=Jt,this.renderbuffer=At;var pr=0,Mr=0;Jt?(pr=Jt.width,Mr=Jt.height):At&&(pr=At.width,Mr=At.height),this.width=pr,this.height=Mr}function nn(pn){pn&&(pn.texture&&pn.texture._texture.decRef(),pn.renderbuffer&&pn.renderbuffer._renderbuffer.decRef())}function hn(pn,Jt,At){if(!!pn)if(pn.texture){var pr=pn.texture._texture,Mr=Math.max(1,pr.width),An=Math.max(1,pr.height);Z(Mr===Jt&&An===At,"inconsistent width/height for supplied texture"),pr.refCount+=1}else{var jr=pn.renderbuffer._renderbuffer;Z(jr.width===Jt&&jr.height===At,"inconsistent width/height for renderbuffer"),jr.refCount+=1}}function Ut(pn,Jt){Jt&&(Jt.texture?G.framebufferTexture2D(Tf,pn,Jt.target,Jt.texture._texture.texture,0):G.framebufferRenderbuffer(Tf,pn,ex,Jt.renderbuffer._renderbuffer.renderbuffer))}function an(pn){var Jt=Nh,At=null,pr=null,Mr=pn;typeof pn=="object"&&(Mr=pn.data,"target"in pn&&(Jt=pn.target|0)),Z.type(Mr,"function","invalid attachment data");var An=Mr._reglType;return An==="texture2d"?(At=Mr,Z(Jt===Nh)):An==="textureCube"?(At=Mr,Z(Jt>=Rh&&Jt<Rh+6,"invalid cube map target")):An==="renderbuffer"?(pr=Mr,Jt=ex):Z.raise("invalid regl object for attachment"),new Wt(Jt,At,pr)}function Ue(pn,Jt,At,pr,Mr){if(At){var An=rt.create2D({width:pn,height:Jt,format:pr,type:Mr});return An._texture.refCount=0,new Wt(Nh,An,null)}else{var jr=yt.create({width:pn,height:Jt,format:pr});return jr._renderbuffer.refCount=0,new Wt(ex,null,jr)}}function ft(pn){return pn&&(pn.texture||pn.renderbuffer)}function Bt(pn,Jt,At){pn&&(pn.texture?pn.texture.resize(Jt,At):pn.renderbuffer&&pn.renderbuffer.resize(Jt,At),pn.width=Jt,pn.height=At)}var rn=0,Mt={};function Sn(){this.id=rn++,Mt[this.id]=this,this.framebuffer=G.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Nt(pn){pn.colorAttachments.forEach(nn),nn(pn.depthAttachment),nn(pn.stencilAttachment),nn(pn.depthStencilAttachment)}function cn(pn){var Jt=pn.framebuffer;Z(Jt,"must not double destroy framebuffer"),G.deleteFramebuffer(Jt),pn.framebuffer=null,it.framebufferCount--,delete Mt[pn.id]}function Rt(pn){var Jt;G.bindFramebuffer(Tf,pn.framebuffer);var At=pn.colorAttachments;for(Jt=0;Jt<At.length;++Jt)Ut(Sg+Jt,At[Jt]);for(Jt=At.length;Jt<we.maxColorAttachments;++Jt)G.framebufferTexture2D(Tf,Sg+Jt,Nh,null,0);G.framebufferTexture2D(Tf,Ih,Nh,null,0),G.framebufferTexture2D(Tf,tx,Nh,null,0),G.framebufferTexture2D(Tf,oe,Nh,null,0),Ut(tx,pn.depthAttachment),Ut(oe,pn.stencilAttachment),Ut(Ih,pn.depthStencilAttachment);var pr=G.checkFramebufferStatus(Tf);!G.isContextLost()&&pr!==gm&&Z.raise("framebuffer configuration not supported, status = "+Eg[pr]),G.bindFramebuffer(Tf,ct.next?ct.next.framebuffer:null),ct.cur=ct.next,G.getError()}function on(pn,Jt){var At=new Sn;it.framebufferCount++;function pr(An,jr){var Cr;Z(ct.next!==At,"can not update framebuffer which is currently in use");var Rr=0,Qr=0,Xo=!0,ks=!0,Wr=null,Ko=!0,To="rgba",lo="uint8",Ro=1,Ds=null,qs=null,va=null,os=!1;if(typeof An=="number")Rr=An|0,Qr=jr|0||Rr;else if(!An)Rr=Qr=1;else{Z.type(An,"object","invalid arguments for framebuffer");var kr=An;if("shape"in kr){var ma=kr.shape;Z(Array.isArray(ma)&&ma.length>=2,"invalid shape for framebuffer"),Rr=ma[0],Qr=ma[1]}else"radius"in kr&&(Rr=Qr=kr.radius),"width"in kr&&(Rr=kr.width),"height"in kr&&(Qr=kr.height);("color"in kr||"colors"in kr)&&(Wr=kr.color||kr.colors,Array.isArray(Wr)&&Z(Wr.length===1||Q.webgl_draw_buffers,"multiple render targets not supported")),Wr||("colorCount"in kr&&(Ro=kr.colorCount|0,Z(Ro>0,"invalid color buffer count")),"colorTexture"in kr&&(Ko=!!kr.colorTexture,To="rgba4"),"colorType"in kr&&(lo=kr.colorType,Ko?(Z(Q.oes_texture_float||!(lo==="float"||lo==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Z(Q.oes_texture_half_float||!(lo==="half float"||lo==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):lo==="half float"||lo==="float16"?(Z(Q.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),To="rgba16f"):(lo==="float"||lo==="float32")&&(Z(Q.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),To="rgba32f"),Z.oneOf(lo,Zt,"invalid color type")),"colorFormat"in kr&&(To=kr.colorFormat,Vt.indexOf(To)>=0?Ko=!0:Ot.indexOf(To)>=0?Ko=!1:Ko?Z.oneOf(kr.colorFormat,Vt,"invalid color format for texture"):Z.oneOf(kr.colorFormat,Ot,"invalid color format for renderbuffer"))),("depthTexture"in kr||"depthStencilTexture"in kr)&&(os=!!(kr.depthTexture||kr.depthStencilTexture),Z(!os||Q.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in kr&&(typeof kr.depth=="boolean"?Xo=kr.depth:(Ds=kr.depth,ks=!1)),"stencil"in kr&&(typeof kr.stencil=="boolean"?ks=kr.stencil:(qs=kr.stencil,Xo=!1)),"depthStencil"in kr&&(typeof kr.depthStencil=="boolean"?Xo=ks=kr.depthStencil:(va=kr.depthStencil,Xo=!1,ks=!1))}var Oi=null,ar=null,Yr=null,ai=null;if(Array.isArray(Wr))Oi=Wr.map(an);else if(Wr)Oi=[an(Wr)];else for(Oi=new Array(Ro),Cr=0;Cr<Ro;++Cr)Oi[Cr]=Ue(Rr,Qr,Ko,To,lo);Z(Q.webgl_draw_buffers||Oi.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Z(Oi.length<=we.maxColorAttachments,"too many color attachments, not supported"),Rr=Rr||Oi[0].width,Qr=Qr||Oi[0].height,Ds?ar=an(Ds):Xo&&!ks&&(ar=Ue(Rr,Qr,os,"depth","uint32")),qs?Yr=an(qs):ks&&!Xo&&(Yr=Ue(Rr,Qr,!1,"stencil","uint8")),va?ai=an(va):!Ds&&!qs&&ks&&Xo&&(ai=Ue(Rr,Qr,os,"depth stencil","depth stencil")),Z(!!Ds+!!qs+!!va<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var ss=null;for(Cr=0;Cr<Oi.length;++Cr)if(hn(Oi[Cr],Rr,Qr),Z(!Oi[Cr]||Oi[Cr].texture&&mN.indexOf(Oi[Cr].texture._texture.format)>=0||Oi[Cr].renderbuffer&&Lh.indexOf(Oi[Cr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Cr+" is invalid"),Oi[Cr]&&Oi[Cr].texture){var zu=Bc[Oi[Cr].texture._texture.format]*Ey[Oi[Cr].texture._texture.type];ss===null?ss=zu:Z(ss===zu,"all color attachments much have the same number of bits per pixel.")}return hn(ar,Rr,Qr),Z(!ar||ar.texture&&ar.texture._texture.format===vN||ar.renderbuffer&&ar.renderbuffer._renderbuffer.format===wN,"invalid depth attachment for framebuffer object"),hn(Yr,Rr,Qr),Z(!Yr||Yr.renderbuffer&&Yr.renderbuffer._renderbuffer.format===Pf,"invalid stencil attachment for framebuffer object"),hn(ai,Rr,Qr),Z(!ai||ai.texture&&ai.texture._texture.format===X_||ai.renderbuffer&&ai.renderbuffer._renderbuffer.format===X_,"invalid depth-stencil attachment for framebuffer object"),Nt(At),At.width=Rr,At.height=Qr,At.colorAttachments=Oi,At.depthAttachment=ar,At.stencilAttachment=Yr,At.depthStencilAttachment=ai,pr.color=Oi.map(ft),pr.depth=ft(ar),pr.stencil=ft(Yr),pr.depthStencil=ft(ai),pr.width=At.width,pr.height=At.height,Rt(At),pr}function Mr(An,jr){Z(ct.next!==At,"can not resize a framebuffer which is currently in use");var Cr=Math.max(An|0,1),Rr=Math.max(jr|0||Cr,1);if(Cr===At.width&&Rr===At.height)return pr;for(var Qr=At.colorAttachments,Xo=0;Xo<Qr.length;++Xo)Bt(Qr[Xo],Cr,Rr);return Bt(At.depthAttachment,Cr,Rr),Bt(At.stencilAttachment,Cr,Rr),Bt(At.depthStencilAttachment,Cr,Rr),At.width=pr.width=Cr,At.height=pr.height=Rr,Rt(At),pr}return pr(pn,Jt),r(pr,{resize:Mr,_reglType:"framebuffer",_framebuffer:At,destroy:function(){cn(At),Nt(At)},use:function(An){ct.setFBO({framebuffer:pr},An)}})}function Kn(pn){var Jt=Array(6);function At(Mr){var An;Z(Jt.indexOf(ct.next)<0,"can not update framebuffer which is currently in use");var jr={color:null},Cr=0,Rr=null,Qr="rgba",Xo="uint8",ks=1;if(typeof Mr=="number")Cr=Mr|0;else if(!Mr)Cr=1;else{Z.type(Mr,"object","invalid arguments for framebuffer");var Wr=Mr;if("shape"in Wr){var Ko=Wr.shape;Z(Array.isArray(Ko)&&Ko.length>=2,"invalid shape for framebuffer"),Z(Ko[0]===Ko[1],"cube framebuffer must be square"),Cr=Ko[0]}else"radius"in Wr&&(Cr=Wr.radius|0),"width"in Wr?(Cr=Wr.width|0,"height"in Wr&&Z(Wr.height===Cr,"must be square")):"height"in Wr&&(Cr=Wr.height|0);("color"in Wr||"colors"in Wr)&&(Rr=Wr.color||Wr.colors,Array.isArray(Rr)&&Z(Rr.length===1||Q.webgl_draw_buffers,"multiple render targets not supported")),Rr||("colorCount"in Wr&&(ks=Wr.colorCount|0,Z(ks>0,"invalid color buffer count")),"colorType"in Wr&&(Z.oneOf(Wr.colorType,Zt,"invalid color type"),Xo=Wr.colorType),"colorFormat"in Wr&&(Qr=Wr.colorFormat,Z.oneOf(Wr.colorFormat,Vt,"invalid color format for texture"))),"depth"in Wr&&(jr.depth=Wr.depth),"stencil"in Wr&&(jr.stencil=Wr.stencil),"depthStencil"in Wr&&(jr.depthStencil=Wr.depthStencil)}var To;if(Rr)if(Array.isArray(Rr))for(To=[],An=0;An<Rr.length;++An)To[An]=Rr[An];else To=[Rr];else{To=Array(ks);var lo={radius:Cr,format:Qr,type:Xo};for(An=0;An<ks;++An)To[An]=rt.createCube(lo)}for(jr.color=Array(To.length),An=0;An<To.length;++An){var Ro=To[An];Z(typeof Ro=="function"&&Ro._reglType==="textureCube","invalid cube map"),Cr=Cr||Ro.width,Z(Ro.width===Cr&&Ro.height===Cr,"invalid cube map shape"),jr.color[An]={target:Rh,data:To[An]}}for(An=0;An<6;++An){for(var Ds=0;Ds<To.length;++Ds)jr.color[Ds].target=Rh+An;An>0&&(jr.depth=Jt[0].depth,jr.stencil=Jt[0].stencil,jr.depthStencil=Jt[0].depthStencil),Jt[An]?Jt[An](jr):Jt[An]=on(jr)}return r(At,{width:Cr,height:Cr,color:To})}function pr(Mr){var An,jr=Mr|0;if(Z(jr>0&&jr<=we.maxCubeMapSize,"invalid radius for cube fbo"),jr===At.width)return At;var Cr=At.color;for(An=0;An<Cr.length;++An)Cr[An].resize(jr);for(An=0;An<6;++An)Jt[An].resize(jr);return At.width=At.height=jr,At}return At(pn),r(At,{faces:Jt,resize:pr,_reglType:"framebufferCube",destroy:function(){Jt.forEach(function(Mr){Mr.destroy()})}})}function wr(){ct.cur=null,ct.next=null,ct.dirty=!0,Ws(Mt).forEach(function(pn){pn.framebuffer=G.createFramebuffer(),Rt(pn)})}return r(ct,{getFramebuffer:function(pn){if(typeof pn=="function"&&pn._reglType==="framebuffer"){var Jt=pn._framebuffer;if(Jt instanceof Sn)return Jt}return null},create:on,createCube:Kn,clear:function(){Ws(Mt).forEach(cn)},restore:wr})}var jc=5126,K_=34962;function nx(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=jc,this.offset=0,this.stride=0,this.divisor=0}function PN(G,Q,we,rt,yt){for(var it=we.maxAttributes,ct=new Array(it),Vt=0;Vt<it;++Vt)ct[Vt]=new nx;var Ot=0,Zt={},Wt={Record:nx,scope:{},state:ct,currentVAO:null,targetVAO:null,restore:hn()?Mt:function(){},createVAO:Sn,getVAO:an,destroyBuffer:nn,setVAO:hn()?Ue:ft,clear:hn()?Bt:function(){}};function nn(Nt){for(var cn=0;cn<ct.length;++cn){var Rt=ct[cn];Rt.buffer===Nt&&(G.disableVertexAttribArray(cn),Rt.buffer=null)}}function hn(){return Q.oes_vertex_array_object}function Ut(){return Q.angle_instanced_arrays}function an(Nt){return typeof Nt=="function"&&Nt._vao?Nt._vao:null}function Ue(Nt){if(Nt!==Wt.currentVAO){var cn=hn();Nt?cn.bindVertexArrayOES(Nt.vao):cn.bindVertexArrayOES(null),Wt.currentVAO=Nt}}function ft(Nt){if(Nt!==Wt.currentVAO){if(Nt)Nt.bindAttrs();else for(var cn=Ut(),Rt=0;Rt<ct.length;++Rt){var on=ct[Rt];on.buffer?(G.enableVertexAttribArray(Rt),G.vertexAttribPointer(Rt,on.size,on.type,on.normalized,on.stride,on.offfset),cn&&on.divisor&&cn.vertexAttribDivisorANGLE(Rt,on.divisor)):(G.disableVertexAttribArray(Rt),G.vertexAttrib4f(Rt,on.x,on.y,on.z,on.w))}Wt.currentVAO=Nt}}function Bt(){Ws(Zt).forEach(function(Nt){Nt.destroy()})}function rn(){this.id=++Ot,this.attributes=[];var Nt=hn();Nt?this.vao=Nt.createVertexArrayOES():this.vao=null,Zt[this.id]=this,this.buffers=[]}rn.prototype.bindAttrs=function(){for(var Nt=Ut(),cn=this.attributes,Rt=0;Rt<cn.length;++Rt){var on=cn[Rt];on.buffer?(G.enableVertexAttribArray(Rt),G.bindBuffer(K_,on.buffer.buffer),G.vertexAttribPointer(Rt,on.size,on.type,on.normalized,on.stride,on.offset),Nt&&on.divisor&&Nt.vertexAttribDivisorANGLE(Rt,on.divisor)):(G.disableVertexAttribArray(Rt),G.vertexAttrib4f(Rt,on.x,on.y,on.z,on.w))}for(var Kn=cn.length;Kn<it;++Kn)G.disableVertexAttribArray(Kn)},rn.prototype.refresh=function(){var Nt=hn();Nt&&(Nt.bindVertexArrayOES(this.vao),this.bindAttrs(),Wt.currentVAO=this)},rn.prototype.destroy=function(){if(this.vao){var Nt=hn();this===Wt.currentVAO&&(Wt.currentVAO=null,Nt.bindVertexArrayOES(null)),Nt.deleteVertexArrayOES(this.vao),this.vao=null}Zt[this.id]&&(delete Zt[this.id],rt.vaoCount-=1)};function Mt(){var Nt=hn();Nt&&Ws(Zt).forEach(function(cn){cn.refresh()})}function Sn(Nt){var cn=new rn;rt.vaoCount+=1;function Rt(on){Z(Array.isArray(on),"arguments to vertex array constructor must be an array"),Z(on.length<it,"too many attributes"),Z(on.length>0,"must specify at least one attribute");var Kn={},wr=cn.attributes;wr.length=on.length;for(var pn=0;pn<on.length;++pn){var Jt=on[pn],At=wr[pn]=new nx,pr=Jt.data||Jt;if(Array.isArray(pr)||n(pr)||Uo(pr)){var Mr;cn.buffers[pn]&&(Mr=cn.buffers[pn],n(pr)&&Mr._buffer.byteLength>=pr.byteLength?Mr.subdata(pr):(Mr.destroy(),cn.buffers[pn]=null)),cn.buffers[pn]||(Mr=cn.buffers[pn]=yt.create(Jt,K_,!1,!0)),At.buffer=yt.getBuffer(Mr),At.size=At.buffer.dimension|0,At.normalized=!1,At.type=At.buffer.dtype,At.offset=0,At.stride=0,At.divisor=0,At.state=1,Kn[pn]=1}else yt.getBuffer(Jt)?(At.buffer=yt.getBuffer(Jt),At.size=At.buffer.dimension|0,At.normalized=!1,At.type=At.buffer.dtype,At.offset=0,At.stride=0,At.divisor=0,At.state=1):yt.getBuffer(Jt.buffer)?(At.buffer=yt.getBuffer(Jt.buffer),At.size=(+Jt.size||At.buffer.dimension)|0,At.normalized=!!Jt.normalized||!1,"type"in Jt?(Z.parameter(Jt.type,zl,"invalid buffer type"),At.type=zl[Jt.type]):At.type=At.buffer.dtype,At.offset=(Jt.offset||0)|0,At.stride=(Jt.stride||0)|0,At.divisor=(Jt.divisor||0)|0,At.state=1,Z(At.size>=1&&At.size<=4,"size must be between 1 and 4"),Z(At.offset>=0,"invalid offset"),Z(At.stride>=0&&At.stride<=255,"stride must be between 0 and 255"),Z(At.divisor>=0,"divisor must be positive"),Z(!At.divisor||!!Q.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Jt?(Z(pn>0,"first attribute must not be a constant"),At.x=+Jt.x||0,At.y=+Jt.y||0,At.z=+Jt.z||0,At.w=+Jt.w||0,At.state=2):Z(!1,"invalid attribute spec for location "+pn)}for(var An=0;An<cn.buffers.length;++An)!Kn[An]&&cn.buffers[An]&&(cn.buffers[An].destroy(),cn.buffers[An]=null);return cn.refresh(),Rt}return Rt.destroy=function(){for(var on=0;on<cn.buffers.length;++on)cn.buffers[on]&&cn.buffers[on].destroy();cn.buffers.length=0,cn.destroy()},Rt._vao=cn,Rt._reglType="vao",Rt(Nt)}return Wt}var Z_=35632,ON=35633,Q_=35718,J_=35721;function MN(G,Q,we,rt){var yt={},it={};function ct(Ue,ft,Bt,rn){this.name=Ue,this.id=ft,this.location=Bt,this.info=rn}function Vt(Ue,ft){for(var Bt=0;Bt<Ue.length;++Bt)if(Ue[Bt].id===ft.id){Ue[Bt].location=ft.location;return}Ue.push(ft)}function Ot(Ue,ft,Bt){var rn=Ue===Z_?yt:it,Mt=rn[ft];if(!Mt){var Sn=Q.str(ft);Mt=G.createShader(Ue),G.shaderSource(Mt,Sn),G.compileShader(Mt),Z.shaderError(G,Mt,Sn,Ue,Bt),rn[ft]=Mt}return Mt}var Zt={},Wt=[],nn=0;function hn(Ue,ft){this.id=nn++,this.fragId=Ue,this.vertId=ft,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,rt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ut(Ue,ft,Bt){var rn,Mt,Sn=Ot(Z_,Ue.fragId),Nt=Ot(ON,Ue.vertId),cn=Ue.program=G.createProgram();if(G.attachShader(cn,Sn),G.attachShader(cn,Nt),Bt)for(rn=0;rn<Bt.length;++rn){var Rt=Bt[rn];G.bindAttribLocation(cn,Rt[0],Rt[1])}G.linkProgram(cn),Z.linkError(G,cn,Q.str(Ue.fragId),Q.str(Ue.vertId),ft);var on=G.getProgramParameter(cn,Q_);rt.profile&&(Ue.stats.uniformsCount=on);var Kn=Ue.uniforms;for(rn=0;rn<on;++rn)if(Mt=G.getActiveUniform(cn,rn),Mt)if(Mt.size>1)for(var wr=0;wr<Mt.size;++wr){var pn=Mt.name.replace("[0]","["+wr+"]");Vt(Kn,new ct(pn,Q.id(pn),G.getUniformLocation(cn,pn),Mt))}else Vt(Kn,new ct(Mt.name,Q.id(Mt.name),G.getUniformLocation(cn,Mt.name),Mt));var Jt=G.getProgramParameter(cn,J_);rt.profile&&(Ue.stats.attributesCount=Jt);var At=Ue.attributes;for(rn=0;rn<Jt;++rn)Mt=G.getActiveAttrib(cn,rn),Mt&&Vt(At,new ct(Mt.name,Q.id(Mt.name),G.getAttribLocation(cn,Mt.name),Mt))}rt.profile&&(we.getMaxUniformsCount=function(){var Ue=0;return Wt.forEach(function(ft){ft.stats.uniformsCount>Ue&&(Ue=ft.stats.uniformsCount)}),Ue},we.getMaxAttributesCount=function(){var Ue=0;return Wt.forEach(function(ft){ft.stats.attributesCount>Ue&&(Ue=ft.stats.attributesCount)}),Ue});function an(){yt={},it={};for(var Ue=0;Ue<Wt.length;++Ue)Ut(Wt[Ue],null,Wt[Ue].attributes.map(function(ft){return[ft.location,ft.name]}))}return{clear:function(){var Ue=G.deleteShader.bind(G);Ws(yt).forEach(Ue),yt={},Ws(it).forEach(Ue),it={},Wt.forEach(function(ft){G.deleteProgram(ft.program)}),Wt.length=0,Zt={},we.shaderCount=0},program:function(Ue,ft,Bt,rn){Z.command(Ue>=0,"missing vertex shader",Bt),Z.command(ft>=0,"missing fragment shader",Bt);var Mt=Zt[ft];Mt||(Mt=Zt[ft]={});var Sn=Mt[Ue];if(Sn&&(Sn.refCount++,!rn))return Sn;var Nt=new hn(ft,Ue);return we.shaderCount++,Ut(Nt,Bt,rn),Sn||(Mt[Ue]=Nt),Wt.push(Nt),r(Nt,{destroy:function(){if(Nt.refCount--,Nt.refCount<=0){G.deleteProgram(Nt.program);var cn=Wt.indexOf(Nt);Wt.splice(cn,1),we.shaderCount--}Mt[Nt.vertId].refCount<=0&&(G.deleteShader(it[Nt.vertId]),delete it[Nt.vertId],delete Zt[Nt.fragId][Nt.vertId]),Object.keys(Zt[Nt.fragId]).length||(G.deleteShader(yt[Nt.fragId]),delete yt[Nt.fragId],delete Zt[Nt.fragId])}})},restore:an,shader:Ot,frag:-1,vert:-1}}var AN=6408,Fh=5121,vm=3333,zh=5126;function kN(G,Q,we,rt,yt,it,ct){function Vt(Wt){var nn;Q.next===null?(Z(yt.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),nn=Fh):(Z(Q.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),nn=Q.next.colorAttachments[0].texture._texture.type,it.oes_texture_float?(Z(nn===Fh||nn===zh,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),nn===zh&&Z(ct.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Z(nn===Fh,"Reading from a framebuffer is only allowed for the type 'uint8'"));var hn=0,Ut=0,an=rt.framebufferWidth,Ue=rt.framebufferHeight,ft=null;n(Wt)?ft=Wt:Wt&&(Z.type(Wt,"object","invalid arguments to regl.read()"),hn=Wt.x|0,Ut=Wt.y|0,Z(hn>=0&&hn<rt.framebufferWidth,"invalid x offset for regl.read"),Z(Ut>=0&&Ut<rt.framebufferHeight,"invalid y offset for regl.read"),an=(Wt.width||rt.framebufferWidth-hn)|0,Ue=(Wt.height||rt.framebufferHeight-Ut)|0,ft=Wt.data||null),ft&&(nn===Fh?Z(ft instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):nn===zh&&Z(ft instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Z(an>0&&an+hn<=rt.framebufferWidth,"invalid width for read pixels"),Z(Ue>0&&Ue+Ut<=rt.framebufferHeight,"invalid height for read pixels"),we();var Bt=an*Ue*4;return ft||(nn===Fh?ft=new Uint8Array(Bt):nn===zh&&(ft=ft||new Float32Array(Bt))),Z.isTypedArray(ft,"data buffer for regl.read() must be a typedarray"),Z(ft.byteLength>=Bt,"data buffer for regl.read() too small"),G.pixelStorei(vm,4),G.readPixels(hn,Ut,an,Ue,AN,nn,ft),ft}function Ot(Wt){var nn;return Q.setFBO({framebuffer:Wt.framebuffer},function(){nn=Vt(Wt)}),nn}function Zt(Wt){return!Wt||!("framebuffer"in Wt)?Vt(Wt):Ot(Wt)}return Zt}function Gh(G){return Array.prototype.slice.call(G)}function _g(G){return Gh(G).join("")}function Of(){var G=0,Q=[],we=[];function rt(nn){for(var hn=0;hn<we.length;++hn)if(we[hn]===nn)return Q[hn];var Ut="g"+G++;return Q.push(Ut),we.push(nn),Ut}function yt(){var nn=[];function hn(){nn.push.apply(nn,Gh(arguments))}var Ut=[];function an(){var Ue="v"+G++;return Ut.push(Ue),arguments.length>0&&(nn.push(Ue,"="),nn.push.apply(nn,Gh(arguments)),nn.push(";")),Ue}return r(hn,{def:an,toString:function(){return _g([Ut.length>0?"var "+Ut.join(",")+";":"",_g(nn)])}})}function it(){var nn=yt(),hn=yt(),Ut=nn.toString,an=hn.toString;function Ue(ft,Bt){hn(ft,Bt,"=",nn.def(ft,Bt),";")}return r(function(){nn.apply(nn,Gh(arguments))},{def:nn.def,entry:nn,exit:hn,save:Ue,set:function(ft,Bt,rn){Ue(ft,Bt),nn(ft,Bt,"=",rn,";")},toString:function(){return Ut()+an()}})}function ct(){var nn=_g(arguments),hn=it(),Ut=it(),an=hn.toString,Ue=Ut.toString;return r(hn,{then:function(){return hn.apply(hn,Gh(arguments)),this},else:function(){return Ut.apply(Ut,Gh(arguments)),this},toString:function(){var ft=Ue();return ft&&(ft="else{"+ft+"}"),_g(["if(",nn,"){",an(),"}",ft])}})}var Vt=yt(),Ot={};function Zt(nn,hn){var Ut=[];function an(){var Mt="a"+Ut.length;return Ut.push(Mt),Mt}hn=hn||0;for(var Ue=0;Ue<hn;++Ue)an();var ft=it(),Bt=ft.toString,rn=Ot[nn]=r(ft,{arg:an,toString:function(){return _g(["function(",Ut.join(),"){",Bt(),"}"])}});return rn}function Wt(){var nn=['"use strict";',Vt,"return {"];Object.keys(Ot).forEach(function(an){nn.push('"',an,'":',Ot[an].toString(),",")}),nn.push("}");var hn=_g(nn).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ut=Function.apply(null,Q.concat(hn));return Ut.apply(null,we)}return{global:Vt,link:rt,block:yt,proc:Zt,scope:it,cond:ct,compile:Wt}}var Md="xyzw".split(""),Ad=5121,Ta=1,rx=2,_y=0,Ty=1,Bh=2,Nu=3,mm=4,eT=5,ym=6,tT="dither",ix="blend.enable",pa="blend.color",bm="blend.equation",Py="blend.func",Vc="depth.enable",Oy="depth.func",xm="depth.range",kd="depth.mask",My="colorMask",Ga="cull.enable",Ay="cull.face",ox="frontFace",sx="lineWidth",nT="polygonOffset.enable",wm="polygonOffset.offset",rT="sample.alpha",Tg="sample.enable",ky="sample.coverage",iT="stencil.enable",oT="stencil.mask",jh="stencil.func",ax="stencil.opFront",Cm="stencil.opBack",Dy="scissor.enable",Sm="scissor.box",Mf="viewport",Em="profile",Vh="framebuffer",Pg="vert",Uh="frag",Hh="elements",Af="primitive",Dd="count",_m="offset",Tm="instances",Nd="vao",lx="Width",Ny="Height",Wh=Vh+lx,Og=Vh+Ny,sT=Mf+lx,DN=Mf+Ny,Ry="drawingBuffer",cx=Ry+lx,Iy=Ry+Ny,NN=[Py,bm,jh,ax,Cm,ky,Mf,Sm,wm],Rd=34962,fi=34963,RN=35632,IN=35633,Mg=3553,aT=34067,$N=2884,LN=3042,dc=3024,FN=2960,$y=2929,ux=3089,lT=32823,cT=32926,jl=32928,Ru=5126,Ag=35664,Pm=35665,Yh=35666,Ly=5124,kg=35667,Om=35668,Dg=35669,Mm=35670,Uc=35671,Fy=35672,Hc=35673,Ng=35674,Rg=35675,qh=35676,Am=35678,km=35680,uT=4,Ig=1028,Id=1029,fT=2304,zy=2305,dT=32775,El=32776,Iu=519,$d=7680,hT=0,Dm=1,Xh=32774,pT=513,fx=36160,zN=36064,Wc={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Kh=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],$u={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ld={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},dx={frag:RN,vert:IN},Gy={cw:fT,ccw:zy};function Zh(G){return Array.isArray(G)||n(G)||Uo(G)}function hx(G){return G.sort(function(Q,we){return Q===Mf?-1:we===Mf?1:Q<we?-1:1})}function ga(G,Q,we,rt){this.thisDep=G,this.contextDep=Q,this.propDep=we,this.append=rt}function Lu(G){return G&&!(G.thisDep||G.contextDep||G.propDep)}function Wo(G){return new ga(!1,!1,!1,G)}function _l(G,Q){var we=G.type;if(we===_y){var rt=G.data.length;return new ga(!0,rt>=1,rt>=2,Q)}else if(we===mm){var yt=G.data;return new ga(yt.thisDep,yt.contextDep,yt.propDep,Q)}else{if(we===eT)return new ga(!1,!1,!1,Q);if(we===ym){for(var it=!1,ct=!1,Vt=!1,Ot=0;Ot<G.data.length;++Ot){var Zt=G.data[Ot];if(Zt.type===Ty)Vt=!0;else if(Zt.type===Bh)ct=!0;else if(Zt.type===Nu)it=!0;else if(Zt.type===_y){it=!0;var Wt=Zt.data;Wt>=1&&(ct=!0),Wt>=2&&(Vt=!0)}else Zt.type===mm&&(it=it||Zt.data.thisDep,ct=ct||Zt.data.contextDep,Vt=Vt||Zt.data.propDep)}return new ga(it,ct,Vt,Q)}else return new ga(we===Nu,we===Bh,we===Ty,Q)}}var px=new ga(!1,!1,!1,function(){});function By(G,Q,we,rt,yt,it,ct,Vt,Ot,Zt,Wt,nn,hn,Ut,an){var Ue=Zt.Record,ft={add:32774,subtract:32778,"reverse subtract":32779};we.ext_blend_minmax&&(ft.min=dT,ft.max=El);var Bt=we.angle_instanced_arrays,rn=we.webgl_draw_buffers,Mt={dirty:!0,profile:an.profile},Sn={},Nt=[],cn={},Rt={};function on(ge){return ge.replace(".","_")}function Kn(ge,re,Te){var Be=on(ge);Nt.push(ge),Sn[Be]=Mt[Be]=!!Te,cn[Be]=re}function wr(ge,re,Te){var Be=on(ge);Nt.push(ge),Array.isArray(Te)?(Mt[Be]=Te.slice(),Sn[Be]=Te.slice()):Mt[Be]=Sn[Be]=Te,Rt[Be]=re}Kn(tT,dc),Kn(ix,LN),wr(pa,"blendColor",[0,0,0,0]),wr(bm,"blendEquationSeparate",[Xh,Xh]),wr(Py,"blendFuncSeparate",[Dm,hT,Dm,hT]),Kn(Vc,$y,!0),wr(Oy,"depthFunc",pT),wr(xm,"depthRange",[0,1]),wr(kd,"depthMask",!0),wr(My,My,[!0,!0,!0,!0]),Kn(Ga,$N),wr(Ay,"cullFace",Id),wr(ox,ox,zy),wr(sx,sx,1),Kn(nT,lT),wr(wm,"polygonOffset",[0,0]),Kn(rT,cT),Kn(Tg,jl),wr(ky,"sampleCoverage",[1,!1]),Kn(iT,FN),wr(oT,"stencilMask",-1),wr(jh,"stencilFunc",[Iu,0,-1]),wr(ax,"stencilOpSeparate",[Ig,$d,$d,$d]),wr(Cm,"stencilOpSeparate",[Id,$d,$d,$d]),Kn(Dy,ux),wr(Sm,"scissor",[0,0,G.drawingBufferWidth,G.drawingBufferHeight]),wr(Mf,Mf,[0,0,G.drawingBufferWidth,G.drawingBufferHeight]);var pn={gl:G,context:hn,strings:Q,next:Sn,current:Mt,draw:nn,elements:it,buffer:yt,shader:Wt,attributes:Zt.state,vao:Zt,uniforms:Ot,framebuffer:Vt,extensions:we,timer:Ut,isBufferArgs:Zh},Jt={primTypes:Oe,compareFuncs:$u,blendFuncs:Wc,blendEquations:ft,stencilOps:Ld,glTypes:zl,orientationType:Gy};Z.optional(function(){pn.isArrayLike=Jn}),rn&&(Jt.backBuffer=[Id],Jt.drawBuffer=Yt(rt.maxDrawbuffers,function(ge){return ge===0?[0]:Yt(ge,function(re){return zN+re})}));var At=0;function pr(){var ge=Of(),re=ge.link,Te=ge.global;ge.id=At++,ge.batchId="0";var Be=re(pn),Ye=ge.shared={props:"a0"};Object.keys(pn).forEach(function(Ee){Ye[Ee]=Te.def(Be,".",Ee)}),Z.optional(function(){ge.CHECK=re(Z),ge.commandStr=Z.guessCommand(),ge.command=re(ge.commandStr),ge.assert=function(Ee,he,Fe){Ee("if(!(",he,"))",this.CHECK,".commandRaise(",re(Fe),",",this.command,");")},Jt.invalidBlendCombinations=Kh});var De=ge.next={},Pe=ge.current={};Object.keys(Rt).forEach(function(Ee){Array.isArray(Mt[Ee])&&(De[Ee]=Te.def(Ye.next,".",Ee),Pe[Ee]=Te.def(Ye.current,".",Ee))});var Ie=ge.constants={};Object.keys(Jt).forEach(function(Ee){Ie[Ee]=Te.def(JSON.stringify(Jt[Ee]))}),ge.invoke=function(Ee,he){switch(he.type){case _y:var Fe=["this",Ye.context,Ye.props,ge.batchId];return Ee.def(re(he.data),".call(",Fe.slice(0,Math.max(he.data.length+1,4)),")");case Ty:return Ee.def(Ye.props,he.data);case Bh:return Ee.def(Ye.context,he.data);case Nu:return Ee.def("this",he.data);case mm:return he.data.append(ge,Ee),he.data.ref;case eT:return he.data.toString();case ym:return he.data.map(function(Xe){return ge.invoke(Ee,Xe)})}},ge.attribCache={};var de={};return ge.scopeAttrib=function(Ee){var he=Q.id(Ee);if(he in de)return de[he];var Fe=Zt.scope[he];Fe||(Fe=Zt.scope[he]=new Ue);var Xe=de[he]=re(Fe);return Xe},ge}function Mr(ge){var re=ge.static,Te=ge.dynamic,Be;if(Em in re){var Ye=!!re[Em];Be=Wo(function(Pe,Ie){return Ye}),Be.enable=Ye}else if(Em in Te){var De=Te[Em];Be=_l(De,function(Pe,Ie){return Pe.invoke(Ie,De)})}return Be}function An(ge,re){var Te=ge.static,Be=ge.dynamic;if(Vh in Te){var Ye=Te[Vh];return Ye?(Ye=Vt.getFramebuffer(Ye),Z.command(Ye,"invalid framebuffer object"),Wo(function(Pe,Ie){var de=Pe.link(Ye),Ee=Pe.shared;Ie.set(Ee.framebuffer,".next",de);var he=Ee.context;return Ie.set(he,"."+Wh,de+".width"),Ie.set(he,"."+Og,de+".height"),de})):Wo(function(Pe,Ie){var de=Pe.shared;Ie.set(de.framebuffer,".next","null");var Ee=de.context;return Ie.set(Ee,"."+Wh,Ee+"."+cx),Ie.set(Ee,"."+Og,Ee+"."+Iy),"null"})}else if(Vh in Be){var De=Be[Vh];return _l(De,function(Pe,Ie){var de=Pe.invoke(Ie,De),Ee=Pe.shared,he=Ee.framebuffer,Fe=Ie.def(he,".getFramebuffer(",de,")");Z.optional(function(){Pe.assert(Ie,"!"+de+"||"+Fe,"invalid framebuffer object")}),Ie.set(he,".next",Fe);var Xe=Ee.context;return Ie.set(Xe,"."+Wh,Fe+"?"+Fe+".width:"+Xe+"."+cx),Ie.set(Xe,"."+Og,Fe+"?"+Fe+".height:"+Xe+"."+Iy),Fe})}else return null}function jr(ge,re,Te){var Be=ge.static,Ye=ge.dynamic;function De(de){if(de in Be){var Ee=Be[de];Z.commandType(Ee,"object","invalid "+de,Te.commandStr);var he=!0,Fe=Ee.x|0,Xe=Ee.y|0,wt,Et;return"width"in Ee?(wt=Ee.width|0,Z.command(wt>=0,"invalid "+de,Te.commandStr)):he=!1,"height"in Ee?(Et=Ee.height|0,Z.command(Et>=0,"invalid "+de,Te.commandStr)):he=!1,new ga(!he&&re&&re.thisDep,!he&&re&&re.contextDep,!he&&re&&re.propDep,function(zn,Dr){var kn=zn.shared.context,ur=wt;"width"in Ee||(ur=Dr.def(kn,".",Wh,"-",Fe));var Er=Et;return"height"in Ee||(Er=Dr.def(kn,".",Og,"-",Xe)),[Fe,Xe,ur,Er]})}else if(de in Ye){var pt=Ye[de],Xt=_l(pt,function(zn,Dr){var kn=zn.invoke(Dr,pt);Z.optional(function(){zn.assert(Dr,kn+"&&typeof "+kn+'==="object"',"invalid "+de)});var ur=zn.shared.context,Er=Dr.def(kn,".x|0"),yi=Dr.def(kn,".y|0"),Zo=Dr.def('"width" in ',kn,"?",kn,".width|0:","(",ur,".",Wh,"-",Er,")"),rl=Dr.def('"height" in ',kn,"?",kn,".height|0:","(",ur,".",Og,"-",yi,")");return Z.optional(function(){zn.assert(Dr,Zo+">=0&&"+rl+">=0","invalid "+de)}),[Er,yi,Zo,rl]});return re&&(Xt.thisDep=Xt.thisDep||re.thisDep,Xt.contextDep=Xt.contextDep||re.contextDep,Xt.propDep=Xt.propDep||re.propDep),Xt}else return re?new ga(re.thisDep,re.contextDep,re.propDep,function(zn,Dr){var kn=zn.shared.context;return[0,0,Dr.def(kn,".",Wh),Dr.def(kn,".",Og)]}):null}var Pe=De(Mf);if(Pe){var Ie=Pe;Pe=new ga(Pe.thisDep,Pe.contextDep,Pe.propDep,function(de,Ee){var he=Ie.append(de,Ee),Fe=de.shared.context;return Ee.set(Fe,"."+sT,he[2]),Ee.set(Fe,"."+DN,he[3]),he})}return{viewport:Pe,scissor_box:De(Sm)}}function Cr(ge,re){var Te=ge.static,Be=typeof Te[Uh]=="string"&&typeof Te[Pg]=="string";if(Be){if(Object.keys(re.dynamic).length>0)return null;var Ye=re.static,De=Object.keys(Ye);if(De.length>0&&typeof Ye[De[0]]=="number"){for(var Pe=[],Ie=0;Ie<De.length;++Ie)Z(typeof Ye[De[Ie]]=="number","must specify all vertex attribute locations when using vaos"),Pe.push([Ye[De[Ie]]|0,De[Ie]]);return Pe}}return null}function Rr(ge,re,Te){var Be=ge.static,Ye=ge.dynamic;function De(he){if(he in Be){var Fe=Q.id(Be[he]);Z.optional(function(){Wt.shader(dx[he],Fe,Z.guessCommand())});var Xe=Wo(function(){return Fe});return Xe.id=Fe,Xe}else if(he in Ye){var wt=Ye[he];return _l(wt,function(Et,pt){var Xt=Et.invoke(pt,wt),zn=pt.def(Et.shared.strings,".id(",Xt,")");return Z.optional(function(){pt(Et.shared.shader,".shader(",dx[he],",",zn,",",Et.command,");")}),zn})}return null}var Pe=De(Uh),Ie=De(Pg),de=null,Ee;return Lu(Pe)&&Lu(Ie)?(de=Wt.program(Ie.id,Pe.id,null,Te),Ee=Wo(function(he,Fe){return he.link(de)})):Ee=new ga(Pe&&Pe.thisDep||Ie&&Ie.thisDep,Pe&&Pe.contextDep||Ie&&Ie.contextDep,Pe&&Pe.propDep||Ie&&Ie.propDep,function(he,Fe){var Xe=he.shared.shader,wt;Pe?wt=Pe.append(he,Fe):wt=Fe.def(Xe,".",Uh);var Et;Ie?Et=Ie.append(he,Fe):Et=Fe.def(Xe,".",Pg);var pt=Xe+".program("+Et+","+wt;return Z.optional(function(){pt+=","+he.command}),Fe.def(pt+")")}),{frag:Pe,vert:Ie,progVar:Ee,program:de}}function Qr(ge,re){var Te=ge.static,Be=ge.dynamic;function Ye(){if(Hh in Te){var he=Te[Hh];Zh(he)?he=it.getElements(it.create(he,!0)):he&&(he=it.getElements(he),Z.command(he,"invalid elements",re.commandStr));var Fe=Wo(function(wt,Et){if(he){var pt=wt.link(he);return wt.ELEMENTS=pt,pt}return wt.ELEMENTS=null,null});return Fe.value=he,Fe}else if(Hh in Be){var Xe=Be[Hh];return _l(Xe,function(wt,Et){var pt=wt.shared,Xt=pt.isBufferArgs,zn=pt.elements,Dr=wt.invoke(Et,Xe),kn=Et.def("null"),ur=Et.def(Xt,"(",Dr,")"),Er=wt.cond(ur).then(kn,"=",zn,".createStream(",Dr,");").else(kn,"=",zn,".getElements(",Dr,");");return Z.optional(function(){wt.assert(Er.else,"!"+Dr+"||"+kn,"invalid elements")}),Et.entry(Er),Et.exit(wt.cond(ur).then(zn,".destroyStream(",kn,");")),wt.ELEMENTS=kn,kn})}return null}var De=Ye();function Pe(){if(Af in Te){var he=Te[Af];return Z.commandParameter(he,Oe,"invalid primitve",re.commandStr),Wo(function(Xe,wt){return Oe[he]})}else if(Af in Be){var Fe=Be[Af];return _l(Fe,function(Xe,wt){var Et=Xe.constants.primTypes,pt=Xe.invoke(wt,Fe);return Z.optional(function(){Xe.assert(wt,pt+" in "+Et,"invalid primitive, must be one of "+Object.keys(Oe))}),wt.def(Et,"[",pt,"]")})}else if(De)return Lu(De)?De.value?Wo(function(Xe,wt){return wt.def(Xe.ELEMENTS,".primType")}):Wo(function(){return uT}):new ga(De.thisDep,De.contextDep,De.propDep,function(Xe,wt){var Et=Xe.ELEMENTS;return wt.def(Et,"?",Et,".primType:",uT)});return null}function Ie(he,Fe){if(he in Te){var Xe=Te[he]|0;return Z.command(!Fe||Xe>=0,"invalid "+he,re.commandStr),Wo(function(Et,pt){return Fe&&(Et.OFFSET=Xe),Xe})}else if(he in Be){var wt=Be[he];return _l(wt,function(Et,pt){var Xt=Et.invoke(pt,wt);return Fe&&(Et.OFFSET=Xt,Z.optional(function(){Et.assert(pt,Xt+">=0","invalid "+he)})),Xt})}else if(Fe&&De)return Wo(function(Et,pt){return Et.OFFSET="0",0});return null}var de=Ie(_m,!0);function Ee(){if(Dd in Te){var he=Te[Dd]|0;return Z.command(typeof he=="number"&&he>=0,"invalid vertex count",re.commandStr),Wo(function(){return he})}else if(Dd in Be){var Fe=Be[Dd];return _l(Fe,function(Et,pt){var Xt=Et.invoke(pt,Fe);return Z.optional(function(){Et.assert(pt,"typeof "+Xt+'==="number"&&'+Xt+">=0&&"+Xt+"===("+Xt+"|0)","invalid vertex count")}),Xt})}else if(De)if(Lu(De)){if(De)return de?new ga(de.thisDep,de.contextDep,de.propDep,function(Et,pt){var Xt=pt.def(Et.ELEMENTS,".vertCount-",Et.OFFSET);return Z.optional(function(){Et.assert(pt,Xt+">=0","invalid vertex offset/element buffer too small")}),Xt}):Wo(function(Et,pt){return pt.def(Et.ELEMENTS,".vertCount")});var Xe=Wo(function(){return-1});return Z.optional(function(){Xe.MISSING=!0}),Xe}else{var wt=new ga(De.thisDep||de.thisDep,De.contextDep||de.contextDep,De.propDep||de.propDep,function(Et,pt){var Xt=Et.ELEMENTS;return Et.OFFSET?pt.def(Xt,"?",Xt,".vertCount-",Et.OFFSET,":-1"):pt.def(Xt,"?",Xt,".vertCount:-1")});return Z.optional(function(){wt.DYNAMIC=!0}),wt}return null}return{elements:De,primitive:Pe(),count:Ee(),instances:Ie(Tm,!1),offset:de}}function Xo(ge,re){var Te=ge.static,Be=ge.dynamic,Ye={};return Nt.forEach(function(De){var Pe=on(De);function Ie(de,Ee){if(De in Te){var he=de(Te[De]);Ye[Pe]=Wo(function(){return he})}else if(De in Be){var Fe=Be[De];Ye[Pe]=_l(Fe,function(Xe,wt){return Ee(Xe,wt,Xe.invoke(wt,Fe))})}}switch(De){case Ga:case ix:case tT:case iT:case Vc:case Dy:case nT:case rT:case Tg:case kd:return Ie(function(de){return Z.commandType(de,"boolean",De,re.commandStr),de},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,"typeof "+he+'==="boolean"',"invalid flag "+De,de.commandStr)}),he});case Oy:return Ie(function(de){return Z.commandParameter(de,$u,"invalid "+De,re.commandStr),$u[de]},function(de,Ee,he){var Fe=de.constants.compareFuncs;return Z.optional(function(){de.assert(Ee,he+" in "+Fe,"invalid "+De+", must be one of "+Object.keys($u))}),Ee.def(Fe,"[",he,"]")});case xm:return Ie(function(de){return Z.command(Jn(de)&&de.length===2&&typeof de[0]=="number"&&typeof de[1]=="number"&&de[0]<=de[1],"depth range is 2d array",re.commandStr),de},function(de,Ee,he){Z.optional(function(){de.assert(Ee,de.shared.isArrayLike+"("+he+")&&"+he+".length===2&&typeof "+he+'[0]==="number"&&typeof '+he+'[1]==="number"&&'+he+"[0]<="+he+"[1]","depth range must be a 2d array")});var Fe=Ee.def("+",he,"[0]"),Xe=Ee.def("+",he,"[1]");return[Fe,Xe]});case Py:return Ie(function(de){Z.commandType(de,"object","blend.func",re.commandStr);var Ee="srcRGB"in de?de.srcRGB:de.src,he="srcAlpha"in de?de.srcAlpha:de.src,Fe="dstRGB"in de?de.dstRGB:de.dst,Xe="dstAlpha"in de?de.dstAlpha:de.dst;return Z.commandParameter(Ee,Wc,Pe+".srcRGB",re.commandStr),Z.commandParameter(he,Wc,Pe+".srcAlpha",re.commandStr),Z.commandParameter(Fe,Wc,Pe+".dstRGB",re.commandStr),Z.commandParameter(Xe,Wc,Pe+".dstAlpha",re.commandStr),Z.command(Kh.indexOf(Ee+", "+Fe)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ee+", "+Fe+")",re.commandStr),[Wc[Ee],Wc[Fe],Wc[he],Wc[Xe]]},function(de,Ee,he){var Fe=de.constants.blendFuncs;Z.optional(function(){de.assert(Ee,he+"&&typeof "+he+'==="object"',"invalid blend func, must be an object")});function Xe(kn,ur){var Er=Ee.def('"',kn,ur,'" in ',he,"?",he,".",kn,ur,":",he,".",kn);return Z.optional(function(){de.assert(Ee,Er+" in "+Fe,"invalid "+De+"."+kn+ur+", must be one of "+Object.keys(Wc))}),Er}var wt=Xe("src","RGB"),Et=Xe("dst","RGB");Z.optional(function(){var kn=de.constants.invalidBlendCombinations;de.assert(Ee,kn+".indexOf("+wt+'+", "+'+Et+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var pt=Ee.def(Fe,"[",wt,"]"),Xt=Ee.def(Fe,"[",Xe("src","Alpha"),"]"),zn=Ee.def(Fe,"[",Et,"]"),Dr=Ee.def(Fe,"[",Xe("dst","Alpha"),"]");return[pt,zn,Xt,Dr]});case bm:return Ie(function(de){if(typeof de=="string")return Z.commandParameter(de,ft,"invalid "+De,re.commandStr),[ft[de],ft[de]];if(typeof de=="object")return Z.commandParameter(de.rgb,ft,De+".rgb",re.commandStr),Z.commandParameter(de.alpha,ft,De+".alpha",re.commandStr),[ft[de.rgb],ft[de.alpha]];Z.commandRaise("invalid blend.equation",re.commandStr)},function(de,Ee,he){var Fe=de.constants.blendEquations,Xe=Ee.def(),wt=Ee.def(),Et=de.cond("typeof ",he,'==="string"');return Z.optional(function(){function pt(Xt,zn,Dr){de.assert(Xt,Dr+" in "+Fe,"invalid "+zn+", must be one of "+Object.keys(ft))}pt(Et.then,De,he),de.assert(Et.else,he+"&&typeof "+he+'==="object"',"invalid "+De),pt(Et.else,De+".rgb",he+".rgb"),pt(Et.else,De+".alpha",he+".alpha")}),Et.then(Xe,"=",wt,"=",Fe,"[",he,"];"),Et.else(Xe,"=",Fe,"[",he,".rgb];",wt,"=",Fe,"[",he,".alpha];"),Ee(Et),[Xe,wt]});case pa:return Ie(function(de){return Z.command(Jn(de)&&de.length===4,"blend.color must be a 4d array",re.commandStr),Yt(4,function(Ee){return+de[Ee]})},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,de.shared.isArrayLike+"("+he+")&&"+he+".length===4","blend.color must be a 4d array")}),Yt(4,function(Fe){return Ee.def("+",he,"[",Fe,"]")})});case oT:return Ie(function(de){return Z.commandType(de,"number",Pe,re.commandStr),de|0},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,"typeof "+he+'==="number"',"invalid stencil.mask")}),Ee.def(he,"|0")});case jh:return Ie(function(de){Z.commandType(de,"object",Pe,re.commandStr);var Ee=de.cmp||"keep",he=de.ref||0,Fe="mask"in de?de.mask:-1;return Z.commandParameter(Ee,$u,De+".cmp",re.commandStr),Z.commandType(he,"number",De+".ref",re.commandStr),Z.commandType(Fe,"number",De+".mask",re.commandStr),[$u[Ee],he,Fe]},function(de,Ee,he){var Fe=de.constants.compareFuncs;Z.optional(function(){function pt(){de.assert(Ee,Array.prototype.join.call(arguments,""),"invalid stencil.func")}pt(he+"&&typeof ",he,'==="object"'),pt('!("cmp" in ',he,")||(",he,".cmp in ",Fe,")")});var Xe=Ee.def('"cmp" in ',he,"?",Fe,"[",he,".cmp]",":",$d),wt=Ee.def(he,".ref|0"),Et=Ee.def('"mask" in ',he,"?",he,".mask|0:-1");return[Xe,wt,Et]});case ax:case Cm:return Ie(function(de){Z.commandType(de,"object",Pe,re.commandStr);var Ee=de.fail||"keep",he=de.zfail||"keep",Fe=de.zpass||"keep";return Z.commandParameter(Ee,Ld,De+".fail",re.commandStr),Z.commandParameter(he,Ld,De+".zfail",re.commandStr),Z.commandParameter(Fe,Ld,De+".zpass",re.commandStr),[De===Cm?Id:Ig,Ld[Ee],Ld[he],Ld[Fe]]},function(de,Ee,he){var Fe=de.constants.stencilOps;Z.optional(function(){de.assert(Ee,he+"&&typeof "+he+'==="object"',"invalid "+De)});function Xe(wt){return Z.optional(function(){de.assert(Ee,'!("'+wt+'" in '+he+")||("+he+"."+wt+" in "+Fe+")","invalid "+De+"."+wt+", must be one of "+Object.keys(Ld))}),Ee.def('"',wt,'" in ',he,"?",Fe,"[",he,".",wt,"]:",$d)}return[De===Cm?Id:Ig,Xe("fail"),Xe("zfail"),Xe("zpass")]});case wm:return Ie(function(de){Z.commandType(de,"object",Pe,re.commandStr);var Ee=de.factor|0,he=de.units|0;return Z.commandType(Ee,"number",Pe+".factor",re.commandStr),Z.commandType(he,"number",Pe+".units",re.commandStr),[Ee,he]},function(de,Ee,he){Z.optional(function(){de.assert(Ee,he+"&&typeof "+he+'==="object"',"invalid "+De)});var Fe=Ee.def(he,".factor|0"),Xe=Ee.def(he,".units|0");return[Fe,Xe]});case Ay:return Ie(function(de){var Ee=0;return de==="front"?Ee=Ig:de==="back"&&(Ee=Id),Z.command(!!Ee,Pe,re.commandStr),Ee},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,he+'==="front"||'+he+'==="back"',"invalid cull.face")}),Ee.def(he,'==="front"?',Ig,":",Id)});case sx:return Ie(function(de){return Z.command(typeof de=="number"&&de>=rt.lineWidthDims[0]&&de<=rt.lineWidthDims[1],"invalid line width, must be a positive number between "+rt.lineWidthDims[0]+" and "+rt.lineWidthDims[1],re.commandStr),de},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,"typeof "+he+'==="number"&&'+he+">="+rt.lineWidthDims[0]+"&&"+he+"<="+rt.lineWidthDims[1],"invalid line width")}),he});case ox:return Ie(function(de){return Z.commandParameter(de,Gy,Pe,re.commandStr),Gy[de]},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,he+'==="cw"||'+he+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ee.def(he+'==="cw"?'+fT+":"+zy)});case My:return Ie(function(de){return Z.command(Jn(de)&&de.length===4,"color.mask must be length 4 array",re.commandStr),de.map(function(Ee){return!!Ee})},function(de,Ee,he){return Z.optional(function(){de.assert(Ee,de.shared.isArrayLike+"("+he+")&&"+he+".length===4","invalid color.mask")}),Yt(4,function(Fe){return"!!"+he+"["+Fe+"]"})});case ky:return Ie(function(de){Z.command(typeof de=="object"&&de,Pe,re.commandStr);var Ee="value"in de?de.value:1,he=!!de.invert;return Z.command(typeof Ee=="number"&&Ee>=0&&Ee<=1,"sample.coverage.value must be a number between 0 and 1",re.commandStr),[Ee,he]},function(de,Ee,he){Z.optional(function(){de.assert(Ee,he+"&&typeof "+he+'==="object"',"invalid sample.coverage")});var Fe=Ee.def('"value" in ',he,"?+",he,".value:1"),Xe=Ee.def("!!",he,".invert");return[Fe,Xe]})}}),Ye}function ks(ge,re){var Te=ge.static,Be=ge.dynamic,Ye={};return Object.keys(Te).forEach(function(De){var Pe=Te[De],Ie;if(typeof Pe=="number"||typeof Pe=="boolean")Ie=Wo(function(){return Pe});else if(typeof Pe=="function"){var de=Pe._reglType;de==="texture2d"||de==="textureCube"?Ie=Wo(function(Ee){return Ee.link(Pe)}):de==="framebuffer"||de==="framebufferCube"?(Z.command(Pe.color.length>0,'missing color attachment for framebuffer sent to uniform "'+De+'"',re.commandStr),Ie=Wo(function(Ee){return Ee.link(Pe.color[0])})):Z.commandRaise('invalid data for uniform "'+De+'"',re.commandStr)}else Jn(Pe)?Ie=Wo(function(Ee){var he=Ee.global.def("[",Yt(Pe.length,function(Fe){return Z.command(typeof Pe[Fe]=="number"||typeof Pe[Fe]=="boolean","invalid uniform "+De,Ee.commandStr),Pe[Fe]}),"]");return he}):Z.commandRaise('invalid or missing data for uniform "'+De+'"',re.commandStr);Ie.value=Pe,Ye[De]=Ie}),Object.keys(Be).forEach(function(De){var Pe=Be[De];Ye[De]=_l(Pe,function(Ie,de){return Ie.invoke(de,Pe)})}),Ye}function Wr(ge,re){var Te=ge.static,Be=ge.dynamic,Ye={};return Object.keys(Te).forEach(function(De){var Pe=Te[De],Ie=Q.id(De),de=new Ue;if(Zh(Pe))de.state=Ta,de.buffer=yt.getBuffer(yt.create(Pe,Rd,!1,!0)),de.type=0;else{var Ee=yt.getBuffer(Pe);if(Ee)de.state=Ta,de.buffer=Ee,de.type=0;else if(Z.command(typeof Pe=="object"&&Pe,"invalid data for attribute "+De,re.commandStr),"constant"in Pe){var he=Pe.constant;de.buffer="null",de.state=rx,typeof he=="number"?de.x=he:(Z.command(Jn(he)&&he.length>0&&he.length<=4,"invalid constant for attribute "+De,re.commandStr),Md.forEach(function(zn,Dr){Dr<he.length&&(de[zn]=he[Dr])}))}else{Zh(Pe.buffer)?Ee=yt.getBuffer(yt.create(Pe.buffer,Rd,!1,!0)):Ee=yt.getBuffer(Pe.buffer),Z.command(!!Ee,'missing buffer for attribute "'+De+'"',re.commandStr);var Fe=Pe.offset|0;Z.command(Fe>=0,'invalid offset for attribute "'+De+'"',re.commandStr);var Xe=Pe.stride|0;Z.command(Xe>=0&&Xe<256,'invalid stride for attribute "'+De+'", must be integer betweeen [0, 255]',re.commandStr);var wt=Pe.size|0;Z.command(!("size"in Pe)||wt>0&&wt<=4,'invalid size for attribute "'+De+'", must be 1,2,3,4',re.commandStr);var Et=!!Pe.normalized,pt=0;"type"in Pe&&(Z.commandParameter(Pe.type,zl,"invalid type for attribute "+De,re.commandStr),pt=zl[Pe.type]);var Xt=Pe.divisor|0;"divisor"in Pe&&(Z.command(Xt===0||Bt,'cannot specify divisor for attribute "'+De+'", instancing not supported',re.commandStr),Z.command(Xt>=0,'invalid divisor for attribute "'+De+'"',re.commandStr)),Z.optional(function(){var zn=re.commandStr,Dr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Pe).forEach(function(kn){Z.command(Dr.indexOf(kn)>=0,'unknown parameter "'+kn+'" for attribute pointer "'+De+'" (valid parameters are '+Dr+")",zn)})}),de.buffer=Ee,de.state=Ta,de.size=wt,de.normalized=Et,de.type=pt||Ee.dtype,de.offset=Fe,de.stride=Xe,de.divisor=Xt}}Ye[De]=Wo(function(zn,Dr){var kn=zn.attribCache;if(Ie in kn)return kn[Ie];var ur={isStream:!1};return Object.keys(de).forEach(function(Er){ur[Er]=de[Er]}),de.buffer&&(ur.buffer=zn.link(de.buffer),ur.type=ur.type||ur.buffer+".dtype"),kn[Ie]=ur,ur})}),Object.keys(Be).forEach(function(De){var Pe=Be[De];function Ie(de,Ee){var he=de.invoke(Ee,Pe),Fe=de.shared,Xe=de.constants,wt=Fe.isBufferArgs,Et=Fe.buffer;Z.optional(function(){de.assert(Ee,he+"&&(typeof "+he+'==="object"||typeof '+he+'==="function")&&('+wt+"("+he+")||"+Et+".getBuffer("+he+")||"+Et+".getBuffer("+he+".buffer)||"+wt+"("+he+'.buffer)||("constant" in '+he+"&&(typeof "+he+'.constant==="number"||'+Fe.isArrayLike+"("+he+".constant))))",'invalid dynamic attribute "'+De+'"')});var pt={isStream:Ee.def(!1)},Xt=new Ue;Xt.state=Ta,Object.keys(Xt).forEach(function(ur){pt[ur]=Ee.def(""+Xt[ur])});var zn=pt.buffer,Dr=pt.type;Ee("if(",wt,"(",he,")){",pt.isStream,"=true;",zn,"=",Et,".createStream(",Rd,",",he,");",Dr,"=",zn,".dtype;","}else{",zn,"=",Et,".getBuffer(",he,");","if(",zn,"){",Dr,"=",zn,".dtype;",'}else if("constant" in ',he,"){",pt.state,"=",rx,";","if(typeof "+he+'.constant === "number"){',pt[Md[0]],"=",he,".constant;",Md.slice(1).map(function(ur){return pt[ur]}).join("="),"=0;","}else{",Md.map(function(ur,Er){return pt[ur]+"="+he+".constant.length>"+Er+"?"+he+".constant["+Er+"]:0;"}).join(""),"}}else{","if(",wt,"(",he,".buffer)){",zn,"=",Et,".createStream(",Rd,",",he,".buffer);","}else{",zn,"=",Et,".getBuffer(",he,".buffer);","}",Dr,'="type" in ',he,"?",Xe.glTypes,"[",he,".type]:",zn,".dtype;",pt.normalized,"=!!",he,".normalized;");function kn(ur){Ee(pt[ur],"=",he,".",ur,"|0;")}return kn("size"),kn("offset"),kn("stride"),kn("divisor"),Ee("}}"),Ee.exit("if(",pt.isStream,"){",Et,".destroyStream(",zn,");","}"),pt}Ye[De]=_l(Pe,Ie)}),Ye}function Ko(ge,re){var Te=ge.static,Be=ge.dynamic;if(Nd in Te){var Ye=Te[Nd];return Ye!==null&&Zt.getVAO(Ye)===null&&(Ye=Zt.createVAO(Ye)),Wo(function(Pe){return Pe.link(Zt.getVAO(Ye))})}else if(Nd in Be){var De=Be[Nd];return _l(De,function(Pe,Ie){var de=Pe.invoke(Ie,De);return Ie.def(Pe.shared.vao+".getVAO("+de+")")})}return null}function To(ge){var re=ge.static,Te=ge.dynamic,Be={};return Object.keys(re).forEach(function(Ye){var De=re[Ye];Be[Ye]=Wo(function(Pe,Ie){return typeof De=="number"||typeof De=="boolean"?""+De:Pe.link(De)})}),Object.keys(Te).forEach(function(Ye){var De=Te[Ye];Be[Ye]=_l(De,function(Pe,Ie){return Pe.invoke(Ie,De)})}),Be}function lo(ge,re,Te,Be,Ye){var De=ge.static,Pe=ge.dynamic;Z.optional(function(){var kn=[Vh,Pg,Uh,Hh,Af,_m,Dd,Tm,Em,Nd].concat(Nt);function ur(Er){Object.keys(Er).forEach(function(yi){Z.command(kn.indexOf(yi)>=0,'unknown parameter "'+yi+'"',Ye.commandStr)})}ur(De),ur(Pe)});var Ie=Cr(ge,re),de=An(ge),Ee=jr(ge,de,Ye),he=Qr(ge,Ye),Fe=Xo(ge,Ye),Xe=Rr(ge,Ye,Ie);function wt(kn){var ur=Ee[kn];ur&&(Fe[kn]=ur)}wt(Mf),wt(on(Sm));var Et=Object.keys(Fe).length>0,pt={framebuffer:de,draw:he,shader:Xe,state:Fe,dirty:Et,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(pt.profile=Mr(ge),pt.uniforms=ks(Te,Ye),pt.drawVAO=pt.scopeVAO=Ko(ge),!pt.drawVAO&&Xe.program&&!Ie&&we.angle_instanced_arrays){var Xt=!0,zn=Xe.program.attributes.map(function(kn){var ur=re.static[kn];return Xt=Xt&&!!ur,ur});if(Xt&&zn.length>0){var Dr=Zt.getVAO(Zt.createVAO(zn));pt.drawVAO=new ga(null,null,null,function(kn,ur){return kn.link(Dr)}),pt.useVAO=!0}}return Ie?pt.useVAO=!0:pt.attributes=Wr(re,Ye),pt.context=To(Be),pt}function Ro(ge,re,Te){var Be=ge.shared,Ye=Be.context,De=ge.scope();Object.keys(Te).forEach(function(Pe){re.save(Ye,"."+Pe);var Ie=Te[Pe],de=Ie.append(ge,re);Array.isArray(de)?De(Ye,".",Pe,"=[",de.join(),"];"):De(Ye,".",Pe,"=",de,";")}),re(De)}function Ds(ge,re,Te,Be){var Ye=ge.shared,De=Ye.gl,Pe=Ye.framebuffer,Ie;rn&&(Ie=re.def(Ye.extensions,".webgl_draw_buffers"));var de=ge.constants,Ee=de.drawBuffer,he=de.backBuffer,Fe;Te?Fe=Te.append(ge,re):Fe=re.def(Pe,".next"),Be||re("if(",Fe,"!==",Pe,".cur){"),re("if(",Fe,"){",De,".bindFramebuffer(",fx,",",Fe,".framebuffer);"),rn&&re(Ie,".drawBuffersWEBGL(",Ee,"[",Fe,".colorAttachments.length]);"),re("}else{",De,".bindFramebuffer(",fx,",null);"),rn&&re(Ie,".drawBuffersWEBGL(",he,");"),re("}",Pe,".cur=",Fe,";"),Be||re("}")}function qs(ge,re,Te){var Be=ge.shared,Ye=Be.gl,De=ge.current,Pe=ge.next,Ie=Be.current,de=Be.next,Ee=ge.cond(Ie,".dirty");Nt.forEach(function(he){var Fe=on(he);if(!(Fe in Te.state)){var Xe,wt;if(Fe in Pe){Xe=Pe[Fe],wt=De[Fe];var Et=Yt(Mt[Fe].length,function(Xt){return Ee.def(Xe,"[",Xt,"]")});Ee(ge.cond(Et.map(function(Xt,zn){return Xt+"!=="+wt+"["+zn+"]"}).join("||")).then(Ye,".",Rt[Fe],"(",Et,");",Et.map(function(Xt,zn){return wt+"["+zn+"]="+Xt}).join(";"),";"))}else{Xe=Ee.def(de,".",Fe);var pt=ge.cond(Xe,"!==",Ie,".",Fe);Ee(pt),Fe in cn?pt(ge.cond(Xe).then(Ye,".enable(",cn[Fe],");").else(Ye,".disable(",cn[Fe],");"),Ie,".",Fe,"=",Xe,";"):pt(Ye,".",Rt[Fe],"(",Xe,");",Ie,".",Fe,"=",Xe,";")}}}),Object.keys(Te.state).length===0&&Ee(Ie,".dirty=false;"),re(Ee)}function va(ge,re,Te,Be){var Ye=ge.shared,De=ge.current,Pe=Ye.current,Ie=Ye.gl;hx(Object.keys(Te)).forEach(function(de){var Ee=Te[de];if(!(Be&&!Be(Ee))){var he=Ee.append(ge,re);if(cn[de]){var Fe=cn[de];Lu(Ee)?he?re(Ie,".enable(",Fe,");"):re(Ie,".disable(",Fe,");"):re(ge.cond(he).then(Ie,".enable(",Fe,");").else(Ie,".disable(",Fe,");")),re(Pe,".",de,"=",he,";")}else if(Jn(he)){var Xe=De[de];re(Ie,".",Rt[de],"(",he,");",he.map(function(wt,Et){return Xe+"["+Et+"]="+wt}).join(";"),";")}else re(Ie,".",Rt[de],"(",he,");",Pe,".",de,"=",he,";")}})}function os(ge,re){Bt&&(ge.instancing=re.def(ge.shared.extensions,".angle_instanced_arrays"))}function kr(ge,re,Te,Be,Ye){var De=ge.shared,Pe=ge.stats,Ie=De.current,de=De.timer,Ee=Te.profile;function he(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Fe,Xe;function wt(kn){Fe=re.def(),kn(Fe,"=",he(),";"),typeof Ye=="string"?kn(Pe,".count+=",Ye,";"):kn(Pe,".count++;"),Ut&&(Be?(Xe=re.def(),kn(Xe,"=",de,".getNumPendingQueries();")):kn(de,".beginQuery(",Pe,");"))}function Et(kn){kn(Pe,".cpuTime+=",he(),"-",Fe,";"),Ut&&(Be?kn(de,".pushScopeStats(",Xe,",",de,".getNumPendingQueries(),",Pe,");"):kn(de,".endQuery();"))}function pt(kn){var ur=re.def(Ie,".profile");re(Ie,".profile=",kn,";"),re.exit(Ie,".profile=",ur,";")}var Xt;if(Ee){if(Lu(Ee)){Ee.enable?(wt(re),Et(re.exit),pt("true")):pt("false");return}Xt=Ee.append(ge,re),pt(Xt)}else Xt=re.def(Ie,".profile");var zn=ge.block();wt(zn),re("if(",Xt,"){",zn,"}");var Dr=ge.block();Et(Dr),re.exit("if(",Xt,"){",Dr,"}")}function ma(ge,re,Te,Be,Ye){var De=ge.shared;function Pe(de){switch(de){case Ag:case kg:case Uc:return 2;case Pm:case Om:case Fy:return 3;case Yh:case Dg:case Hc:return 4;default:return 1}}function Ie(de,Ee,he){var Fe=De.gl,Xe=re.def(de,".location"),wt=re.def(De.attributes,"[",Xe,"]"),Et=he.state,pt=he.buffer,Xt=[he.x,he.y,he.z,he.w],zn=["buffer","normalized","offset","stride"];function Dr(){re("if(!",wt,".buffer){",Fe,".enableVertexAttribArray(",Xe,");}");var ur=he.type,Er;if(he.size?Er=re.def(he.size,"||",Ee):Er=Ee,re("if(",wt,".type!==",ur,"||",wt,".size!==",Er,"||",zn.map(function(Zo){return wt+"."+Zo+"!=="+he[Zo]}).join("||"),"){",Fe,".bindBuffer(",Rd,",",pt,".buffer);",Fe,".vertexAttribPointer(",[Xe,Er,ur,he.normalized,he.stride,he.offset],");",wt,".type=",ur,";",wt,".size=",Er,";",zn.map(function(Zo){return wt+"."+Zo+"="+he[Zo]+";"}).join(""),"}"),Bt){var yi=he.divisor;re("if(",wt,".divisor!==",yi,"){",ge.instancing,".vertexAttribDivisorANGLE(",[Xe,yi],");",wt,".divisor=",yi,";}")}}function kn(){re("if(",wt,".buffer){",Fe,".disableVertexAttribArray(",Xe,");",wt,".buffer=null;","}if(",Md.map(function(ur,Er){return wt+"."+ur+"!=="+Xt[Er]}).join("||"),"){",Fe,".vertexAttrib4f(",Xe,",",Xt,");",Md.map(function(ur,Er){return wt+"."+ur+"="+Xt[Er]+";"}).join(""),"}")}Et===Ta?Dr():Et===rx?kn():(re("if(",Et,"===",Ta,"){"),Dr(),re("}else{"),kn(),re("}"))}Be.forEach(function(de){var Ee=de.name,he=Te.attributes[Ee],Fe;if(he){if(!Ye(he))return;Fe=he.append(ge,re)}else{if(!Ye(px))return;var Xe=ge.scopeAttrib(Ee);Z.optional(function(){ge.assert(re,Xe+".state","missing attribute "+Ee)}),Fe={},Object.keys(new Ue).forEach(function(wt){Fe[wt]=re.def(Xe,".",wt)})}Ie(ge.link(de),Pe(de.info.type),Fe)})}function Oi(ge,re,Te,Be,Ye){for(var De=ge.shared,Pe=De.gl,Ie,de=0;de<Be.length;++de){var Ee=Be[de],he=Ee.name,Fe=Ee.info.type,Xe=Te.uniforms[he],wt=ge.link(Ee),Et=wt+".location",pt;if(Xe){if(!Ye(Xe))continue;if(Lu(Xe)){var Xt=Xe.value;if(Z.command(Xt!==null&&typeof Xt<"u",'missing uniform "'+he+'"',ge.commandStr),Fe===Am||Fe===km){Z.command(typeof Xt=="function"&&(Fe===Am&&(Xt._reglType==="texture2d"||Xt._reglType==="framebuffer")||Fe===km&&(Xt._reglType==="textureCube"||Xt._reglType==="framebufferCube")),"invalid texture for uniform "+he,ge.commandStr);var zn=ge.link(Xt._texture||Xt.color[0]._texture);re(Pe,".uniform1i(",Et,",",zn+".bind());"),re.exit(zn,".unbind();")}else if(Fe===Ng||Fe===Rg||Fe===qh){Z.optional(function(){Z.command(Jn(Xt),"invalid matrix for uniform "+he,ge.commandStr),Z.command(Fe===Ng&&Xt.length===4||Fe===Rg&&Xt.length===9||Fe===qh&&Xt.length===16,"invalid length for matrix uniform "+he,ge.commandStr)});var Dr=ge.global.def("new Float32Array(["+Array.prototype.slice.call(Xt)+"])"),kn=2;Fe===Rg?kn=3:Fe===qh&&(kn=4),re(Pe,".uniformMatrix",kn,"fv(",Et,",false,",Dr,");")}else{switch(Fe){case Ru:Z.commandType(Xt,"number","uniform "+he,ge.commandStr),Ie="1f";break;case Ag:Z.command(Jn(Xt)&&Xt.length===2,"uniform "+he,ge.commandStr),Ie="2f";break;case Pm:Z.command(Jn(Xt)&&Xt.length===3,"uniform "+he,ge.commandStr),Ie="3f";break;case Yh:Z.command(Jn(Xt)&&Xt.length===4,"uniform "+he,ge.commandStr),Ie="4f";break;case Mm:Z.commandType(Xt,"boolean","uniform "+he,ge.commandStr),Ie="1i";break;case Ly:Z.commandType(Xt,"number","uniform "+he,ge.commandStr),Ie="1i";break;case Uc:Z.command(Jn(Xt)&&Xt.length===2,"uniform "+he,ge.commandStr),Ie="2i";break;case kg:Z.command(Jn(Xt)&&Xt.length===2,"uniform "+he,ge.commandStr),Ie="2i";break;case Fy:Z.command(Jn(Xt)&&Xt.length===3,"uniform "+he,ge.commandStr),Ie="3i";break;case Om:Z.command(Jn(Xt)&&Xt.length===3,"uniform "+he,ge.commandStr),Ie="3i";break;case Hc:Z.command(Jn(Xt)&&Xt.length===4,"uniform "+he,ge.commandStr),Ie="4i";break;case Dg:Z.command(Jn(Xt)&&Xt.length===4,"uniform "+he,ge.commandStr),Ie="4i";break}re(Pe,".uniform",Ie,"(",Et,",",Jn(Xt)?Array.prototype.slice.call(Xt):Xt,");")}continue}else pt=Xe.append(ge,re)}else{if(!Ye(px))continue;pt=re.def(De.uniforms,"[",Q.id(he),"]")}Fe===Am?(Z(!Array.isArray(pt),"must specify a scalar prop for textures"),re("if(",pt,"&&",pt,'._reglType==="framebuffer"){',pt,"=",pt,".color[0];","}")):Fe===km&&(Z(!Array.isArray(pt),"must specify a scalar prop for cube maps"),re("if(",pt,"&&",pt,'._reglType==="framebufferCube"){',pt,"=",pt,".color[0];","}")),Z.optional(function(){function rl(Yc,CT){ge.assert(re,Yc,'bad data or missing for uniform "'+he+'".  '+CT)}function bx(Yc){Z(!Array.isArray(pt),"must not specify an array type for uniform"),rl("typeof "+pt+'==="'+Yc+'"',"invalid type, expected "+Yc)}function hc(Yc,CT){Array.isArray(pt)?Z(pt.length===Yc,"must have length "+Yc):rl(De.isArrayLike+"("+pt+")&&"+pt+".length==="+Yc,"invalid vector, should have length "+Yc,ge.commandStr)}function wT(Yc){Z(!Array.isArray(pt),"must not specify a value type"),rl("typeof "+pt+'==="function"&&'+pt+'._reglType==="texture'+(Yc===Mg?"2d":"Cube")+'"',"invalid texture type",ge.commandStr)}switch(Fe){case Ly:bx("number");break;case kg:hc(2);break;case Om:hc(3);break;case Dg:hc(4);break;case Ru:bx("number");break;case Ag:hc(2);break;case Pm:hc(3);break;case Yh:hc(4);break;case Mm:bx("boolean");break;case Uc:hc(2);break;case Fy:hc(3);break;case Hc:hc(4);break;case Ng:hc(4);break;case Rg:hc(9);break;case qh:hc(16);break;case Am:wT(Mg);break;case km:wT(aT);break}});var ur=1;switch(Fe){case Am:case km:var Er=re.def(pt,"._texture");re(Pe,".uniform1i(",Et,",",Er,".bind());"),re.exit(Er,".unbind();");continue;case Ly:case Mm:Ie="1i";break;case kg:case Uc:Ie="2i",ur=2;break;case Om:case Fy:Ie="3i",ur=3;break;case Dg:case Hc:Ie="4i",ur=4;break;case Ru:Ie="1f";break;case Ag:Ie="2f",ur=2;break;case Pm:Ie="3f",ur=3;break;case Yh:Ie="4f",ur=4;break;case Ng:Ie="Matrix2fv";break;case Rg:Ie="Matrix3fv";break;case qh:Ie="Matrix4fv";break}if(re(Pe,".uniform",Ie,"(",Et,","),Ie.charAt(0)==="M"){var yi=Math.pow(Fe-Ng+2,2),Zo=ge.global.def("new Float32Array(",yi,")");Array.isArray(pt)?re("false,(",Yt(yi,function(rl){return Zo+"["+rl+"]="+pt[rl]}),",",Zo,")"):re("false,(Array.isArray(",pt,")||",pt," instanceof Float32Array)?",pt,":(",Yt(yi,function(rl){return Zo+"["+rl+"]="+pt+"["+rl+"]"}),",",Zo,")")}else ur>1?re(Yt(ur,function(rl){return Array.isArray(pt)?pt[rl]:pt+"["+rl+"]"})):(Z(!Array.isArray(pt),"uniform value must not be an array"),re(pt));re(");")}}function ar(ge,re,Te,Be){var Ye=ge.shared,De=Ye.gl,Pe=Ye.draw,Ie=Be.draw;function de(){var Er=Ie.elements,yi,Zo=re;return Er?((Er.contextDep&&Be.contextDynamic||Er.propDep)&&(Zo=Te),yi=Er.append(ge,Zo)):yi=Zo.def(Pe,".",Hh),yi&&Zo("if("+yi+")"+De+".bindBuffer("+fi+","+yi+".buffer.buffer);"),yi}function Ee(){var Er=Ie.count,yi,Zo=re;return Er?((Er.contextDep&&Be.contextDynamic||Er.propDep)&&(Zo=Te),yi=Er.append(ge,Zo),Z.optional(function(){Er.MISSING&&ge.assert(re,"false","missing vertex count"),Er.DYNAMIC&&ge.assert(Zo,yi+">=0","missing vertex count")})):(yi=Zo.def(Pe,".",Dd),Z.optional(function(){ge.assert(Zo,yi+">=0","missing vertex count")})),yi}var he=de();function Fe(Er){var yi=Ie[Er];return yi?yi.contextDep&&Be.contextDynamic||yi.propDep?yi.append(ge,Te):yi.append(ge,re):re.def(Pe,".",Er)}var Xe=Fe(Af),wt=Fe(_m),Et=Ee();if(typeof Et=="number"){if(Et===0)return}else Te("if(",Et,"){"),Te.exit("}");var pt,Xt;Bt&&(pt=Fe(Tm),Xt=ge.instancing);var zn=he+".type",Dr=Ie.elements&&Lu(Ie.elements);function kn(){function Er(){Te(Xt,".drawElementsInstancedANGLE(",[Xe,Et,zn,wt+"<<(("+zn+"-"+Ad+")>>1)",pt],");")}function yi(){Te(Xt,".drawArraysInstancedANGLE(",[Xe,wt,Et,pt],");")}he?Dr?Er():(Te("if(",he,"){"),Er(),Te("}else{"),yi(),Te("}")):yi()}function ur(){function Er(){Te(De+".drawElements("+[Xe,Et,zn,wt+"<<(("+zn+"-"+Ad+")>>1)"]+");")}function yi(){Te(De+".drawArrays("+[Xe,wt,Et]+");")}he?Dr?Er():(Te("if(",he,"){"),Er(),Te("}else{"),yi(),Te("}")):yi()}Bt&&(typeof pt!="number"||pt>=0)?typeof pt=="string"?(Te("if(",pt,">0){"),kn(),Te("}else if(",pt,"<0){"),ur(),Te("}")):kn():ur()}function Yr(ge,re,Te,Be,Ye){var De=pr(),Pe=De.proc("body",Ye);return Z.optional(function(){De.commandStr=re.commandStr,De.command=De.link(re.commandStr)}),Bt&&(De.instancing=Pe.def(De.shared.extensions,".angle_instanced_arrays")),ge(De,Pe,Te,Be),De.compile().body}function ai(ge,re,Te,Be){os(ge,re),Te.useVAO?Te.drawVAO?re(ge.shared.vao,".setVAO(",Te.drawVAO.append(ge,re),");"):re(ge.shared.vao,".setVAO(",ge.shared.vao,".targetVAO);"):(re(ge.shared.vao,".setVAO(null);"),ma(ge,re,Te,Be.attributes,function(){return!0})),Oi(ge,re,Te,Be.uniforms,function(){return!0}),ar(ge,re,re,Te)}function ss(ge,re){var Te=ge.proc("draw",1);os(ge,Te),Ro(ge,Te,re.context),Ds(ge,Te,re.framebuffer),qs(ge,Te,re),va(ge,Te,re.state),kr(ge,Te,re,!1,!0);var Be=re.shader.progVar.append(ge,Te);if(Te(ge.shared.gl,".useProgram(",Be,".program);"),re.shader.program)ai(ge,Te,re,re.shader.program);else{Te(ge.shared.vao,".setVAO(null);");var Ye=ge.global.def("{}"),De=Te.def(Be,".id"),Pe=Te.def(Ye,"[",De,"]");Te(ge.cond(Pe).then(Pe,".call(this,a0);").else(Pe,"=",Ye,"[",De,"]=",ge.link(function(Ie){return Yr(ai,ge,re,Ie,1)}),"(",Be,");",Pe,".call(this,a0);"))}Object.keys(re.state).length>0&&Te(ge.shared.current,".dirty=true;")}function zu(ge,re,Te,Be){ge.batchId="a1",os(ge,re);function Ye(){return!0}ma(ge,re,Te,Be.attributes,Ye),Oi(ge,re,Te,Be.uniforms,Ye),ar(ge,re,re,Te)}function Qh(ge,re,Te,Be){os(ge,re);var Ye=Te.contextDep,De=re.def(),Pe="a0",Ie="a1",de=re.def();ge.shared.props=de,ge.batchId=De;var Ee=ge.scope(),he=ge.scope();re(Ee.entry,"for(",De,"=0;",De,"<",Ie,";++",De,"){",de,"=",Pe,"[",De,"];",he,"}",Ee.exit);function Fe(zn){return zn.contextDep&&Ye||zn.propDep}function Xe(zn){return!Fe(zn)}if(Te.needsContext&&Ro(ge,he,Te.context),Te.needsFramebuffer&&Ds(ge,he,Te.framebuffer),va(ge,he,Te.state,Fe),Te.profile&&Fe(Te.profile)&&kr(ge,he,Te,!1,!0),Be)Te.useVAO?Te.drawVAO?Fe(Te.drawVAO)?he(ge.shared.vao,".setVAO(",Te.drawVAO.append(ge,he),");"):Ee(ge.shared.vao,".setVAO(",Te.drawVAO.append(ge,Ee),");"):Ee(ge.shared.vao,".setVAO(",ge.shared.vao,".targetVAO);"):(Ee(ge.shared.vao,".setVAO(null);"),ma(ge,Ee,Te,Be.attributes,Xe),ma(ge,he,Te,Be.attributes,Fe)),Oi(ge,Ee,Te,Be.uniforms,Xe),Oi(ge,he,Te,Be.uniforms,Fe),ar(ge,Ee,he,Te);else{var wt=ge.global.def("{}"),Et=Te.shader.progVar.append(ge,he),pt=he.def(Et,".id"),Xt=he.def(wt,"[",pt,"]");he(ge.shared.gl,".useProgram(",Et,".program);","if(!",Xt,"){",Xt,"=",wt,"[",pt,"]=",ge.link(function(zn){return Yr(zu,ge,Te,zn,2)}),"(",Et,");}",Xt,".call(this,a0[",De,"],",De,");")}}function ye(ge,re){var Te=ge.proc("batch",2);ge.batchId="0",os(ge,Te);var Be=!1,Ye=!0;Object.keys(re.context).forEach(function(wt){Be=Be||re.context[wt].propDep}),Be||(Ro(ge,Te,re.context),Ye=!1);var De=re.framebuffer,Pe=!1;De?(De.propDep?Be=Pe=!0:De.contextDep&&Be&&(Pe=!0),Pe||Ds(ge,Te,De)):Ds(ge,Te,null),re.state.viewport&&re.state.viewport.propDep&&(Be=!0);function Ie(wt){return wt.contextDep&&Be||wt.propDep}qs(ge,Te,re),va(ge,Te,re.state,function(wt){return!Ie(wt)}),(!re.profile||!Ie(re.profile))&&kr(ge,Te,re,!1,"a1"),re.contextDep=Be,re.needsContext=Ye,re.needsFramebuffer=Pe;var de=re.shader.progVar;if(de.contextDep&&Be||de.propDep)Qh(ge,Te,re,null);else{var Ee=de.append(ge,Te);if(Te(ge.shared.gl,".useProgram(",Ee,".program);"),re.shader.program)Qh(ge,Te,re,re.shader.program);else{Te(ge.shared.vao,".setVAO(null);");var he=ge.global.def("{}"),Fe=Te.def(Ee,".id"),Xe=Te.def(he,"[",Fe,"]");Te(ge.cond(Xe).then(Xe,".call(this,a0,a1);").else(Xe,"=",he,"[",Fe,"]=",ge.link(function(wt){return Yr(Qh,ge,re,wt,2)}),"(",Ee,");",Xe,".call(this,a0,a1);"))}}Object.keys(re.state).length>0&&Te(ge.shared.current,".dirty=true;")}function st(ge,re){var Te=ge.proc("scope",3);ge.batchId="a2";var Be=ge.shared,Ye=Be.current;Ro(ge,Te,re.context),re.framebuffer&&re.framebuffer.append(ge,Te),hx(Object.keys(re.state)).forEach(function(Pe){var Ie=re.state[Pe],de=Ie.append(ge,Te);Jn(de)?de.forEach(function(Ee,he){Te.set(ge.next[Pe],"["+he+"]",Ee)}):Te.set(Be.next,"."+Pe,de)}),kr(ge,Te,re,!0,!0),[Hh,_m,Dd,Tm,Af].forEach(function(Pe){var Ie=re.draw[Pe];!Ie||Te.set(Be.draw,"."+Pe,""+Ie.append(ge,Te))}),Object.keys(re.uniforms).forEach(function(Pe){var Ie=re.uniforms[Pe].append(ge,Te);Array.isArray(Ie)&&(Ie="["+Ie.join()+"]"),Te.set(Be.uniforms,"["+Q.id(Pe)+"]",Ie)}),Object.keys(re.attributes).forEach(function(Pe){var Ie=re.attributes[Pe].append(ge,Te),de=ge.scopeAttrib(Pe);Object.keys(new Ue).forEach(function(Ee){Te.set(de,"."+Ee,Ie[Ee])})}),re.scopeVAO&&Te.set(Be.vao,".targetVAO",re.scopeVAO.append(ge,Te));function De(Pe){var Ie=re.shader[Pe];Ie&&Te.set(Be.shader,"."+Pe,Ie.append(ge,Te))}De(Pg),De(Uh),Object.keys(re.state).length>0&&(Te(Ye,".dirty=true;"),Te.exit(Ye,".dirty=true;")),Te("a1(",ge.shared.context,",a0,",ge.batchId,");")}function et(ge){if(!(typeof ge!="object"||Jn(ge))){for(var re=Object.keys(ge),Te=0;Te<re.length;++Te)if(_n.isDynamic(ge[re[Te]]))return!0;return!1}}function Tn(ge,re,Te){var Be=re.static[Te];if(!Be||!et(Be))return;var Ye=ge.global,De=Object.keys(Be),Pe=!1,Ie=!1,de=!1,Ee=ge.global.def("{}");De.forEach(function(Fe){var Xe=Be[Fe];if(_n.isDynamic(Xe)){typeof Xe=="function"&&(Xe=Be[Fe]=_n.unbox(Xe));var wt=_l(Xe,null);Pe=Pe||wt.thisDep,de=de||wt.propDep,Ie=Ie||wt.contextDep}else{switch(Ye(Ee,".",Fe,"="),typeof Xe){case"number":Ye(Xe);break;case"string":Ye('"',Xe,'"');break;case"object":Array.isArray(Xe)&&Ye("[",Xe.join(),"]");break;default:Ye(ge.link(Xe));break}Ye(";")}});function he(Fe,Xe){De.forEach(function(wt){var Et=Be[wt];if(!!_n.isDynamic(Et)){var pt=Fe.invoke(Xe,Et);Xe(Ee,".",wt,"=",pt,";")}})}re.dynamic[Te]=new _n.DynamicVariable(mm,{thisDep:Pe,contextDep:Ie,propDep:de,ref:Ee,append:he}),delete re.static[Te]}function Vr(ge,re,Te,Be,Ye){var De=pr();De.stats=De.link(Ye),Object.keys(re.static).forEach(function(Ie){Tn(De,re,Ie)}),NN.forEach(function(Ie){Tn(De,ge,Ie)});var Pe=lo(ge,re,Te,Be,De);return ss(De,Pe),st(De,Pe),ye(De,Pe),r(De.compile(),{destroy:function(){Pe.shader.program.destroy()}})}return{next:Sn,current:Mt,procs:function(){var ge=pr(),re=ge.proc("poll"),Te=ge.proc("refresh"),Be=ge.block();re(Be),Te(Be);var Ye=ge.shared,De=Ye.gl,Pe=Ye.next,Ie=Ye.current;Be(Ie,".dirty=false;"),Ds(ge,re),Ds(ge,Te,null,!0);var de;Bt&&(de=ge.link(Bt)),we.oes_vertex_array_object&&Te(ge.link(we.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ee=0;Ee<rt.maxAttributes;++Ee){var he=Te.def(Ye.attributes,"[",Ee,"]"),Fe=ge.cond(he,".buffer");Fe.then(De,".enableVertexAttribArray(",Ee,");",De,".bindBuffer(",Rd,",",he,".buffer.buffer);",De,".vertexAttribPointer(",Ee,",",he,".size,",he,".type,",he,".normalized,",he,".stride,",he,".offset);").else(De,".disableVertexAttribArray(",Ee,");",De,".vertexAttrib4f(",Ee,",",he,".x,",he,".y,",he,".z,",he,".w);",he,".buffer=null;"),Te(Fe),Bt&&Te(de,".vertexAttribDivisorANGLE(",Ee,",",he,".divisor);")}return Te(ge.shared.vao,".currentVAO=null;",ge.shared.vao,".setVAO(",ge.shared.vao,".targetVAO);"),Object.keys(cn).forEach(function(Xe){var wt=cn[Xe],Et=Be.def(Pe,".",Xe),pt=ge.block();pt("if(",Et,"){",De,".enable(",wt,")}else{",De,".disable(",wt,")}",Ie,".",Xe,"=",Et,";"),Te(pt),re("if(",Et,"!==",Ie,".",Xe,"){",pt,"}")}),Object.keys(Rt).forEach(function(Xe){var wt=Rt[Xe],Et=Mt[Xe],pt,Xt,zn=ge.block();if(zn(De,".",wt,"("),Jn(Et)){var Dr=Et.length;pt=ge.global.def(Pe,".",Xe),Xt=ge.global.def(Ie,".",Xe),zn(Yt(Dr,function(kn){return pt+"["+kn+"]"}),");",Yt(Dr,function(kn){return Xt+"["+kn+"]="+pt+"["+kn+"];"}).join("")),re("if(",Yt(Dr,function(kn){return pt+"["+kn+"]!=="+Xt+"["+kn+"]"}).join("||"),"){",zn,"}")}else pt=Be.def(Pe,".",Xe),Xt=Be.def(Ie,".",Xe),zn(pt,");",Ie,".",Xe,"=",pt,";"),re("if(",pt,"!==",Xt,"){",zn,"}");Te(zn)}),ge.compile()}(),compile:Vr}}function gT(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var gx=34918,GN=34919,vx=35007,kf=function(G,Q){if(!Q.ext_disjoint_timer_query)return null;var we=[];function rt(){return we.pop()||Q.ext_disjoint_timer_query.createQueryEXT()}function yt(Bt){we.push(Bt)}var it=[];function ct(Bt){var rn=rt();Q.ext_disjoint_timer_query.beginQueryEXT(vx,rn),it.push(rn),Ut(it.length-1,it.length,Bt)}function Vt(){Q.ext_disjoint_timer_query.endQueryEXT(vx)}function Ot(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Zt=[];function Wt(){return Zt.pop()||new Ot}function nn(Bt){Zt.push(Bt)}var hn=[];function Ut(Bt,rn,Mt){var Sn=Wt();Sn.startQueryIndex=Bt,Sn.endQueryIndex=rn,Sn.sum=0,Sn.stats=Mt,hn.push(Sn)}var an=[],Ue=[];function ft(){var Bt,rn,Mt=it.length;if(Mt!==0){Ue.length=Math.max(Ue.length,Mt+1),an.length=Math.max(an.length,Mt+1),an[0]=0,Ue[0]=0;var Sn=0;for(Bt=0,rn=0;rn<it.length;++rn){var Nt=it[rn];Q.ext_disjoint_timer_query.getQueryObjectEXT(Nt,GN)?(Sn+=Q.ext_disjoint_timer_query.getQueryObjectEXT(Nt,gx),yt(Nt)):it[Bt++]=Nt,an[rn+1]=Sn,Ue[rn+1]=Bt}for(it.length=Bt,Bt=0,rn=0;rn<hn.length;++rn){var cn=hn[rn],Rt=cn.startQueryIndex,on=cn.endQueryIndex;cn.sum+=an[on]-an[Rt];var Kn=Ue[Rt],wr=Ue[on];wr===Kn?(cn.stats.gpuTime+=cn.sum/1e6,nn(cn)):(cn.startQueryIndex=Kn,cn.endQueryIndex=wr,hn[Bt++]=cn)}hn.length=Bt}}return{beginQuery:ct,endQuery:Vt,pushScopeStats:Ut,update:ft,getNumPendingQueries:function(){return it.length},clear:function(){we.push.apply(we,it);for(var Bt=0;Bt<we.length;Bt++)Q.ext_disjoint_timer_query.deleteQueryEXT(we[Bt]);it.length=0,we.length=0},restore:function(){it.length=0,we.length=0}}},vT=16384,mT=256,BN=1024,yT=34962,bT="webglcontextlost",xT="webglcontextrestored",Fu=1,mx=2,yx=3;function jy(G,Q){for(var we=0;we<G.length;++we)if(G[we]===Q)return we;return-1}function Vy(G){var Q=wo(G);if(!Q)return null;var we=Q.gl,rt=we.getContextAttributes(),yt=we.isContextLost(),it=Tr(we,Q);if(!it)return null;var ct=Wn(),Vt=gT(),Ot=it.extensions,Zt=kf(we,Ot),Wt=Qn(),nn=we.drawingBufferWidth,hn=we.drawingBufferHeight,Ut={tick:0,time:0,viewportWidth:nn,viewportHeight:hn,framebufferWidth:nn,framebufferHeight:hn,drawingBufferWidth:nn,drawingBufferHeight:hn,pixelRatio:Q.pixelRatio},an={},Ue={elements:null,primitive:4,count:-1,offset:0,instances:-1},ft=Ic(we,Ot),Bt=O(we,Vt,Q,Mt),rn=PN(we,Ot,ft,Vt,Bt);function Mt(ar){return rn.destroyBuffer(ar)}var Sn=Vn(we,Ot,Bt,Vt),Nt=MN(we,ct,Vt,Q),cn=Fa(we,Ot,ft,function(){Kn.procs.poll()},Ut,Vt,Q),Rt=fN(we,Ot,ft,Vt,Q),on=TN(we,Ot,ft,cn,Rt,Vt),Kn=By(we,ct,Ot,ft,Bt,Sn,cn,on,an,rn,Nt,Ue,Ut,Zt,Q),wr=kN(we,on,Kn.procs.poll,Ut,rt,Ot,ft),pn=Kn.next,Jt=we.canvas,At=[],pr=[],Mr=[],An=[Q.onDestroy],jr=null;function Cr(){if(At.length===0){Zt&&Zt.update(),jr=null;return}jr=lr.next(Cr),va();for(var ar=At.length-1;ar>=0;--ar){var Yr=At[ar];Yr&&Yr(Ut,null,0)}we.flush(),Zt&&Zt.update()}function Rr(){!jr&&At.length>0&&(jr=lr.next(Cr))}function Qr(){jr&&(lr.cancel(Cr),jr=null)}function Xo(ar){ar.preventDefault(),yt=!0,Qr(),pr.forEach(function(Yr){Yr()})}function ks(ar){we.getError(),yt=!1,it.restore(),Nt.restore(),Bt.restore(),cn.restore(),Rt.restore(),on.restore(),rn.restore(),Zt&&Zt.restore(),Kn.procs.refresh(),Rr(),Mr.forEach(function(Yr){Yr()})}Jt&&(Jt.addEventListener(bT,Xo,!1),Jt.addEventListener(xT,ks,!1));function Wr(){At.length=0,Qr(),Jt&&(Jt.removeEventListener(bT,Xo),Jt.removeEventListener(xT,ks)),Nt.clear(),on.clear(),Rt.clear(),cn.clear(),Sn.clear(),Bt.clear(),rn.clear(),Zt&&Zt.clear(),An.forEach(function(ar){ar()})}function Ko(ar){Z(!!ar,"invalid args to regl({...})"),Z.type(ar,"object","invalid args to regl({...})");function Yr(Ye){var De=r({},Ye);delete De.uniforms,delete De.attributes,delete De.context,delete De.vao,"stencil"in De&&De.stencil.op&&(De.stencil.opBack=De.stencil.opFront=De.stencil.op,delete De.stencil.op);function Pe(Ie){if(Ie in De){var de=De[Ie];delete De[Ie],Object.keys(de).forEach(function(Ee){De[Ie+"."+Ee]=de[Ee]})}}return Pe("blend"),Pe("depth"),Pe("cull"),Pe("stencil"),Pe("polygonOffset"),Pe("scissor"),Pe("sample"),"vao"in Ye&&(De.vao=Ye.vao),De}function ai(Ye,De){var Pe={},Ie={};return Object.keys(Ye).forEach(function(de){var Ee=Ye[de];if(_n.isDynamic(Ee)){Ie[de]=_n.unbox(Ee,de);return}else if(De&&Array.isArray(Ee)){for(var he=0;he<Ee.length;++he)if(_n.isDynamic(Ee[he])){Ie[de]=_n.unbox(Ee,de);return}}Pe[de]=Ee}),{dynamic:Ie,static:Pe}}var ss=ai(ar.context||{},!0),zu=ai(ar.uniforms||{},!0),Qh=ai(ar.attributes||{},!1),ye=ai(Yr(ar),!1),st={gpuTime:0,cpuTime:0,count:0},et=Kn.compile(ye,Qh,zu,ss,st),Tn=et.draw,Vr=et.batch,ge=et.scope,re=[];function Te(Ye){for(;re.length<Ye;)re.push(null);return re}function Be(Ye,De){var Pe;if(yt&&Z.raise("context lost"),typeof Ye=="function")return ge.call(this,null,Ye,0);if(typeof De=="function")if(typeof Ye=="number")for(Pe=0;Pe<Ye;++Pe)ge.call(this,null,De,Pe);else if(Array.isArray(Ye))for(Pe=0;Pe<Ye.length;++Pe)ge.call(this,Ye[Pe],De,Pe);else return ge.call(this,Ye,De,0);else if(typeof Ye=="number"){if(Ye>0)return Vr.call(this,Te(Ye|0),Ye|0)}else if(Array.isArray(Ye)){if(Ye.length)return Vr.call(this,Ye,Ye.length)}else return Tn.call(this,Ye)}return r(Be,{stats:st,destroy:function(){et.destroy()}})}var To=on.setFBO=Ko({framebuffer:_n.define.call(null,Fu,"framebuffer")});function lo(ar,Yr){var ai=0;Kn.procs.poll();var ss=Yr.color;ss&&(we.clearColor(+ss[0]||0,+ss[1]||0,+ss[2]||0,+ss[3]||0),ai|=vT),"depth"in Yr&&(we.clearDepth(+Yr.depth),ai|=mT),"stencil"in Yr&&(we.clearStencil(Yr.stencil|0),ai|=BN),Z(!!ai,"called regl.clear with no buffer specified"),we.clear(ai)}function Ro(ar){if(Z(typeof ar=="object"&&ar,"regl.clear() takes an object as input"),"framebuffer"in ar)if(ar.framebuffer&&ar.framebuffer_reglType==="framebufferCube")for(var Yr=0;Yr<6;++Yr)To(r({framebuffer:ar.framebuffer.faces[Yr]},ar),lo);else To(ar,lo);else lo(null,ar)}function Ds(ar){Z.type(ar,"function","regl.frame() callback must be a function"),At.push(ar);function Yr(){var ai=jy(At,ar);Z(ai>=0,"cannot cancel a frame twice");function ss(){var zu=jy(At,ss);At[zu]=At[At.length-1],At.length-=1,At.length<=0&&Qr()}At[ai]=ss}return Rr(),{cancel:Yr}}function qs(){var ar=pn.viewport,Yr=pn.scissor_box;ar[0]=ar[1]=Yr[0]=Yr[1]=0,Ut.viewportWidth=Ut.framebufferWidth=Ut.drawingBufferWidth=ar[2]=Yr[2]=we.drawingBufferWidth,Ut.viewportHeight=Ut.framebufferHeight=Ut.drawingBufferHeight=ar[3]=Yr[3]=we.drawingBufferHeight}function va(){Ut.tick+=1,Ut.time=kr(),qs(),Kn.procs.poll()}function os(){cn.refresh(),qs(),Kn.procs.refresh(),Zt&&Zt.update()}function kr(){return(Qn()-Wt)/1e3}os();function ma(ar,Yr){Z.type(Yr,"function","listener callback must be a function");var ai;switch(ar){case"frame":return Ds(Yr);case"lost":ai=pr;break;case"restore":ai=Mr;break;case"destroy":ai=An;break;default:Z.raise("invalid event, must be one of frame,lost,restore,destroy")}return ai.push(Yr),{cancel:function(){for(var ss=0;ss<ai.length;++ss)if(ai[ss]===Yr){ai[ss]=ai[ai.length-1],ai.pop();return}}}}var Oi=r(Ko,{clear:Ro,prop:_n.define.bind(null,Fu),context:_n.define.bind(null,mx),this:_n.define.bind(null,yx),draw:Ko({}),buffer:function(ar){return Bt.create(ar,yT,!1,!1)},elements:function(ar){return Sn.create(ar,!1)},texture:cn.create2D,cube:cn.createCube,renderbuffer:Rt.create,framebuffer:on.create,framebufferCube:on.createCube,vao:rn.createVAO,attributes:rt,frame:Ds,on:ma,limits:ft,hasExtension:function(ar){return ft.extensions.indexOf(ar.toLowerCase())>=0},read:wr,destroy:Wr,_gl:we,_refresh:os,poll:function(){va(),Zt&&Zt.update()},now:kr,stats:Vt});return Q.onDone(null,Oi),Oi}return Vy})})(Ase);const mze=Ase.exports;var yze=function(){function t(e,n){Cn(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,o=n.stride,s=n.normalized,a=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:o||0,normalized:s||!1,divisor:l||0},a&&(this.attribute.size=a)}return Rn(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),op,Ux,sp,ju,Hx,zg,Wx,wP,zd,$m,il,Gd,Bd,CP,bze=(op={},V(op,He.POINTS,"points"),V(op,He.LINES,"lines"),V(op,He.LINE_LOOP,"line loop"),V(op,He.LINE_STRIP,"line strip"),V(op,He.TRIANGLES,"triangles"),V(op,He.TRIANGLE_FAN,"triangle fan"),V(op,He.TRIANGLE_STRIP,"triangle strip"),op),kse=(Ux={},V(Ux,He.STATIC_DRAW,"static"),V(Ux,He.DYNAMIC_DRAW,"dynamic"),V(Ux,He.STREAM_DRAW,"stream"),Ux),L8=(sp={},V(sp,He.BYTE,"int8"),V(sp,He.UNSIGNED_INT,"int16"),V(sp,He.INT,"int32"),V(sp,He.UNSIGNED_BYTE,"uint8"),V(sp,He.UNSIGNED_SHORT,"uint16"),V(sp,He.UNSIGNED_INT,"uint32"),V(sp,He.FLOAT,"float"),sp),xze=(ju={},V(ju,He.ALPHA,"alpha"),V(ju,He.LUMINANCE,"luminance"),V(ju,He.LUMINANCE_ALPHA,"luminance alpha"),V(ju,He.RGB,"rgb"),V(ju,He.RGBA,"rgba"),V(ju,He.RGBA4,"rgba4"),V(ju,He.RGB5_A1,"rgb5 a1"),V(ju,He.RGB565,"rgb565"),V(ju,He.DEPTH_COMPONENT,"depth"),V(ju,He.DEPTH_STENCIL,"depth stencil"),ju),wze=(Hx={},V(Hx,He.DONT_CARE,"dont care"),V(Hx,He.NICEST,"nice"),V(Hx,He.FASTEST,"fast"),Hx),DW=(zg={},V(zg,He.NEAREST,"nearest"),V(zg,He.LINEAR,"linear"),V(zg,He.LINEAR_MIPMAP_LINEAR,"mipmap"),V(zg,He.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),V(zg,He.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),V(zg,He.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),zg),NW=(Wx={},V(Wx,He.REPEAT,"repeat"),V(Wx,He.CLAMP_TO_EDGE,"clamp"),V(Wx,He.MIRRORED_REPEAT,"mirror"),Wx),Cze=(wP={},V(wP,He.NONE,"none"),V(wP,He.BROWSER_DEFAULT_WEBGL,"browser"),wP),Sze=(zd={},V(zd,He.NEVER,"never"),V(zd,He.ALWAYS,"always"),V(zd,He.LESS,"less"),V(zd,He.LEQUAL,"lequal"),V(zd,He.GREATER,"greater"),V(zd,He.GEQUAL,"gequal"),V(zd,He.EQUAL,"equal"),V(zd,He.NOTEQUAL,"notequal"),zd),RW=($m={},V($m,He.FUNC_ADD,"add"),V($m,He.MIN_EXT,"min"),V($m,He.MAX_EXT,"max"),V($m,He.FUNC_SUBTRACT,"subtract"),V($m,He.FUNC_REVERSE_SUBTRACT,"reverse subtract"),$m),SP=(il={},V(il,He.ZERO,"zero"),V(il,He.ONE,"one"),V(il,He.SRC_COLOR,"src color"),V(il,He.ONE_MINUS_SRC_COLOR,"one minus src color"),V(il,He.SRC_ALPHA,"src alpha"),V(il,He.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),V(il,He.DST_COLOR,"dst color"),V(il,He.ONE_MINUS_DST_COLOR,"one minus dst color"),V(il,He.DST_ALPHA,"dst alpha"),V(il,He.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),V(il,He.CONSTANT_COLOR,"constant color"),V(il,He.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),V(il,He.CONSTANT_ALPHA,"constant alpha"),V(il,He.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),V(il,He.SRC_ALPHA_SATURATE,"src alpha saturate"),il),Eze=(Gd={},V(Gd,He.NEVER,"never"),V(Gd,He.ALWAYS,"always"),V(Gd,He.LESS,"less"),V(Gd,He.LEQUAL,"lequal"),V(Gd,He.GREATER,"greater"),V(Gd,He.GEQUAL,"gequal"),V(Gd,He.EQUAL,"equal"),V(Gd,He.NOTEQUAL,"notequal"),Gd),tb=(Bd={},V(Bd,He.ZERO,"zero"),V(Bd,He.KEEP,"keep"),V(Bd,He.REPLACE,"replace"),V(Bd,He.INVERT,"invert"),V(Bd,He.INCR,"increment"),V(Bd,He.DECR,"decrement"),V(Bd,He.INCR_WRAP,"increment wrap"),V(Bd,He.DECR_WRAP,"decrement wrap"),Bd),_ze=(CP={},V(CP,He.FRONT,"front"),V(CP,He.BACK,"back"),CP),Tze=function(){function t(e,n){Cn(this,t),this.buffer=void 0;var r=n.data,i=n.usage,o=n.type;this.buffer=e.buffer({data:r,usage:kse[i||He.STATIC_DRAW],type:L8[o||He.UNSIGNED_BYTE]})}return Rn(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(n){var r=n.data,i=n.offset;this.buffer.subdata(r,i)}}]),t}();function Pze(t){if(Array.isArray(t))return e$(t)}function Dse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(t){return Pze(t)||Dse(t)||s8(t)||Oze()}var Mze=9007199254740991,Aze="[object Arguments]",kze="[object Array]",Dze="[object Boolean]",Nze="[object Date]",Rze="[object Error]",Ize="[object Function]",$ze="[object Map]",Lze="[object Number]",Fze="[object Object]",zze="[object RegExp]",Gze="[object Set]",Bze="[object String]",jze="[object WeakMap]",Vze="[object ArrayBuffer]",Uze="[object DataView]",Hze="[object Float32Array]",Wze="[object Float64Array]",Yze="[object Int8Array]",qze="[object Int16Array]",Xze="[object Int32Array]",Kze="[object Uint8Array]",Zze="[object Uint8ClampedArray]",Qze="[object Uint16Array]",Jze="[object Uint32Array]",fs={};fs[Hze]=fs[Wze]=fs[Yze]=fs[qze]=fs[Xze]=fs[Kze]=fs[Zze]=fs[Qze]=fs[Jze]=!0;fs[Aze]=fs[kze]=fs[Vze]=fs[Dze]=fs[Uze]=fs[Nze]=fs[Rze]=fs[Ize]=fs[$ze]=fs[Lze]=fs[Fze]=fs[zze]=fs[Gze]=fs[Bze]=fs[jze]=!1;var e7e=Object.prototype,t7e=e7e.toString;function n7e(t){return i7e(t)&&r7e(t.length)&&!!fs[t7e.call(t)]}function r7e(t){return typeof t=="number"&&t>-1&&t%1===0&&t<=Mze}function i7e(t){return!!t&&Ar(t)==="object"}var $$=n7e;function IW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IW(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var o7e=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,LW=0,s7e=function(){function t(e,n){var r=this;Cn(this,t),this.reGl=e,this.context=n,this.entity=Jd(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach(function(c){var u=c.name,f=c.type,d=c.data,h=c.isReferer,p=c.storageClass;if(p===jv.StorageBuffer){if(h)r.textureCache[u]={data:void 0},i["".concat(u,"Size")]=function(){return d.compiledBundle.context.output.textureSize};else{r.textureCache[u]=r.calcDataTexture(u,f,d);var g=r.textureCache[u],m=g.textureWidth,y=g.isOutput;i["".concat(u,"Size")]=[m,m],y&&(r.outputTextureName=u,r.context.needPingpong&&(r.outputTextureName="".concat(u,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(u,f,d)))}i[u]=function(){return r.textureCache[u].texture}}else if(p===jv.Uniform){if(d&&(Array.isArray(d)||$$(d))&&d.length>16)throw new Error("invalid data type ".concat(f));i[u]=function(){return c.data}}});var o=this.getOuputDataTexture(),s=o.textureWidth,a=o.texelCount;i.u_OutputTextureSize=[s,s],i.u_OutputTexelCount=a,this.context.output.textureSize=[s,s];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:i,vert:o7e,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return Rn(t,[{key:"run",value:function(){var n=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){n.computeCommand()})}},{key:"readData",value:function(){var e=ii(Hn.mark(function r(){var i=this,o,s,a,l,c,u,f,d;return Hn.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){o=i.reGl.read()}),!o){p.next=6;break}if(s=this.getOuputDataTexture(),a=s.originalDataLength,l=s.elementsPerTexel,c=s.typedArrayConstructor,u=c===void 0?Float32Array:c,f=[],l!==4)for(d=0;d<o.length;d+=4)l===1?f.push(o[d]):l===2?f.push(o[d],o[d+1]):f.push(o[d],o[d+1],o[d+2]);else f=o;return p.abrupt("return",new u(f.slice(0,a)));case 6:return p.abrupt("return",new Float32Array);case 7:case"end":return p.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"confirmInput",value:function(n,r){var i;this.entity===n.entity?(this.dynamicPingpong=!0,i=this):i=n,this.textureCache[r].id=i.getOuputDataTexture().id,this.textureCache[r].texture=i.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(n,r){var i=this.context.uniforms.find(function(l){var c=l.name;return c===n});if(i){var o=this.calcDataTexture(n,i.type,r),s=o.texture,a=o.data;this.textureCache[n].data=a,this.textureCache[n].texture=s}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var n=this.context.output.name;this.textureCache[n].id=this.getOuputDataTexture().id,this.textureCache[n].texture=this.getOuputDataTexture().texture}var r=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=r}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var n=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=n}},{key:"cloneDataTexture",value:function(n){var r=n.data,i=n.textureWidth;return $W($W({},n),{},{id:LW++,texture:this.reGl.texture({width:i,height:i,data:r,type:"float"})})}},{key:"calcDataTexture",value:function(n,r,i){var o=1;r===z0.Vector4FloatArray&&(o=4);for(var s=[],a=0;a<i.length;a+=o)o===1?s.push(i[a],0,0,0):o===2?s.push(i[a],i[a+1],0,0):o===3?s.push(i[a],i[a+1],i[a+2],0):o===4&&s.push(i[a],i[a+1],i[a+2],i[a+3]);var l=i.length,c=Math.ceil(l/o),u=Math.ceil(Math.sqrt(c)),f=u*u;c<f&&s.push.apply(s,un(new Array((f-c)*4).fill(0)));var d=this.reGl.texture({width:u,height:u,data:s,type:"float"});return{id:LW++,data:s,originalDataLength:l,typedArrayConstructor:$$(i)?i.constructor:void 0,textureWidth:u,texture:d,texelCount:c,elementsPerTexel:o,isOutput:n===this.context.output.name}}}]),t}(),a7e=function(){function t(e,n){Cn(this,t),this.elements=void 0;var r=n.data,i=n.usage,o=n.type,s=n.count;this.elements=e.elements({data:r,usage:kse[i||He.STATIC_DRAW],type:L8[o||He.UNSIGNED_BYTE],count:s})}return Rn(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(n){var r=n.data;this.elements.subdata(r)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),l7e=function(){function t(e,n){Cn(this,t),this.framebuffer=void 0;var r=n.width,i=n.height,o=n.color,s=n.colors;n.depth,n.stencil;var a={width:r,height:i};Array.isArray(s)&&(a.colors=s.map(function(l){return l.get()})),o&&typeof o!="boolean"&&(a.color=o.get()),this.framebuffer=e.framebuffer(a)}return Rn(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(n){var r=n.width,i=n.height;this.framebuffer.resize(r,i)}}]),t}();function c7e(t){var e=Ar(t);return t!=null&&(e==="object"||e==="function")}function lC(t){var e={};return Object.keys(t).forEach(function(n){L$(n,t[n],e,"")}),e}function L$(t,e,n,r){if(e===null||typeof e=="number"||typeof e=="boolean"||Array.isArray(e)&&typeof e[0]=="number"||$$(e)||e===""||e.resize!==void 0){n["".concat(r&&r+".").concat(t)]=e;return}c7e(e)&&Object.keys(e).forEach(function(i){L$(i,e[i],n,"".concat(r&&r+".").concat(t))}),Array.isArray(e)&&e.forEach(function(i,o){Object.keys(i).forEach(function(s){L$(s,i[s],n,"".concat(r&&r+".").concat(t,"[").concat(o,"]"))})})}function FW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var u7e=function(){function t(e,n){Cn(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,i=n.fs,o=n.defines,s=n.attributes,a=n.uniforms,l=n.primitive,c=n.count,u=n.elements,f=n.depth,d=n.blend,h=n.stencil,p=n.cull,g=n.instances,m=n.scissor,y=n.viewport,b={};a&&(this.uniforms=lC(a),Object.keys(a).forEach(function(w){b[w]=e.prop(w)}));var C={};Object.keys(s).forEach(function(w){C[w]=s[w].get()});var E=o&&this.generateDefines(o)||"",_={attributes:C,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(E,`
`).concat(i),uniforms:b,vert:`
`.concat(E,`
`).concat(r),primitive:bze[l===void 0?He.TRIANGLES:l]};g&&(_.instances=g),c&&(_.count=c),u&&(_.elements=u.get()),m&&(_.scissor=m),y&&(_.viewport=y),this.initDepthDrawParams({depth:f},_),this.initBlendDrawParams({blend:d},_),this.initStencilDrawParams({stencil:h},_),this.initCullDrawParams({cull:p},_),this.drawCommand=e(_)}return Rn(t,[{key:"addUniforms",value:function(n){this.uniforms=nb(nb({},this.uniforms),lC(n))}},{key:"draw",value:function(n){var r=nb(nb({},this.uniforms),lC(n.uniforms||{})),i={};Object.keys(r).forEach(function(o){var s=Ar(r[o]);s==="boolean"||s==="number"||Array.isArray(r[o])||r[o].BYTES_PER_ELEMENT?i[o]=r[o]:s==="string"||(i[o]=r[o].get())}),this.drawCommand(i)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(n,r){var i=n.depth;i&&(r.depth={enable:i.enable===void 0?!0:!!i.enable,mask:i.mask===void 0?!0:!!i.mask,func:Sze[i.func||He.LESS],range:i.range||[0,1]})}},{key:"initBlendDrawParams",value:function(n,r){var i=n.blend;if(i){var o=i.enable,s=i.func,a=i.equation,l=i.color,c=l===void 0?[0,0,0,0]:l;r.blend={enable:!!o,func:{srcRGB:SP[s&&s.srcRGB||He.SRC_ALPHA],srcAlpha:SP[s&&s.srcAlpha||He.SRC_ALPHA],dstRGB:SP[s&&s.dstRGB||He.ONE_MINUS_SRC_ALPHA],dstAlpha:SP[s&&s.dstAlpha||He.ONE_MINUS_SRC_ALPHA]},equation:{rgb:RW[a&&a.rgb||He.FUNC_ADD],alpha:RW[a&&a.alpha||He.FUNC_ADD]},color:c}}}},{key:"initStencilDrawParams",value:function(n,r){var i=n.stencil;if(i){var o=i.enable,s=i.mask,a=s===void 0?-1:s,l=i.func,c=l===void 0?{cmp:He.ALWAYS,ref:0,mask:-1}:l,u=i.opFront,f=u===void 0?{fail:He.KEEP,zfail:He.KEEP,zpass:He.KEEP}:u,d=i.opBack,h=d===void 0?{fail:He.KEEP,zfail:He.KEEP,zpass:He.KEEP}:d;r.stencil={enable:!!o,mask:a,func:nb(nb({},c),{},{cmp:Eze[c.cmp]}),opFront:{fail:tb[f.fail],zfail:tb[f.zfail],zpass:tb[f.zpass]},opBack:{fail:tb[h.fail],zfail:tb[h.zfail],zpass:tb[h.zpass]}}}}},{key:"initCullDrawParams",value:function(n,r){var i=n.cull;if(i){var o=i.enable,s=i.face,a=s===void 0?He.BACK:s;r.cull={enable:!!o,face:_ze[a]}}}},{key:"generateDefines",value:function(n){return Object.keys(n).map(function(r){return"#define ".concat(r," ").concat(Number(n[r]))}).join(`
`)}}]),t}(),f7e=function(){function t(e,n){Cn(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,o=i===void 0?He.UNSIGNED_BYTE:i,s=n.width,a=n.height,l=n.flipY,c=l===void 0?!1:l,u=n.format,f=u===void 0?He.RGBA:u,d=n.mipmap,h=d===void 0?!1:d,p=n.wrapS,g=p===void 0?He.CLAMP_TO_EDGE:p,m=n.wrapT,y=m===void 0?He.CLAMP_TO_EDGE:m,b=n.aniso,C=b===void 0?0:b,E=n.alignment,_=E===void 0?1:E,w=n.premultiplyAlpha,M=w===void 0?!1:w,k=n.mag,I=k===void 0?He.NEAREST:k,A=n.min,N=A===void 0?He.NEAREST:A,$=n.colorSpace,L=$===void 0?He.BROWSER_DEFAULT_WEBGL:$;this.width=s,this.height=a;var B={width:s,height:a,type:L8[o],format:xze[f],wrapS:NW[g],wrapT:NW[y],mag:DW[I],min:DW[N],alignment:_,flipY:c,colorSpace:Cze[L],premultiplyAlpha:M,aniso:C};r&&(B.data=r),typeof h=="number"?B.mipmap=wze[h]:typeof h=="boolean"&&(B.mipmap=h),this.texture=e.texture(B)}return Rn(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(n){var r=n.width,i=n.height;this.texture.resize(r,i),this.width=r,this.height=i}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),zW,GW,BW,d7e=(zW=Ki(),zW(GW=(BW=function(){function t(){var e=this;Cn(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var n=ii(Hn.mark(function r(i){return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!i.uniforms){s.next=3;break}return s.next=3,Promise.all(Object.keys(i.uniforms).map(function(){var a=ii(Hn.mark(function l(c){var u;return Hn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(i.uniforms[c]&&i.uniforms[c].load!==void 0)){d.next=5;break}return d.next=3,i.uniforms[c].load();case 3:u=d.sent,i.uniforms[c]=u;case 5:case"end":return d.stop()}},l)}));return function(l){return a.apply(this,arguments)}}()));case 3:return s.abrupt("return",new u7e(e.gl,i));case 4:case"end":return s.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.createAttribute=function(n){return new yze(e.gl,n)},this.createBuffer=function(n){return new Tze(e.gl,n)},this.createElements=function(n){return new a7e(e.gl,n)},this.createTexture2D=function(n){return new f7e(e.gl,n)},this.createFramebuffer=function(n){return new l7e(e.gl,n)},this.useFramebuffer=function(n,r){e.gl({framebuffer:n?n.get():null})(r)},this.createComputeModel=function(){var n=ii(Hn.mark(function r(i){return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new s7e(e.gl,i));case 1:case"end":return s.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.clear=function(n){var r=n.color,i=n.depth,o=n.stencil,s=n.framebuffer,a=s===void 0?null:s,l={color:r,depth:i,stencil:o};l.framebuffer=a===null?a:a.get(),e.gl.clear(l)},this.setScissor=function(n){e.gl&&e.gl._gl&&(n.enable&&n.box?(e.gl._gl.enable(He.SCISSOR_TEST),e.gl._gl.scissor(n.box.x,n.box.y,n.box.width,n.box.height)):e.gl._gl.disable(He.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(n){var r=n.x,i=n.y,o=n.width,s=n.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(r,i,o,s),e.gl._refresh())},this.readPixels=function(n){var r=n.framebuffer,i=n.x,o=n.y,s=n.width,a=n.height,l={x:i,y:o,width:s,height:a};return r&&(l.framebuffer=r.get()),e.gl.read(l)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return Rn(t,[{key:"init",value:function(){var e=ii(Hn.mark(function r(i){return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.inited){s.next=2;break}return s.abrupt("return");case 2:return this.$canvas=i.canvas,s.next=5,new Promise(function(a,l){mze({canvas:i.canvas,attributes:{alpha:!0,antialias:i.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(u,f){(u||!f)&&l(u),a(f)}})});case 5:this.gl=s.sent,this.inited=!0;case 7:case"end":return s.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}(),BW))||GW);function h7e(){return typeof window<"u"}function p7e(t,e,n,r){if(!!h7e()){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t),r&&(o.id=r),o.onload=function(){e&&e()},o.onerror=function(s){n&&n("Unable to load script '".concat(t,"'"),s)},i.appendChild(o)}}function g7e(t,e){return new Promise(function(n,r){p7e(t,function(){n()},function(i,o){r(o)})})}var EP;function v7e(){return F$.apply(this,arguments)}function F$(){return F$=ii(Hn.mark(function t(){return Hn.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!EP){n.next=2;break}return n.abrupt("return",EP);case 2:return n.next=4,g7e("https://preview.babylonjs.com/glslang/glslang.js");case 4:return EP=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),n.abrupt("return",EP);case 6:case"end":return n.stop()}},t)})),F$.apply(this,arguments)}var m7e=function(){function t(e,n){Cn(this,t),this.engine=e,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,i=r.buffer,o=r.offset,s=r.stride,a=r.normalized,l=r.size,c=r.divisor,u=r.arrayStride,f=r.attributes,d=r.stepMode;this.buffer=i,this.attribute={buffer:i.get(),offset:o||0,stride:s||0,normalized:a||!1,divisor:c||0,arrayStride:u||0,attributes:f,stepMode:d||"vertex"},l&&(this.attribute.size=l)}return Rn(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),d1=function(){function t(e,n){Cn(this,t),this.engine=e,this.options=n,this.buffer=void 0;var r=n,i=r.data,o=r.usage;r.type,this.buffer=this.createBuffer(i instanceof Array?new Float32Array(i):i,o||vn.BufferUsage.Vertex|vn.BufferUsage.CopyDst)}return Rn(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(n){var r=n.data,i=n.offset;this.setSubData(this.buffer,i,r instanceof Array?new Float32Array(r):r)}},{key:"createBuffer",value:function(n,r){var i=n.byteLength%4,o={size:n.byteLength+i,usage:r},s=this.engine.device.createBuffer(o);return this.setSubData(s,0,n),s}},{key:"setSubData",value:function(n,r,i){var o=wc?this.engine.device.getQueue():this.engine.device.defaultQueue;o.writeBuffer(n,r,i)}}]),t}();function y7e(t){return typeof t=="number"}var b7e=function(){function t(e,n){Cn(this,t),this.engine=e,this.context=n,this.entity=Jd(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return Rn(t,[{key:"init",value:function(){var e=ii(Hn.mark(function r(){var i=this,o,s,a,l,c,u,f;return Hn.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:o=h.sent,s=o.computeStage,a=this.context.uniforms.filter(function(p){return p.storageClass===jv.StorageBuffer}),l=this.context.uniforms.filter(function(p){return p.storageClass===jv.Uniform}),c=l.length?1:0,this.bindGroupEntries=[],c&&(u=0,f=[],l.forEach(function(p){if(y7e(p.data))i.uniformGPUBufferLayout.push({name:p.name,offset:u}),u+=4,f.push(p.data);else{var g,m=((g=p.data)===null||g===void 0?void 0:g.length)||1;m===3&&(m=4,p.data.push(0));var y=u/4%4;if(y>0){var b=4-y;if(m>1&&m<=b)m===2&&(b===3&&(u+=4,f.push(0)),f.push.apply(f,un(p.data)),i.uniformGPUBufferLayout.push({name:p.name,offset:u}));else{for(var C=0;C<b;C++)u+=4,f.push(0);f.push.apply(f,un(p.data)),i.uniformGPUBufferLayout.push({name:p.name,offset:u})}}u+=4*m}}),this.uniformBuffer=new d1(this.engine,{data:f instanceof Array?new Float32Array(f):f,usage:vn.BufferUsage.Uniform|vn.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),a.forEach(function(p){if(p.data!==null&&(p.type===z0.Vector4FloatArray||p.type===z0.FloatArray)){var g;p.name===i.context.output.name?(g=new d1(i.engine,{data:isFinite(Number(p.data))?[p.data]:p.data,usage:vn.BufferUsage.Storage|vn.BufferUsage.CopyDst|vn.BufferUsage.CopySrc}),i.outputBuffer=g,i.context.output={name:p.name,length:isFinite(Number(p.data))?1:p.data.length,typedArrayConstructor:Float32Array,gpuBuffer:g.get()}):p.isReferer?p.data.model&&p.data.model.outputBuffer&&(g=p.data.model.outputBuffer):g=new d1(i.engine,{data:isFinite(Number(p.data))?[p.data]:p.data,usage:vn.BufferUsage.Storage|vn.BufferUsage.CopyDst|vn.BufferUsage.CopySrc}),i.vertexBuffers[p.name]=g,i.bindGroupEntries.push({binding:c,resource:{name:p.name,refer:g?void 0:p.data,buffer:g?g.get():void 0}}),c++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:s}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return h.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"destroy",value:function(){var n=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(r){return n.vertexBuffers[r].destroy()})}},{key:"readData",value:function(){var e=ii(Hn.mark(function r(){var i,o,s,a,l,c,u,f,d,h;return Hn.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(i=this.context.output,!i){g.next=16;break}if(o=i.length,s=i.typedArrayConstructor,a=i.gpuBuffer,!a){g.next=16;break}return l=o*s.BYTES_PER_ELEMENT,c=this.engine.device.createBuffer({size:l,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),u=this.engine.device.createCommandEncoder(),u.copyBufferToBuffer(a,0,c,0,l),f=wc?this.engine.device.getQueue():this.engine.device.defaultQueue,f.submit([u.finish()]),g.next=12,c.mapAsync(vn.MapMode.Read);case 12:return d=c.getMappedRange(),h=new s(d.slice(0)),c.unmap(),g.abrupt("return",h);case 16:return g.abrupt("return",new Float32Array);case 17:case"end":return g.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"run",value:function(){if(this.engine.currentComputePass){var n;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(n=this.engine.currentComputePass).dispatch.apply(n,un(this.context.dispatch))}}},{key:"updateBuffer",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.vertexBuffers[n];o&&o.subData({data:r,offset:i})}},{key:"updateUniform",value:function(n,r){var i=this.uniformGPUBufferLayout.find(function(o){return o.name===n});i&&this.uniformBuffer.subData({data:Number.isFinite(r)?new Float32Array([r]):new Float32Array(r),offset:i.offset})}},{key:"confirmInput",value:function(n,r){var i=this.vertexBuffers[r],o=n.outputBuffer;if(i&&o&&i!==o){var s=this.engine.device.createCommandEncoder(),a=n.context.output,l=a.length,c=a.typedArrayConstructor,u=l*c.BYTES_PER_ELEMENT;s.copyBufferToBuffer(o.get(),0,i.get(),0,u);var f=wc?this.engine.device.getQueue():this.engine.device.defaultQueue;f.submit([s.finish()])}}},{key:"compileShaderToSpirV",value:function(n,r,i){return this.compileRawShaderToSpirV(i+n,r)}},{key:"compileRawShaderToSpirV",value:function(n,r){return this.engine.glslang.compileGLSL(n,r)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=ii(Hn.mark(function r(i){var o,s;return Hn.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=i,s=`#version 450
`,this.engine.options.useWGSL){l.next=6;break}return l.next=5,this.compileShaderToSpirV(i,"compute",s);case 5:o=l.sent;case 6:return l.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:o,isWHLSL:wc}),entryPoint:"main"}});case 7:case"end":return l.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()}]),t}(),x7e=function(){function t(e,n){Cn(this,t),this.engine=e,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,i=r.data;r.usage,r.type;var o=r.count;this.indexCount=o||0,this.buffer=new d1(e,{data:i instanceof Array?new Uint16Array(i):i,usage:vn.BufferUsage.Index|vn.BufferUsage.CopyDst})}return Rn(t,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(n){this.buffer.subData(n)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),w7e=function(){function t(e,n){Cn(this,t),this.engine=e,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n;r.width,r.height;var i=r.color;r.colors;var o=r.depth;r.stencil,i&&(this.colorTexture=i),o&&(this.depthTexture=o)}return Rn(t,[{key:"get",value:function(){var n,r;return{color:(n=this.colorTexture)===null||n===void 0?void 0:n.get(),depth:(r=this.depthTexture)===null||r===void 0?void 0:r.get()}}},{key:"destroy",value:function(){var n,r;(n=this.colorTexture)===null||n===void 0||n.destroy(),(r=this.depthTexture)===null||r===void 0||r.destroy()}},{key:"resize",value:function(n){var r=n.width,i=n.height;if(r!==this.width||i!==this.height){var o,s;(o=this.colorTexture)===null||o===void 0||o.resize({width:r,height:i}),(s=this.depthTexture)===null||s===void 0||s.resize({width:r,height:i})}this.width=r,this.height=i}}]),t}(),ap,jd,Lm,Ul,rb,_P,Yx,C7e=(ap={},V(ap,He.POINTS,vn.PrimitiveTopology.PointList),V(ap,He.LINES,vn.PrimitiveTopology.LineList),V(ap,He.LINE_LOOP,vn.PrimitiveTopology.LineList),V(ap,He.LINE_STRIP,vn.PrimitiveTopology.LineStrip),V(ap,He.TRIANGLES,vn.PrimitiveTopology.TriangleList),V(ap,He.TRIANGLE_FAN,vn.PrimitiveTopology.TriangleList),V(ap,He.TRIANGLE_STRIP,vn.PrimitiveTopology.TriangleStrip),ap),S7e=(jd={},V(jd,He.NEVER,vn.CompareFunction.Never),V(jd,He.ALWAYS,vn.CompareFunction.Always),V(jd,He.LESS,vn.CompareFunction.Less),V(jd,He.LEQUAL,vn.CompareFunction.LessEqual),V(jd,He.GREATER,vn.CompareFunction.Greater),V(jd,He.GEQUAL,vn.CompareFunction.GreaterEqual),V(jd,He.EQUAL,vn.CompareFunction.Equal),V(jd,He.NOTEQUAL,vn.CompareFunction.NotEqual),jd),jW=(Lm={},V(Lm,He.FUNC_ADD,vn.BlendOperation.Add),V(Lm,He.MIN_EXT,vn.BlendOperation.Min),V(Lm,He.MAX_EXT,vn.BlendOperation.Max),V(Lm,He.FUNC_SUBTRACT,vn.BlendOperation.Subtract),V(Lm,He.FUNC_REVERSE_SUBTRACT,vn.BlendOperation.ReverseSubtract),Lm),TP=(Ul={},V(Ul,He.ZERO,vn.BlendFactor.Zero),V(Ul,He.ONE,vn.BlendFactor.One),V(Ul,He.SRC_COLOR,vn.BlendFactor.SrcColor),V(Ul,He.ONE_MINUS_SRC_COLOR,vn.BlendFactor.OneMinusSrcColor),V(Ul,He.SRC_ALPHA,vn.BlendFactor.SrcAlpha),V(Ul,He.ONE_MINUS_SRC_ALPHA,vn.BlendFactor.OneMinusSrcAlpha),V(Ul,He.DST_COLOR,vn.BlendFactor.DstColor),V(Ul,He.ONE_MINUS_DST_COLOR,vn.BlendFactor.OneMinusDstColor),V(Ul,He.DST_ALPHA,vn.BlendFactor.DstAlpha),V(Ul,He.ONE_MINUS_DST_ALPHA,vn.BlendFactor.OneMinusDstAlpha),V(Ul,He.CONSTANT_COLOR,vn.BlendFactor.BlendColor),V(Ul,He.ONE_MINUS_CONSTANT_COLOR,vn.BlendFactor.OneMinusBlendColor),V(Ul,He.SRC_ALPHA_SATURATE,vn.BlendFactor.SrcAlphaSaturated),Ul),E7e=(rb={},V(rb,He.ALPHA,"r8unorm"),V(rb,He.RGBA,"rgba8unorm"),V(rb,He.DEPTH_COMPONENT,"depth32float"),V(rb,He.DEPTH_STENCIL,"depth24plus-stencil8"),rb),VW=(_P={},V(_P,He.NEAREST,"nearest"),V(_P,He.LINEAR,"linear"),_P),wI=(Yx={},V(Yx,He.REPEAT,"repeat"),V(Yx,He.CLAMP_TO_EDGE,"clamp-to-edge"),V(Yx,He.MIRRORED_REPEAT,"mirror-repeat"),Yx);function _7e(t){var e=t.cull;if(!e||!e.enable)return vn.CullMode.None;if(e.face)return e.face===He.FRONT?vn.CullMode.Front:vn.CullMode.Back}function T7e(t){var e=t.depth;t.stencil;var n={compare:vn.CompareFunction.Always,depthFailOp:vn.StencilOperation.Keep,failOp:vn.StencilOperation.Keep,passOp:vn.StencilOperation.Keep};return{depthWriteEnabled:e&&e.enable,depthCompare:S7e[(e==null?void 0:e.func)||He.ALWAYS],format:vn.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function P7e(t,e){var n=t.blend;return[{format:e,alphaBlend:{srcFactor:TP[n&&n.func&&n.func.srcAlpha||He.ONE],dstFactor:TP[n&&n.func&&n.func.dstAlpha||He.ZERO],operation:jW[n&&n.equation&&n.equation.alpha||He.FUNC_ADD]},colorBlend:{srcFactor:TP[n&&n.func&&n.func.srcRGB||He.ONE],dstFactor:TP[n&&n.func&&n.func.dstRGB||He.ZERO],operation:jW[n&&n.equation&&n.equation.rgb||He.FUNC_ADD]},writeMask:vn.ColorWrite.All}]}function UW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O7e(t){for(var e=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,s=r;o<s.length;o++){var a=s[o];e+=a.length}for(var l=new t(e),c=0,u=0,f=r;u<f.length;u++){var d=f[u];l.set(d,c),c+=d.length}return l}var M7e=function(){function t(e,n){Cn(this,t),this.engine=e,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return Rn(t,[{key:"init",value:function(){var e=ii(Hn.mark(function r(){var i=this,o,s,a,l,c,u,f,d,h,p,g,m,y,b,C,E;return Hn.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return o=this.options,s=o.vs,a=o.fs,l=o.attributes,c=o.uniforms,u=o.primitive,o.count,f=o.elements,d=o.depth,h=o.blend,p=o.stencil,g=o.cull,o.instances,w.next=3,this.compilePipelineStageDescriptor(s,a,null);case 3:m=w.sent,y=m.vertexStage,b=m.fragmentStage,c&&this.buildUniformBindGroup(c),f&&(this.indexBuffer=f.get(),this.indexCount=f.indexCount),C={vertexBuffers:Object.keys(l).map(function(M,k){var I=l[M],A=I.get(),N=A.arrayStride,$=A.stepMode,L=A.attributes;return i.attributeCache[M]=I,{arrayStride:N,stepMode:$,attributes:L}})},E={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:C7e[u||He.TRIANGLES],rasterizationState:ib(ib({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:_7e({cull:g})}),depthStencilState:T7e({depth:d,stencil:p}),colorStates:P7e({blend:h},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:y,fragmentStage:b,vertexState:C},this.renderPipeline=this.engine.device.createRenderPipeline(E);case 11:case"end":return w.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"addUniforms",value:function(n){this.uniforms=ib(ib({},this.uniforms),lC(n))}},{key:"draw",value:function(n){var r=this,i=this.engine.getCurrentRenderPass(),o=ib(ib({},this.uniforms),lC(n.uniforms||{})),s=[];Object.keys(o).forEach(function(a){var l=Ar(o[a]);if(l==="boolean"||l==="number"||Array.isArray(o[a])||o[a].BYTES_PER_ELEMENT){var c,u=(c=r.uniformGPUBufferLayout.find(function(y){var b=y.name;return b===a}))===null||c===void 0?void 0:c.offset;u!==null&&r.uniformBuffer.subData({data:o[a],offset:u})}else{var f,d=(f=r.uniformGPUBufferLayout.find(function(y){var b=y.name;return b===a}))===null||f===void 0?void 0:f.offset;if(d!==null){var h=o[a].get(),p=h.color||h,g=p.texture,m=p.sampler;m&&(s.push({binding:d,resource:m}),d++),s.push({binding:d,resource:g.createView()})}}}),this.uniformBuffer&&(s[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:s}),this.renderPipeline&&i.setPipeline(this.renderPipeline),i.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&i.setIndexBuffer(this.indexBuffer.get(),vn.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(a,l){i.setVertexBuffer(0+l,r.attributeCache[a].get().buffer,0)}),this.indexBuffer?i.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):i.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=ii(Hn.mark(function r(i,o,s){var a,l,c;return Hn.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(a=`#version 450
`,l=i,c=o,this.engine.options.useWGSL){f.next=10;break}return f.next=6,this.compileShaderToSpirV(i,"vertex",a);case 6:return l=f.sent,f.next=9,this.compileShaderToSpirV(o,"fragment",a);case 9:c=f.sent;case 10:return f.abrupt("return",this.createPipelineStageDescriptor(l,c));case 11:case"end":return f.stop()}},r,this)}));function n(r,i,o){return e.apply(this,arguments)}return n}()},{key:"compileShaderToSpirV",value:function(n,r,i){return this.compileRawShaderToSpirV(i+n,r)}},{key:"compileRawShaderToSpirV",value:function(n,r){return this.engine.glslang.compileGLSL(n,r)}},{key:"createPipelineStageDescriptor",value:function(n,r){return{vertexStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:wc}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:r,isWHLSL:wc}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:vn.FrontFace.CCW,cullMode:vn.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(n){var r=this,i=0,o=O7e.apply(void 0,[Float32Array].concat(un(Object.keys(n).map(function(l){return n[l]?(r.uniformGPUBufferLayout.push({name:l,offset:i}),i+=(n[l].length||1)*4,n[l]):[]})))),s=[],a=!1;o.length&&(a=!0,s.push({binding:0,visibility:vn.ShaderStage.Fragment|vn.ShaderStage.Vertex,type:vn.BindingType.UniformBuffer})),Object.keys(n).filter(function(l){return n[l]===null}).forEach(function(l,c){r.uniformGPUBufferLayout.push({name:l,offset:c*2+(a?1:0)}),s.push({binding:c*2+(a?1:0),visibility:vn.ShaderStage.Fragment,type:vn.BindingType.Sampler},{binding:c*2+(a?1:0)+1,visibility:vn.ShaderStage.Fragment,type:vn.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:s}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),a&&(this.uniformBuffer=new d1(this.engine,{data:o instanceof Array?new Float32Array(o):o,usage:vn.BufferUsage.Uniform|vn.BufferUsage.CopyDst}))}}]),t}(),A7e=function(){function t(e,n){Cn(this,t),this.engine=e,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Rn(t,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(n){var r=n.width,i=n.height;(r!==this.width||i!==this.height)&&(this.destroy(),this.createTexture()),this.width=r,this.height=i}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var n=this.options;n.data;var r=n.type;r===void 0&&He.UNSIGNED_BYTE;var i=n.width,o=n.height;n.flipY;var s=n.format,a=s===void 0?He.RGBA:s;n.mipmap;var l=n.wrapS,c=l===void 0?He.CLAMP_TO_EDGE:l,u=n.wrapT,f=u===void 0?He.CLAMP_TO_EDGE:u,d=n.aniso,h=d===void 0?0:d;n.alignment,n.premultiplyAlpha;var p=n.mag,g=p===void 0?He.NEAREST:p,m=n.min,y=m===void 0?He.NEAREST:m,b=n.colorSpace;b===void 0&&He.BROWSER_DEFAULT_WEBGL;var C=n.usage;this.width=i,this.height=o,this.texture=this.engine.device.createTexture({size:[i,o,1],mipLevelCount:1,sampleCount:1,dimension:vn.TextureDimension.E2d,format:E7e[a],usage:C||vn.TextureUsage.Sampled|vn.TextureUsage.CopyDst}),(!C||C&vn.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:wI[c],addressModeV:wI[f],addressModeW:wI[c],magFilter:VW[g],minFilter:VW[y],maxAnisotropy:h}))}}]),t}(),HW,WW,YW,k7e=(HW=Ki(),HW(WW=(YW=function(){function t(){var e=this;Cn(this,t),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(n){n.framebuffer;var r=n.color,i=n.depth,o=n.stencil;e.options.supportCompute&&e.startComputePass(),e.currentRenderTarget?(e.currentRenderPass&&e.endRenderTargetRenderPass(),e.startRenderTargetRenderPass(e.currentRenderTarget,r||null,!!i,!!o)):(e.mainColorAttachments[0].loadValue=r||vn.LoadOp.Load,e.mainDepthAttachment.depthLoadValue=i||vn.LoadOp.Load,e.mainDepthAttachment.stencilLoadValue=o?e.clearStencilValue:vn.LoadOp.Load,e.mainRenderPass&&e.endMainRenderPass(),e.startMainRenderPass())},this.createModel=function(){var n=ii(Hn.mark(function r(i){var o;return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=new M7e(e,i),a.next=3,o.init();case 3:return a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.createAttribute=function(n){return new m7e(e,n)},this.createBuffer=function(n){return new d1(e,n)},this.createElements=function(n){return new x7e(e,n)},this.createTexture2D=function(n){return new A7e(e,n)},this.createFramebuffer=function(n){return new w7e(e,n)},this.useFramebuffer=function(n,r){e.currentRenderTarget&&e.unbindFramebuffer(e.currentRenderTarget),e.currentRenderTarget=n,e.currentRenderTargetViewDescriptor={dimension:vn.TextureViewDimension.E2d,arrayLayerCount:1,aspect:vn.TextureAspect.All},e.currentRenderPass=null,r()},this.createComputeModel=function(){var n=ii(Hn.mark(function r(i){var o;return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=new b7e(e,i),a.next=3,o.init();case 3:return a.abrupt("return",o);case 4:case"end":return a.stop()}},r)}));return function(r){return n.apply(this,arguments)}}(),this.getCanvas=function(){return e.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(n){var r=n.x,i=n.y,o=n.width,s=n.height;if(!e.currentRenderPass)e.transientViewport={x:r,y:i,width:o,height:s};else if(e.transientViewport.x!==1/0){var a=e.getCurrentRenderPass();a.setViewport(e.transientViewport.x,e.transientViewport.y,e.transientViewport.width,e.transientViewport.height,0,1)}else if(r!==e.cachedViewport.x||i!==e.cachedViewport.y||o!==e.cachedViewport.width||s!==e.cachedViewport.height){e.cachedViewport={x:r,y:i,width:o,height:s};var l=e.getCurrentRenderPass();l.setViewport(r,i,o,s,0,1)}},this.readPixels=function(n){throw new Error("Method not implemented.")}}return Rn(t,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=ii(Hn.mark(function r(i){return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.canvas=i.canvas,this.options=i,this.useWGSL=!!i.useWGSL,this.mainPassSampleCount=i.antialiasing?this.defaultSampleCount:1,s.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return s.stop()}},r,this)}));function n(r){return e.apply(this,arguments)}return n}()},{key:"setScissor",value:function(n){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(n){return n.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),wc?this.device.getQueue().submit(this.commandBuffers.filter(function(n){return n})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(n){return n}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=ii(Hn.mark(function r(){var i,o;return Hn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v7e();case 2:return this.glslang=a.sent,a.next=5,(i=navigator)===null||i===void 0||(o=i.gpu)===null||o===void 0?void 0:o.requestAdapter();case 5:return this.adapter=a.sent,a.next=8,this.adapter.requestDevice();case 8:this.device=a.sent;case 9:case"end":return a.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(wc?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:vn.TextureUsage.OutputAttachment|vn.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var n={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:vn.TextureDimension.E2d,format:vn.TextureFormat.BGRA8Unorm,usage:vn.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(n),this.mainColorAttachments=[{attachment:wc?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:vn.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:wc?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:vn.StoreOp.Store}];var r={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:vn.TextureDimension.E2d,format:wc?"depth32float-stencil8":vn.TextureFormat.Depth24PlusStencil8,usage:vn.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(r),this.mainDepthAttachment={attachment:wc?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:vn.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:vn.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=wc?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=wc?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(n,r,i){var o,s,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=(o=n.get().color)===null||o===void 0?void 0:o.texture,c;l&&(c=l.createView(this.currentRenderTargetViewDescriptor));var u=(s=n.get().depth)===null||s===void 0?void 0:s.texture,f;u&&(f=u.createView());var d=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:c,loadValue:r!==null?r:vn.LoadOp.Load,storeOp:vn.StoreOp.Store}],depthStencilAttachment:u&&f?{attachment:f,depthLoadValue:i?this.clearDepthValue:vn.LoadOp.Load,depthStoreOp:vn.StoreOp.Store,stencilLoadValue:a?this.clearStencilValue:vn.LoadOp.Load,stencilStoreOp:vn.StoreOp.Store}:void 0});this.currentRenderPass=d,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(n){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),t}(),YW))||WW),qW,XW;function D7e(t){var e=N7e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function N7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var z$=4/64,KW=1-z$*2,R7e=(qW=Ki(),qW(XW=function(t){Zi(n,t);var e=D7e(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"onEntityCreated",value:function(){var i=this.config,o=i.widthSegments,s=o===void 0?1:o,a=i.heightSegments,l=a===void 0?1:a,c=i.depthSegments,u=c===void 0?1:c,f=i.halfExtents,d=f===void 0?Kr(.5,.5,.5):f,h=s,p=l,g=u,m=Ke(d,3),y=m[0],b=m[1],C=m[2],E=[Kr(-y,-b,C),Kr(y,-b,C),Kr(y,b,C),Kr(-y,b,C),Kr(y,-b,-C),Kr(-y,-b,-C),Kr(-y,b,-C),Kr(y,b,-C)],_=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],w=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],M={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},k=[],I=[],A=[],N=[],$=0,L=function(te,Y,ue){var ce,se,fe,me;for(fe=0;fe<=Y;fe++)for(me=0;me<=ue;me++){var K=mo(),le=mo(),Ne=mo(),Re=mo();F0(K,E[_[te][0]],E[_[te][1]],fe/Y),F0(le,E[_[te][0]],E[_[te][2]],me/ue),N$(Ne,le,E[_[te][0]]),Ep(Re,K,Ne),ce=fe/Y,se=me/ue,k.push(Re[0],Re[1],Re[2]),I.push(w[te][0],w[te][1],w[te][2]),A.push(ce,se),ce/=3,se/=3,ce=ce*KW+z$,se=se*KW+z$,ce+=te%3/3,se+=Math.floor(te/3)/3,fe<Y&&me<ue&&(N.push($+ue+1,$+1,$),N.push($+ue+1,$+ue+2,$+1)),$++}};L(M.FRONT,h,p),L(M.BACK,h,p),L(M.TOP,h,g),L(M.BOTTOM,h,g),L(M.RIGHT,g,p),L(M.LEFT,g,p);var B=I8(k),j=this.getComponent();j.indices=Uint32Array.from(N),j.aabb=B,j.vertexCount=$,j.attributes=[{dirty:!0,name:"position",data:Float32Array.from(k),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(I),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(A),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(fv))||XW);function I7e(t,e){if(!t&&!e)throw new Error("Please specify valid arguments for parameters a and b.");if(!e||e.length===0)return t;if(!t||t.length===0)return e;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}var ZW,QW;function $7e(t){var e=L7e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function L7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var F7e=(ZW=Ki(),ZW(QW=function(t){Zi(n,t);var e=$7e(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"onEntityCreated",value:function(){var i=this.config.geometries,o=i===void 0?[]:i,s=this.getComponent();s.aabb=new R8;var a=[],l=[],c=0;o.forEach(function(u){var f=u.aabb,d=u.indices,h=u.vertexCount,p=u.attributes;s.aabb.add(f),s.vertexCount+=h,d&&l.push.apply(l,un(d.map(function(g){return g+c}))),c+=h,p.forEach(function(g,m){a[m]?g.data&&($8(g.data)?a[m].push(g.data):Ose(g.data)?a[m].data=I7e(a[m].data,g.data):a[m].data=a[m].data.concat(g.data)):(a[m]=g,a[m].dirty=!0)})}),s.attributes=a,s.indices=Uint32Array.from(l),s.dirty=!0}}]),n}(fv))||QW),JW,eY;function z7e(t){var e=G7e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function G7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var B7e=(JW=Ki(),JW(eY=function(t){Zi(n,t);var e=z7e(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"onEntityCreated",value:function(){for(var i=this.config,o=i.halfExtents,s=o===void 0?[.5,.5]:o,a=i.widthSegments,l=a===void 0?5:a,c=i.lengthSegments,u=c===void 0?5:c,f=[],d=[],h=[],p=[],g=0,m=0;m<=l;m++)for(var y=0;y<=u;y++){var b=-s[0]+2*s[0]*m/l,C=0,E=-(-s[1]+2*s[1]*y/u),_=m/l,w=y/u;f.push(b,C,E),d.push(0,1,0),h.push(_,w),m<l&&y<u&&(p.push(g+u+1,g+1,g),p.push(g+u+1,g+u+2,g+1)),g++}var M=I8(f),k=this.getComponent();k.indices=Uint32Array.from(p),k.aabb=M,k.vertexCount=g,k.attributes=[{dirty:!0,name:"position",data:Float32Array.from(f),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(d),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(fv))||eY),tY,nY;function j7e(t){var e=V7e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function V7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var U7e=(tY=Ki(),tY(nY=function(t){Zi(n,t);var e=j7e(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"onEntityCreated",value:function(){for(var i=this.config,o=i.radius,s=o===void 0?.5:o,a=i.latitudeBands,l=a===void 0?16:a,c=i.longitudeBands,u=c===void 0?16:c,f=[],d=[],h=[],p=[],g=0;g<=l;g++)for(var m=g*Math.PI/l,y=Math.sin(m),b=Math.cos(m),C=0;C<=u;C++){var E=C*2*Math.PI/u-Math.PI/2,_=Math.sin(E),w=Math.cos(E),M=w*y,k=b,I=_*y,A=1-C/u,N=1-g/l;f.push(M*s,k*s,I*s),d.push(M,k,I),h.push(A,N)}for(var $=0;$<l;++$)for(var L=0;L<u;++L){var B=$*(u+1)+L,j=B+u+1;p.push(B+1,j,B),p.push(B+1,j+1,j)}var H=I8(f),te=this.getComponent();te.indices=Uint32Array.from(p),te.aabb=H,te.vertexCount=f.length/3,te.attributes=[{dirty:!0,name:"position",data:Float32Array.from(f),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(d),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(h),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(fv))||nY),rY,iY,oY,sY,PP,aY,lY,cY;function H7e(t){var e=W7e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function W7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var Y7e=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,q7e=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,X7e=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,K7e=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,Z7e=(rY=Ki(),iY=hr(Gt.RenderEngine),oY=hr(Gt.ShaderModuleService),rY(sY=(PP=(cY=function(t){Zi(n,t);var e=H7e(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),gr(r,"engine",aY,ts(r)),gr(r,"shaderModuleService",lY,ts(r)),r}return Rn(n,[{key:"onEntityCreated",value:function(){var i=this.getComponent(),o=this.engine.supportWebGPU?K7e:q7e,s=this.engine.supportWebGPU?X7e:Y7e;this.shaderModuleService.registerModule("material-basic",{vs:o,fs:s});var a=this.shaderModuleService.getModule("material-basic"),l=a.vs,c=a.fs,u=a.uniforms;i.vertexShaderGLSL=l,i.fragmentShaderGLSL=c,i.setUniform(u),this.config.map&&(i.setDefines({USE_UV:1,USE_MAP:1}),i.setUniform({map:this.config.map,uvTransform:DE()}))}}]),n}(Mse),cY),aY=vr(PP.prototype,"engine",[iY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lY=vr(PP.prototype,"shaderModuleService",[oY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),PP))||sY),uY,fY,dY,hY,pY,gY,vY,qx,mY,yY,bY,xY;function Q7e(t){var e=J7e();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function J7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var eGe=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,tGe=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,nGe=(uY=Ki(),fY=hr(Gt.Systems),dY=rd(Gt.MaterialSystem),hY=hr(Gt.Systems),pY=rd(Gt.GeometrySystem),gY=hr(Gt.ShaderModuleService),uY(vY=(qx=(xY=function(t){Zi(n,t);var e=Q7e(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),gr(r,"materialSystem",mY,ts(r)),gr(r,"geometrySystem",yY,ts(r)),gr(r,"shaderModuleService",bY,ts(r)),r}return Rn(n,[{key:"onAttributeChanged",value:function(i){var o=i.name,s=i.data,a=this.getMeshComponent();a&&a.material&&(o==="gridColor"?(a.material.setUniform("u_GridColor",s),a.material.setUniform("u_GridColor2",s)):o==="gridSize"&&(a.material.setUniform("u_GridSize",s),a.material.setUniform("u_GridSize2",s)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:tGe,fs:eGe});var i=this.shaderModuleService.getModule("grid"),o=i.vs,s=i.fs,a=i.uniforms,l=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:s});this.setMaterial(l);var c=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(c),l.setCull({enable:!1,face:He.BACK}).setDepth({enable:!0,func:He.LESS}),l.setUniform(a),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),c.setIndex([0,3,2,2,1,0]),c.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(tv),xY),mY=vr(qx.prototype,"materialSystem",[fY,dY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yY=vr(qx.prototype,"geometrySystem",[hY,pY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bY=vr(qx.prototype,"shaderModuleService",[gY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qx))||vY),Nse=1e-6,Rse=rGe;function rGe(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}var iGe=oGe;function oGe(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}var sGe=aGe;function aGe(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}var lGe=cGe;function cGe(t,e){return t[0]=e[0],t[1]=e[1],t}var Ise=uGe;function uGe(t,e,n){return t[0]=e,t[1]=n,t}var fGe=dGe,wY=Nse;function dGe(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=wY*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=wY*Math.max(1,Math.abs(r),Math.abs(o))}var hGe=pGe;function pGe(t,e){return t[0]===e[0]&&t[1]===e[1]}var $se=gGe;function gGe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}var F8=vGe;function vGe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}var Lse={exports:{}};(function(t){t.exports=F8})(Lse);var Fse=mGe;function mGe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}var zse={exports:{}};(function(t){t.exports=Fse})(zse);var Gse=yGe;function yGe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}var Bse={exports:{}};(function(t){t.exports=Gse})(Bse);var bGe=xGe;function xGe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}var wGe=CGe;function CGe(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}var SGe=EGe;function EGe(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var _Ge=TGe;function TGe(t,e,n){var r=Math.cos(n),i=Math.sin(n),o=e[0],s=e[1];return t[0]=o*r-s*i,t[1]=o*i+s*r,t}var PGe=OGe;function OGe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}var MGe=AGe;function AGe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}var kGe=DGe;function DGe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}var NGe=RGe;function RGe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}var IGe=$Ge;function $Ge(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}var jse=LGe;function LGe(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var Vse={exports:{}};(function(t){t.exports=jse})(Vse);var Use=FGe;function FGe(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}var Hse={exports:{}};(function(t){t.exports=Use})(Hse);var Wse=zGe;function zGe(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}var Yse={exports:{}};(function(t){t.exports=Wse})(Yse);var qse=GGe;function GGe(t){var e=t[0],n=t[1];return e*e+n*n}var Xse={exports:{}};(function(t){t.exports=qse})(Xse);var BGe=jGe;function jGe(t,e){return t[0]=-e[0],t[1]=-e[1],t}var Kse=VGe;function VGe(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}var Zse=UGe;function UGe(t,e){return t[0]*e[0]+t[1]*e[1]}var HGe=WGe;function WGe(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}var YGe=qGe;function qGe(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}var XGe=KGe;function KGe(t,e){e=e||1;var n=Math.random()*2*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}var ZGe=QGe;function QGe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}var JGe=eBe;function eBe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}var tBe=nBe;function nBe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}var rBe=iBe;function iBe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}var oBe=sBe,ob=Rse();function sBe(t,e,n,r,i,o){var s,a;for(e||(e=2),n||(n=0),r?a=Math.min(r*e+n,t.length):a=t.length,s=n;s<a;s+=e)ob[0]=t[s],ob[1]=t[s+1],i(ob,ob,o),t[s]=ob[0],t[s+1]=ob[1];return t}var aBe=lBe;function lBe(t,e,n){var r=e[0]*e[0]+e[1]*e[1];if(r>n*n){var i=Math.sqrt(r);t[0]=e[0]/i*n,t[1]=e[1]/i*n}else t[0]=e[0],t[1]=e[1];return t}var OP={EPSILON:Nse,create:Rse,clone:iGe,fromValues:sGe,copy:lGe,set:Ise,equals:fGe,exactEquals:hGe,add:$se,subtract:F8,sub:Lse.exports,multiply:Fse,mul:zse.exports,divide:Gse,div:Bse.exports,inverse:bGe,min:wGe,max:SGe,rotate:_Ge,floor:PGe,ceil:MGe,round:kGe,scale:NGe,scaleAndAdd:IGe,distance:jse,dist:Vse.exports,squaredDistance:Use,sqrDist:Hse.exports,length:Wse,len:Yse.exports,squaredLength:qse,sqrLen:Xse.exports,negate:BGe,normalize:Kse,dot:Zse,cross:HGe,lerp:YGe,random:XGe,transformMat2:ZGe,transformMat2d:JGe,transformMat3:tBe,transformMat4:rBe,forEach:oBe,limit:aBe},cBe=$se,G$=Ise,Qse=Kse,uBe=F8,fBe=Zse,CY=[0,0],dBe=function(e,n,r,i,o){return cBe(e,r,i),Qse(e,e),G$(n,-e[1],e[0]),G$(CY,-r[1],r[0]),o/fBe(n,CY)},MP=function(e,n){return G$(e,-n[1],n[0]),e},SY=function(e,n,r){return uBe(e,n,r),Qse(e,e),e};function AP(t,e,n,r,i){cC(e,r,-i),cC(e,r,i),t.push(n),t.push(n)}function cC(t,e,n){t.push([[e[0],e[1]],n])}function hBe(t,e,n){var r=[0,0],i=[0,0],o=[0,0],s=[0,0],a=-1,l=!1,c=null,u=OP.create(),f=n||0,d=3,h=[],p=[],g=[],m=[0,0];e&&(t=t.slice(),t.push(t[0]));for(var y=t.length,b=1;b<y;b++){var C=f,E=t[b-1],_=t[b],w=b<t.length-1?t[b+1]:null;if(m.push(b/y,b/y),SY(r,_,E),c||(c=[0,0],MP(c,r)),l||(l=!0,AP(p,h,E,c,1)),g.push([C+0,C+1,C+2]),!w)MP(c,r),AP(p,h,_,c,1),g.push(a===1?[C,C+2,C+3]:[C+2,C+1,C+3]),f+=2;else{SY(i,w,_);var M=dBe(o,s,r,i,1),k=OP.dot(o,c)<0?-1:1,I=M>d;if(!isFinite(M)){MP(c,r),AP(p,h,_,c,1),g.push(a===1?[C,C+2,C+3]:[C+2,C+1,C+3]),f+=2,a=k;continue}I?(M=d,m.push(b/y),cC(h,c,-k),p.push(_),cC(h,s,M*k),p.push(_),g.push(a!==-k?[C,C+2,C+3]:[C+2,C+1,C+3]),g.push([C+2,C+3,C+4]),MP(u,i),OP.copy(c,u),cC(h,c,-k),p.push(_),f+=3):(AP(p,h,_,s,M),g.push(a===1?[C,C+2,C+3]:[C+2,C+1,C+3]),k=-1,OP.copy(c,s),f+=2),a=k}}return{normals:h,attrIndex:g,attrPos:p,attrCounters:m}}var EY,_Y,TY,PY,OY,MY,AY,Xx,kY,DY,NY,RY;function pBe(t){var e=gBe();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function gBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var vBe=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,mBe=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,yBe=(EY=Ki(),_Y=hr(Gt.Systems),TY=rd(Gt.MaterialSystem),PY=hr(Gt.Systems),OY=rd(Gt.GeometrySystem),MY=hr(Gt.ShaderModuleService),EY(AY=(Xx=(RY=function(t){Zi(n,t);var e=pBe(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),gr(r,"materialSystem",kY,ts(r)),gr(r,"geometrySystem",DY,ts(r)),gr(r,"shaderModuleService",NY,ts(r)),r.vertexCount=void 0,r}return Rn(n,[{key:"onAttributeChanged",value:function(i){var o=i.name,s=i.data,a=this.getMeshComponent();if(a&&a.material)switch(o){case"dashArray":a.material.setUniform("u_dash_array",s);break;case"dashOffset":a.material.setUniform("u_dash_offset",s);break;case"dashRatio":a.material.setUniform("u_dash_ratio",s);break;case"thickness":a.material.setUniform("u_thickness",s);break;case"color":var l=new Array(this.vertexCount).fill(void 0).map(function(){return s}).reduce(function(c,u){return[].concat(un(c),un(u))},[]);a.geometry.setAttribute("a_color",Float32Array.from(l),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var i=this;this.shaderModuleService.registerModule("line",{vs:mBe,fs:vBe});var o=this.shaderModuleService.getModule("line"),s=o.vs,a=o.fs,l=o.uniforms,c=this.materialSystem.createShaderMaterial({vertexShader:s,fragmentShader:a}),u=hBe(this.config.points,!1),f=u.normals,d=u.attrIndex,h=u.attrPos,p=u.attrCounters,g=h.length;this.vertexCount=g;var m=this.geometrySystem.createBufferGeometry({vertexCount:g});this.setMaterial(c),this.setGeometry(m),c.setCull({enable:!1,face:He.BACK}).setUniform(l),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var y=[],b=[];f.forEach(function(E){var _=E[0],w=E[1];y.push([_[0],_[1]]),b.push(w)}),m.setIndex(d.reduce(function(E,_){return[].concat(un(E),un(_))},[])),m.setAttribute("a_pos",Float32Array.from(h.reduce(function(E,_){return[].concat(un(E),un(_))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var C=new Array(g).fill(void 0).map(function(){return un(i.config.color)}).reduce(function(E,_){return[].concat(un(E),un(_))},[]);m.setAttribute("a_color",Float32Array.from(C),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),m.setAttribute("a_line_miter",Float32Array.from(b),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),m.setAttribute("a_line_normal",Float32Array.from(y.reduce(function(E,_){return[].concat(un(E),un(_))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),m.setAttribute("a_counters",Float32Array.from(p),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(tv),RY),kY=vr(Xx.prototype,"materialSystem",[_Y,TY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),DY=vr(Xx.prototype,"geometrySystem",[PY,OY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NY=vr(Xx.prototype,"shaderModuleService",[MY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xx))||AY);function bBe(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}var IY,$Y,LY,FY,zY,GY,BY,Kx,jY,VY,UY,HY;function WY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xBe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WY(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wBe(t){var e=CBe();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}function CBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}var SBe=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,EBe=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,_Be=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],TBe=(IY=Ki(),$Y=hr(Gt.Systems),LY=rd(Gt.MaterialSystem),FY=hr(Gt.Systems),zY=rd(Gt.GeometrySystem),GY=hr(Gt.ShaderModuleService),IY(BY=(Kx=(HY=function(t){Zi(n,t);var e=wBe(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),gr(r,"materialSystem",jY,ts(r)),gr(r,"geometrySystem",VY,ts(r)),gr(r,"shaderModuleService",UY,ts(r)),r}return Rn(n,[{key:"onAttributeChanged",value:function(i){var o=i.name,s=i.data,a=this.getMeshComponent();a&&a.material&&(o==="strokeWidth"?a.material.setUniform("u_stroke_width",s):o==="strokeColor"?a.material.setUniform("u_stroke_color",s):o==="strokeOpacity"?a.material.setUniform("u_stroke_opacity",s):o==="opacity"?a.material.setUniform("u_opacity",s):o==="blur"&&a.material.setUniform("u_blur",s))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:EBe,fs:SBe});var i=this.shaderModuleService.getModule("grid"),o=i.vs,s=i.fs,a=i.uniforms,l=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:s,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:He.SRC_ALPHA,dstRGB:He.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});l.setUniform(xBe({u_device_pixel_ratio:window.devicePixelRatio},a));var c=this.buildAttributes(),u=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:c.instancedOffsets.length/2,vertexCount:6});u.setIndex([0,2,1,0,3,2]),u.setAttribute("position",Float32Array.from(c.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),u.setAttribute("offset",Float32Array.from(c.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),u.setAttribute("color",Float32Array.from(c.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),u.setAttribute("size",Float32Array.from(c.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),u.setAttribute("shape",Float32Array.from(c.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),u.setAttribute("a_PickingColor",Float32Array.from(c.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(l),this.setGeometry(u)}},{key:"buildAttribute",value:function(i,o,s){var a,l,c,u;(a=o.instancedPickingColors).push.apply(a,un(bBe(i.id||s))),o.instancedShapes.push(_Be.indexOf(i.shape||"circle")),(l=o.instancedColors).push.apply(l,un(i.color||[1,0,0,1])),(c=o.instancedOffsets).push.apply(c,un(i.position||[0,0])),(u=o.instancedSizes).push.apply(u,un(i.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var i=this,o={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(s,a){i.buildAttribute(s,o,a)}):this.buildAttribute(this.config,o,0),o}}]),n}(tv),HY),jY=vr(Kx.prototype,"materialSystem",[$Y,LY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VY=vr(Kx.prototype,"geometrySystem",[FY,zY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),UY=vr(Kx.prototype,"shaderModuleService",[GY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kx))||BY),YY,qY,XY,KY,ZY,Zx,QY,JY,eq,tq;function nq(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=PBe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function PBe(t,e){if(!!t){if(typeof t=="string")return rq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rq(t,e)}}function rq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OBe=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,MBe=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,ABe=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,kBe=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,DBe=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,iq=(YY=Ki(),qY=hr(Gt.RenderEngine),XY=hr(Gt.ShaderModuleService),KY=hr(Gt.ConfigService),YY(ZY=(Zx=(tq=function(){function t(){Cn(this,t),this.container=void 0,gr(this,"engine",QY,this),gr(this,"shaderModule",JY,this),gr(this,"configService",eq,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return Rn(t,[{key:"init",value:function(){var e=ii(Hn.mark(function r(){var i,o,s,a,l;return Hn.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:kBe}),this.shaderModule.registerModule("uv.vert.main",{vs:DBe}),this.shaderModule.registerModule("uv.frag.declaration",{fs:ABe}),this.shaderModule.registerModule("map.frag.declaration",{fs:OBe}),this.shaderModule.registerModule("map.frag.main",{fs:MBe}),i=this.container.getAll(Gt.Systems),o=this.configService.get(),!o.canvas){u.next=30;break}return u.next=11,this.engine.init({canvas:o.canvas,swapChainFormat:vn.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:s=nq(i),u.prev=12,s.s();case 14:if((a=s.n()).done){u.next=21;break}if(l=a.value,!l.initialize){u.next=19;break}return u.next=19,l.initialize();case 19:u.next=14;break;case 21:u.next=26;break;case 23:u.prev=23,u.t0=u.catch(12),s.e(u.t0);case 26:return u.prev=26,s.f(),u.finish(26);case 29:this.inited=!0;case 30:case"end":return u.stop()}},r,this,[[12,23,26,29]])}));function n(){return e.apply(this,arguments)}return n}()},{key:"render",value:function(){var e=ii(Hn.mark(function r(){var i,o,s,a,l,c,u,f=arguments;return Hn.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!this.inited||this.rendering)){h.next=2;break}return h.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(p){p()}),this.rendering=!0,this.engine.beginFrame(),i=this.container.getAll(Gt.Systems),o=f.length,s=new Array(o),a=0;a<o;a++)s[a]=f[a];l=nq(i),h.prev=8,l.s();case 10:if((c=l.n()).done){h.next=17;break}if(u=c.value,!u.execute){h.next=15;break}return h.next=15,u.execute(s);case 15:h.next=10;break;case 17:h.next=22;break;case 19:h.prev=19,h.t0=h.catch(8),l.e(h.t0);case 22:return h.prev=22,l.f(),h.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return h.stop()}},r,this,[[8,19,22,25]])}));function n(){return e.apply(this,arguments)}return n}()},{key:"clear",value:function(n){var r=this;return this.inited?this.engine.clear(n):this.pendings.unshift(function(){r.engine.clear(n),r.pendings.shift()}),this}},{key:"setSize",value:function(n){var r=n.width,i=n.height,o=this.engine.getCanvas();return this.size={width:r,height:i},o.width=r,o.height=i,this}},{key:"getSize",value:function(){return this.size}}]),t}(),tq),QY=vr(Zx.prototype,"engine",[qY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),JY=vr(Zx.prototype,"shaderModule",[XY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eq=vr(Zx.prototype,"configService",[KY],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zx))||ZY),oq,sq,aq,lq=(oq=Ki(),oq(sq=(aq=function(){function t(){Cn(this,t),this.entities=[]}return Rn(t,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(n){return this.addEntity(n.getEntity()),this}},{key:"removeRenderable",value:function(n){return this.removeEntity(n.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(n){return this.entities.indexOf(n)===-1&&this.entities.push(n),this}},{key:"removeEntity",value:function(n){var r=this.entities.indexOf(n);return this.entities.splice(r,1),this}}]),t}(),aq))||sq),cq,uq,fq,Jse=(cq=Ki(),cq(uq=(fq=function(){function t(){Cn(this,t),this.cache={}}return Rn(t,[{key:"get",value:function(n){return this.cache[n]}},{key:"set",value:function(n,r){this.cache[n]=r}}]),t}(),fq))||uq),dq,hq,pq,gq,kP,vq,mq,yq;function bq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var wq=(dq=Ki(),hq=hr(Jse),pq=hr(Gt.RenderEngine),dq(gq=(kP=(yq=function(){function t(){Cn(this,t),gr(this,"textureCache",vq,this),gr(this,"engine",mq,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return Rn(t,[{key:"setConfig",value:function(n){this.config=n}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=ii(Hn.mark(function r(){var i=this;return Hn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.config.url){s.next=4;break}return s.abrupt("return",new Promise(function(a,l){var c=i.textureCache.get(i.config.url);if(c)a(c);else{var u=new Image;u.crossOrigin="Anonymous",u.src=i.config.url,u.onload=function(){var f=i.engine.createTexture2D(xq(xq({},i.config),{},{data:u,width:u.width,height:u.height,flipY:!0}));i.textureCache.set(i.config.url,f),i.texture=f,i.loaded=!0,a(f)},u.onerror=function(){l()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),s.abrupt("return",this.texture);case 7:case"end":return s.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()}]),t}(),yq),vq=vr(kP.prototype,"textureCache",[hq],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mq=vr(kP.prototype,"engine",[pq],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kP))||gq),Cq,Sq,Eq,_q,CI,Tq,Pq,Oq=(Cq=Ki(),Sq=hr(Gt.Systems),Eq=rd(Gt.RendererSystem),Cq(_q=(CI=(Pq=function(){function t(){Cn(this,t),gr(this,"rendererSystem",Tq,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Rn(t,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(n){return this.camera=n,this}},{key:"setScene",value:function(n){return this.scene=n,this}},{key:"setViewport",value:function(n){return this.viewport=n,this}},{key:"setClearColor",value:function(n){return this.clearColor=n,this}},{key:"pick",value:function(n){return this.rendererSystem.pick(n,this)}}]),t}(),Pq),Tq=vr(CI.prototype,"rendererSystem",[Sq,Eq],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CI))||_q),Mq,Aq,kq,SI,Dq,Nq;function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NBe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var B3=(Mq=Ki(),Aq=hr(Gt.ConfigService),Mq(kq=(SI=(Nq=function(){function t(){Cn(this,t),gr(this,"configService",Dq,this),this.container=void 0}return Rn(t,[{key:"getEngine",value:function(){var e=ii(Hn.mark(function r(){var i,o,s,a;return Hn.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.container.get(Gt.RenderEngine),o=this.configService.get(),s=o.canvas,a=o.engineOptions,c.next=4,i.init(NBe({canvas:s||Pse(),swapChainFormat:vn.TextureFormat.BGRA8Unorm,antialiasing:!1},a));case 4:return c.abrupt("return",i);case 5:case"end":return c.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n}()},{key:"getTransformComponent",value:function(n){var r=this.container.get(Gt.TransformComponentManager);return r.getComponentByEntity(n)}},{key:"getMeshComponent",value:function(n){var r=this.container.get(Gt.MeshComponentManager);return r.getComponentByEntity(n)}},{key:"setConfig",value:function(n){this.configService.set(n)}},{key:"setContainer",value:function(n){this.container=n}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Jd()}},{key:"createScene",value:function(){return this.container.get(lq)}},{key:"createCamera",value:function(){return this.container.get(QH)}},{key:"createView",value:function(){return this.container.get(Oq)}},{key:"createRenderable",value:function(n,r){var i=n?this.container.getNamed(Gt.Renderable,n):this.container.get(tv),o=Jd();return i.setConfig(r||{}),i.setEntity(o),i}},{key:"createGeometry",value:function(n,r){var i=this.container.getNamed(Gt.Geometry,n),o=Jd();return i.setConfig(r||{}),i.setEntity(o),i.getComponent()}},{key:"createMaterial",value:function(n,r){var i=this.container.getNamed(Gt.Material,n),o=Jd();return i.setConfig(r||{}),i.setEntity(o,n),i.getComponent()}},{key:"createTexture2D",value:function(n){var r=this.container.get(wq);return r.setConfig(n),r}},{key:"createBufferGeometry",value:function(n){var r=this.container.getNamed(Gt.Systems,Gt.GeometrySystem);return r.createBufferGeometry(n)}},{key:"createInstancedBufferGeometry",value:function(n){var r=this.container.getNamed(Gt.Systems,Gt.GeometrySystem);return r.createInstancedBufferGeometry(n)}},{key:"createShaderMaterial",value:function(n){var r=this.container.getNamed(Gt.Systems,Gt.MaterialSystem);return r.createShaderMaterial(n)}},{key:"createKernel",value:function(n){var r=this.container.get(hW);return typeof n=="string"?r.setBundle(JSON.parse(n)):r.setBundle(n),r.init(),r}},{key:"createRenderer",value:function(){var n=this.container.get(iq);return n.container=this.container,n.init(),n}},{key:"destroy",value:function(){var n=this.container.getAll(Gt.Systems);n.forEach(function(o){o.tearDown&&o.tearDown()});var r=this.container.get(Gt.RenderEngine);r.destroy();var i=this.container.get(Gt.InteractorService);i.destroy()}}],[{key:"create",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=$8e(),i=navigator.gpu?k7e:d7e;r.isBound(Gt.RenderEngine)||r.bind(Gt.RenderEngine).to(i).inSingletonScope(),r.bind(iq).toSelf(),r.bind(hW).toSelf(),r.bind(tv).toSelf(),r.bind(Oq).toSelf(),r.bind(QH).toSelf(),r.bind(lq).toSelf(),r.bind(t).toSelf(),r.bind(Jse).toSelf(),r.bind(wq).toSelf(),r.bind(Gt.Geometry).to(R7e).whenTargetNamed(fv.BOX),r.bind(Gt.Geometry).to(U7e).whenTargetNamed(fv.SPHERE),r.bind(Gt.Geometry).to(B7e).whenTargetNamed(fv.PLANE),r.bind(Gt.Geometry).to(F7e).whenTargetNamed(fv.MERGED),r.bind(Gt.Material).to(Z7e).whenTargetNamed(Mse.BASIC),r.bind(Gt.Renderable).to(TBe).whenTargetNamed(tv.POINT),r.bind(Gt.Renderable).to(yBe).whenTargetNamed(tv.LINE),r.bind(Gt.Renderable).to(nGe).whenTargetNamed(tv.GRID);var o=r.get(t);return o.setContainer(r),o.setConfig(n),o}}]),t}(),Nq),Dq=vr(SI.prototype,"configService",[Aq],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),SI))||kq);const sb=(t,e)=>{let n;return t?Dn(t)?n=()=>t:n=t:n=()=>e||1,n},RBe=(t,e)=>{const n=[],r=[],i={};let o=0;for(o=0;o<t.length;o++){const a=t[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<e.length;o++){const a=e[o],l=zi(a,"source"),c=zi(a,"target");r[i[l]].push(i[c]),r[i[c]].push(i[l])}let s=0;for(o=0;o<t.length;o++){const a=n.length,l=r[o],c=l.length;n[o*4+2]=a,n[o*4+3]=l.length,s=Math.max(s,l.length);for(let u=0;u<c;++u){const f=l[u];n.push(+f)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:s,array:new Float32Array(n)}},IBe=(t,e,n,r)=>{const i=[],o=[],s={};let a=0;for(a=0;a<t.length;a++){const c=t[a];s[c.id]=a,i.push(c.x),i.push(c.y),i.push(0),i.push(0),o.push([])}for(a=0;a<e.length;a++){const c=e[a],u=zi(c,"source"),f=zi(c,"target");o[s[u]].push(s[f]),o[s[u]].push(n(c)),o[s[u]].push(r(c)),o[s[u]].push(0),o[s[f]].push(s[u]),o[s[f]].push(n(c)),o[s[f]].push(r(c)),o[s[f]].push(0)}let l=0;for(a=0;a<t.length;a++){const c=i.length,u=o[a],f=u.length;i[a*4+2]=c+1048576*f/4,i[a*4+3]=0,l=Math.max(l,f/4);for(let d=0;d<f;++d){const h=u[d];i.push(+h)}}for(;i.length%4!==0;)i.push(0);return{maxEdgePerVetex:l,array:new Float32Array(i)}},$Be=(t,e)=>{const n=[],r=t.length,i={};return e.forEach(o=>{t.forEach((s,a)=>{if(i[o[s]]===void 0&&(i[o[s]]=Object.keys(i).length),n.push(i[o[s]]),a===r-1)for(;n.length%4!==0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(i).length}},Iq=t=>{const e=[],n=t.length,r=t[0].length;for(let i=0;i<r;i++)t.forEach((o,s)=>{if(e.push(o[i]),s===n-1)for(;e.length%4!==0;)e.push(0)});return new Float32Array(e)},LBe='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',FBe='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var DP=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class zBe extends sc{constructor(e){super(),this.maxIteration=1e3,this.gravity=10,this.speed=1,this.clustering=!1,this.clusterField="cluster",this.clusterGravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}execute(){return DP(this,void 0,void 0,function*(){const e=this,n=e.nodes;if(!n||n.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const r=e.center;if(n.length===1){n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}const i={},o={};n.forEach((s,a)=>{Dn(s.x)||(s.x=Math.random()*this.width),Dn(s.y)||(s.y=Math.random()*this.height),i[s.id]=s,o[s.id]=a}),e.nodeMap=i,e.nodeIdxMap=o,yield e.run()})}executeWithWorker(e,n){return DP(this,void 0,void 0,function*(){const r=this,i=r.nodes,o=r.center;if(!i||i.length===0)return;if(i.length===1){i[0].x=o[0],i[0].y=o[1];return}const s={},a={};i.forEach((l,c)=>{Dn(l.x)||(l.x=Math.random()*this.width),Dn(l.y)||(l.y=Math.random()*this.height),s[l.id]=l,a[l.id]=c}),r.nodeMap=s,r.nodeIdxMap=a,yield r.run(e,n)})}run(e,n){return DP(this,void 0,void 0,function*(){const r=this,i=r.nodes,o=r.edges,s=r.maxIteration,a=r.center,l=r.height*r.width;let c=Math.sqrt(l)/10;const u=l/(i.length+1),f=Math.sqrt(u),d=r.speed,h=r.clustering,{array:p,count:g}=$Be([r.clusterField],i);i.forEach((A,N)=>{let $=0,L=0;Dn(A.fx)&&Dn(A.fy)&&($=A.fx||.001,L=A.fy||.001),p[4*N+1]=$,p[4*N+2]=L});const m=i.length,{maxEdgePerVetex:y,array:b}=RBe(i,o),C=r.workerEnabled;let E;C?E=B3.create({canvas:e,engineOptions:{supportCompute:!0}}):E=B3.create({engineOptions:{supportCompute:!0}});const _=r.onLayoutEnd,w=[];for(let A=0;A<g;A++)w.push(0,0,0,0);const M=E.createKernel(LBe).setDispatch([m,1,1]).setBinding({u_Data:b,u_K:f,u_K2:u,u_Gravity:r.gravity,u_ClusterGravity:r.clusterGravity||r.gravity||1,u_Speed:d,u_MaxDisplace:c,u_Clustering:h?1:0,u_Center:a,u_AttributeArray:p,u_ClusterCenters:w,MAX_EDGE_PER_VERTEX:y,VERTEX_COUNT:m});let k;h&&(k=E.createKernel(FBe).setDispatch([g,1,1]).setBinding({u_Data:b,u_NodeAttributes:p,u_ClusterCenters:w,VERTEX_COUNT:m,CLUSTER_COUNT:g})),yield(()=>DP(this,void 0,void 0,function*(){for(let N=0;N<s;N++)yield M.execute(),h&&(k.setBinding({u_Data:M}),yield k.execute(),M.setBinding({u_ClusterCenters:k})),M.setBinding({u_MaxDisplace:c*=.99});const A=yield M.getOutput();e?n.postMessage({type:T8.GPUEND,vertexEdgeData:A}):i.forEach((N,$)=>{const L=A[4*$],B=A[4*$+1];N.x=L,N.y=B}),_&&_()}))()})}getType(){return"fruchterman-gpu"}}const GBe='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',BBe='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var EI=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class jBe extends sc{constructor(e){super(),this.maxIteration=1e3,this.edgeStrength=200,this.nodeStrength=1e3,this.coulombDisScale=.005,this.damping=.9,this.maxSpeed=1e3,this.minMovement=.5,this.interval=.02,this.factor=1,this.linkDistance=1,this.gravity=10,this.workerEnabled=!1,this.nodes=[],this.edges=[],this.width=300,this.height=300,this.nodeMap={},this.nodeIdxMap={},this.updateCfg(e)}getDefaultCfg(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}execute(){return EI(this,void 0,void 0,function*(){const e=this,n=e.nodes;if(!n||n.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);const r=e.center;if(n.length===1){n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}const i={},o={};n.forEach((s,a)=>{Dn(s.x)||(s.x=Math.random()*e.width),Dn(s.y)||(s.y=Math.random()*e.height),i[s.id]=s,o[s.id]=a}),e.nodeMap=i,e.nodeIdxMap=o,e.nodeStrength=sb(e.nodeStrength,1),e.edgeStrength=sb(e.edgeStrength,1),yield e.run()})}executeWithWorker(e,n){const r=this,i=r.nodes,o=r.center;if(!i||i.length===0)return;if(i.length===1){i[0].x=o[0],i[0].y=o[1];return}const s={},a={};i.forEach((l,c)=>{Dn(l.x)||(l.x=Math.random()*r.width),Dn(l.y)||(l.y=Math.random()*r.height),s[l.id]=l,a[l.id]=c}),r.nodeMap=s,r.nodeIdxMap=a,r.nodeStrength=sb(r.nodeStrength,1),r.edgeStrength=sb(r.edgeStrength,1),r.run(e,n)}run(e,n){return EI(this,void 0,void 0,function*(){const r=this,i=r.nodes,o=r.edges,s=r.maxIteration;!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight);const a=i.length;r.linkDistance=sb(r.linkDistance),r.edgeStrength=sb(r.edgeStrength);const{maxEdgePerVetex:l,array:c}=IBe(i,o,r.linkDistance,r.edgeStrength);r.degrees=AE(i.length,r.nodeIdxMap,o);const u=[],f=[],d=[],h=[],p=[],g=[],m=[];r.getMass||(r.getMass=$=>r.degrees[r.nodeIdxMap[$.id]]||1);const y=r.gravity,b=r.center;i.forEach(($,L)=>{u.push(r.getMass($)),f.push(r.nodeStrength($)),r.degrees[L]||(r.degrees[L]=0);let B=[b[0],b[1],y];if(r.getCenter){const j=r.getCenter($,r.degrees[L]);j&&Dn(j[0])&&Dn(j[1])&&Dn(j[2])&&(B=j)}d.push(B[0]),h.push(B[1]),p.push(B[2]),Dn($.fx)&&Dn($.fy)?(g.push($.fx||.001),m.push($.fy||.001)):(g.push(0),m.push(0))});const C=Iq([u,r.degrees,f,g]),E=Iq([d,h,p,m]),_=r.workerEnabled;let w;_?w=B3.create({canvas:e,engineOptions:{supportCompute:!0}}):w=B3.create({engineOptions:{supportCompute:!0}});const M=r.onLayoutEnd,k=[];c.forEach($=>{k.push($)});for(let $=0;$<4;$++)k.push(0);const I=w.createKernel(GBe).setDispatch([a,1,1]).setBinding({u_Data:c,u_damping:r.damping,u_maxSpeed:r.maxSpeed,u_minMovement:r.minMovement,u_coulombDisScale:r.coulombDisScale,u_factor:r.factor,u_NodeAttributeArray1:C,u_NodeAttributeArray2:E,MAX_EDGE_PER_VERTEX:l,VERTEX_COUNT:a,u_AveMovement:k,u_interval:r.interval}),A=w.createKernel(BBe).setDispatch([1,1,1]).setBinding({u_Data:c,VERTEX_COUNT:a,u_AveMovement:[0,0,0,0]});yield(()=>EI(this,void 0,void 0,function*(){for(let L=0;L<s;L++){yield I.execute(),A.setBinding({u_Data:I}),yield A.execute();const B=Math.max(.02,r.interval-L*.002);I.setBinding({u_interval:B,u_AveMovement:A})}const $=yield I.getOutput();e?n.postMessage({type:T8.GPUEND,vertexEdgeData:$}):i.forEach((L,B)=>{const j=$[4*B],H=$[4*B+1];L.x=j,L.y=H}),M&&M()}))()})}getType(){return"gForce-gpu"}}class VBe extends sc{constructor(e){super(),this.center=[0,0],this.maxIteration=100,this.gravity=10,this.comboGravity=10,this.linkDistance=10,this.alpha=1,this.alphaMin=.001,this.alphaDecay=1-Math.pow(this.alphaMin,1/300),this.alphaTarget=0,this.velocityDecay=.6,this.edgeStrength=.6,this.nodeStrength=30,this.preventOverlap=!1,this.preventNodeOverlap=!1,this.preventComboOverlap=!1,this.collideStrength=void 0,this.nodeCollideStrength=.5,this.comboCollideStrength=.5,this.comboSpacing=20,this.comboPadding=10,this.optimizeRangeFactor=1,this.onTick=()=>{},this.onLayoutEnd=()=>{},this.depthAttractiveForceScale=1,this.depthRepulsiveForceScale=2,this.nodes=[],this.edges=[],this.combos=[],this.comboTrees=[],this.width=300,this.height=300,this.bias=[],this.nodeMap={},this.oriComboMap={},this.indexMap={},this.comboMap={},this.previousLayouted=!1,this.updateCfg(e)}getDefaultCfg(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}execute(){const e=this,n=e.nodes,r=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},!n||n.length===0){e.onLayoutEnd&&e.onLayoutEnd();return}if(n.length===1){n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd();return}e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}run(){const e=this,n=e.nodes,r=e.previousLayouted?e.maxIteration/5:e.maxIteration;!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight);const i=e.center,o=e.velocityDecay,s=e.comboMap;e.previousLayouted||e.initPos(s);for(let c=0;c<r;c++){const u=[];n.forEach((f,d)=>{u[d]={x:0,y:0}}),e.applyCalculate(u),e.applyComboCenterForce(u),n.forEach((f,d)=>{!Dn(f.x)||!Dn(f.y)||(f.x+=u[d].x*o,f.y+=u[d].y*o)}),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()}const a=[0,0];n.forEach(c=>{!Dn(c.x)||!Dn(c.y)||(a[0]+=c.x,a[1]+=c.y)}),a[0]/=n.length,a[1]/=n.length;const l=[i[0]-a[0],i[1]-a[1]];n.forEach((c,u)=>{!Dn(c.x)||!Dn(c.y)||(c.x+=l[0],c.y+=l[1])}),e.combos.forEach(c=>{const u=s[c.id];u&&u.empty&&(c.x=u.cx||c.x,c.y=u.cy||c.y)}),e.previousLayouted=!0}initVals(){const e=this,n=e.edges,r=e.nodes,i=e.combos,o={},s={},a={};r.forEach((A,N)=>{s[A.id]=A,a[A.id]=N}),e.nodeMap=s,e.indexMap=a;const l={};i.forEach(A=>{l[A.id]=A}),e.oriComboMap=l,e.comboMap=e.getComboMap();const c=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||c,e.preventNodeOverlap=e.preventNodeOverlap||c;const u=e.collideStrength;u&&(e.comboCollideStrength=u,e.nodeCollideStrength=u),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(let A=0;A<n.length;++A){const N=zi(n[A],"source"),$=zi(n[A],"target");o[N]?o[N]++:o[N]=1,o[$]?o[$]++:o[$]=1}const f=[];for(let A=0;A<n.length;++A){const N=zi(n[A],"source"),$=zi(n[A],"target");f[A]=o[N]/(o[N]+o[$])}this.bias=f;const d=e.nodeSize,h=e.nodeSpacing;let p,g;if(Dn(h)?g=()=>h:cv(h)?g=h:g=()=>0,this.nodeSpacing=g,!d)p=A=>A.size?fl(A.size)?(A.size[0]>A.size[1]?A.size[0]:A.size[1])/2:Qp(A.size)?(A.size.width>A.size.height?A.size.width:A.size.height)/2:A.size/2:10;else if(cv(d))p=A=>d(A);else if(fl(d)){const N=(d[0]>d[1]?d[0]:d[1])/2;p=$=>N}else{const A=d/2;p=N=>A}this.nodeSize=p;const m=e.comboSpacing;let y;Dn(m)?y=()=>m:cv(m)?y=m:y=()=>0,this.comboSpacing=y;const b=e.comboPadding;let C;Dn(b)?C=()=>b:fl(b)?C=()=>Math.max.apply(null,b):cv(b)?C=b:C=()=>0,this.comboPadding=C;let E=this.linkDistance,_;E||(E=10),Dn(E)?_=A=>E:_=E,this.linkDistance=_;let w=this.edgeStrength,M;w||(w=1),Dn(w)?M=A=>w:M=w,this.edgeStrength=M;let k=this.nodeStrength,I;k||(k=30),Dn(k)?I=A=>k:I=k,this.nodeStrength=I}initPos(e){this.nodes.forEach((i,o)=>{const s=i.comboId,a=e[s];s&&a?(i.x=a.cx+100/(o+1),i.y=a.cy+100/(o+1)):(i.x=100/(o+1),i.y=100/(o+1))})}getComboMap(){const e=this,n=e.nodeMap,r=e.comboTrees,i=e.oriComboMap,o={};return(r||[]).forEach(s=>{const a=[];fP(s,l=>{if(l.itemType==="node"||!i[l.id])return!0;if(o[l.id]===void 0){const f={id:l.id,name:l.id,cx:0,cy:0,count:0,depth:e.oriComboMap[l.id].depth||0,children:[]};o[l.id]=f}const c=l.children;c&&c.forEach(f=>{if(!o[f.id]&&!n[f.id])return!0;a.push(f)});const u=o[l.id];if(u.cx=0,u.cy=0,a.length===0){u.empty=!0;const f=i[l.id];u.cx=f.x,u.cy=f.y}return a.forEach(f=>{if(u.count++,f.itemType!=="node"){const h=o[f.id];Dn(h.cx)&&(u.cx+=h.cx),Dn(h.cy)&&(u.cy+=h.cy);return}const d=n[f.id];!d||(Dn(d.x)&&(u.cx+=d.x),Dn(d.y)&&(u.cy+=d.y))}),u.cx/=u.count||1,u.cy/=u.count||1,u.children=a,!0})}),o}applyComboCenterForce(e){const n=this,r=n.gravity,i=n.comboGravity||r,o=this.alpha,s=n.comboTrees,a=n.indexMap,l=n.nodeMap,c=n.comboMap;(s||[]).forEach(u=>{fP(u,f=>{if(f.itemType==="node"||!c[f.id])return!0;const h=c[f.id],p=(h.depth+1)/10*.5,g=h.cx,m=h.cy;return h.cx=0,h.cy=0,h.children.forEach(y=>{if(y.itemType!=="node"){const k=c[y.id];k&&Dn(k.cx)&&(h.cx+=k.cx),k&&Dn(k.cy)&&(h.cy+=k.cy);return}const b=l[y.id],C=b.x-g||.005,E=b.y-m||.005,_=Math.sqrt(C*C+E*E),w=a[b.id],M=i*o/_*p;e[w].x-=C*M,e[w].y-=E*M,Dn(b.x)&&(h.cx+=b.x),Dn(b.y)&&(h.cy+=b.y)}),h.cx/=h.count||1,h.cy/=h.count||1,!0})})}applyCalculate(e){const n=this,r=n.comboMap,i=n.nodes,o={};i.forEach((a,l)=>{i.forEach((c,u)=>{if(l<u)return;const f=a.x-c.x||.005,d=a.y-c.y||.005;let h=f*f+d*d;const p=Math.sqrt(h);h<1&&(h=p),o[`${a.id}-${c.id}`]={vx:f,vy:d,vl2:h,vl:p},o[`${c.id}-${a.id}`]={vl2:h,vl:p,vx:-f,vy:-d}})}),n.updateComboSizes(r),n.calRepulsive(e,o),n.calAttractive(e,o),n.preventComboOverlap&&n.comboNonOverlapping(e,r)}updateComboSizes(e){const n=this,r=n.comboTrees,i=n.nodeMap,o=n.nodeSize,s=n.comboSpacing,a=n.comboPadding;(r||[]).forEach(l=>{const c=[];fP(l,u=>{if(u.itemType==="node")return!0;const f=e[u.id];if(!f)return!1;const d=u.children;d&&d.forEach(g=>{!e[g.id]&&!i[g.id]||c.push(g)}),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0,c.forEach(g=>{if(g.itemType!=="node")return!0;const m=i[g.id];if(!m)return!0;const y=o(m),b=m.x-y,C=m.y-y,E=m.x+y,_=m.y+y;f.minX>b&&(f.minX=b),f.minY>C&&(f.minY=C),f.maxX<E&&(f.maxX=E),f.maxY<_&&(f.maxY=_)});let h=n.oriComboMap[u.id].size||10;fl(h)&&(h=h[0]);const p=Math.max(f.maxX-f.minX,f.maxY-f.minY,h);return f.r=p/2+s(f)/2+a(f),!0})})}comboNonOverlapping(e,n){const r=this,i=r.comboTree,o=r.comboCollideStrength,s=r.indexMap,a=r.nodeMap;fP(i,l=>{if(!n[l.id]&&!a[l.id]&&l.id!=="comboTreeRoot")return!1;const c=l.children;return c&&c.length>1&&c.forEach((u,f)=>{if(u.itemType==="node")return!1;const d=n[u.id];!d||c.forEach((h,p)=>{if(f<=p||h.itemType==="node")return!1;const g=n[h.id];if(!g)return!1;const m=d.cx-g.cx||.005,y=d.cy-g.cy||.005,b=m*m+y*y,C=d.r||1,E=g.r||1,_=C+E,w=E*E,M=C*C;if(b<_*_){const k=u.children;if(!k||k.length===0)return!1;const I=h.children;if(!I||I.length===0)return!1;const A=Math.sqrt(b),N=(_-A)/A*o,$=m*N,L=y*N,B=w/(M+w),j=1-B;k.forEach(H=>{if(H.itemType!=="node")return!1;if(!a[H.id])return;const te=s[H.id];I.forEach(Y=>{if(Y.itemType!=="node"||!a[Y.id])return!1;const ue=s[Y.id];e[te].x+=$*B,e[te].y+=L*B,e[ue].x-=$*j,e[ue].y-=L*j})})}})}),!0})}calRepulsive(e,n){const r=this,i=r.nodes,o=r.width*r.optimizeRangeFactor,s=r.nodeStrength,a=r.alpha,l=r.nodeCollideStrength,c=r.preventNodeOverlap,u=r.nodeSize,f=r.nodeSpacing,d=r.depthRepulsiveForceScale,h=r.center;i.forEach((p,g)=>{if(!(!p.x||!p.y)){if(h){const m=r.gravity,y=p.x-h[0]||.005,b=p.y-h[1]||.005,C=Math.sqrt(y*y+b*b);e[g].x-=y*m*a/C,e[g].y-=b*m*a/C}i.forEach((m,y)=>{if(g===y||!m.x||!m.y)return;const{vl2:b,vl:C}=n[`${p.id}-${m.id}`];if(C>o)return;const{vx:E,vy:_}=n[`${p.id}-${m.id}`];let w=Math.log(Math.abs(m.depth-p.depth)/10)+1||1;w=w<1?1:w,m.comboId!==p.comboId&&(w+=1);const M=w?Math.pow(d,w):1,k=s(m)*a/b*M;if(e[g].x+=E*k,e[g].y+=_*k,g<y&&c){const I=u(p)+f(p)||1,A=u(m)+f(m)||1,N=I+A;if(b<N*N){const $=(N-C)/C*l,L=A*A;let B=L/(I*I+L);const j=E*$,H=_*$;e[g].x+=j*B,e[g].y+=H*B,B=1-B,e[y].x-=j*B,e[y].y-=H*B}}})}})}calAttractive(e,n){const r=this,i=r.edges,o=r.linkDistance,s=r.alpha,a=r.edgeStrength,l=r.bias,c=r.depthAttractiveForceScale;i.forEach((u,f)=>{const d=zi(u,"source"),h=zi(u,"target");if(!d||!h||d===h)return;const p=r.indexMap[d],g=r.indexMap[h],m=r.nodeMap[d],y=r.nodeMap[h];if(!m||!y)return;let b=m.depth===y.depth?0:Math.log(Math.abs(m.depth-y.depth)/10);m.comboId===y.comboId&&(b=b/2);let C=b?Math.pow(c,b):1;if(m.comboId!==y.comboId&&C===1?C=c/2:m.comboId===y.comboId&&(C=2),!Dn(y.x)||!Dn(m.x)||!Dn(y.y)||!Dn(m.y))return;const{vl:E,vx:_,vy:w}=n[`${h}-${d}`],M=(E-o(u))/E*s*a(u)*C,k=_*M,I=w*M,A=l[f];e[g].x-=k*A,e[g].y-=I*A,e[p].x+=k*(1-A),e[p].y+=I*(1-A)})}getType(){return"comboForce"}}class z8{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}distanceTo(e){const n=this.rx-e.rx,r=this.ry-e.ry;return Math.hypot(n,r)}setPos(e,n){this.rx=e,this.ry=n}resetForce(){this.fx=0,this.fy=0}addForce(e){const n=e.rx-this.rx,r=e.ry-this.ry;let i=Math.hypot(n,r);i=i<1e-4?1e-4:i;const o=this.g*(this.degree+1)*(e.degree+1)/i;this.fx+=o*n/i,this.fy+=o*r/i}in(e){return e.contains(this.rx,this.ry)}add(e){const n=this.mass+e.mass,r=(this.rx*this.mass+e.rx*e.mass)/n,i=(this.ry*this.mass+e.ry*e.mass)/n,o=this.degree+e.degree,s={rx:r,ry:i,mass:n,degree:o};return new z8(s)}}class Zb{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}getLength(){return this.length}contains(e,n){const r=this.length/2;return e<=this.xmid+r&&e>=this.xmid-r&&n<=this.ymid+r&&n>=this.ymid-r}NW(){const e=this.xmid-this.length/4,n=this.ymid+this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r};return new Zb(i)}NE(){const e=this.xmid+this.length/4,n=this.ymid+this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r};return new Zb(i)}SW(){const e=this.xmid-this.length/4,n=this.ymid-this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r};return new Zb(i)}SE(){const e=this.xmid+this.length/4,n=this.ymid-this.length/4,r=this.length/2,i={xmid:e,ymid:n,length:r};return new Zb(i)}}class Qb{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,e!=null&&(this.quad=e)}insert(e){if(this.body==null){this.body=e;return}this._isExternal()?(this.quad&&(this.NW=new Qb(this.quad.NW()),this.NE=new Qb(this.quad.NE()),this.SW=new Qb(this.quad.SW()),this.SE=new Qb(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e))}_putBody(e){!this.quad||(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))}_isExternal(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}updateForce(e){if(!(this.body==null||e===this.body))if(this._isExternal())e.addForce(this.body);else{const n=this.quad?this.quad.getLength():0,r=this.body.distanceTo(e);n/r<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e))}}}class UBe extends sc{constructor(e){super(),this.center=[0,0],this.width=300,this.height=300,this.nodes=[],this.edges=[],this.kr=5,this.kg=1,this.mode="normal",this.preventOverlap=!1,this.dissuadeHubs=!1,this.barnesHut=void 0,this.maxIteration=0,this.ks=.1,this.ksmax=10,this.tao=.1,this.onLayoutEnd=()=>{},this.prune=void 0,this.updateCfg(e)}getDefaultCfg(){return{}}execute(){const e=this,{nodes:n,onLayoutEnd:r,prune:i}=e;let o=e.maxIteration;!e.width&&typeof window<"u"&&(e.width=window.innerWidth),!e.height&&typeof window<"u"&&(e.height=window.innerHeight);const s=[],a=n.length;for(let l=0;l<a;l+=1){const c=n[l];let u=10,f=10;Dn(c.size)&&(u=c.size,f=c.size),fl(c.size)?(isNaN(c.size[0])||(u=c.size[0]),isNaN(c.size[1])||(f=c.size[1])):Qp(c.size)&&(u=c.size.width,f=c.size.height),e.getWidth&&!isNaN(e.getWidth(c))&&(f=e.getWidth(c)),e.getHeight&&!isNaN(e.getHeight(c))&&(u=e.getHeight(c));const d=Math.max(u,f);s.push(d)}e.barnesHut===void 0&&a>250&&(e.barnesHut=!0),e.prune===void 0&&a>100&&(e.prune=!0),this.maxIteration===0&&!e.prune?(o=250,a<=200&&a>100?o=1e3:a>200&&(o=1200),this.maxIteration=o):this.maxIteration===0&&i&&(o=100,a<=200&&a>100?o=500:a>200&&(o=950),this.maxIteration=o),e.kr||(e.kr=50,a>100&&a<=500?e.kr=20:a>500&&(e.kr=1)),e.kg||(e.kg=20,a>100&&a<=500?e.kg=10:a>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(s),r()}updateNodesByForces(e){const n=this,{edges:r,maxIteration:i}=n;let o=n.nodes;const s=r.filter(p=>{const g=zi(p,"source"),m=zi(p,"target");return g!==m}),a=o.length,l=s.length,c=[],u={},f={},d=[];for(let p=0;p<a;p+=1)u[o[p].id]=p,c[p]=0,(o[p].x===void 0||isNaN(o[p].x))&&(o[p].x=Math.random()*1e3),(o[p].y===void 0||isNaN(o[p].y))&&(o[p].y=Math.random()*1e3),d.push({x:o[p].x,y:o[p].y});for(let p=0;p<l;p+=1){let g,m,y=0,b=0;for(let C=0;C<a;C+=1){const E=zi(s[p],"source"),_=zi(s[p],"target");o[C].id===E?(g=o[C],y=C):o[C].id===_&&(m=o[C],b=C),f[p]={sourceIdx:y,targetIdx:b}}g&&(c[u[g.id]]+=1),m&&(c[u[m.id]]+=1)}let h=i;if(o=this.iterate(h,u,f,l,c,e),n.prune){for(let p=0;p<l;p+=1)c[f[p].sourceIdx]<=1?(o[f[p].sourceIdx].x=o[f[p].targetIdx].x,o[f[p].sourceIdx].y=o[f[p].targetIdx].y):c[f[p].targetIdx]<=1&&(o[f[p].targetIdx].x=o[f[p].sourceIdx].x,o[f[p].targetIdx].y=o[f[p].sourceIdx].y);n.prune=!1,n.barnesHut=!1,h=100,o=this.iterate(h,u,f,l,c,e)}return o}iterate(e,n,r,i,o,s){const a=this;let{nodes:l}=a;const{kr:c,preventOverlap:u}=a,{barnesHut:f}=a,d=l.length;let h=0;const p=100;let g=e;const m=50;let y=[];const b=[],C=[];for(let E=0;E<d;E+=1)if(y[2*E]=0,y[2*E+1]=0,f){const _={id:E,rx:l[E].x,ry:l[E].y,mass:1,g:c,degree:o[E]};C[E]=new z8(_)}for(;g>0;){for(let _=0;_<d;_+=1)b[2*_]=y[2*_],b[2*_+1]=y[2*_+1],y[2*_]=0,y[2*_+1]=0;y=this.getAttrForces(g,m,i,n,r,o,s,y),f&&(u&&g>m||!u)?y=this.getOptRepGraForces(y,C,o):y=this.getRepGraForces(g,m,y,p,s,o);const E=this.updatePos(y,b,h,o);l=E.nodes,h=E.sg,g--,a.tick&&a.tick()}return l}getAttrForces(e,n,r,i,o,s,a,l){const c=this,{nodes:u,preventOverlap:f,dissuadeHubs:d,mode:h,prune:p}=c;for(let g=0;g<r;g+=1){const m=u[o[g].sourceIdx],y=o[g].sourceIdx,b=u[o[g].targetIdx],C=o[g].targetIdx;if(p&&(s[y]<=1||s[C]<=1))continue;const E=[b.x-m.x,b.y-m.y];let _=Math.hypot(E[0],E[1]);_=_<1e-4?1e-4:_,E[0]=E[0]/_,E[1]=E[1]/_,f&&e<n&&(_=_-a[y]-a[C]);let w=_,M=w;h==="linlog"&&(w=Math.log(1+_),M=w),d&&(w=_/s[y],M=_/s[C]),f&&e<n&&_<=0?(w=0,M=0):f&&e<n&&_>0&&(w=_,M=_),l[2*i[m.id]]+=w*E[0],l[2*i[b.id]]-=M*E[0],l[2*i[m.id]+1]+=w*E[1],l[2*i[b.id]+1]-=M*E[1]}return l}getRepGraForces(e,n,r,i,o,s){const a=this,{nodes:l,preventOverlap:c,kr:u,kg:f,center:d,prune:h}=a,p=l.length;for(let g=0;g<p;g+=1){for(let C=g+1;C<p;C+=1){if(h&&(s[g]<=1||s[C]<=1))continue;const E=[l[C].x-l[g].x,l[C].y-l[g].y];let _=Math.hypot(E[0],E[1]);_=_<1e-4?1e-4:_,E[0]=E[0]/_,E[1]=E[1]/_,c&&e<n&&(_=_-o[g]-o[C]);let w=u*(s[g]+1)*(s[C]+1)/_;c&&e<n&&_<0?w=i*(s[g]+1)*(s[C]+1):c&&e<n&&_===0?w=0:c&&e<n&&_>0&&(w=u*(s[g]+1)*(s[C]+1)/_),r[2*g]-=w*E[0],r[2*C]+=w*E[0],r[2*g+1]-=w*E[1],r[2*C+1]+=w*E[1]}const m=[l[g].x-d[0],l[g].y-d[1]],y=Math.hypot(m[0],m[1]);m[0]=m[0]/y,m[1]=m[1]/y;const b=f*(s[g]+1);r[2*g]-=b*m[0],r[2*g+1]-=b*m[1]}return r}getOptRepGraForces(e,n,r){const i=this,{nodes:o,kg:s,center:a,prune:l}=i,c=o.length;let u=9e10,f=-9e10,d=9e10,h=-9e10;for(let b=0;b<c;b+=1)l&&r[b]<=1||(n[b].setPos(o[b].x,o[b].y),o[b].x>=f&&(f=o[b].x),o[b].x<=u&&(u=o[b].x),o[b].y>=h&&(h=o[b].y),o[b].y<=d&&(d=o[b].y));const p=Math.max(f-u,h-d),g={xmid:(f+u)/2,ymid:(h+d)/2,length:p,massCenter:a,mass:c},m=new Zb(g),y=new Qb(m);for(let b=0;b<c;b+=1)l&&r[b]<=1||n[b].in(m)&&y.insert(n[b]);for(let b=0;b<c;b+=1){if(l&&r[b]<=1)continue;n[b].resetForce(),y.updateForce(n[b]),e[2*b]-=n[b].fx,e[2*b+1]-=n[b].fy;const C=[o[b].x-a[0],o[b].y-a[1]];let E=Math.hypot(C[0],C[1]);E=E<1e-4?1e-4:E,C[0]=C[0]/E,C[1]=C[1]/E;const _=s*(r[b]+1);e[2*b]-=_*C[0],e[2*b+1]-=_*C[1]}return e}updatePos(e,n,r,i){const o=this,{nodes:s,ks:a,tao:l,prune:c,ksmax:u}=o,f=s.length,d=[],h=[];let p=0,g=0;for(let y=0;y<f;y+=1){if(c&&i[y]<=1)continue;const b=[e[2*y]-n[2*y],e[2*y+1]-n[2*y+1]],C=Math.hypot(b[0],b[1]),E=[e[2*y]+n[2*y],e[2*y+1]+n[2*y+1]],_=Math.hypot(E[0],E[1]);d[y]=C,h[y]=_/2,p+=(i[y]+1)*d[y],g+=(i[y]+1)*h[y]}const m=r;r=l*g/p,m!==0&&(r=r>1.5*m?1.5*m:r);for(let y=0;y<f;y+=1){if(c&&i[y]<=1)continue;let b=a*r/(1+r*Math.sqrt(d[y])),C=Math.hypot(e[2*y],e[2*y+1]);C=C<1e-4?1e-4:C;const E=u/C;b=b>E?E:b;const _=b*e[2*y],w=b*e[2*y+1];s[y].x+=_,s[y].y+=w}return{nodes:s,sg:r}}}class _p{constructor(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}init(e,n,r){this.cells=[],this.CELL_W=r.CELL_W||_p.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||_p.DEFAULT_CELL_H,this.columnNum=Math.ceil(e/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),_p.MIN_DIST=Math.pow(e,2)+Math.pow(n,2);for(let i=0;i<this.columnNum;i++){const o=[];for(let s=0;s<this.rowNum;s++){const a={dx:i,dy:s,x:i*this.CELL_W,y:s*this.CELL_H,occupied:!1};o.push(a)}this.cells.push(o)}}findGridByNodeId(e){var n,r;for(let i=0;i<this.columnNum;i++)for(let o=0;o<this.rowNum;o++)if(this.cells[i][o].node&&((r=(n=this.cells[i][o])===null||n===void 0?void 0:n.node)===null||r===void 0?void 0:r.id)===e)return{column:i,row:o};return null}sqdist(e,n){return Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)}occupyNearest(e){let n=_p.MIN_DIST,r,i=null;for(let o=0;o<this.columnNum;o++)for(let s=0;s<this.rowNum;s++)!this.cells[o][s].occupied&&(r=this.sqdist(e,this.cells[o][s]))<n&&(n=r,i=this.cells[o][s]);return i&&(i.occupied=!0),i}insertColumn(e,n){if(!(n<=0)){for(let r=0;r<n;r++){this.cells[r+this.columnNum]=[];for(let i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(let r=this.columnNum-1;r>e;r--)for(let i=0;i<this.rowNum;i++)this.cells[r+n][i]=Object.assign(Object.assign({},this.cells[r][i]),{x:(r+n)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(let r=0;r<this.additionColumn.length;r++)this.additionColumn[r]>=e&&(this.additionColumn[r]+=n);for(let r=0;r<n;r++)this.additionColumn.push(e+r+1);this.columnNum+=n}}insertRow(e,n){if(!(n<=0)){for(let r=0;r<n;r++)for(let i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(let r=0;r<this.columnNum;r++)for(let i=this.rowNum-1;i>e;i--)this.cells[r][i+n]=Object.assign(Object.assign({},this.cells[r][i]),{dx:r,dy:i+n,x:r*this.CELL_W,y:(i+n)*this.CELL_H}),this.cells[r][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null};for(let r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=n);for(let r=0;r<n;r++)this.additionRow.push(e+r+1);this.rowNum+=n}}getNodes(){const e=[];for(let n=0;n<this.columnNum;n++)for(let r=0;r<this.rowNum;r++)this.cells[n][r].node&&e.push(this.cells[n][r]);return e}}_p.MIN_DIST=50;_p.DEFAULT_CELL_W=80;_p.DEFAULT_CELL_H=80;function HBe(t,e){if(!t.nodes||t.nodes.length===0)return t;const n=e.width,r=e.height,i=e.nodeMinGap;let o=1e4,s=1e4;t.nodes.forEach(l=>{const c=l.size[0]||50,u=l.size[1]||50;o=Math.min(c,o),s=Math.min(u,s)});const a=new _p;a.init(n,r,{CELL_H:s,CELL_W:o}),t.nodes.forEach(l=>{const c=a.occupyNearest(l);c&&(c.node={id:l.id,size:l.size},l.x=c.x,l.y=c.y,l.dx=c.dx,l.dy=c.dy)});for(let l=0;l<t.nodes.length;l++){const c=t.nodes[l],u=a.findGridByNodeId(c.id);if(!u)throw new Error("can not find node cell");const{column:f,row:d}=u;if(c.size[0]+i>o){const h=Math.ceil((c.size[0]+i)/o)-1;let p=h;for(let g=0;g<h&&(a.additionColumn.indexOf(f+g+1)>-1&&!a.cells[f+g+1][d].node);g++)p--;a.insertColumn(f,p)}if(c.size[1]+i>s){const h=Math.ceil((c.size[1]+i)/s)-1;let p=h;for(let g=0;g<h&&(a.additionRow.indexOf(d+g+1)>-1&&!a.cells[f][d+g+1].node);g++)p--;a.insertRow(d,p)}}for(let l=0;l<a.columnNum;l++)for(let c=0;c<a.rowNum;c++){const u=a.cells[l][c];if(u.node){const f=t.nodes.find(d=>{var h;return d.id===((h=u==null?void 0:u.node)===null||h===void 0?void 0:h.id)});f&&(f.x=u.x+f.size[0]/2,f.y=u.y+f.size[1]/2)}}}const eae=1200,tae=800,NP=1e7,Qx=10,nae=3.141592653589793,_I=1.5707963267948966,WBe=nae*.375,YBe=nae*.625,IO=new Map,qBe=10,XBe=10;let TI=.8;const $q=.1,KBe=.5;function ZBe(t,e,n){const r=t.x-t.size[0]/2,i=t.y-t.size[1]/2,o=t.x+t.size[0]/2,s=t.y+t.size[1]/2,a=e.x-e.size[0]/2,l=e.y-e.size[1]/2,c=e.x+e.size[0]/2,u=e.y+e.size[1]/2,f=t.x,d=t.y,h=e.x,p=e.y,g=h-f,m=Math.atan2(g,p-d);let y=0,b=0,C=0,E=0;m>_I?(b=i-u,y=a-o,C=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)),E=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):0<m&&m<=_I?(b=l-s,y=a-o,b>y?C=E=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):C=E=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):m<-_I?(b=i-u,y=-(c-r),b>y?C=E=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):C=E=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):(b=l-s,Math.abs(g)>(o-r)/2?y=r-c:y=g,b>y?C=E=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):C=E=parseFloat(y&&m!==0?(y/Math.sin(m)).toFixed(2):b.toFixed(2)));const _=parseFloat(m.toFixed(2));let w=n;return n&&(w=WBe<_&&_<YBe),{distance:Math.abs(C<E?C:E),isHoriz:w}}function rae(t,e){const r=(IO.get(t.id)||[]).find(M=>M.source===e.id||M.target===e.id),i=t.size[0]*t.size[1],o=e.size[0]*e.size[1],s=i>o?e:t,a=i>o?t:e,l=s.x-s.size[0]/2,c=s.y-s.size[1]/2,u=s.x+s.size[0]/2,f=s.y+s.size[1]/2,d=a.x-a.size[0]/2,h=a.y-a.size[1]/2,p=a.x+a.size[0]/2,g=a.y+a.size[1]/2,m=s.x,y=s.y,b=a.x,C=a.y,E=u>=d&&p>=l&&f>=h&&g>=c;let _=0,w=0;if(E){w=Math.sqrt(Math.pow(b-m,2)+Math.pow(C-y,2));const M=l>d?l:d,k=c>h?c:h,I=u<p?u:p,A=f<g?f:g,N=I-M,$=A-k,L=N*$;w===0&&(w=1e-7),_=Qx*1/w*100+L,_*=NP}else{let M=!1;const k=ZBe(s,a,M);w=k.distance,M=k.isHoriz,w<=Qx?w!==0?r?_+=Qx+NP*1/w:_+=Qx+NP*Qx/w:_+=NP:(_+=w,r&&(_+=w*w))}return _}function iae(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];(r.x<0||r.y<0||r.x>eae||r.y>tae)&&(e+=1e12);for(let i=n+1;i<t.length;i++)e+=rae(r,t[i])}return e}function QBe(t,e,n,r){const i=new Map;n.forEach((l,c)=>{i.set(l.id,l)});const o=r.filter(l=>l.source===t.id||l.target===t.id)||[],s=[];o.forEach(l=>{const c=l.source===t.id?l.target:l.source,u=i.get(c);u&&s.push(u)});let a=!0;for(let l=0;l<s.length;l++){const c=s[l],u=Math.atan((t.y-c.y)/(c.x-t.y))*180,f=Math.atan((e.y-c.y)/(c.x-e.y))*180,d=u<30||u>150,h=f<30||f>150,p=u>70&&u<110,g=f>70&&f<110;if(d&&!h||u*f<0){a=!1;break}else if(p&&!g||u*f<0){a=!1;break}else if((c.x-t.x)*(c.x-e.x)<0){a=!1;break}else if((c.y-t.y)*(c.y-e.y)<0){a=!1;break}}return a}function JBe(t,e){let n=!1;const r=1,i=qBe*r,o=XBe*r,s=[i,-i,0,0],a=[0,0,o,-o];for(let l=0;l<t.length;++l){const c=t[l];let u=Lq(c,t);for(let f=0;f<s.length;f++)if(QBe(c,{x:c.x+s[f],y:c.y+a[f]},t,e)){c.x+=s[f],c.y+=a[f];const h=Lq(c,t),p=Math.random();h<u||p<TI&&p>$q?(u=h,n=!0):(c.x-=s[f],c.y-=a[f])}}return TI>$q&&(TI*=KBe),n?iae(t):0}function Lq(t,e){let n=0;(t.x<0||t.y<0||t.x+t.size[0]+20>eae||t.y+t.size[1]+20>tae)&&(n+=1e12);for(let r=0;r<e.length;++r)t.id!==e[r].id&&(n+=rae(t,e[r]));return n}function eje(t,e){if(t.length===0)return{nodes:t,edges:e};t.forEach(l=>{const c=e.filter(u=>u.source===l.id||u.target===l.id);IO.set(l,c)}),t.sort((l,c)=>{var u,f;return((u=IO.get(l.id))===null||u===void 0?void 0:u.length)-((f=IO.get(c.id))===null||f===void 0?void 0:f.length)});let n=iae(t),r=20,i=1,o=0;const s=50;let a=0;for(;r>0&&(a++,!(a>=s));){const l=JBe(t,e);l!==0&&(o=l),i=o-n,n=o,i===0?--r:r=20}return t.forEach(l=>{l.x=l.x-l.size[0]/2,l.y=l.y-l.size[1]/2}),{nodes:t,edges:e}}function tje(t,e){const{nodes:n,edges:r}=t,i=e.width,o=e.height;if(!(n!=null&&n.length))return Promise.resolve();const s=[];n.forEach(p=>{if(r.filter(m=>m.source===p.id||m.target===p.id).length>1){const m=Object.assign({},p);delete m.size,s.push(m)}});const a=[];r.forEach(p=>{const g=s.find(y=>y.id===p.source),m=s.find(y=>y.id===p.target);g&&m&&a.push(p)});const l=new mse({type:"dagre",ranksep:e.nodeMinGap,nodesep:e.nodeMinGap}),{nodes:c}=l.layout({nodes:s,edges:a});n.forEach(p=>{const g=(c||[]).find(m=>m.id===p.id);p.x=(g==null?void 0:g.x)||i/2,p.y=(g==null?void 0:g.y)||o/2});const u=JSON.parse(JSON.stringify(n)),f=JSON.parse(JSON.stringify(r)),d=E8().nodes(u).force("link",D3(f).id(p=>p.id).distance(p=>a.find(m=>m.source===p.source&&m.target===p.target)?30:20)).force("charge",_8()).force("center",Doe(i/2,o/2)).force("x",Goe(i/2)).force("y",Boe(o/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise(p=>{d.on("end",()=>{n.forEach(_=>{const w=u.find(M=>M.id===_.id);w&&(_.x=w.x,_.y=w.y)});const g=Math.min(...n.map(_=>_.x)),m=Math.max(...n.map(_=>_.x)),y=Math.min(...n.map(_=>_.y)),b=Math.max(...n.map(_=>_.y)),C=i/(m-g),E=o/(b-y);n.forEach(_=>{_.x!==void 0&&C<1&&(_.x=(_.x-g)*C),_.y!==void 0&&E<1&&(_.y=(_.y-y)*E)}),n.forEach(_=>{_.sizeTemp=_.size,_.size=[10,10]}),eje(n,r),n.forEach(_=>{_.size=_.sizeTemp||[],delete _.sizeTemp}),HBe({nodes:n,edges:r},e),p()})})}class nje extends sc{constructor(e){super(),this.width=300,this.height=300,this.nodeMinGap=50,this.onLayoutEnd=()=>{},e&&this.updateCfg(e)}getDefaultCfg(){return{width:300,height:300,nodeMinGap:50}}execute(){const e=this,n=e.nodes,r=e.edges;return n==null||n.forEach(i=>{i.size||(i.size=[50,50])}),tje({nodes:n,edges:r},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(()=>{e.onLayoutEnd&&e.onLayoutEnd()})}getType(){return"er"}}const rje={force:i6e,fruchterman:IFe,forceAtlas2:UBe,gForce:S4e,dagre:mse,circular:u6e,radial:kFe,concentric:DFe,grid:w4e,mds:NFe,comboForce:VBe,random:C4e,"gForce-gpu":jBe,"fruchterman-gpu":zBe,er:nje};var j3;(function(t){t.command=Pr.GRAPH_LAYOUT,t.hookKey="graphLayout"})(j3||(j3={}));let TS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().graphLayout.call(e,o=>ie(this,void 0,void 0,function*(){const{layoutType:s,layoutOptions:a,customLayout:l}=o;return yield(l||(f=>{const d=rje[s];return new d(Object.assign({},a)).layout(f)}))(o.graphData),{graphData:o.graphData}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],TS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],TS.prototype,"init",null);TS=lt([Ur({token:{token:si,named:j3.command.id}})],TS);var V3;(function(t){function e(r,i){return Fv.exports.isEqual(r,i)}t.isNodeEqual=e;function n(r,i){return Fv.exports.isEqual(r,i)}t.isEdgeEqual=n})(V3||(V3={}));var U3;(function(t){t.command=Pr.GRAPH_RENDER,t.hookKey="graphRender"})(U3||(U3={}));let PS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().graphRender.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),a=yield this.ctx.getGraphMeta(),{beforeRender:l,graphData:c,isNodeEqual:u,isEdgeEqual:f,afterRender:d}=o;return l&&l(a),yield this.doLoadGraph(s,c,u,f),d&&d(c,a),{}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this}),this.doLoadGraph=(e,n,r,i)=>ie(this,void 0,void 0,function*(){e!=null&&e.isFrozen()||e==null||e.freeze();const o=this.ctx.getCommands(),{addNodeConfigs:s,addEdgeConfigs:a,removeNodes:l,removeEdges:c,updateNodes:u,updateEdges:f}=this.graphDataDiff(e,n,r,i);for(const d of u){const h=d==null?void 0:d.getData();yield o.executeCommand(Oo.UPDATE_NODE.id,{nodeConfig:h})}for(const d of f){const h=d==null?void 0:d.getData();yield o.executeCommand(gs.UPDATE_EDGE.id,{edgeConfig:h})}for(const d of s)yield o.executeCommand(Oo.ADD_NODE.id,{nodeConfig:d,options:{isRenderGraph:!0}},{name:"remove servcie",handler:h=>ie(this,void 0,void 0,function*(){delete h.createNodeService})});yield o.executeCommand(Qs.INIT_GROUP.id,{graphData:{nodes:s,edges:[]}});for(const d of a)yield o.executeCommand(gs.ADD_EDGE.id,{edgeConfig:d,options:{isRenderGraph:!0}},{name:"remove servcie",handler:h=>ie(this,void 0,void 0,function*(){delete h.createEdgeService})});for(const d of l){const h=d==null?void 0:d.getData();h.isGroup?yield o.executeCommand(Qs.DEL_GROUP.id,{nodeConfig:h}):yield o.executeCommand(Oo.DEL_NODE.id,{nodeConfig:h})}for(const d of c){const h=d==null?void 0:d.getData();yield o.executeCommand(gs.DEL_EDGE.id,{edgeConfig:h})}e!=null&&e.isFrozen()&&(e==null||e.unfreeze())})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}graphDataDiff(e,n,r,i){const{nodes:o,edges:s}=n,a=[];o.forEach(y=>{e.getCellById(y==null?void 0:y.id)||a.push(y)});const l=[],c=[],u=[];e.getNodes().forEach(y=>{const b=o.find(C=>(C==null?void 0:C.id)===(y==null?void 0:y.id));if(!b)u.push(y);else{let C=!0;r?C=r(y==null?void 0:y.data,b):(y==null?void 0:y.data)&&b&&(C=V3.isNodeEqual(y==null?void 0:y.data,b)),C||y.setData(b,{deep:!1}),C===!0?l.push(y):c.push(y)}});const d=[];s.forEach(y=>{e.getCellById(y==null?void 0:y.id)||d.push(y)});const h=[],p=[],g=[];return e.getEdges().forEach(y=>{const b=s.find(C=>(C==null?void 0:C.id)===(y==null?void 0:y.id));if(!b)g.push(y);else{let C=!0;i?C=i(y==null?void 0:y.data,b):(y==null?void 0:y.data)&&b&&(C=V3.isEdgeEqual(y==null?void 0:y.data,b)),C||y.setData(b,{deep:!1}),C===!0?h.push(y):p.push(y)}}),{addNodeConfigs:a,addEdgeConfigs:d,retainNodes:l,retainEdges:h,removeNodes:u,removeEdges:g,updateNodes:c,updateEdges:p}}};lt([jn(Zr),ht("design:type",Object)],PS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],PS.prototype,"init",null);PS=lt([Ur({token:{token:si,named:U3.command.id}})],PS);var H3;(function(t){t.command=Pr.GRAPH_RESIZE,t.hookKey="graphResize"})(H3||(H3={}));let OS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),r=this.ctx.getHooks(),i=yield this.ctx.getGraphConfig(),o=i.rootContainer.clientHeight,s=i.rootContainer.clientWidth,a=yield r.graphResize.call(e,l=>ie(this,void 0,void 0,function*(){const c=yield this.ctx.getX6Graph(),{width:u=s,height:f=o}=l;return c==null||c.resize(u,f),{}}),n);return this.ctx.setResult(a),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],OS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],OS.prototype,"init",null);OS=lt([Ur({token:{token:si,named:H3.command.id}})],OS);var W3;(function(t){t.command=Pr.GRAPH_FULLSCREEN,t.hookKey="graphFullscreen"})(W3||(W3={}));let MS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),r=this.ctx.getHooks(),i=yield this.ctx.getGraphConfig(),{appContainer:o}=i;if(!o)return;const s=yield r.graphFullscreen.call(e,()=>ie(this,void 0,void 0,function*(){var a,l;let c=!1;return document.fullscreenElement?(l=document.exitFullscreen)===null||l===void 0||l.call(document):((a=o.requestFullscreen)===null||a===void 0||a.call(o),c=!0),{fulllscreen:c}}),n);return this.ctx.setResult(s),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],MS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],MS.prototype,"init",null);MS=lt([Ur({token:{token:si,named:W3.command.id}})],MS);var AS;(function(t){t.command=Pr.GRAPH_ZOOM,t.MAX_SCALE=1.5,t.MIN_SCALE=.05,t.defaultZoomOptions={maxScale:t.MAX_SCALE,minScale:t.MIN_SCALE},t.hookKey="graphZoom"})(AS||(AS={}));let kS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().graphZoom.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{factor:a,zoomFitPadding:l=12,zoomOptions:c=AS.defaultZoomOptions}=o;return typeof a=="number"?s==null||s.zoom(a,c||{}):a==="fit"?s==null||s.zoomToFit(Object.assign(Object.assign({},c),{padding:l})):a==="real"&&(s==null||s.scale(1),s==null||s.centerContent()),{factor:a,zoomFitPadding:l,zoomOptions:c}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],kS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],kS.prototype,"init",null);kS=lt([Ur({token:{token:si,named:AS.command.id}})],kS);var Y3;(function(t){t.command=Pr.GRAPH_COPY,t.hookKey="graphCopySelection"})(Y3||(Y3={}));let q3=class{constructor(){this.parseCells=e=>{e.forEach(o=>{const s=o.getData();o.isNode()&&s.isGroup&&o.getChildren().forEach(l=>{e.push(l)})});const n=e.filter(o=>o.isNode()).map(o=>o.id),r=e.reduce((o,s)=>{if(s.isEdge()){const a=s.getSourceCellId(),l=s.getTargetCellId();a&&l&&n.includes(a)&&n.includes(l)&&o.set(s.id,s)}else o.set(s.id,s);return o},new Map),i=Array.from(r.values());return Toe(i)},this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().graphCopySelection.call(n,()=>ie(this,void 0,void 0,function*(){const a=(yield e.getX6Graph()).getSelectedCells(),l=this.parseCells(a),c=window.localStorage.getItem(tC);return window.localStorage.setItem(tC,JSON.stringify(l)),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){window.localStorage.setItem(tC,c)}))),{err:null}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],q3.prototype,"contextProvider",void 0);q3=lt([Ur({token:{token:si,named:Y3.command.id}})],q3);function ije(t,e=null){try{return JSON.parse(t)||e}catch(n){return console.error(n),e}}let DS=class{constructor(){this.groupNodeMap=new Map,this.nodeMap=new Map,this.nodeMappingRecord=new Map,this.portMap=new Map,this.portMappingRecord=new Map,this.edgeMap=new Map,this.edgeMappingRecord=new Map,this.getNodesByType=e=>e.reduce((n,r)=>(r.isGroup?n.groupNodes.push(r):n.normalNodes.push(r),n),{normalNodes:[],groupNodes:[]}),this.getNodePorts=e=>Array.isArray(e.ports)?e.ports:e.ports&&Array.isArray(e.ports.items)?e.ports.items:[],this.addNodes=e=>{e.forEach(n=>{if(n.isGroup)this.groupNodeMap.set(n.id,n);else{const r=this.getNodePorts(n);this.nodeMap.set(n.id,n),r.forEach(i=>{this.portMap.set(i.id,i)})}})},this.addEdge=e=>{e.forEach(n=>{this.edgeMap.set(n.id,n)})},this.buildNodeMapping=(e,n)=>{const r=e.id||e.originId,i=n.id;this.nodeMappingRecord.set(r,i),this.getNodePorts(e).forEach((s,a)=>{const l=n.ports[a];l&&(this.portMap.set(l.id,l),this.portMappingRecord.set(s.id,l.id))})},this.createEdgeBetweenNodes=e=>{const{source:n,sourcePortId:r,target:i,targetPortId:o}=e;return Object.assign(Object.assign({},e),{source:this.nodeMappingRecord.get(n),target:this.nodeMappingRecord.get(i),sourcePortId:this.portMappingRecord.get(r),targetPortId:this.portMappingRecord.get(o)})},this.buildGroupRelations=e=>{const{groupChildren:n}=e,r=n.map(i=>this.nodeMappingRecord.get(i));return Object.assign(Object.assign({},e),{groupChildren:r})}}};DS=lt([Ur()],DS);var Mw,X3;(function(t){t.command=Pr.GRAPH_PASTE,t.hookKey="graphPasteSelection"})(X3||(X3={}));function RP(t,e=0){return Math.floor(Math.random()*(t-e)+e)}let r2=Mw=class{constructor(){this.updateNodeCopiedProps=(e,n)=>{let r=RP(100),i=RP(100);return e&&(r=n.x-e.x+RP(30),i=n.y-e.y+RP(30)),n.x+=r,n.y+=i,n.originId=n.id,delete n.id,n.label=`${n.label}_copied`,n.isCollapsed=!1,n},this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),i=e.getHooks();if(Mw.doing)return this;Mw.doing=!0;const o=yield i.graphPasteSelection.call(n,s=>ie(this,void 0,void 0,function*(){const{commandService:a,position:l}=s,c=window.localStorage.getItem(tC),u=ije(c,{nodes:[],edges:[]}),{nodes:f=[],edges:d=[]}=u,{normalNodes:h,groupNodes:p}=this.mappingHelper.getNodesByType(f);return this.mappingHelper.addNodes(f),yield Promise.all(h.map(g=>ie(this,void 0,void 0,function*(){const b=(yield a.executeCommand(Oo.ADD_NODE.id,{nodeConfig:this.updateNodeCopiedProps(l,g)})).contextProvider().getResult();this.mappingHelper.buildNodeMapping(g,b.nodeConfig)}))),yield Promise.all(p.map(g=>ie(this,void 0,void 0,function*(){const m=this.mappingHelper.buildGroupRelations(g);yield a.executeCommand(Qs.ADD_GROUP.id,{nodeConfig:this.updateNodeCopiedProps(l,m)})}))),yield Promise.all(d.map(g=>{const m=this.mappingHelper.createEdgeBetweenNodes(g);return a.executeCommand(gs.ADD_EDGE.id,{edgeConfig:m})})),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){window.localStorage.setItem(tC,null)}))),{err:null}}),r);return e.setResult(o),Mw.doing=!1,this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};r2.doing=!1;lt([jn(Zr),ht("design:type",Object)],r2.prototype,"contextProvider",void 0);lt([jn(DS),ht("design:type",DS)],r2.prototype,"mappingHelper",void 0);r2=Mw=lt([Ur({token:{token:si,named:X3.command.id}})],r2);var K3;(function(t){t.command=Pr.GRAPH_TOGGLE_MULTI_SELECT,t.hookKey="toggleMultiSelect"})(K3||(K3={}));let NS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().toggleMultiSelect.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),a=yield this.ctx.getGraphConfig(),{isEnable:l,modelService:c}=o,u=yield J1.getModel(c),f=typeof l=="boolean"?l:!s.isRubberbandEnabled();return f?(s.enableRubberband(),s.scroller&&s.scroller.widget?s.scroller.disablePanning():s.disablePanning(),a.graphContainer.style.cursor="crosshair"):(s.disableRubberband(),s.scroller&&s.scroller.widget?s.scroller.enablePanning():s.enablePanning(),a.graphContainer.style.cursor="grab"),u.setValue({isEnable:f}),{isEnable:f}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],NS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],NS.prototype,"init",null);NS=lt([Ur({token:{token:si,named:K3.command.id}})],NS);var Z3;(function(t){t.command=Pr.GRAPH_HISTORY_UNDO,t.hookKey="historyUndo"})(Z3||(Z3={}));let Q3=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().historyUndo.call(n,s=>ie(this,void 0,void 0,function*(){const a=yield e.getX6Graph();return a.isHistoryEnabled()===!1?{err:"history is disabled"}:(a.undo(),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){const{commandService:l}=s;l.executeCommand(Pr.GRAPH_HISTORY_REDO.id,{})}))),{err:null})}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],Q3.prototype,"contextProvider",void 0);Q3=lt([Ur({token:{token:si,named:Z3.command.id}})],Q3);var J3;(function(t){t.command=Pr.GRAPH_HISTORY_REDO,t.hookKey="historyRedo"})(J3||(J3={}));let eA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().historyRedo.call(n,s=>ie(this,void 0,void 0,function*(){const a=yield e.getX6Graph();return a.isHistoryEnabled()===!1?{err:"history is disabled"}:(a.redo(),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){const{commandService:l}=s;l.executeCommand(Pr.GRAPH_HISTORY_UNDO.id,{})}))),{err:null})}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],eA.prototype,"contextProvider",void 0);eA=lt([Ur({token:{token:si,named:J3.command.id}})],eA);var tA;(function(t){t.command=Pr.GRAPH_HISTORY_TOGGLE,t.hookKey="historyToggle"})(tA||(tA={}));let nA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().historyToggle.call(n,s=>ie(this,void 0,void 0,function*(){const a=yield e.getX6Graph();if(a.isHistoryEnabled()===!1)return{err:"history is disabled"};const l=a.isHistoryEnabled(),{enabled:c}=s;return a.toggleHistory(c),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){const{commandService:u}=s;u.executeCommand(Pr.GRAPH_HISTORY_TOGGLE.id,{enabled:l})}))),{err:null}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],nA.prototype,"contextProvider",void 0);nA=lt([Ur({token:{token:si,named:tA.command.id}})],nA);var rA;(function(t){t.command=Pr.GRAPH_HISTORY_RESET,t.hookKey="historyReset"})(rA||(rA={}));let iA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().historyReset.call(n,()=>ie(this,void 0,void 0,function*(){return(yield e.getX6Graph()).cleanHistory(),{err:null}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],iA.prototype,"contextProvider",void 0);iA=lt([Ur({token:{token:si,named:rA.command.id}})],iA);var oA;(function(t){t.command=Pr.GRAPH_ADD_TOOL,t.hookKey="addTool"})(oA||(oA={}));let sA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().addTool.call(n,s=>ie(this,void 0,void 0,function*(){const{cellId:a,toolConfig:l,commandService:c}=s,f=(yield e.getX6Graph()).getCellById(a);return f&&(f.addTools(l.items,l.options),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){Array.isArray(l.items)&&l.items.forEach(d=>{c.executeCommand(Pr.GRAPH_DEL_TOOL.id,{cellId:a,toolname:d})})})))),{err:null}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],sA.prototype,"contextProvider",void 0);sA=lt([Ur({token:{token:si,named:oA.command.id}})],sA);var aA;(function(t){t.command=Pr.GRAPH_DEL_TOOL,t.hookKey="delTool"})(aA||(aA={}));let lA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().delTool.call(n,s=>ie(this,void 0,void 0,function*(){const{cellId:a,toolName:l,toolConfig:c}=s,f=(yield e.getX6Graph()).getCellById(a);return f&&(l==="*"?f.removeTools(c):f.removeTool(l,c)),{err:null}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],lA.prototype,"contextProvider",void 0);lA=lt([Ur({token:{token:si,named:aA.command.id}})],lA);var cA;(function(t){t.command=Pr.REDO_CMD,t.hookKey="redoCommand"})(cA||(cA={}));let RS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.ctx,{args:n,hooks:r}=e.getArgs();return yield e.getHooks().redoCommand.call(n,()=>ie(this,void 0,void 0,function*(){const o=e.getCommands();return o.isRedoable&&o.redoCommand(),this.ctx.addUndo(Zn.create(()=>{o.redoCommand()})),{}}),r),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],RS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],RS.prototype,"init",null);RS=lt([Ur({token:{token:si,named:cA.command.id}})],RS);var uA;(function(t){t.command=Pr.UNDO_CMD,t.hookKey="undoCommand"})(uA||(uA={}));let IS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.ctx,{args:n,hooks:r}=e.getArgs();return yield e.getHooks().undoCommand.call(n,()=>ie(this,void 0,void 0,function*(){const o=e.getCommands();return o.isUndoable&&o.undoCommand(),this.ctx.addUndo(Zn.create(()=>{o.redoCommand()})),{}}),r),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],IS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],IS.prototype,"init",null);IS=lt([Ur({token:{token:si,named:uA.command.id}})],IS);const oje=t=>{t(xS),t(CS),t(wS),t(TS),t(PS),t(OS),t(Q3),t(eA),t(nA),t(iA),t(RS),t(IS),t(kS),t(NS),t(q3),t(r2),t(MS),t(sA),t(lA)},sje=[M3,A3,k3,Z3,J3,rA,tA,j3,U3,H3,W3,cA,uA,AS,K3,Y3,X3,oA,aA];var $S;(function(t){t.command=gs.ADD_EDGE,t.hookKey="addEdge",t.createEdgeId=r=>{if(RR(r.source))return`${r.source}:${r.sourcePortId}-${r.target}:${r.targetPortId}`;if(e(r)){const i=r;return`${i.source.cell}:${i.source.port}-${i.target.cell}:${i.target.port}`}if(n(r)){const i=r;return`${i.sourceCell}:${i.sourcePort}-${i.targetCell}:${i.targetPort}`}};function e(r){return r.source&&r.source.cell&&RR(r.source.cell)}t.isX6EdgeConfig=e;function n(r){return r.sourceCell&&RR(r.sourceCell)}t.isX6EdgePlainConfig=n})($S||($S={}));let LS=class{constructor(){this.processEdgeConfig=(e,n)=>ie(this,void 0,void 0,function*(){if(!n.id){const{createIdService:r=$S.createEdgeId}=e;n.id=yield r(n)}return n.sourcePortId&&!n.sourcePort&&(n.sourcePort=n.sourcePortId,n.targetPort=n.targetPortId),n}),this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().addEdge.call(e,o=>ie(this,void 0,void 0,function*(){const{cellFactory:s,createEdgeService:a,commandService:l,options:c}=o,u=yield this.ctx.getX6Graph();let f=o.edgeConfig;if(a){const m=yield a(o);if(typeof m=="boolean")return{err:"createEdgeService rejected"};f=m}const d=yield this.processEdgeConfig(o,f);let h;const p=Object.assign(Object.assign({},c),{isCommand:!0});if(s){const m=yield s(d,this);h=u.addEdge(m,p)}else h=u.addEdge(Object.assign(Object.assign({},d),{label:(d==null?void 0:d.label)||d,data:Object.assign({},d)}),p);const g=Zn.create(()=>{l.executeCommand(gs.DEL_EDGE.id,{x6Edge:h})});return this.ctx.addUndo(g),{edgeConfig:d,edgeCell:h}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],LS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],LS.prototype,"init",null);LS=lt([Ur({token:{token:si,named:$S.command.id}})],LS);var Uf;(function(t){t.command=gs.DEL_EDGE,t.hookKey="delEdge",function(e){e.EDGE_NOT_EXIST="edge is not exist",e.EDGE_INVALID_CELL="this is not a valid cell",e.X6_DELETE_FAILED="x6 throw err when call delete edge",e.SERVICE_REJECT="service reject to delete"}(t.ErrEnum||(t.ErrEnum={}))})(Uf||(Uf={}));let FS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().delEdge.call(e,o=>ie(this,void 0,void 0,function*(){const{edgeConfig:s,x6Edge:a,deleteEdgeService:l,commandService:c,options:u}=o;let f=a;if(!f&&(f=yield this.findEdgeById(s),!f))return console.error(Uf.ErrEnum.EDGE_NOT_EXIST,s),{err:Uf.ErrEnum.EDGE_NOT_EXIST};if(!(f&&f.isEdge()))return console.error(Uf.ErrEnum.EDGE_NOT_EXIST,f),{err:Uf.ErrEnum.EDGE_NOT_EXIST};if(l&&!(yield l(o)))return{err:Uf.ErrEnum.SERVICE_REJECT};try{const h=f.getTargetCell(),p=f.getSourceCell(),g=f.getSourcePortId(),m=f.getTargetPortId(),y=p?p.id:p.source,b=h?h.id:h.target;f.remove(Object.assign(Object.assign({},u),{isCommand:!0}));const C=Zn.create(()=>{c.executeCommand(gs.ADD_EDGE.id,{edgeConfig:{source:y,target:b,sourcePortId:g,targetPortId:m}})});return this.ctx.addUndo(C),{err:null,edgeConfig:{source:y,target:b,sourcePortId:g,targetPortId:m},targetCell:h,sourceCell:p,sourcePortId:g,targetPortId:m}}catch(h){return console.error(Uf.ErrEnum.X6_DELETE_FAILED,h),{err:Uf.ErrEnum.X6_DELETE_FAILED}}}),n);return this.ctx.setResult(i),this}),this.findEdgeById=e=>ie(this,void 0,void 0,function*(){return(yield this.ctx.getX6Graph()).getCellById(e.id)}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],FS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],FS.prototype,"init",null);FS=lt([Ur({token:{token:si,named:Uf.command.id}})],FS);function aje(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kc=aje,i2;(function(t){t.command=gs.UPDATE_EDGE,t.hookKey="updateEdge",t.XFlowEdgeSetOptions={overwrite:!0},t.XFlowUpdateLabelService=(e,n,r=t.XFlowEdgeSetOptions)=>ie(this,void 0,void 0,function*(){e==null||e.setLabelAt(0,(n==null?void 0:n.label)||n,r)})})(i2||(i2={}));let zS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().updateEdge.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{updateEdgeService:a,updateEdgeLabelService:l=i2.XFlowUpdateLabelService,options:c=i2.XFlowEdgeSetOptions}=o,u=a?yield a(o):o==null?void 0:o.edgeConfig,f=s==null?void 0:s.getCellById(u==null?void 0:u.id);return f==null||f.setData(u,c),u!=null&&u.hasOwnProperty("label")&&(yield l(f,u,c)),C3(u==null?void 0:u.visible)&&f.setVisible(u==null?void 0:u.visible),u.attrs&&f.setAttrs(u.attrs),u.vertices&&f.setVertices(u.vertices),u.router&&f.setRouter(u.router),u.connector&&f.setConnector(u.connector),kc(u.source)&&f.setSource(u.source),kc(u.target)&&f.setTarget(u.target),{edgeConfig:u,edgeCell:f}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],zS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],zS.prototype,"init",null);zS=lt([Ur({token:{token:si,named:i2.command.id}})],zS);var fA;(function(t){t.command=gs.HIGHLIGHT_EDGE,t.hookKey="highlightEdge"})(fA||(fA={}));let GS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().highlightEdge.call(e,o=>ie(this,void 0,void 0,function*(){var s,a;const l=yield this.ctx.getX6Graph(),{edgeId:c,strokeColor:u,strokeWidth:f}=o,d=l.getEdges(),h=d.find(g=>g.id===c),p=d.filter(g=>g.id!==c);if(!h)console.error(c,"this edgeId is not exist");else{const g=h.getAttrs();((s=g==null?void 0:g.line)===null||s===void 0?void 0:s.stroke)===u&&((a=g==null?void 0:g.line)===null||a===void 0?void 0:a.strokeWidth)===f||(h==null||h.setAttrs({line:{stroke:u,strokeWidth:f||2}}),p.forEach(m=>{m.setAttrs({line:g==null?void 0:g.line})}),o.commandService.executeCommand(gs.FRONT_EDGE.id,{edgeId:c}))}return{}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],GS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],GS.prototype,"init",null);GS=lt([Ur({token:{token:si,named:fA.command.id}})],GS);var dA;(function(t){t.command=gs.FRONT_EDGE,t.hookKey="frontEdge"})(dA||(dA={}));let BS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().frontEdge.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{edgeId:a}=o,l=s==null?void 0:s.getCellById(a);return l?(l.toFront(),this.ctx.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){o.commandService.executeCommand(gs.BACK_EDGE.id,{edgeId:a})})))):console.error(a,"this edgeId is not exist"),{}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],BS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],BS.prototype,"init",null);BS=lt([Ur({token:{token:si,named:dA.command.id}})],BS);var hA;(function(t){t.command=gs.BACK_EDGE,t.hookKey="frontEdge"})(hA||(hA={}));let jS=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().frontEdge.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),{edgeId:a}=o,l=s==null?void 0:s.getCellById(a);return l?(l.toBack(),this.ctx.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){o.commandService.executeCommand(gs.FRONT_EDGE.id,{edgeId:a})})))):console.error(a,"this edgeId is not exist"),{}}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],jS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],jS.prototype,"init",null);jS=lt([Ur({token:{token:si,named:hA.command.id}})],jS);const lje=t=>{t(LS),t(FS),t(zS),t(GS),t(BS),t(jS)},cje=[$S,Uf,i2,fA,dA,hA];var o2;(function(t){t.command=Qs.ADD_GROUP,t.hookKey="addGroup",t.GROUP_PADDING=12,t.GROUP_HEADER_HEIGHT=40})(o2||(o2={}));let pA=class{constructor(){this.getBBox=(e,n,r)=>{const{groupHeaderHeight:i=o2.GROUP_HEADER_HEIGHT,groupPadding:o=o2.GROUP_PADDING}=n,s=r.getCellsBBox(e.children);return s.moveAndExpand({x:-o,y:-(o+i),width:o*2,height:o*2+i}),s},this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().addGroup.call(n,s=>ie(this,void 0,void 0,function*(){const{nodeConfig:a,createService:l,cellFactory:c,commandService:u}=s,f=yield e.getX6Graph(),d=yield u.executeCommand(Oo.ADD_NODE.id,{cellFactory:c,createNodeService:l,nodeConfig:a}),{nodeCell:h}=d.contextProvider().getResult(),{id:p}=h,{groupChildren:g}=a;if(g.length){g.forEach(y=>{const b=f.getCellById(y);b&&(b.setData(Object.assign(Object.assign({},b.getData()),{group:p,isCollapsed:!1})),b.prop("group",p),h.addChild(b),f.unselect(b))});const m=this.getBBox(h,a,f);h.position(m.x,m.y),h.size(m.width,m.height),h.setZIndex(0),h.prop("isGroup",!0),h.setData(Object.assign(Object.assign({},h.getData()),{width:m.width,height:m.height,groupChildrenSize:{width:m.width,height:m.height},x:m.x,y:m.y,isGroup:!0})),f.select(h)}return a.isCollapsed&&(yield u.executeCommand(Qs.COLLAPSE_GROUP.id,{nodeId:a.id,isCollapsed:a.isCollapsed})),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){u.executeCommand(Qs.DEL_GROUP.id,{nodeConfig:a})}))),{nodeConfig:a,nodeCell:h}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],pA.prototype,"contextProvider",void 0);pA=lt([Ur({token:{token:si,named:o2.command.id}})],pA);var gA;(function(t){t.command=Qs.DEL_GROUP,t.hookKey="delGroup"})(gA||(gA={}));let vA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().delGroup.call(n,s=>ie(this,void 0,void 0,function*(){const a=yield e.getX6Graph(),{nodeConfig:l,commandService:c,deleteService:u}=s,{id:f}=l,d=a.getCellById(f);if(u&&!(yield u(s)))return{err:"service rejected"};if(!d)return{err:"target node is not exist"};if(d.getProp("isGroup")!==!0)return{err:"target node is not group"};const{isCollapsed:h}=d.getData();h&&(yield c.executeCommand(Qs.COLLAPSE_GROUP.id,{nodeId:d.id,isCollapsed:!1,collapsedSize:{width:0,height:0}}));const p=d.getChildren();return p&&p.forEach(g=>{d.unembed(g),g.prop("group",""),g.setData(Object.assign(Object.assign({},g.getData()),{group:""}))}),yield c.executeCommand(Oo.DEL_NODE.id,{nodeConfig:l}),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){c.executeCommand(Qs.ADD_GROUP.id,{nodeConfig:l})}))),{err:null}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],vA.prototype,"contextProvider",void 0);vA=lt([Ur({token:{token:si,named:gA.command.id}})],vA);var mA;(function(t){t.command=Qs.INIT_GROUP,t.hookKey="initGroup"})(mA||(mA={}));let yA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().initGroup.call(n,s=>ie(this,void 0,void 0,function*(){const{graphData:a,commandService:l}=s,c=yield e.getX6Graph(),{nodes:u}=a,f={};return u.forEach(d=>{const{id:h,group:p}=d;p&&(f[p]?f[p].push(h):f[p]=[h])}),Object.keys(f).forEach(d=>ie(this,void 0,void 0,function*(){const h=c.getCellById(d),p=h.getData(),g=f[d]||[];h.prop("isGroup",!0),h.setData(Object.assign(Object.assign({},p),{isGroup:!0,groupChildren:g})),g.forEach(b=>{const C=c.getCellById(b);h.embed(C)}),h.toBack();const{isCollapsed:m,groupCollapsedSize:y}=p;if(m){const b=s.collapsedSize||y||Qre;yield l.executeCommand(Qs.COLLAPSE_GROUP.id,{collapsedSize:b,isCollapsed:!0,nodeId:h.id})}})),{}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],yA.prototype,"contextProvider",void 0);yA=lt([Ur({token:{token:si,named:mA.command.id}})],yA);var bA;(function(t){t.command=Qs.COLLAPSE_GROUP,t.hookKey="collapseGroup"})(bA||(bA={}));let VS=class{constructor(){this.toggleVisible=(e,n,r)=>{e.forEach(i=>{const o=r.findViewByCell(i).container;o.style.visibility=n?"visible":"hidden"})},this.toggleCollapse=(e,n,r)=>{const i=e.getChildren().filter(l=>l.isNode()),o=e.getData(),{isCollapsed:s,gap:a=0}=r;if(s){const l=r.collapsedSize||o.groupCollapsedSize||Qre;e.prop("previousSize",e.size()),e.size(l)}else e.size(e.prop("previousSize"));i&&i.forEach(l=>{const c=e.position(),u=n.getConnectedEdges(l).filter(f=>{const d=f.getSourceNode(),h=f.getTargetNode();return i.includes(d)&&i.includes(h)});if(s){this.toggleVisible([l,...u],!1,n),l.prop("previousSize",l.size()),l.prop("previousRelativePosition",l.position({relative:!0})),l.position(c.x+a,c.y+a);const f=e.size();l.size({width:f.width-a*2,height:f.height-a*2})}else{this.toggleVisible([l,...u],!0,n);const f=l.prop("previousRelativePosition"),d=l.prop("previousSize");l.position(f.x,f.y,{relative:!0}),l.size(d)}}),e.prop("isCollapsed",s),e.setData(Object.assign(Object.assign({},e.getData()),{isCollapsed:s}))},this.execute=()=>ie(this,void 0,void 0,function*(){const{args:e,hooks:n}=this.ctx.getArgs(),i=yield this.ctx.getHooks().collapseGroup.call(e,o=>ie(this,void 0,void 0,function*(){const s=yield this.ctx.getX6Graph(),a=s.getCellById(e.nodeId),{toggleService:l}=o;return l&&!(yield l(o))?{err:"service rejected"}:(a&&(this.toggleCollapse(a,s,e),this.ctx.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){a&&this.toggleCollapse(a,s,Object.assign(e,{isCollapsed:!e.isCollapsed}))})))),{err:null})}),n);return this.ctx.setResult(i),this}),this.undo=()=>ie(this,void 0,void 0,function*(){return this.ctx.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.ctx.isUndoable||(yield this.execute()),this})}init(){this.ctx=this.contextProvider()}isUndoable(){return this.ctx.isUndoable()}};lt([jn(Zr),ht("design:type",Object)],VS.prototype,"contextProvider",void 0);lt([rs(),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],VS.prototype,"init",null);VS=lt([Ur({token:{token:si,named:bA.command.id}})],VS);const uje=t=>{t(pA),t(vA),t(yA),t(VS)},fje=[o2,gA,mA,bA];var xA;(function(t){t.command=s$.UPDATE_MODEL,t.hookKey="updateModel"})(xA||(xA={}));let wA=class{constructor(){this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=yield e.getHooks().updateModel.call(n,s=>ie(this,void 0,void 0,function*(){const{updateModel:a,getModel:l,modelService:c}=s,u=yield l(c),f=u.getValue(),d=uIe(f);yield a(d);const h=fIe(d);return u.setValue(h),e.addUndo(Zn.create(()=>ie(this,void 0,void 0,function*(){u.setValue(h)}))),{model:u,value:h}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],wA.prototype,"contextProvider",void 0);wA=lt([Ur({token:{token:si,named:xA.command.id}})],wA);const dje=t=>{t(wA)},hje=[xA],Fq=[...b4e,...cje,...fje,...sje,...hje],zq=()=>new Yf;let US=class{constructor(){this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=e.x6Events.registerHook({name:"bind group node move event",handler:r=>ie(this,void 0,void 0,function*(){const i={eventName:"node:moving",callback:({node:o})=>ie(this,void 0,void 0,function*(){if(o.prop("isGroup")){o.prop("originPosition",o.getPosition());return}const a=o.model.graph,{group:l}=o.getData(),c=a.getNodes().find(C=>C.id===l);if(!c)return;const u=c.getProp("isCollapsed");let f=c.getProp("originSize"),d=!1;f==null&&(f=c.size(),c.prop("originSize",f));let h=c.prop("originPosition");h==null&&(h=c.getPosition(),c.prop("originPosition",h));let p=h.x,g=h.y,m=h.x+f.width,y=h.y+f.height;const b=c.getChildren();if(b&&b.forEach(C=>{const E=C.getBBox().inflate(12),_=E.getCorner();E.x<p&&(p=E.x,d=!0),E.y<g&&(g=E.y,d=!0),_.x>m&&(m=_.x,d=!0),_.y>y&&(y=_.y,d=!0)}),d){c.prop({position:{x:p,y:g},size:{width:m-p,height:y-g}});const C=Object.assign(Object.assign({},c.getData()),{x:p,y:g,width:m-p,height:y-g});u!==!0&&(C.groupChildrenSize={width:m-p,height:y-g}),c.setData(C)}})};r.push(i)})});return Zn.create(()=>{n.dispose()})}),this.registerHookHub=e=>ie(this,void 0,void 0,function*(){const n=new Ei;return Fq.forEach(({hookKey:r,createHook:i=zq})=>{const o=e.registerHookHub(r,i());n.push(o)}),this.commandConfig.getConfig().then(({getContributions:r})=>{r().forEach(({hookKey:o,createHook:s=zq})=>{const a=e.registerHookHub(o,s());n.push(a)})}),n})}registerGraphCommands(e){Fq.forEach(({command:n})=>{e.registerCommand(n,{createCommand:this.commandFactory})}),this.commandConfig.getConfig().then(({getContributions:n})=>{n().forEach(i=>{e.registerCommand(i.command,{createCommand:this.commandFactory})})})}};lt([jn(y8),ht("design:type",Function)],US.prototype,"commandFactory",void 0);lt([jn(hS),ht("design:type",hS)],US.prototype,"commandConfig",void 0);US=lt([Ca({contrib:[Jk,pf]})],US);const pje=(t,e)=>{e.getCommandContributions().forEach(r=>{const{CommandHandler:i,command:o}=r;t({token:{token:si,named:o.id},useClass:i})}),oje(t),y4e(t),lje(t),uje(t),dje(t),t(US)},gje=t=>oc(e=>{e(DS),YIe(e,t),pje(e,t),e(Vp),e(y8,{useFactory:n=>(r,i,o)=>{const s=n.container.createChild(),a=s.get(Vp);s.register(Zr,{useDynamic:()=>()=>a});const l=s.getNamed(si,r);return a.setArgs(i,o),a.handlerInstance=l,l}})}),vje=t=>{const e=xh(),n=dt.useMemo(()=>t.config?t.config:new hS,[]);return dt.useEffect(()=>{e.addCoreModule({config:n,createModule:gje})},[]),null},mje=t=>e=>{const n=dt.useMemo(()=>({getValue:()=>({})}),[]);return n.getValue=()=>e,dt.useMemo(()=>{const i=new hS;return t(i,n),i},[n])},yje=Symbol("IToolbarService"),oae=yo.defineToken("IToolbarContribution");var bje=hd,xje=function(){return bje.Date.now()},wje=xje,Cje=/\s/;function Sje(t){for(var e=t.length;e--&&Cje.test(t.charAt(e)););return e}var Eje=Sje,_je=Eje,Tje=/^\s+/;function Pje(t){return t&&t.slice(0,_je(t)+1).replace(Tje,"")}var Oje=Pje,Mje=rm,Aje=pd,kje="[object Symbol]";function Dje(t){return typeof t=="symbol"||Aje(t)&&Mje(t)==kje}var iD=Dje,Nje=Oje,Gq=kc,Rje=iD,Bq=0/0,Ije=/^[-+]0x[0-9a-f]+$/i,$je=/^0b[01]+$/i,Lje=/^0o[0-7]+$/i,Fje=parseInt;function zje(t){if(typeof t=="number")return t;if(Rje(t))return Bq;if(Gq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Gq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nje(t);var n=$je.test(t);return n||Lje.test(t)?Fje(t.slice(2),n?2:8):Ije.test(t)?Bq:+t}var Gje=zje,Bje=kc,PI=wje,jq=Gje,jje="Expected a function",Vje=Math.max,Uje=Math.min;function Hje(t,e,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(jje);e=jq(e)||0,Bje(n)&&(u=!!n.leading,f="maxWait"in n,o=f?Vje(jq(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(w){var M=r,k=i;return r=i=void 0,c=w,s=t.apply(k,M),s}function p(w){return c=w,a=setTimeout(y,e),u?h(w):s}function g(w){var M=w-l,k=w-c,I=e-M;return f?Uje(I,o-k):I}function m(w){var M=w-l,k=w-c;return l===void 0||M>=e||M<0||f&&k>=o}function y(){var w=PI();if(m(w))return b(w);a=setTimeout(y,g(w))}function b(w){return a=void 0,d&&r?h(w):(r=i=void 0,s)}function C(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function E(){return a===void 0?s:b(PI())}function _(){var w=PI(),M=m(w);if(r=arguments,i=this,l=w,M){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),s}return _.cancel=C,_.flush=E,_}var oD=Hje;function Wje(){this.__data__=[],this.size=0}var Yje=Wje;function qje(t,e){return t===e||t!==t&&e!==e}var NE=qje,Xje=NE;function Kje(t,e){for(var n=t.length;n--;)if(Xje(t[n][0],e))return n;return-1}var sD=Kje,Zje=sD,Qje=Array.prototype,Jje=Qje.splice;function e9e(t){var e=this.__data__,n=Zje(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Jje.call(e,n,1),--this.size,!0}var t9e=e9e,n9e=sD;function r9e(t){var e=this.__data__,n=n9e(e,t);return n<0?void 0:e[n][1]}var i9e=r9e,o9e=sD;function s9e(t){return o9e(this.__data__,t)>-1}var a9e=s9e,l9e=sD;function c9e(t,e){var n=this.__data__,r=l9e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var u9e=c9e,f9e=Yje,d9e=t9e,h9e=i9e,p9e=a9e,g9e=u9e;function _2(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_2.prototype.clear=f9e;_2.prototype.delete=d9e;_2.prototype.get=h9e;_2.prototype.has=p9e;_2.prototype.set=g9e;var aD=_2,v9e=aD;function m9e(){this.__data__=new v9e,this.size=0}var y9e=m9e;function b9e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var x9e=b9e;function w9e(t){return this.__data__.get(t)}var C9e=w9e;function S9e(t){return this.__data__.has(t)}var E9e=S9e,_9e=rm,T9e=kc,P9e="[object AsyncFunction]",O9e="[object Function]",M9e="[object GeneratorFunction]",A9e="[object Proxy]";function k9e(t){if(!T9e(t))return!1;var e=_9e(t);return e==O9e||e==M9e||e==P9e||e==A9e}var G8=k9e,D9e=hd,N9e=D9e["__core-js_shared__"],R9e=N9e,OI=R9e,Vq=function(){var t=/[^.]+$/.exec(OI&&OI.keys&&OI.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function I9e(t){return!!Vq&&Vq in t}var $9e=I9e,L9e=Function.prototype,F9e=L9e.toString;function z9e(t){if(t!=null){try{return F9e.call(t)}catch{}try{return t+""}catch{}}return""}var sae=z9e,G9e=G8,B9e=$9e,j9e=kc,V9e=sae,U9e=/[\\^$.*+?()[\]{}|]/g,H9e=/^\[object .+?Constructor\]$/,W9e=Function.prototype,Y9e=Object.prototype,q9e=W9e.toString,X9e=Y9e.hasOwnProperty,K9e=RegExp("^"+q9e.call(X9e).replace(U9e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z9e(t){if(!j9e(t)||B9e(t))return!1;var e=G9e(t)?K9e:H9e;return e.test(V9e(t))}var Q9e=Z9e;function J9e(t,e){return t==null?void 0:t[e]}var eVe=J9e,tVe=Q9e,nVe=eVe;function rVe(t,e){var n=nVe(t,e);return tVe(n)?n:void 0}var sy=rVe,iVe=sy,oVe=hd,sVe=iVe(oVe,"Map"),B8=sVe,aVe=sy,lVe=aVe(Object,"create"),lD=lVe,Uq=lD;function cVe(){this.__data__=Uq?Uq(null):{},this.size=0}var uVe=cVe;function fVe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dVe=fVe,hVe=lD,pVe="__lodash_hash_undefined__",gVe=Object.prototype,vVe=gVe.hasOwnProperty;function mVe(t){var e=this.__data__;if(hVe){var n=e[t];return n===pVe?void 0:n}return vVe.call(e,t)?e[t]:void 0}var yVe=mVe,bVe=lD,xVe=Object.prototype,wVe=xVe.hasOwnProperty;function CVe(t){var e=this.__data__;return bVe?e[t]!==void 0:wVe.call(e,t)}var SVe=CVe,EVe=lD,_Ve="__lodash_hash_undefined__";function TVe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=EVe&&e===void 0?_Ve:e,this}var PVe=TVe,OVe=uVe,MVe=dVe,AVe=yVe,kVe=SVe,DVe=PVe;function T2(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}T2.prototype.clear=OVe;T2.prototype.delete=MVe;T2.prototype.get=AVe;T2.prototype.has=kVe;T2.prototype.set=DVe;var NVe=T2,Hq=NVe,RVe=aD,IVe=B8;function $Ve(){this.size=0,this.__data__={hash:new Hq,map:new(IVe||RVe),string:new Hq}}var LVe=$Ve;function FVe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zVe=FVe,GVe=zVe;function BVe(t,e){var n=t.__data__;return GVe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cD=BVe,jVe=cD;function VVe(t){var e=jVe(this,t).delete(t);return this.size-=e?1:0,e}var UVe=VVe,HVe=cD;function WVe(t){return HVe(this,t).get(t)}var YVe=WVe,qVe=cD;function XVe(t){return qVe(this,t).has(t)}var KVe=XVe,ZVe=cD;function QVe(t,e){var n=ZVe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var JVe=QVe,eUe=LVe,tUe=UVe,nUe=YVe,rUe=KVe,iUe=JVe;function P2(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}P2.prototype.clear=eUe;P2.prototype.delete=tUe;P2.prototype.get=nUe;P2.prototype.has=rUe;P2.prototype.set=iUe;var j8=P2,oUe=aD,sUe=B8,aUe=j8,lUe=200;function cUe(t,e){var n=this.__data__;if(n instanceof oUe){var r=n.__data__;if(!sUe||r.length<lUe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new aUe(r)}return n.set(t,e),this.size=n.size,this}var uUe=cUe,fUe=aD,dUe=y9e,hUe=x9e,pUe=C9e,gUe=E9e,vUe=uUe;function O2(t){var e=this.__data__=new fUe(t);this.size=e.size}O2.prototype.clear=dUe;O2.prototype.delete=hUe;O2.prototype.get=pUe;O2.prototype.has=gUe;O2.prototype.set=vUe;var uD=O2;function mUe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var aae=mUe,yUe=sy,bUe=function(){try{var t=yUe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lae=bUe,Wq=lae;function xUe(t,e,n){e=="__proto__"&&Wq?Wq(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var V8=xUe,wUe=V8,CUe=NE,SUe=Object.prototype,EUe=SUe.hasOwnProperty;function _Ue(t,e,n){var r=t[e];(!(EUe.call(t,e)&&CUe(r,n))||n===void 0&&!(e in t))&&wUe(t,e,n)}var cae=_Ue,TUe=cae,PUe=V8;function OUe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?PUe(n,a,l):TUe(n,a,l)}return n}var RE=OUe;function MUe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var AUe=MUe,kUe=rm,DUe=pd,NUe="[object Arguments]";function RUe(t){return DUe(t)&&kUe(t)==NUe}var IUe=RUe,Yq=IUe,$Ue=pd,uae=Object.prototype,LUe=uae.hasOwnProperty,FUe=uae.propertyIsEnumerable,zUe=Yq(function(){return arguments}())?Yq:function(t){return $Ue(t)&&LUe.call(t,"callee")&&!FUe.call(t,"callee")},U8=zUe,GUe=Array.isArray,wu=GUe,s2={exports:{}};function BUe(){return!1}var jUe=BUe;(function(t,e){var n=hd,r=jUe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(s2,s2.exports);var VUe=9007199254740991,UUe=/^(?:0|[1-9]\d*)$/;function HUe(t,e){var n=typeof t;return e=e==null?VUe:e,!!e&&(n=="number"||n!="symbol"&&UUe.test(t))&&t>-1&&t%1==0&&t<e}var H8=HUe,WUe=9007199254740991;function YUe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WUe}var W8=YUe,qUe=rm,XUe=W8,KUe=pd,ZUe="[object Arguments]",QUe="[object Array]",JUe="[object Boolean]",eHe="[object Date]",tHe="[object Error]",nHe="[object Function]",rHe="[object Map]",iHe="[object Number]",oHe="[object Object]",sHe="[object RegExp]",aHe="[object Set]",lHe="[object String]",cHe="[object WeakMap]",uHe="[object ArrayBuffer]",fHe="[object DataView]",dHe="[object Float32Array]",hHe="[object Float64Array]",pHe="[object Int8Array]",gHe="[object Int16Array]",vHe="[object Int32Array]",mHe="[object Uint8Array]",yHe="[object Uint8ClampedArray]",bHe="[object Uint16Array]",xHe="[object Uint32Array]",ds={};ds[dHe]=ds[hHe]=ds[pHe]=ds[gHe]=ds[vHe]=ds[mHe]=ds[yHe]=ds[bHe]=ds[xHe]=!0;ds[ZUe]=ds[QUe]=ds[uHe]=ds[JUe]=ds[fHe]=ds[eHe]=ds[tHe]=ds[nHe]=ds[rHe]=ds[iHe]=ds[oHe]=ds[sHe]=ds[aHe]=ds[lHe]=ds[cHe]=!1;function wHe(t){return KUe(t)&&XUe(t.length)&&!!ds[qUe(t)]}var CHe=wHe;function SHe(t){return function(e){return t(e)}}var Y8=SHe,HS={exports:{}};(function(t,e){var n=Poe,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(HS,HS.exports);var EHe=CHe,_He=Y8,qq=HS.exports,Xq=qq&&qq.isTypedArray,THe=Xq?_He(Xq):EHe,q8=THe,PHe=AUe,OHe=U8,MHe=wu,AHe=s2.exports,kHe=H8,DHe=q8,NHe=Object.prototype,RHe=NHe.hasOwnProperty;function IHe(t,e){var n=MHe(t),r=!n&&OHe(t),i=!n&&!r&&AHe(t),o=!n&&!r&&!i&&DHe(t),s=n||r||i||o,a=s?PHe(t.length,String):[],l=a.length;for(var c in t)(e||RHe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||kHe(c,l)))&&a.push(c);return a}var fae=IHe,$He=Object.prototype;function LHe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$He;return t===n}var X8=LHe;function FHe(t,e){return function(n){return t(e(n))}}var dae=FHe,zHe=dae,GHe=zHe(Object.keys,Object),BHe=GHe,jHe=X8,VHe=BHe,UHe=Object.prototype,HHe=UHe.hasOwnProperty;function WHe(t){if(!jHe(t))return VHe(t);var e=[];for(var n in Object(t))HHe.call(t,n)&&n!="constructor"&&e.push(n);return e}var YHe=WHe,qHe=G8,XHe=W8;function KHe(t){return t!=null&&XHe(t.length)&&!qHe(t)}var M2=KHe,ZHe=fae,QHe=YHe,JHe=M2;function eWe(t){return JHe(t)?ZHe(t):QHe(t)}var IE=eWe,tWe=RE,nWe=IE;function rWe(t,e){return t&&tWe(e,nWe(e),t)}var iWe=rWe;function oWe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var sWe=oWe,aWe=kc,lWe=X8,cWe=sWe,uWe=Object.prototype,fWe=uWe.hasOwnProperty;function dWe(t){if(!aWe(t))return cWe(t);var e=lWe(t),n=[];for(var r in t)r=="constructor"&&(e||!fWe.call(t,r))||n.push(r);return n}var hWe=dWe,pWe=fae,gWe=hWe,vWe=M2;function mWe(t){return vWe(t)?pWe(t,!0):gWe(t)}var $E=mWe,yWe=RE,bWe=$E;function xWe(t,e){return t&&yWe(e,bWe(e),t)}var wWe=xWe,CA={exports:{}};(function(t,e){var n=hd,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,d=a?a(f):new c.constructor(f);return c.copy(d),d}t.exports=l})(CA,CA.exports);function CWe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var hae=CWe;function SWe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var EWe=SWe;function _We(){return[]}var pae=_We,TWe=EWe,PWe=pae,OWe=Object.prototype,MWe=OWe.propertyIsEnumerable,Kq=Object.getOwnPropertySymbols,AWe=Kq?function(t){return t==null?[]:(t=Object(t),TWe(Kq(t),function(e){return MWe.call(t,e)}))}:PWe,K8=AWe,kWe=RE,DWe=K8;function NWe(t,e){return kWe(t,DWe(t),e)}var RWe=NWe;function IWe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var gae=IWe,$We=dae,LWe=$We(Object.getPrototypeOf,Object),Z8=LWe,FWe=gae,zWe=Z8,GWe=K8,BWe=pae,jWe=Object.getOwnPropertySymbols,VWe=jWe?function(t){for(var e=[];t;)FWe(e,GWe(t)),t=zWe(t);return e}:BWe,vae=VWe,UWe=RE,HWe=vae;function WWe(t,e){return UWe(t,HWe(t),e)}var YWe=WWe,qWe=gae,XWe=wu;function KWe(t,e,n){var r=e(t);return XWe(t)?r:qWe(r,n(t))}var mae=KWe,ZWe=mae,QWe=K8,JWe=IE;function eYe(t){return ZWe(t,JWe,QWe)}var yae=eYe,tYe=mae,nYe=vae,rYe=$E;function iYe(t){return tYe(t,rYe,nYe)}var oYe=iYe,sYe=sy,aYe=hd,lYe=sYe(aYe,"DataView"),cYe=lYe,uYe=sy,fYe=hd,dYe=uYe(fYe,"Promise"),hYe=dYe,pYe=sy,gYe=hd,vYe=pYe(gYe,"Set"),bae=vYe,mYe=sy,yYe=hd,bYe=mYe(yYe,"WeakMap"),xYe=bYe,B$=cYe,j$=B8,V$=hYe,U$=bae,H$=xYe,xae=rm,A2=sae,Zq="[object Map]",wYe="[object Object]",Qq="[object Promise]",Jq="[object Set]",eX="[object WeakMap]",tX="[object DataView]",CYe=A2(B$),SYe=A2(j$),EYe=A2(V$),_Ye=A2(U$),TYe=A2(H$),Km=xae;(B$&&Km(new B$(new ArrayBuffer(1)))!=tX||j$&&Km(new j$)!=Zq||V$&&Km(V$.resolve())!=Qq||U$&&Km(new U$)!=Jq||H$&&Km(new H$)!=eX)&&(Km=function(t){var e=xae(t),n=e==wYe?t.constructor:void 0,r=n?A2(n):"";if(r)switch(r){case CYe:return tX;case SYe:return Zq;case EYe:return Qq;case _Ye:return Jq;case TYe:return eX}return e});var fD=Km,PYe=Object.prototype,OYe=PYe.hasOwnProperty;function MYe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&OYe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var AYe=MYe,kYe=hd,DYe=kYe.Uint8Array,wae=DYe,nX=wae;function NYe(t){var e=new t.constructor(t.byteLength);return new nX(e).set(new nX(t)),e}var Q8=NYe,RYe=Q8;function IYe(t,e){var n=e?RYe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var $Ye=IYe,LYe=/\w*$/;function FYe(t){var e=new t.constructor(t.source,LYe.exec(t));return e.lastIndex=t.lastIndex,e}var zYe=FYe,rX=ME,iX=rX?rX.prototype:void 0,oX=iX?iX.valueOf:void 0;function GYe(t){return oX?Object(oX.call(t)):{}}var BYe=GYe,jYe=Q8;function VYe(t,e){var n=e?jYe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Cae=VYe,UYe=Q8,HYe=$Ye,WYe=zYe,YYe=BYe,qYe=Cae,XYe="[object Boolean]",KYe="[object Date]",ZYe="[object Map]",QYe="[object Number]",JYe="[object RegExp]",eqe="[object Set]",tqe="[object String]",nqe="[object Symbol]",rqe="[object ArrayBuffer]",iqe="[object DataView]",oqe="[object Float32Array]",sqe="[object Float64Array]",aqe="[object Int8Array]",lqe="[object Int16Array]",cqe="[object Int32Array]",uqe="[object Uint8Array]",fqe="[object Uint8ClampedArray]",dqe="[object Uint16Array]",hqe="[object Uint32Array]";function pqe(t,e,n){var r=t.constructor;switch(e){case rqe:return UYe(t);case XYe:case KYe:return new r(+t);case iqe:return HYe(t,n);case oqe:case sqe:case aqe:case lqe:case cqe:case uqe:case fqe:case dqe:case hqe:return qYe(t,n);case ZYe:return new r;case QYe:case tqe:return new r(t);case JYe:return WYe(t);case eqe:return new r;case nqe:return YYe(t)}}var gqe=pqe,vqe=kc,sX=Object.create,mqe=function(){function t(){}return function(e){if(!vqe(e))return{};if(sX)return sX(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),yqe=mqe,bqe=yqe,xqe=Z8,wqe=X8;function Cqe(t){return typeof t.constructor=="function"&&!wqe(t)?bqe(xqe(t)):{}}var Sae=Cqe,Sqe=fD,Eqe=pd,_qe="[object Map]";function Tqe(t){return Eqe(t)&&Sqe(t)==_qe}var Pqe=Tqe,Oqe=Pqe,Mqe=Y8,aX=HS.exports,lX=aX&&aX.isMap,Aqe=lX?Mqe(lX):Oqe,kqe=Aqe,Dqe=fD,Nqe=pd,Rqe="[object Set]";function Iqe(t){return Nqe(t)&&Dqe(t)==Rqe}var $qe=Iqe,Lqe=$qe,Fqe=Y8,cX=HS.exports,uX=cX&&cX.isSet,zqe=uX?Fqe(uX):Lqe,Gqe=zqe,Bqe=uD,jqe=aae,Vqe=cae,Uqe=iWe,Hqe=wWe,Wqe=CA.exports,Yqe=hae,qqe=RWe,Xqe=YWe,Kqe=yae,Zqe=oYe,Qqe=fD,Jqe=AYe,eXe=gqe,tXe=Sae,nXe=wu,rXe=s2.exports,iXe=kqe,oXe=kc,sXe=Gqe,aXe=IE,lXe=$E,cXe=1,uXe=2,fXe=4,Eae="[object Arguments]",dXe="[object Array]",hXe="[object Boolean]",pXe="[object Date]",gXe="[object Error]",_ae="[object Function]",vXe="[object GeneratorFunction]",mXe="[object Map]",yXe="[object Number]",Tae="[object Object]",bXe="[object RegExp]",xXe="[object Set]",wXe="[object String]",CXe="[object Symbol]",SXe="[object WeakMap]",EXe="[object ArrayBuffer]",_Xe="[object DataView]",TXe="[object Float32Array]",PXe="[object Float64Array]",OXe="[object Int8Array]",MXe="[object Int16Array]",AXe="[object Int32Array]",kXe="[object Uint8Array]",DXe="[object Uint8ClampedArray]",NXe="[object Uint16Array]",RXe="[object Uint32Array]",es={};es[Eae]=es[dXe]=es[EXe]=es[_Xe]=es[hXe]=es[pXe]=es[TXe]=es[PXe]=es[OXe]=es[MXe]=es[AXe]=es[mXe]=es[yXe]=es[Tae]=es[bXe]=es[xXe]=es[wXe]=es[CXe]=es[kXe]=es[DXe]=es[NXe]=es[RXe]=!0;es[gXe]=es[_ae]=es[SXe]=!1;function $O(t,e,n,r,i,o){var s,a=e&cXe,l=e&uXe,c=e&fXe;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!oXe(t))return t;var u=nXe(t);if(u){if(s=Jqe(t),!a)return Yqe(t,s)}else{var f=Qqe(t),d=f==_ae||f==vXe;if(rXe(t))return Wqe(t,a);if(f==Tae||f==Eae||d&&!i){if(s=l||d?{}:tXe(t),!a)return l?Xqe(t,Hqe(s,t)):qqe(t,Uqe(s,t))}else{if(!es[f])return i?t:{};s=eXe(t,f,a)}}o||(o=new Bqe);var h=o.get(t);if(h)return h;o.set(t,s),sXe(t)?t.forEach(function(m){s.add($O(m,e,n,m,t,o))}):iXe(t)&&t.forEach(function(m,y){s.set(y,$O(m,e,n,y,t,o))});var p=c?l?Zqe:Kqe:l?lXe:aXe,g=u?void 0:p(t);return jqe(g||t,function(m,y){g&&(y=m,m=t[y]),Vqe(s,y,$O(m,e,n,y,t,o))}),s}var IXe=$O,$Xe=IXe,LXe=1,FXe=4;function zXe(t){return $Xe(t,LXe|FXe)}var Pae=zXe;let a2=class{constructor(){this.toDispose=new Ei,this.toolbarItems=new Map,this.onDidChangeEvent=new R0(null),this.onDidChange=this.onDidChangeEvent.watch,this.fireOnDidChange=oD(()=>this.onDidChangeEvent.setValue(void 0),16),this.registerDisposableToolbar=e=>{const n=new Ei;return e({registerToolbarItem:i=>{const o=this.registerItem(i);return n.push(o),o}}),this.toDispose.push(n),n},this.getToolbarModel=e=>{const{layout:n,mainGroups:r=[],extraGroups:i=[]}=e;return new R0({layout:n,mainGroups:this.createToolbarGroupModel(r),extraGroups:this.createToolbarGroupModel(i)})},this.createToolbarGroupModel=e=>e.map(r=>{const{items:i=[]}=r;return Object.assign(Object.assign({},r),{items:i.map(o=>this.createToolbarModel({id:o.id})).filter(o=>!!o)})})}onStart(){const e=this.contributionProvider.getContributions();for(const n of e)n.registerToolbarItems(this)}onStop(){this.toDispose.dispose()}registerItem(e){return this.toolbarItems.has(e.id)&&console.warn(`ToolbarRegistry ${e.id} is duplicated, in`,e),this.toolbarItems.set(e.id,e),this.fireOnDidChange(),new Ei(Zn.create(()=>this.fireOnDidChange()),Zn.create(()=>this.toolbarItems.delete(e.id)))}createToolbarModel(e){const n=Pae(this.toolbarItems.get(e.id)),r=C3(n.isEnabled)?n.isEnabled:!0,i=C3(n.isVisible)?n.isVisible:!0;return Object.assign(Object.assign({},n),{isEnabled:r,isVisible:i,iconName:n.iconName,text:n.text})}};lt([jn(J0),ht("design:type",Object)],a2.prototype,"commandService",void 0);lt([jn(ey),ht("design:type",Object)],a2.prototype,"modelService",void 0);lt([Kv(oae),ht("design:type",Object)],a2.prototype,"contributionProvider",void 0);a2=lt([Ca({contrib:[nm,yje]})],a2);const GXe=()=>oc(t=>{ch.register(t,oae),t(a2)}),Oae=t=>{const e=xh();return dt.useEffect(()=>{const n=e.addCoreModule({config:{CONFIG_TYPE:"ToolbarRegistry",getConfig:()=>ie(void 0,void 0,void 0,function*(){})},createModule:GXe});return()=>{n.dispose()}},[e]),null};Oae.defaultProps={XFlowModuleType:"ToolbarRegistry"};const BXe=Symbol("IMenuService"),Mae=yo.defineToken("IMenuContribution");var dv;(function(t){t.Separator="separator",t.Submenu="submenu",t.Root="root",t.Leaf="leaf"})(dv||(dv={}));let SA=class{constructor(){this.toDispose=new Ei,this.menuMap=new Map,this.getMenu=e=>this.menuMap.get(e),this.registerDisposableMenu=e=>{const n=new Ei;return e({registerMenu:i=>{const o=this.registerMenu(i);return n.push(o),o}}),this.toDispose.push(n),n}}onStart(){const e=this.contributionProvider.getContributions();for(const n of e)n.registerMenu(this)}onStop(){this.toDispose.dispose()}registerMenu(e){return this.menuMap.set(e.id,e),Zn.create(()=>this.menuMap.delete(e.id))}};lt([Kv(Mae),ht("design:type",Object)],SA.prototype,"contributionProvider",void 0);SA=lt([Ca({contrib:[nm,BXe]})],SA);const jXe=()=>oc(t=>{ch.register(t,Mae),t(SA)}),Aae=t=>{const e=xh();return dt.useEffect(()=>{const n=e.addCoreModule({config:{CONFIG_TYPE:"MenuRegistry",getConfig:()=>ie(void 0,void 0,void 0,function*(){})},createModule:jXe});return()=>{n.dispose()}},[]),null};Aae.defaultProps={XFlowModuleType:"MenuRegistry"};const kae=t=>{const{meta:e,graphConfig:n,graphData:r,graphLayout:i,onLoad:o,isAutoCenter:s,hookConfig:a,modelServiceConfig:l,commandConfig:c,onAppConfigReady:u,onAppDestroy:f,children:d=[],className:h,style:p}=t,[g,m]=dt.useState(),y=dt.useRef(null),b=_Ie();dt.useEffect(()=>{u&&u(b);const _=FIe(b);_.start().then(()=>ie(void 0,void 0,void 0,function*(){var M;m(_),(M=b.getExtension("GraphConfig"))===null||M===void 0||M.config.setAppContainer(y.current),e&&(yield _.commandService.executeCommand(Pr.LOAD_META.id,{meta:e})),o&&o(_,b),r&&(i&&(yield _.commandService.executeCommand(Pr.GRAPH_LAYOUT.id,Object.assign({graphData:r},i))),yield _.commandService.executeCommand(Pr.GRAPH_RENDER.id,{graphData:r}))}));const w=()=>ie(void 0,void 0,void 0,function*(){f&&f(_)});return()=>{w()}},[]),dt.useEffect(()=>{g&&g.commandService.executeCommand(Pr.LOAD_META.id,{meta:e})},[e]),dt.useEffect(()=>{(()=>ie(void 0,void 0,void 0,function*(){g&&(r&&i&&(yield g.commandService.executeCommand(Pr.GRAPH_LAYOUT.id,Object.assign({graphData:r},i))),yield g.commandService.executeCommand(Pr.GRAPH_RENDER.id,{graphData:r}),s&&(yield g.getGraphInstance()).centerContent())}))()},[r]);const C=at("xflow-app-workspace",h,...b.getContainerClassNames()),E=(Array.isArray(d)?d:[d]).some(_=>_&&_.props.isXFlowCanvas);return D(uoe,{app:g,children:D(boe.Provider,{value:b,children:_t("div",{className:C,id:b.getInstanceId(),ref:y,style:p,children:[!E&&D(w8,{config:n,position:{top:0,bottom:0,left:0,right:0}}),d,D(_oe,{config:l}),D(vje,{config:c}),D(TIe,{config:a}),D(Oae,{}),D(Aae,{})]})})})};kae.defaultProps={};const VXe=t=>t&&t.current,Dae=()=>{const t=dt.useRef(!0);return dt.useEffect(()=>()=>{t.current=!1},[]),t},Nae=t=>{const e=Dae(),[n,r]=dt.useState(t.getValue());dt.useEffect(()=>{const a=t.watch(l=>{VXe(e)&&r(l)});return()=>{a.dispose()}},[r]);const i=n,o=Wf.isValidValue(i),s=dt.useCallback(a=>t.setValue(a),[t]);return[i,s,o]},dD=t=>{const e=dt.useMemo(()=>new R0(t),[]),[n,r,i]=Nae(e);return dt.useEffect(()=>()=>{e.dispose()},[e]),[n,r,e,i]},UXe=t=>{const{getModel:e,initialState:n}=t,r=Dae(),i=dt.useRef(),[o,s]=dt.useState(n);return dt.useEffect(()=>{let a;return e().then(l=>ie(void 0,void 0,void 0,function*(){i.current=l;const c=yield l.getValidValue();!r.current||(s(c),a=l.watch(u=>{r.current&&s(u)}))})),()=>{a&&a.dispose&&a.dispose()}},[]),[o,s,i.current]},HXe=Symbol("IKeyBindingService"),Rae=yo.defineToken("IKeyBindingContribution"),Iae=Symbol("IKeyBindingOptionProvider");let Vv=class{constructor(){this.toDispose=new Ei,this.keyBindingMap=new Map,this.enabledKeyBindingMap=new Map,this.registerExternalKeybindings=()=>ie(this,void 0,void 0,function*(){const{registerKeybindingFunc:e}=yield this.optionProvider.getOption();return e(this)}),this.registerKeybinding=(e=[])=>{const n=new Ei;return e.forEach(r=>{this.keyBindingMap.set(r.id,r),this.enableKeyBindings(r.id).then(i=>{n.push(Zn.create(()=>{i.dispose(),this.keyBindingMap.delete(r.id)}))})}),this.toDispose.push(n),n},this.enableKeyBindings=e=>ie(this,void 0,void 0,function*(){this.disableKeyBindings([e]);const n=this.keyBindingMap.get(e),r=yield this.getX6Graph(),i=this.runCommand(n);r.bindKey(n.keybinding,i);const o=Zn.create(()=>{r.unbindKey(n.keybinding),this.enabledKeyBindingMap.delete(n.id)});return this.enabledKeyBindingMap.set(n.id,o),o}),this.disableKeyBindings=e=>{e.forEach(n=>{const r=this.enabledKeyBindingMap.get(n);r&&r.dispose()})},this.runCommand=e=>n=>ie(this,void 0,void 0,function*(){yield e.callback(e,this.modelService,this.commandService,n)}),this.getX6Graph=()=>ie(this,void 0,void 0,function*(){return yield this.graphProvider.getGraphInstance()})}onStart(){const e=this.contributionProvider.getContributions();for(const n of e)n.registerKeybinding(this);this.registerExternalKeybindings()}onStop(){this.toDispose.dispose()}};lt([jn(Iae),ht("design:type",Object)],Vv.prototype,"optionProvider",void 0);lt([jn(J0),ht("design:type",Object)],Vv.prototype,"commandService",void 0);lt([jn(ey),ht("design:type",Object)],Vv.prototype,"modelService",void 0);lt([Kv(Rae),ht("design:type",Object)],Vv.prototype,"contributionProvider",void 0);lt([jn(ny),ht("design:type",Object)],Vv.prototype,"graphProvider",void 0);Vv=lt([Ca({contrib:[nm,HXe]})],Vv);const WXe=(t,e)=>{t(Iae,{useDynamic:()=>({getOption:()=>ie(void 0,void 0,void 0,function*(){return e.getConfig()})}),lifecycle:yo.Lifecycle.singleton})},YXe=t=>oc(e=>{WXe(e,t),ch.register(e,Rae),e(Vv)});var W$;(function(t){t.CONFIG_TYPE="CONTEXT_CONFIG"})(W$||(W$={}));const fX=()=>Zn.create(()=>{});class $ae{constructor(){this.CONFIG_TYPE=W$.CONFIG_TYPE,this.keybindingFunc=fX,this.isMounted=new Ec,this.setKeybindingFunc=e=>{this.keybindingFunc=e},this.setMountState=()=>{this.isMounted.resolve(!0)},this.getConfig=()=>ie(this,void 0,void 0,function*(){return yield this.isMounted.promise,{CONFIG_TYPE:this.CONFIG_TYPE,registerKeybindingFunc:this.keybindingFunc}}),this.dispose=()=>{this.keybindingFunc=fX,this.isMounted=new Ec}}}const qXe=t=>{const{config:e}=t,n=xh(),r=dt.useMemo(()=>e||new $ae,[e]);return dt.useEffect(()=>{const i=n.addCoreModule({config:r,createModule:YXe});return r.setMountState(),()=>{i.dispose(),r.dispose()}},[n,r]),null},XXe=t=>e=>{const n=dt.useMemo(()=>({getValue:()=>({})}),[]);return n.getValue=()=>e,dt.useMemo(()=>{const i=new $ae;return t(i,n),i},[n])};function KXe(t){return new Promise(e=>setTimeout(()=>e(!0),t))}class ZXe{constructor(){this.map=new Map([["default",Cw],["QuestionCircleOutlined",Cw]]),this.map.set("default",Cw),this.map.set("QuestionCircleOutlined",Cw)}get(e){return this.map.get(e)}set(e,n){this.map.set(e,n)}has(e){return this.map.has(e)}}const Aa=new ZXe;let Y$=class{constructor(){this.toDispose=new Ei,this.registerHookHub=()=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{})}),this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.graphOptions.registerHook({name:"add snapline options",handler:i=>ie(this,void 0,void 0,function*(){i.snapline={enabled:!0,className:"xflow-snapline",clean:5e3}})})];return n.pushAll(r),Zn.create(()=>{})})}};Y$=lt([Ca({contrib:pf})],Y$);const QXe=()=>oc(t=>{t(Y$)}),JXe="CanvasSnapline",eKe="#faad14",tKe=t=>{const{color:e=eKe}=t,n=xh(),r=dt.useMemo(()=>({CONFIG_TYPE:JXe,getConfig:()=>ie(void 0,void 0,void 0,function*(){return{}})}),[]);return dt.useEffect(()=>{const i=`xflow-snapline-${Date.now()}`;n.addContainerClassNames(i);const o=`
    .${i} .xflow-snapline .x6-widget-snapline-horizontal,
    .${i} .xflow-snapline .x6-widget-snapline-vertical {
      border-color: ${e};
    }`,s=xIe(o);return()=>{document.head.removeChild(s)}},[e,n]),D(eD,{config:r,createModule:QXe})};function nKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ra(t){var e=nKe();return function(){var r=Bi(t),i;if(e){var o=Bi(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return bl(this,i)}}var J8={exports:{}},Lo={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=typeof Symbol=="function"&&Symbol.for,ez=Qa?Symbol.for("react.element"):60103,tz=Qa?Symbol.for("react.portal"):60106,hD=Qa?Symbol.for("react.fragment"):60107,pD=Qa?Symbol.for("react.strict_mode"):60108,gD=Qa?Symbol.for("react.profiler"):60114,vD=Qa?Symbol.for("react.provider"):60109,mD=Qa?Symbol.for("react.context"):60110,nz=Qa?Symbol.for("react.async_mode"):60111,yD=Qa?Symbol.for("react.concurrent_mode"):60111,bD=Qa?Symbol.for("react.forward_ref"):60112,xD=Qa?Symbol.for("react.suspense"):60113,rKe=Qa?Symbol.for("react.suspense_list"):60120,wD=Qa?Symbol.for("react.memo"):60115,CD=Qa?Symbol.for("react.lazy"):60116,iKe=Qa?Symbol.for("react.block"):60121,oKe=Qa?Symbol.for("react.fundamental"):60117,sKe=Qa?Symbol.for("react.responder"):60118,aKe=Qa?Symbol.for("react.scope"):60119;function Cu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ez:switch(t=t.type,t){case nz:case yD:case hD:case gD:case pD:case xD:return t;default:switch(t=t&&t.$$typeof,t){case mD:case bD:case CD:case wD:case vD:return t;default:return e}}case tz:return e}}}function Lae(t){return Cu(t)===yD}Lo.AsyncMode=nz;Lo.ConcurrentMode=yD;Lo.ContextConsumer=mD;Lo.ContextProvider=vD;Lo.Element=ez;Lo.ForwardRef=bD;Lo.Fragment=hD;Lo.Lazy=CD;Lo.Memo=wD;Lo.Portal=tz;Lo.Profiler=gD;Lo.StrictMode=pD;Lo.Suspense=xD;Lo.isAsyncMode=function(t){return Lae(t)||Cu(t)===nz};Lo.isConcurrentMode=Lae;Lo.isContextConsumer=function(t){return Cu(t)===mD};Lo.isContextProvider=function(t){return Cu(t)===vD};Lo.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ez};Lo.isForwardRef=function(t){return Cu(t)===bD};Lo.isFragment=function(t){return Cu(t)===hD};Lo.isLazy=function(t){return Cu(t)===CD};Lo.isMemo=function(t){return Cu(t)===wD};Lo.isPortal=function(t){return Cu(t)===tz};Lo.isProfiler=function(t){return Cu(t)===gD};Lo.isStrictMode=function(t){return Cu(t)===pD};Lo.isSuspense=function(t){return Cu(t)===xD};Lo.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hD||t===yD||t===gD||t===pD||t===xD||t===rKe||typeof t=="object"&&t!==null&&(t.$$typeof===CD||t.$$typeof===wD||t.$$typeof===vD||t.$$typeof===mD||t.$$typeof===bD||t.$$typeof===oKe||t.$$typeof===sKe||t.$$typeof===aKe||t.$$typeof===iKe)};Lo.typeOf=Cu;(function(t){t.exports=Lo})(J8);function G0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return dt.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(G0(r)):J8.exports.isFragment(r)&&r.props?n=n.concat(G0(r.props.children,e)):n.push(r))}),n}function k2(t,e,n){var r=T.exports.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}function Fae(t,e){typeof t=="function"?t(e):Ar(t)==="object"&&t&&"current"in t&&(t.current=e)}function gd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(o){Fae(o,i)})}}function lKe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k2(function(){return gd.apply(void 0,e)},e,function(r,i){return r.length===i.length&&r.every(function(o,s){return o===i[s]})})}function D2(t){var e,n,r=J8.exports.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!(!((e=r.prototype)===null||e===void 0)&&e.render)||typeof t=="function"&&!(!((n=t.prototype)===null||n===void 0)&&n.render))}function WS(t){return t instanceof HTMLElement?t:fu.findDOMNode(t)}var zae=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),q$=typeof window<"u"&&typeof document<"u"&&window.document===document,EA=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),cKe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(EA):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),uKe=2;function fKe(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){cKe(o)}function a(){var l=Date.now();if(n){if(l-i<uKe)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var dKe=20,hKe=["top","right","bottom","left","width","height","size","weight"],pKe=typeof MutationObserver<"u",gKe=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=fKe(this.refresh.bind(this),dKe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!q$||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pKe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!q$||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=hKe.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Gae=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},l2=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||EA},Bae=SD(0,0,0,0);function _A(t){return parseFloat(t)||0}function dX(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+_A(o)},0)}function vKe(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=_A(s)}return n}function mKe(t){var e=t.getBBox();return SD(0,0,e.width,e.height)}function yKe(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Bae;var r=l2(t).getComputedStyle(t),i=vKe(r),o=i.left+i.right,s=i.top+i.bottom,a=_A(r.width),l=_A(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=dX(r,"left","right")+o),Math.round(l+s)!==n&&(l-=dX(r,"top","bottom")+s)),!xKe(t)){var c=Math.round(a+o)-e,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return SD(i.left,i.top,a,l)}var bKe=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof l2(t).SVGGraphicsElement}:function(t){return t instanceof l2(t).SVGElement&&typeof t.getBBox=="function"}}();function xKe(t){return t===l2(t).document.documentElement}function wKe(t){return q$?bKe(t)?mKe(t):yKe(t):Bae}function CKe(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Gae(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function SD(t,e,n,r){return{x:t,y:e,width:n,height:r}}var SKe=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=SD(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=wKe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),EKe=function(){function t(e,n){var r=CKe(n);Gae(this,{target:e,contentRect:r})}return t}(),_Ke=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new zae,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof l2(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new SKe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof l2(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new EKe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),jae=typeof WeakMap<"u"?new WeakMap:new zae,Vae=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=gKe.getInstance(),r=new _Ke(e,n,this);jae.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Vae.prototype[t]=function(){var e;return(e=jae.get(this))[t].apply(e,arguments)}});var Uae=function(){return typeof EA.ResizeObserver<"u"?EA.ResizeObserver:Vae}(),hv=new Map;function TKe(t){t.forEach(function(e){var n,r=e.target;(n=hv.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var Hae=new Uae(TKe);function PKe(t,e){hv.has(t)||(hv.set(t,new Set),Hae.observe(t)),hv.get(t).add(e)}function OKe(t,e){hv.has(t)&&(hv.get(t).delete(e),hv.get(t).size||(Hae.unobserve(t),hv.delete(t)))}var MKe=function(t){Zi(n,t);var e=Ra(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"render",value:function(){return this.props.children}}]),n}(T.exports.Component),X$=T.exports.createContext(null);function AKe(t){var e=t.children,n=t.onBatchResize,r=T.exports.useRef(0),i=T.exports.useRef([]),o=T.exports.useContext(X$),s=T.exports.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,c)},[n,o]);return D(X$.Provider,{value:s,children:e})}function kKe(t){var e=t.children,n=t.disabled,r=T.exports.useRef(null),i=T.exports.useRef(null),o=T.exports.useContext(X$),s=typeof e=="function",a=s?e(r):e,l=T.exports.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!s&&T.exports.isValidElement(a)&&D2(a),u=c?a.ref:null,f=T.exports.useMemo(function(){return gd(u,r)},[u,r]),d=T.exports.useRef(t);d.current=t;var h=T.exports.useCallback(function(p){var g=d.current,m=g.onResize,y=g.data,b=p.getBoundingClientRect(),C=b.width,E=b.height,_=p.offsetWidth,w=p.offsetHeight,M=Math.floor(C),k=Math.floor(E);if(l.current.width!==M||l.current.height!==k||l.current.offsetWidth!==_||l.current.offsetHeight!==w){var I={width:M,height:k,offsetWidth:_,offsetHeight:w};l.current=I;var A=_===Math.round(C)?C:_,N=w===Math.round(E)?E:w,$=be(be({},I),{},{offsetWidth:A,offsetHeight:N});o==null||o($,p,y),m&&Promise.resolve().then(function(){m($,p)})}},[]);return T.exports.useEffect(function(){var p=WS(r.current)||WS(i.current);return p&&!n&&PKe(p,h),function(){return OKe(p,h)}},[r.current,n]),D(MKe,{ref:i,children:c?T.exports.cloneElement(a,{ref:f}):a})}var DKe="rc-observer-key";function B0(t){var e=t.children,n=typeof e=="function"?[e]:G0(e);return n.map(function(r,i){var o=(r==null?void 0:r.key)||"".concat(DKe,"-").concat(i);return T.exports.createElement(kKe,{...t,key:o},r)})}B0.Collection=AKe;function Ja(t,e){var n=be({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}var f0="RC_FORM_INTERNAL_HOOKS",Bo=function(){Nl(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},j0=T.exports.createContext({getFieldValue:Bo,getFieldsValue:Bo,getFieldError:Bo,getFieldWarning:Bo,getFieldsError:Bo,isFieldsTouched:Bo,isFieldTouched:Bo,isFieldValidating:Bo,isFieldsValidating:Bo,resetFields:Bo,setFields:Bo,setFieldValue:Bo,setFieldsValue:Bo,validateFields:Bo,submit:Bo,getInternalHooks:function(){return Bo(),{dispatch:Bo,initEntityValue:Bo,registerField:Bo,useSubscribe:Bo,setInitialValues:Bo,destroyForm:Bo,setCallbacks:Bo,registerWatch:Bo,getFields:Bo,setValidateMessages:Bo,setPreserve:Bo,getInitialValue:Bo}}});function K$(t){return t==null?[]:Array.isArray(t)?t:[t]}function nc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */nc=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(A,N,$){return Object.defineProperty(A,N,{value:$,enumerable:!0,configurable:!0,writable:!0}),A[N]}try{a({},"")}catch{a=function($,L,B){return $[L]=B}}function l(A,N,$,L){var B=N&&N.prototype instanceof f?N:f,j=Object.create(B.prototype),H=new M(L||[]);return j._invoke=function(te,Y,ue){var ce="suspendedStart";return function(se,fe){if(ce==="executing")throw new Error("Generator is already running");if(ce==="completed"){if(se==="throw")throw fe;return I()}for(ue.method=se,ue.arg=fe;;){var me=ue.delegate;if(me){var K=E(me,ue);if(K){if(K===u)continue;return K}}if(ue.method==="next")ue.sent=ue._sent=ue.arg;else if(ue.method==="throw"){if(ce==="suspendedStart")throw ce="completed",ue.arg;ue.dispatchException(ue.arg)}else ue.method==="return"&&ue.abrupt("return",ue.arg);ce="executing";var le=c(te,Y,ue);if(le.type==="normal"){if(ce=ue.done?"completed":"suspendedYield",le.arg===u)continue;return{value:le.arg,done:ue.done}}le.type==="throw"&&(ce="completed",ue.method="throw",ue.arg=le.arg)}}}(A,$,H),j}function c(A,N,$){try{return{type:"normal",arg:A.call(N,$)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};a(p,i,function(){return this});var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==e&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function b(A){["next","throw","return"].forEach(function(N){a(A,N,function($){return this._invoke(N,$)})})}function C(A,N){function $(B,j,H,te){var Y=c(A[B],A,j);if(Y.type!=="throw"){var ue=Y.arg,ce=ue.value;return ce&&Ar(ce)=="object"&&n.call(ce,"__await")?N.resolve(ce.__await).then(function(se){$("next",se,H,te)},function(se){$("throw",se,H,te)}):N.resolve(ce).then(function(se){ue.value=se,H(ue)},function(se){return $("throw",se,H,te)})}te(Y.arg)}var L;this._invoke=function(B,j){function H(){return new N(function(te,Y){$(B,j,te,Y)})}return L=L?L.then(H,H):H()}}function E(A,N){var $=A.iterator[N.method];if($===void 0){if(N.delegate=null,N.method==="throw"){if(A.iterator.return&&(N.method="return",N.arg=void 0,E(A,N),N.method==="throw"))return u;N.method="throw",N.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var L=c($,A.iterator,N.arg);if(L.type==="throw")return N.method="throw",N.arg=L.arg,N.delegate=null,u;var B=L.arg;return B?B.done?(N[A.resultName]=B.value,N.next=A.nextLoc,N.method!=="return"&&(N.method="next",N.arg=void 0),N.delegate=null,u):B:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,u)}function _(A){var N={tryLoc:A[0]};1 in A&&(N.catchLoc=A[1]),2 in A&&(N.finallyLoc=A[2],N.afterLoc=A[3]),this.tryEntries.push(N)}function w(A){var N=A.completion||{};N.type="normal",delete N.arg,A.completion=N}function M(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(_,this),this.reset(!0)}function k(A){if(A){var N=A[i];if(N)return N.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var $=-1,L=function B(){for(;++$<A.length;)if(n.call(A,$))return B.value=A[$],B.done=!1,B;return B.value=void 0,B.done=!0,B};return L.next=L}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=h,a(y,"constructor",h),a(h,"constructor",d),d.displayName=a(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(A){var N=typeof A=="function"&&A.constructor;return!!N&&(N===d||(N.displayName||N.name)==="GeneratorFunction")},t.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,h):(A.__proto__=h,a(A,s,"GeneratorFunction")),A.prototype=Object.create(y),A},t.awrap=function(A){return{__await:A}},b(C.prototype),a(C.prototype,o,function(){return this}),t.AsyncIterator=C,t.async=function(A,N,$,L,B){B===void 0&&(B=Promise);var j=new C(l(A,N,$,L),B);return t.isGeneratorFunction(N)?j:j.next().then(function(H){return H.done?H.value:j.next()})},b(y),a(y,s,"Generator"),a(y,i,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),t.keys=function(A){var N=[];for(var $ in A)N.push($);return N.reverse(),function L(){for(;N.length;){var B=N.pop();if(B in A)return L.value=B,L.done=!1,L}return L.done=!0,L}},t.values=k,M.prototype={constructor:M,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!N)for(var $ in this)$.charAt(0)==="t"&&n.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var $=this;function L(ue,ce){return H.type="throw",H.arg=N,$.next=ue,ce&&($.method="next",$.arg=void 0),!!ce}for(var B=this.tryEntries.length-1;B>=0;--B){var j=this.tryEntries[B],H=j.completion;if(j.tryLoc==="root")return L("end");if(j.tryLoc<=this.prev){var te=n.call(j,"catchLoc"),Y=n.call(j,"finallyLoc");if(te&&Y){if(this.prev<j.catchLoc)return L(j.catchLoc,!0);if(this.prev<j.finallyLoc)return L(j.finallyLoc)}else if(te){if(this.prev<j.catchLoc)return L(j.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<j.finallyLoc)return L(j.finallyLoc)}}}},abrupt:function(N,$){for(var L=this.tryEntries.length-1;L>=0;--L){var B=this.tryEntries[L];if(B.tryLoc<=this.prev&&n.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var j=B;break}}j&&(N==="break"||N==="continue")&&j.tryLoc<=$&&$<=j.finallyLoc&&(j=null);var H=j?j.completion:{};return H.type=N,H.arg=$,j?(this.method="next",this.next=j.finallyLoc,u):this.complete(H)},complete:function(N,$){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&$&&(this.next=$),u},finish:function(N){for(var $=this.tryEntries.length-1;$>=0;--$){var L=this.tryEntries[$];if(L.finallyLoc===N)return this.complete(L.completion,L.afterLoc),w(L),u}},catch:function(N){for(var $=this.tryEntries.length-1;$>=0;--$){var L=this.tryEntries[$];if(L.tryLoc===N){var B=L.completion;if(B.type==="throw"){var j=B.arg;w(L)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(N,$,L){return this.delegate={iterator:k(N),resultName:$,nextLoc:L},this.method==="next"&&(this.arg=void 0),u}},t}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function NKe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,YS(t,e)}function Z$(t){return Z$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z$(t)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YS(t,e)}function RKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function LO(t,e,n){return RKe()?LO=Reflect.construct.bind():LO=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),c=new l;return s&&YS(c,s.prototype),c},LO.apply(null,arguments)}function IKe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Q$(t){var e=typeof Map=="function"?new Map:void 0;return Q$=function(r){if(r===null||!IKe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return LO(r,arguments,Z$(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),YS(i,r)},Q$(t)}var $Ke=/%[sdj%]/g,LKe=function(){};typeof process<"u"&&process.env;function J$(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function lu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace($Ke,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function FKe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Na(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||FKe(e)&&typeof t=="string"&&!t)}function zKe(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function hX(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function GKe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var pX=function(t){NKe(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(Q$(Error));function BKe(t,e,n,r,i){if(e.first){var o=new Promise(function(d,h){var p=function(y){return r(y),y.length?h(new pX(y,J$(y))):d(i)},g=GKe(t);hX(g,n,p)});return o.catch(function(d){return d}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],f=new Promise(function(d,h){var p=function(m){if(u.push.apply(u,m),c++,c===l)return r(u),u.length?h(new pX(u,J$(u))):d(i)};a.length||(r(u),d(i)),a.forEach(function(g){var m=t[g];s.indexOf(g)!==-1?hX(m,n,p):zKe(m,n,p)})});return f.catch(function(d){return d}),f}function jKe(t){return!!(t&&t.message!==void 0)}function VKe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function gX(t,e){return function(n){var r;return t.fullFields?r=VKe(e,t.fullFields):r=e[n.field||t.fullField],jKe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function vX(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=d0({},t[n],r):t[n]=r}}return t}var Wae=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||Na(n,s||e.type))&&i.push(lu(o.messages.required,e.fullField))},UKe=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(lu(o.messages.whitespace,e.fullField))},IP,HKe=function(){if(IP)return IP;var t="[a-fA-F\\d:]",e=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(E){return E&&E.exact?o:new RegExp("(?:"+e(E)+n+e(E)+")|(?:"+e(E)+i+e(E)+")","g")};l.v4=function(C){return C&&C.exact?s:new RegExp(""+e(C)+n+e(C),"g")},l.v6=function(C){return C&&C.exact?a:new RegExp(""+e(C)+i+e(C),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',b="(?:"+c+"|www\\.)"+u+"(?:localhost|"+f+"|"+d+"|"+h+p+g+")"+m+y;return IP=new RegExp("(?:^"+b+"$)","i"),IP},mX={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Aw={integer:function(e){return Aw.number(e)&&parseInt(e,10)===e},float:function(e){return Aw.number(e)&&!Aw.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Aw.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(mX.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(HKe())},hex:function(e){return typeof e=="string"&&!!e.match(mX.hex)}},WKe=function(e,n,r,i,o){if(e.required&&n===void 0){Wae(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?Aw[a](n)||i.push(lu(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(lu(o.messages.types[a],e.fullField,e.type))},YKe=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(u=n.length),h&&(u=n.replace(c,"_").length),s?u!==e.len&&i.push(lu(o.messages[f].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(lu(o.messages[f].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(lu(o.messages[f].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(lu(o.messages[f].range,e.fullField,e.min,e.max))},ab="enum",qKe=function(e,n,r,i,o){e[ab]=Array.isArray(e[ab])?e[ab]:[],e[ab].indexOf(n)===-1&&i.push(lu(o.messages[ab],e.fullField,e[ab].join(", ")))},XKe=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(lu(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(lu(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Gi={required:Wae,whitespace:UKe,type:WKe,range:YKe,enum:qKe,pattern:XKe},KKe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n,"string")&&!e.required)return r();Gi.required(e,n,i,s,o,"string"),Na(n,"string")||(Gi.type(e,n,i,s,o),Gi.range(e,n,i,s,o),Gi.pattern(e,n,i,s,o),e.whitespace===!0&&Gi.whitespace(e,n,i,s,o))}r(s)},ZKe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&Gi.type(e,n,i,s,o)}r(s)},QKe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&(Gi.type(e,n,i,s,o),Gi.range(e,n,i,s,o))}r(s)},JKe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&Gi.type(e,n,i,s,o)}r(s)},eZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),Na(n)||Gi.type(e,n,i,s,o)}r(s)},tZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&(Gi.type(e,n,i,s,o),Gi.range(e,n,i,s,o))}r(s)},nZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&(Gi.type(e,n,i,s,o),Gi.range(e,n,i,s,o))}r(s)},rZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();Gi.required(e,n,i,s,o,"array"),n!=null&&(Gi.type(e,n,i,s,o),Gi.range(e,n,i,s,o))}r(s)},iZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&Gi.type(e,n,i,s,o)}r(s)},oZe="enum",sZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o),n!==void 0&&Gi[oZe](e,n,i,s,o)}r(s)},aZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n,"string")&&!e.required)return r();Gi.required(e,n,i,s,o),Na(n,"string")||Gi.pattern(e,n,i,s,o)}r(s)},lZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n,"date")&&!e.required)return r();if(Gi.required(e,n,i,s,o),!Na(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Gi.type(e,l,i,s,o),l&&Gi.range(e,l.getTime(),i,s,o)}}r(s)},cZe=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;Gi.required(e,n,i,s,o,a),r(s)},MI=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Na(n,s)&&!e.required)return r();Gi.required(e,n,i,a,o,s),Na(n,s)||Gi.type(e,n,i,a,o)}r(a)},uZe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();Gi.required(e,n,i,s,o)}r(s)},uC={string:KKe,method:ZKe,number:QKe,boolean:JKe,regexp:eZe,integer:tZe,float:nZe,array:rZe,object:iZe,enum:sZe,pattern:aZe,date:lZe,url:MI,hex:MI,email:MI,required:cZe,any:uZe};function eL(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var tL=eL(),LE=function(){function t(n){this.rules=null,this._messages=tL,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=vX(eL(),r)),this._messages},e.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(g){var m=[],y={};function b(E){if(Array.isArray(E)){var _;m=(_=m).concat.apply(_,E)}else m.push(E)}for(var C=0;C<g.length;C++)b(g[C]);m.length?(y=J$(m),c(m,y)):c(null,a)}if(l.messages){var f=this.messages();f===tL&&(f=eL()),vX(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(g){var m=s.rules[g],y=a[g];m.forEach(function(b){var C=b;typeof C.transform=="function"&&(a===r&&(a=d0({},a)),y=a[g]=C.transform(y)),typeof C=="function"?C={validator:C}:C=d0({},C),C.validator=s.getValidationMethod(C),C.validator&&(C.field=g,C.fullField=C.fullField||g,C.type=s.getType(C),d[g]=d[g]||[],d[g].push({rule:C,value:y,source:a,field:g}))})});var p={};return BKe(d,l,function(g,m){var y=g.rule,b=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");b=b&&(y.required||!y.required&&g.value),y.field=g.field;function C(w,M){return d0({},M,{fullField:y.fullField+"."+w,fullFields:y.fullFields?[].concat(y.fullFields,[w]):[w]})}function E(w){w===void 0&&(w=[]);var M=Array.isArray(w)?w:[w];!l.suppressWarning&&M.length&&t.warning("async-validator:",M),M.length&&y.message!==void 0&&(M=[].concat(y.message));var k=M.map(gX(y,a));if(l.first&&k.length)return p[y.field]=1,m(k);if(!b)m(k);else{if(y.required&&!g.value)return y.message!==void 0?k=[].concat(y.message).map(gX(y,a)):l.error&&(k=[l.error(y,lu(l.messages.required,y.field))]),m(k);var I={};y.defaultField&&Object.keys(g.value).map(function($){I[$]=y.defaultField}),I=d0({},I,g.rule.fields);var A={};Object.keys(I).forEach(function($){var L=I[$],B=Array.isArray(L)?L:[L];A[$]=B.map(C.bind(null,$))});var N=new t(A);N.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),N.validate(g.value,g.rule.options||l,function($){var L=[];k&&k.length&&L.push.apply(L,k),$&&$.length&&L.push.apply(L,$),m(L.length?L:null)})}}var _;if(y.asyncValidator)_=y.asyncValidator(y,g.value,E,g.source,l);else if(y.validator){try{_=y.validator(y,g.value,E,g.source,l)}catch(w){console.error==null||console.error(w),l.suppressValidatorError||setTimeout(function(){throw w},0),E(w.message)}_===!0?E():_===!1?E(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):_ instanceof Array?E(_):_ instanceof Error&&E(_.message)}_&&_.then&&_.then(function(){return E()},function(w){return E(w)})},function(g){u(g)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!uC.hasOwnProperty(r.type))throw new Error(lu("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?uC.required:uC[this.getType(r)]||void 0},t}();LE.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");uC[e]=n};LE.warning=LKe;LE.messages=tL;LE.validators=uC;var Zc="'${name}' is not a valid ${type}",Yae={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Zc,method:Zc,array:Zc,object:Zc,number:Zc,date:Zc,boolean:Zc,integer:Zc,float:Zc,regexp:Zc,email:Zc,url:Zc,hex:Zc},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function qae(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function Xae(t){return Jre(t)||Dse(t)||s8(t)||eie()}function Kae(t,e,n,r){if(!e.length)return n;var i=Xae(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=un(t):a=be({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=Kae(a[o],s,n,r),a}function fZe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!qae(t,e.slice(0,-1))?t:Kae(t,e,n,r)}function ED(t){return Array.isArray(t)?hZe(t):Ar(t)==="object"&&t!==null?dZe(t):t}function dZe(t){if(Object.getPrototypeOf(t)===Object.prototype){var e={};for(var n in t)e[n]=ED(t[n]);return e}return t}function hZe(t){return t.map(function(e){return ED(e)})}function ia(t){return K$(t)}function pv(t,e){var n=qae(t,e);return n}function Vg(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=fZe(t,e,n,r);return i}function yX(t,e){var n={};return e.forEach(function(r){var i=pv(t,r);n=Vg(n,r,i)}),n}function fC(t,e){return t&&t.some(function(n){return Qae(n,e)})}function bX(t){return Ar(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Zae(t,e){var n=Array.isArray(t)?un(t):be({},t);return e&&Object.keys(e).forEach(function(r){var i=n[r],o=e[r],s=bX(i)&&bX(o);n[r]=s?Zae(i,o||{}):ED(o)}),n}function FO(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(i,o){return Zae(i,o)},t)}function Qae(t,e){return!t||!e||t.length!==e.length?!1:t.every(function(n,r){return e[r]===n})}function pZe(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||Ar(t)!=="object"||Ar(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return un(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function gZe(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Ar(e.target)==="object"&&t in e.target?e.target[t]:e}function xX(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(un(t.slice(0,n)),[i],un(t.slice(n,e)),un(t.slice(e+1,r))):o<0?[].concat(un(t.slice(0,e)),un(t.slice(e+1,n+1)),[i],un(t.slice(n+1,r))):t}var vZe=LE;function mZe(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var wX="CODE_LOGIC_ERROR";function nL(t,e,n,r,i){return rL.apply(this,arguments)}function rL(){return rL=ii(nc().mark(function t(e,n,r,i,o){var s,a,l,c,u,f,d,h,p;return nc().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=be({},r),delete s.ruleIndex,s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(wX)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new vZe(V({},e,[s])),u=FO({},Yae,i.validateMessages),c.messages(u),f=[],m.prev=9,m.next=12,Promise.resolve(c.validate(V({},e,n),be({},i)));case 12:m.next=17;break;case 14:m.prev=14,m.t0=m.catch(9),m.t0.errors&&(f=m.t0.errors.map(function(y,b){var C=y.message,E=C===wX?u.default:C;return T.exports.isValidElement(E)?T.exports.cloneElement(E,{key:"error_".concat(b)}):E}));case 17:if(!(!f.length&&l)){m.next=22;break}return m.next=20,Promise.all(n.map(function(y,b){return nL("".concat(e,".").concat(b),y,l,i,o)}));case 20:return d=m.sent,m.abrupt("return",d.reduce(function(y,b){return[].concat(un(y),un(b))},[]));case 22:return h=be(be({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),p=f.map(function(y){return typeof y=="string"?mZe(y,h):y}),m.abrupt("return",p);case 25:case"end":return m.stop()}},t,null,[[9,14]])})),rL.apply(this,arguments)}function yZe(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(u,f){var d=u.validator,h=be(be({},u),{},{ruleIndex:f});return d&&(h.validator=function(p,g,m){var y=!1,b=function(){for(var _=arguments.length,w=new Array(_),M=0;M<_;M++)w[M]=arguments[M];Promise.resolve().then(function(){Nl(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||m.apply(void 0,w)})},C=d(p,g,b);y=C&&typeof C.then=="function"&&typeof C.catch=="function",Nl(y,"`callback` is deprecated. Please return a promise instead."),y&&C.then(function(){m()}).catch(function(E){m(E||" ")})}),h}).sort(function(u,f){var d=u.warningOnly,h=u.ruleIndex,p=f.warningOnly,g=f.ruleIndex;return!!d==!!p?h-g:d?1:-1}),l;if(i===!0)l=new Promise(function(){var u=ii(nc().mark(function f(d,h){var p,g,m;return nc().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:p=0;case 1:if(!(p<a.length)){b.next=12;break}return g=a[p],b.next=5,nL(s,e,g,r,o);case 5:if(m=b.sent,!m.length){b.next=9;break}return h([{errors:m,rule:g}]),b.abrupt("return");case 9:p+=1,b.next=1;break;case 12:d([]);case 13:case"end":return b.stop()}},f)}));return function(f,d){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return nL(s,e,u,r,o).then(function(f){return{errors:f,rule:u}})});l=(i?xZe(c):bZe(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function bZe(t){return iL.apply(this,arguments)}function iL(){return iL=ii(nc().mark(function t(e){return nc().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,un(i));return s}));case 1:case"end":return r.stop()}},t)})),iL.apply(this,arguments)}function xZe(t){return oL.apply(this,arguments)}function oL(){return oL=ii(nc().mark(function t(e){var n;return nc().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),oL.apply(this,arguments)}var wZe=["name"],Vu=[];function CX(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var rz=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;if(Cn(this,n),i=e.call(this,r),i.state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=Vu,i.warnings=Vu,i.cancelRegister=function(){var l=i.props,c=l.preserve,u=l.isListField,f=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,ia(f)),i.cancelRegisterFunc=null},i.getNamePath=function(){var l=i.props,c=l.name,u=l.fieldContext,f=u.prefixName,d=f===void 0?[]:f;return c!==void 0?[].concat(un(d),un(c)):[]},i.getRules=function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,f=l.fieldContext;return u.map(function(d){return typeof d=="function"?d(f):d})},i.refresh=function(){!i.mounted||i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})},i.triggerMetaEvent=function(l){var c=i.props.onMetaChange;c==null||c(be(be({},i.getMeta()),{},{destroy:l}))},i.onStoreChange=function(l,c,u){var f=i.props,d=f.shouldUpdate,h=f.dependencies,p=h===void 0?[]:h,g=f.onReset,m=u.store,y=i.getNamePath(),b=i.getValue(l),C=i.getValue(m),E=c&&fC(c,y);switch(u.type==="valueUpdate"&&u.source==="external"&&b!==C&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Vu,i.warnings=Vu,i.triggerMetaEvent()),u.type){case"reset":if(!c||E){i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=Vu,i.warnings=Vu,i.triggerMetaEvent(),g==null||g(),i.refresh();return}break;case"remove":{if(d){i.reRender();return}break}case"setField":{if(E){var _=u.data;"touched"in _&&(i.touched=_.touched),"validating"in _&&!("originRCField"in _)&&(i.validatePromise=_.validating?Promise.resolve([]):null),"errors"in _&&(i.errors=_.errors||Vu),"warnings"in _&&(i.warnings=_.warnings||Vu),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}if(d&&!y.length&&CX(d,l,m,b,C,u)){i.reRender();return}break}case"dependenciesUpdate":{var w=p.map(ia);if(w.some(function(M){return fC(u.relatedFields,M)})){i.reRender();return}break}default:if(E||(!p.length||y.length||d)&&CX(d,l,m,b,C,u)){i.reRender();return}break}d===!0&&i.reRender()},i.validateRules=function(l){var c=i.getNamePath(),u=i.getValue(),f=Promise.resolve().then(function(){if(!i.mounted)return[];var d=i.props,h=d.validateFirst,p=h===void 0?!1:h,g=d.messageVariables,m=l||{},y=m.triggerName,b=i.getRules();y&&(b=b.filter(function(E){var _=E.validateTrigger;if(!_)return!0;var w=K$(_);return w.includes(y)}));var C=yZe(c,u,b,l,p,g);return C.catch(function(E){return E}).then(function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vu;if(i.validatePromise===f){var _;i.validatePromise=null;var w=[],M=[];(_=E.forEach)===null||_===void 0||_.call(E,function(k){var I=k.rule.warningOnly,A=k.errors,N=A===void 0?Vu:A;I?M.push.apply(M,un(N)):w.push.apply(w,un(N))}),i.errors=w,i.warnings=M,i.triggerMetaEvent(),i.reRender()}}),C});return i.validatePromise=f,i.dirty=!0,i.errors=Vu,i.warnings=Vu,i.triggerMetaEvent(),i.reRender(),f},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(f0),u=c.getInitialValue;return u(i.getNamePath())!==void 0},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()};return l},i.getOnlyChild=function(l){if(typeof l=="function"){var c=i.getMeta();return be(be({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=G0(l);return u.length!==1||!T.exports.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}},i.getValue=function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return pv(l||c(!0),u)},i.getControlled=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.trigger,f=c.validateTrigger,d=c.getValueFromEvent,h=c.normalize,p=c.valuePropName,g=c.getValueProps,m=c.fieldContext,y=f!==void 0?f:m.validateTrigger,b=i.getNamePath(),C=m.getInternalHooks,E=m.getFieldsValue,_=C(f0),w=_.dispatch,M=i.getValue(),k=g||function($){return V({},p,$)},I=l[u],A=be(be({},l),k(M));A[u]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var $,L=arguments.length,B=new Array(L),j=0;j<L;j++)B[j]=arguments[j];d?$=d.apply(void 0,B):$=gZe.apply(void 0,[p].concat(B)),h&&($=h($,M,E(!0))),w({type:"updateValue",namePath:b,value:$}),I&&I.apply(void 0,B)};var N=K$(y||[]);return N.forEach(function($){var L=A[$];A[$]=function(){L&&L.apply(void 0,arguments);var B=i.props.rules;B&&B.length&&w({type:"validateField",namePath:b,triggerName:$})}}),A},r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(f0),a=s.initEntityValue;a(ts(i))}return i}return Rn(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(f0),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){!this.mounted||this.forceUpdate()}},{key:"render",value:function(){this.state.resetCount;var i=this.props.children,o=this.getOnlyChild(i),s=o.child,a=o.isFunction,l;return a?l=s:T.exports.isValidElement(s)?l=T.exports.cloneElement(s,this.getControlled(s.props)):(Nl(!s,"`children` of Field is not validate ReactElement."),l=s),D(Xi,{children:l})}}]),n}(T.exports.Component);rz.contextType=j0;rz.defaultProps={trigger:"onChange",valuePropName:"value"};function iz(t){var e=t.name,n=_i(t,wZe),r=T.exports.useContext(j0),i=e!==void 0?ia(e):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),D(rz,{name:i,...n,fieldContext:r},o)}var Jae=T.exports.createContext(null),ele=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,s=e.validateTrigger,a=T.exports.useContext(j0),l=T.exports.useRef({keys:[],id:0}),c=l.current,u=T.exports.useMemo(function(){var p=ia(a.prefixName)||[];return[].concat(un(p),un(ia(n)))},[a.prefixName,n]),f=T.exports.useMemo(function(){return be(be({},a),{},{prefixName:u})},[a,u]),d=T.exports.useMemo(function(){return{getKey:function(g){var m=u.length,y=g[m];return[c.keys[y],g.slice(m+1)]}}},[u]);if(typeof i!="function")return Nl(!1,"Form.List only accepts function as children."),null;var h=function(g,m,y){var b=y.source;return b==="internal"?!1:g!==m};return D(Jae.Provider,{value:d,children:D(j0.Provider,{value:f,children:D(iz,{name:[],shouldUpdate:h,rules:o,validateTrigger:s,initialValue:r,isList:!0,children:function(p,g){var m=p.value,y=m===void 0?[]:m,b=p.onChange,C=a.getFieldValue,E=function(){var k=C(u||[]);return k||[]},_={add:function(k,I){var A=E();I>=0&&I<=A.length?(c.keys=[].concat(un(c.keys.slice(0,I)),[c.id],un(c.keys.slice(I))),b([].concat(un(A.slice(0,I)),[k],un(A.slice(I))))):(c.keys=[].concat(un(c.keys),[c.id]),b([].concat(un(A),[k]))),c.id+=1},remove:function(k){var I=E(),A=new Set(Array.isArray(k)?k:[k]);A.size<=0||(c.keys=c.keys.filter(function(N,$){return!A.has($)}),b(I.filter(function(N,$){return!A.has($)})))},move:function(k,I){if(k!==I){var A=E();k<0||k>=A.length||I<0||I>=A.length||(c.keys=xX(c.keys,k,I),b(xX(A,k,I)))}}},w=y||[];return Array.isArray(w)||(w=[]),i(w.map(function(M,k){var I=c.keys[k];return I===void 0&&(c.keys[k]=c.id,I=c.keys[k],c.id+=1),{name:k,key:I,isListField:!0}}),_,g)}})})})};function CZe(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var tle="__@field_split__";function AI(t){return t.map(function(e){return"".concat(Ar(e),":").concat(e)}).join(tle)}var lb=function(){function t(){Cn(this,t),this.kvs=new Map}return Rn(t,[{key:"set",value:function(n,r){this.kvs.set(AI(n),r)}},{key:"get",value:function(n){return this.kvs.get(AI(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(AI(n))}},{key:"map",value:function(n){return un(this.kvs.entries()).map(function(r){var i=Ke(r,2),o=i[0],s=i[1],a=o.split(tle);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Ke(c,3),f=u[1],d=u[2];return f==="number"?Number(d):d}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),SZe=["name","errors"],EZe=Rn(function t(e){var n=this;Cn(this,t),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(r){return r===f0?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Nl(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(r){n.subscribable=r},this.prevWithoutPreserves=null,this.setInitialValues=function(r,i){if(n.initialValues=r||{},i){var o,s=FO({},r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=Vg(s,l,pv(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}},this.destroyForm=function(){var r=new lb;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r},this.getInitialValue=function(r){var i=pv(n.initialValues,r);return r.length?ED(i):i},this.setCallbacks=function(r){n.callbacks=r},this.setValidateMessages=function(r){n.validateMessages=r},this.setPreserve=function(r){n.preserve=r},this.watchList=[],this.registerWatch=function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}},this.notifyWatch=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue();n.watchList.forEach(function(o){o(i,r)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(r){n.store=r},this.getFieldEntities=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities},this.getFieldsMap=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new lb;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i},this.getFieldEntitiesForNamePathList=function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=ia(o);return i.get(s)||{INVALIDATE_NAME_PATH:ia(o)}})},this.getFieldsValue=function(r,i){if(n.warningUnhooked(),r===!0&&!i)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return o.forEach(function(a){var l,c="INVALIDATE_NAME_PATH"in a?a.INVALIDATE_NAME_PATH:a.getNamePath();if(!(!r&&((l=a.isListField)===null||l===void 0?void 0:l.call(a))))if(!i)s.push(c);else{var u="getMeta"in a?a.getMeta():null;i(u)&&s.push(c)}}),yX(n.store,s.map(ia))},this.getFieldValue=function(r){n.warningUnhooked();var i=ia(r);return pv(n.store,i)},this.getFieldsError=function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:ia(r[s]),errors:[],warnings:[]}})},this.getFieldError=function(r){n.warningUnhooked();var i=ia(r),o=n.getFieldsError([i])[0];return o.errors},this.getFieldWarning=function(r){n.warningUnhooked();var i=ia(r),o=n.getFieldsError([i])[0];return o.warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(ia),c=!1):(l=null,c=s):(l=s.map(ia),c=a);var u=n.getFieldEntities(!0),f=function(m){return m.isFieldTouched()};if(!l)return c?u.every(f):u.some(f);var d=new lb;l.forEach(function(g){d.set(g,[])}),u.forEach(function(g){var m=g.getNamePath();l.forEach(function(y){y.every(function(b,C){return m[C]===b})&&d.update(y,function(b){return[].concat(un(b),[g])})})});var h=function(m){return m.some(f)},p=d.map(function(g){var m=g.value;return m});return c?p.every(h):p.some(h)},this.isFieldTouched=function(r){return n.warningUnhooked(),n.isFieldsTouched([r])},this.isFieldsValidating=function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(ia);return i.some(function(s){var a=s.getNamePath();return fC(o,a)&&s.isFieldValidating()})},this.isFieldValidating=function(r){return n.warningUnhooked(),n.isFieldsValidating([r])},this.resetWithFieldInitialValue=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new lb,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var f=i.get(u)||new Set;f.add({entity:l,value:c}),i.set(u,f)}});var s=function(c){c.forEach(function(u){var f=u.props.initialValue;if(f!==void 0){var d=u.getNamePath(),h=n.getInitialValue(d);if(h!==void 0)Nl(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var p=i.get(d);if(p&&p.size>1)Nl(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var g=n.getFieldValue(d);(!r.skipExist||g===void 0)&&n.updateStore(Vg(n.store,d,un(p)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,un(un(c).map(function(f){return f.entity})))}})):a=o,s(a)},this.resetFields=function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(FO({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(ia);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(Vg(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)},this.setFields=function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name;s.errors;var l=_i(s,SZe),c=ia(a);o.push(c),"value"in l&&n.updateStore(Vg(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(o)},this.getFields=function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=be(be({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i},this.initEntityValue=function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=pv(n.store,o);s===void 0&&n.updateStore(Vg(n.store,o,i))}},this.isMergedPreserve=function(r){var i=r!==void 0?r:n.preserve;return i!=null?i:!0},this.registerField=function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(f){return!Qae(f.getNamePath(),i)})){var u=n.store;n.updateStore(Vg(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}},this.dispatch=function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}},this.notifyObservers=function(r,i,o){if(n.subscribable){var s=be(be({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(un(o))}),o},this.updateValue=function(r,i){var o=ia(r),s=n.store;n.updateStore(Vg(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var c=yX(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(un(a)))},this.setFieldsValue=function(r){n.warningUnhooked();var i=n.store;if(r){var o=FO(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(r,i){n.setFields([{name:r,value:i}])},this.getDependencyChildrenFields=function(r){var i=new Set,o=[],s=new lb;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var f=ia(u);s.update(f,function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return d.add(l),d})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(f){if(!i.has(f)){i.add(f);var d=f.getNamePath();f.isFieldDirty()&&d.length&&(o.push(d),l(d))}})};return a(r),o},this.triggerOnFieldsChange=function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new lb;i.forEach(function(c){var u=c.name,f=c.errors;a.set(u,f)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return fC(r,u)});o(l,s)}},this.validateFields=function(r,i){n.warningUnhooked();var o=!!r,s=o?r.map(ia):[],a=[];n.getFieldEntities(!0).forEach(function(u){if(o||s.push(u.getNamePath()),(i==null?void 0:i.recursive)&&o){var f=u.getNamePath();f.every(function(p,g){return r[g]===p||r[g]===void 0})&&s.push(f)}if(!(!u.props.rules||!u.props.rules.length)){var d=u.getNamePath();if(!o||fC(s,d)){var h=u.validateRules(be({validateMessages:be(be({},Yae),n.validateMessages)},i));a.push(h.then(function(){return{name:d,errors:[],warnings:[]}}).catch(function(p){var g,m=[],y=[];return(g=p.forEach)===null||g===void 0||g.call(p,function(b){var C=b.rule.warningOnly,E=b.errors;C?y.push.apply(y,un(E)):m.push.apply(m,un(E))}),m.length?Promise.reject({name:d,errors:m,warnings:y}):{name:d,errors:m,warnings:y}}))}}});var l=CZe(a);n.lastValidatePromise=l,l.catch(function(u){return u}).then(function(u){var f=u.map(function(d){var h=d.name;return h});n.notifyObservers(n.store,f,{type:"validateFinish"}),n.triggerOnFieldsChange(f,u)});var c=l.then(function(){return n.lastValidatePromise===l?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])}).catch(function(u){var f=u.filter(function(d){return d&&d.errors.length});return Promise.reject({values:n.getFieldsValue(s),errorFields:f,outOfDate:n.lastValidatePromise!==l})});return c.catch(function(u){return u}),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})},this.forceRootUpdate=e});function oz(t){var e=T.exports.useRef(),n=T.exports.useState({}),r=Ke(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new EZe(o);e.current=s.getForm()}return[e.current]}var sL=T.exports.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),sz=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=T.exports.useContext(sL),a=T.exports.useRef({});return D(sL.Provider,{value:be(be({},s),{},{validateMessages:be(be({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=be(be({},a.current),{},V({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=be({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}}),children:o})},_Ze=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],TZe=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,f=e.validateMessages,d=e.validateTrigger,h=d===void 0?"onChange":d,p=e.onValuesChange,g=e.onFieldsChange,m=e.onFinish,y=e.onFinishFailed,b=_i(e,_Ze),C=T.exports.useContext(sL),E=oz(s),_=Ke(E,1),w=_[0],M=w.getInternalHooks(f0),k=M.useSubscribe,I=M.setInitialValues,A=M.setCallbacks,N=M.setValidateMessages,$=M.setPreserve,L=M.destroyForm;T.exports.useImperativeHandle(n,function(){return w}),T.exports.useEffect(function(){return C.registerForm(r,w),function(){C.unregisterForm(r)}},[C,w,r]),N(be(be({},C.validateMessages),f)),A({onValuesChange:p,onFieldsChange:function(fe){if(C.triggerFormChange(r,fe),g){for(var me=arguments.length,K=new Array(me>1?me-1:0),le=1;le<me;le++)K[le-1]=arguments[le];g.apply(void 0,[fe].concat(K))}},onFinish:function(fe){C.triggerFormFinish(r,fe),m&&m(fe)},onFinishFailed:y}),$(a);var B=T.exports.useRef(null);I(i,!B.current),B.current||(B.current=!0),T.exports.useEffect(function(){return L},[]);var j,H=typeof l=="function";if(H){var te=w.getFieldsValue(!0);j=l(te,w)}else j=l;k(!H);var Y=T.exports.useRef();T.exports.useEffect(function(){pZe(Y.current||[],o||[])||w.setFields(o||[]),Y.current=o},[o,w]);var ue=T.exports.useMemo(function(){return be(be({},w),{},{validateTrigger:h})},[w,h]),ce=D(j0.Provider,{value:ue,children:j});return u===!1?ce:D(u,{...b,onSubmit:function(fe){fe.preventDefault(),fe.stopPropagation(),w.submit()},onReset:function(fe){var me;fe.preventDefault(),w.resetFields(),(me=b.onReset)===null||me===void 0||me.call(b,fe)},children:ce})};function SX(t){try{return JSON.stringify(t)}catch{return Math.random()}}function nle(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=T.exports.useState(),r=Ke(n,2),i=r[0],o=r[1],s=T.exports.useMemo(function(){return SX(i)},[i]),a=T.exports.useRef(s);a.current=s;var l=T.exports.useContext(j0),c=e||l,u=c&&c._init,f=ia(t),d=T.exports.useRef(f);return d.current=f,T.exports.useEffect(function(){if(!!u){var h=c.getFieldsValue,p=c.getInternalHooks,g=p(f0),m=g.registerWatch,y=m(function(C){var E=pv(C,d.current),_=SX(E);a.current!==_&&(a.current=_,o(E))}),b=pv(h(),d.current);return o(b),y}},[]),i}var PZe=T.exports.forwardRef(TZe),N2=PZe;N2.FormProvider=sz;N2.Field=iz;N2.List=ele;N2.useForm=oz;N2.useWatch=nle;var EX=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function OZe(t,e){return!!(t===e||EX(t)&&EX(e))}function MZe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!OZe(t[n],e[n]))return!1;return!0}function AZe(t,e){e===void 0&&(e=MZe);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const kZe={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var DZe={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},NZe={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};const rle=NZe;var RZe={lang:Lt({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},DZe),timePickerLocale:Lt({},rle)};const TA=RZe;var Qc="${label} is not a valid ${type}",IZe={locale:"en",Pagination:kZe,DatePicker:TA,TimePicker:rle,Calendar:TA,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Qc,method:Qc,array:Qc,object:Qc,number:Qc,date:Qc,boolean:Qc,integer:Qc,float:Qc,regexp:Qc,email:Qc,url:Qc,hex:Qc},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};const Up=IZe;var zO=Lt({},Up.Modal);function $P(t){t?zO=Lt(Lt({},zO),t):zO=Lt({},Up.Modal)}function ile(){return zO}var $Ze=T.exports.createContext(void 0);const az=$Ze;var LZe="internalMark",ole=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.getMemoizedContextValue=AZe(function(o){return Lt(Lt({},o),{exist:!0})}),$P(r.locale&&r.locale.Modal),i}return Rn(n,[{key:"componentDidMount",value:function(){$P(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(i){var o=this.props.locale;i.locale!==o&&$P(o&&o.Modal)}},{key:"componentWillUnmount",value:function(){$P()}},{key:"render",value:function(){var i=this.props,o=i.locale,s=i.children,a=this.getMemoizedContextValue(o);return D(az.Provider,{value:a,children:s})}}]),n}(T.exports.Component);ole.defaultProps={locale:{}};var tg=function(t){Zi(n,t);var e=Ra(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"getLocale",value:function(){var i=this.props,o=i.componentName,s=i.defaultLocale,a=s||Up[o!=null?o:"global"],l=this.context,c=o&&l?l[o]:{};return Lt(Lt({},a instanceof Function?a():a),c||{})}},{key:"getLocaleCode",value:function(){var i=this.context,o=i&&i.locale;return i&&i.exist&&!o?Up.locale:o}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(T.exports.Component);tg.defaultProps={componentName:"global"};tg.contextType=az;function FZe(t,e){var n=T.exports.useContext(az),r=T.exports.useMemo(function(){var i=e||Up[t||"global"],o=t&&n?n[t]:{};return Lt(Lt({},typeof i=="function"?i():i),o||{})},[t,e,n]);return[r]}var FE=be({},Mye),zZe=FE.version,GZe=FE.render,BZe=FE.unmountComponentAtNode,_D;try{var jZe=Number((zZe||"").split(".")[0]);jZe>=18&&(_D=FE.createRoot)}catch{}function _X(t){var e=FE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Ar(e)==="object"&&(e.usingClientEntryPoint=t)}var PA="__rc_react_root__";function VZe(t,e){_X(!0);var n=e[PA]||_D(e);_X(!1),n.render(t),e[PA]=n}function UZe(t,e){GZe(t,e)}function sle(t,e){if(_D){VZe(t,e);return}UZe(t,e)}function HZe(t){return aL.apply(this,arguments)}function aL(){return aL=ii(nc().mark(function t(e){return nc().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[PA])===null||i===void 0||i.unmount(),delete e[PA]}));case 1:case"end":return r.stop()}},t)})),aL.apply(this,arguments)}function WZe(t){BZe(t)}function ale(t){return lL.apply(this,arguments)}function lL(){return lL=ii(nc().mark(function t(e){return nc().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(_D===void 0){r.next=2;break}return r.abrupt("return",HZe(e));case 2:WZe(e);case 3:case"end":return r.stop()}},t)})),lL.apply(this,arguments)}function TX(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function YZe(t,e){var n={animationend:TX("Animation","AnimationEnd"),transitionend:TX("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var qZe=YZe(bh(),typeof window<"u"?window:{}),lle={};if(bh()){var XZe=document.createElement("div");lle=XZe.style}var LP={};function cle(t){if(LP[t])return LP[t];var e=qZe[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in lle)return LP[t]=e[o],LP[t]}return""}var ule=cle("animationend"),fle=cle("transitionend"),dle=!!(ule&&fle),PX=ule||"animationend",OX=fle||"transitionend";function MX(t,e){if(!t)return null;if(Ar(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}var kb="none",FP="appear",zP="enter",GP="leave",AX="none",yp="prepare",Jb="start",e1="active",lz="end";function Rp(t){var e=T.exports.useRef(!1),n=T.exports.useState(t),r=Ke(n,2),i=r[0],o=r[1];T.exports.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}var hle=function(e){return+setTimeout(e,16)},ple=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(hle=function(e){return window.requestAnimationFrame(e)},ple=function(e){return window.cancelAnimationFrame(e)});var kX=0,cz=new Map;function gle(t){cz.delete(t)}function oi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;kX+=1;var n=kX;function r(i){if(i===0)gle(n),t();else{var o=hle(function(){r(i-1)});cz.set(n,o)}}return r(e),n}oi.cancel=function(t){var e=cz.get(t);return gle(e),ple(e)};const KZe=function(){var t=T.exports.useRef(null);function e(){oi.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=oi(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return T.exports.useEffect(function(){return function(){e()}},[]),[n,e]};var vle=bh()?T.exports.useLayoutEffect:T.exports.useEffect,DX=[yp,Jb,e1,lz],mle=!1,ZZe=!0;function yle(t){return t===e1||t===lz}const QZe=function(t,e){var n=Rp(AX),r=Ke(n,2),i=r[0],o=r[1],s=KZe(),a=Ke(s,2),l=a[0],c=a[1];function u(){o(yp,!0)}return vle(function(){if(i!==AX&&i!==lz){var f=DX.indexOf(i),d=DX[f+1],h=e(i);h===mle?o(d,!0):l(function(p){function g(){p.isCanceled()||o(d,!0)}h===!0?g():Promise.resolve(h).then(g)})}},[t,i]),T.exports.useEffect(function(){return function(){c()}},[]),[u,i]},JZe=function(t){var e=T.exports.useRef(),n=T.exports.useRef(t);n.current=t;var r=T.exports.useCallback(function(s){n.current(s)},[]);function i(s){s&&(s.removeEventListener(OX,r),s.removeEventListener(PX,r))}function o(s){e.current&&e.current!==s&&i(e.current),s&&s!==e.current&&(s.addEventListener(OX,r),s.addEventListener(PX,r),e.current=s)}return T.exports.useEffect(function(){return function(){i(e.current)}},[]),[o,i]};function eQe(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,g=r.onAppearStart,m=r.onEnterStart,y=r.onLeaveStart,b=r.onAppearActive,C=r.onEnterActive,E=r.onLeaveActive,_=r.onAppearEnd,w=r.onEnterEnd,M=r.onLeaveEnd,k=r.onVisibleChanged,I=Rp(),A=Ke(I,2),N=A[0],$=A[1],L=Rp(kb),B=Ke(L,2),j=B[0],H=B[1],te=Rp(null),Y=Ke(te,2),ue=Y[0],ce=Y[1],se=T.exports.useRef(!1),fe=T.exports.useRef(null);function me(){return n()}var K=T.exports.useRef(!1);function le(je){var Ve=me();if(!(je&&!je.deadline&&je.target!==Ve)){var $t=K.current,Ct;j===FP&&$t?Ct=_==null?void 0:_(Ve,je):j===zP&&$t?Ct=w==null?void 0:w(Ve,je):j===GP&&$t&&(Ct=M==null?void 0:M(Ve,je)),j!==kb&&$t&&Ct!==!1&&(H(kb,!0),ce(null,!0))}}var Ne=JZe(le),Re=Ke(Ne,1),Je=Re[0],$e=T.exports.useMemo(function(){var je,Ve,$t;switch(j){case FP:return je={},V(je,yp,d),V(je,Jb,g),V(je,e1,b),je;case zP:return Ve={},V(Ve,yp,h),V(Ve,Jb,m),V(Ve,e1,C),Ve;case GP:return $t={},V($t,yp,p),V($t,Jb,y),V($t,e1,E),$t;default:return{}}},[j]),tt=QZe(j,function(je){if(je===yp){var Ve=$e[yp];return Ve?Ve(me()):mle}if(X in $e){var $t;ce((($t=$e[X])===null||$t===void 0?void 0:$t.call($e,me(),null))||null)}return X===e1&&(Je(me()),u>0&&(clearTimeout(fe.current),fe.current=setTimeout(function(){le({deadline:!0})},u))),ZZe}),Pt=Ke(tt,2),bt=Pt[0],X=Pt[1],ve=yle(X);K.current=ve,vle(function(){$(e);var je=se.current;if(se.current=!0,!!t){var Ve;!je&&e&&a&&(Ve=FP),je&&e&&o&&(Ve=zP),(je&&!e&&c||!je&&f&&!e&&c)&&(Ve=GP),Ve&&(H(Ve),bt())}},[e]),T.exports.useEffect(function(){(j===FP&&!a||j===zP&&!o||j===GP&&!c)&&H(kb)},[a,o,c]),T.exports.useEffect(function(){return function(){se.current=!1,clearTimeout(fe.current)}},[]);var ne=T.exports.useRef(!1);T.exports.useEffect(function(){N&&(ne.current=!0),N!==void 0&&j===kb&&((ne.current||N)&&(k==null||k(N)),ne.current=!0)},[N,j]);var ke=ue;return $e[yp]&&X===Jb&&(ke=be({transition:"none"},ke)),[j,X,ke,N!=null?N:e]}var tQe=function(t){Zi(n,t);var e=Ra(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"render",value:function(){return this.props.children}}]),n}(T.exports.Component);function nQe(t){var e=t;Ar(t)==="object"&&(e=t.transitionSupport);function n(i){return!!(i.motionName&&e)}var r=T.exports.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,f=i.children,d=i.motionName,h=i.leavedClassName,p=i.eventProps,g=n(i),m=T.exports.useRef(),y=T.exports.useRef();function b(){try{return m.current instanceof HTMLElement?m.current:WS(y.current)}catch{return null}}var C=eQe(g,a,b,i),E=Ke(C,4),_=E[0],w=E[1],M=E[2],k=E[3],I=T.exports.useRef(k);k&&(I.current=!0);var A=T.exports.useCallback(function(te){m.current=te,Fae(o,te)},[o]),N,$=be(be({},p),{},{visible:a});if(!f)N=null;else if(_===kb||!n(i))k?N=f(be({},$),A):!c&&I.current?N=f(be(be({},$),{},{className:h}),A):u?N=f(be(be({},$),{},{style:{display:"none"}}),A):N=null;else{var L,B;w===yp?B="prepare":yle(w)?B="active":w===Jb&&(B="start"),N=f(be(be({},$),{},{className:at(MX(d,_),(L={},V(L,MX(d,"".concat(_,"-").concat(B)),B),V(L,d,typeof d=="string"),L)),style:M}),A)}if(T.exports.isValidElement(N)&&D2(N)){var j=N,H=j.ref;H||(N=T.exports.cloneElement(N,{ref:A}))}return D(tQe,{ref:y,children:N})});return r.displayName="CSSMotion",r}const ng=nQe(dle);var cL="add",uL="keep",fL="remove",kI="removed";function rQe(t){var e;return t&&Ar(t)==="object"&&"key"in t?e=t:e={key:t},be(be({},e),{},{key:String(e.key)})}function dL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(rQe)}function iQe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=dL(t),s=dL(e);o.forEach(function(c){for(var u=!1,f=r;f<i;f+=1){var d=s[f];if(d.key===c.key){r<f&&(n=n.concat(s.slice(r,f).map(function(h){return be(be({},h),{},{status:cL})})),r=f),n.push(be(be({},d),{},{status:uL})),r+=1,u=!0;break}}u||n.push(be(be({},c),{},{status:fL}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return be(be({},c),{},{status:cL})})));var a={};n.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){n=n.filter(function(u){var f=u.key,d=u.status;return f!==c||d!==fL}),n.forEach(function(u){u.key===c&&(u.status=uL)})}),n}var oQe=["component","children","onVisibleChanged","onAllRemoved"],sQe=["status"],aQe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function lQe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ng,n=function(r){Zi(o,r);var i=Ra(o);function o(){var s;Cn(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),s.state={keyEntities:[]},s.removeKey=function(u){var f=s.state.keyEntities,d=f.map(function(h){return h.key!==u?h:be(be({},h),{},{status:kI})});return s.setState({keyEntities:d}),d.filter(function(h){var p=h.status;return p!==kI}).length},s}return Rn(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,f=c.children,d=c.onVisibleChanged,h=c.onAllRemoved,p=_i(c,oQe),g=u||T.exports.Fragment,m={};return aQe.forEach(function(y){m[y]=p[y],delete p[y]}),delete p.keys,D(g,{...p,children:l.map(function(y){var b=y.status,C=_i(y,sQe),E=b===cL||b===uL;return T.exports.createElement(e,{...m,key:C.key,visible:E,eventProps:C,onVisibleChanged:function(w){if(d==null||d(w,{key:C.key}),!w){var M=a.removeKey(C.key);M===0&&h&&h()}}},f)})})}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,f=dL(c),d=iQe(u,f);return{keyEntities:d.filter(function(h){var p=u.find(function(g){var m=g.key;return h.key===m});return!(p&&p.status===kI&&h.status===fL)})}}}]),o}(T.exports.Component);return n.defaultProps={component:"div"},n}const ble=lQe(dle);var uz=function(t){Zi(n,t);var e=Ra(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.closeTimer=null,r.close=function(a){a&&a.stopPropagation(),r.clearCloseTimer();var l=r.props,c=l.onClose,u=l.noticeKey;c&&c(u)},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=window.setTimeout(function(){r.close()},r.props.duration*1e3))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},r}return Rn(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(i){(this.props.duration!==i.duration||this.props.updateMark!==i.updateMark||this.props.visible!==i.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var i=this,o=this.props,s=o.prefixCls,a=o.className,l=o.closable,c=o.closeIcon,u=o.style,f=o.onClick,d=o.children,h=o.holder,p="".concat(s,"-notice"),g=Object.keys(this.props).reduce(function(y,b){return(b.substr(0,5)==="data-"||b.substr(0,5)==="aria-"||b==="role")&&(y[b]=i.props[b]),y},{}),m=_t("div",{className:at(p,a,V({},"".concat(p,"-closable"),l)),style:u,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:f,...g,children:[D("div",{className:"".concat(p,"-content"),children:d}),l?D("a",{tabIndex:0,onClick:this.close,className:"".concat(p,"-close"),children:c||D("span",{className:"".concat(p,"-close-x")})}):null]});return h?fu.createPortal(m,h):m}}]),n}(T.exports.Component);uz.defaultProps={onClose:function(){},duration:1.5};function fz(t){var e=T.exports.useRef({}),n=T.exports.useState([]),r=Ke(n,2),i=r[0],o=r[1];function s(a){var l=!0;t.add(a,function(c,u){var f=u.key;if(c&&(!e.current[f]||l)){var d=D(uz,{...u,holder:c});e.current[f]=d,o(function(h){var p=h.findIndex(function(m){return m.key===u.key});if(p===-1)return[].concat(un(h),[d]);var g=un(h);return g[p]=d,g})}l=!1})}return[s,D(Xi,{children:i})]}var cQe=["getContainer"],NX=0,uQe=Date.now();function RX(){var t=NX;return NX+=1,"rcNotification_".concat(uQe,"_").concat(t)}var c2=function(t){Zi(n,t);var e=Ra(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.state={notices:[]},r.hookRefs=new Map,r.add=function(a,l){var c=a.key||RX(),u=be(be({},a),{},{key:c}),f=r.props.maxCount;r.setState(function(d){var h=d.notices,p=h.map(function(m){return m.notice.key}).indexOf(c),g=h.concat();return p!==-1?g.splice(p,1,{notice:u,holderCallback:l}):(f&&h.length>=f&&(u.key=g[0].notice.key,u.updateMark=RX(),u.userPassKey=c,g.shift()),g.push({notice:u,holderCallback:l})),{notices:g}})},r.remove=function(a){r.setState(function(l){var c=l.notices;return{notices:c.filter(function(u){var f=u.notice,d=f.key,h=f.userPassKey,p=h||d;return p!==a})}})},r.noticePropsMap={},r}return Rn(n,[{key:"getTransitionName",value:function(){var i=this.props,o=i.prefixCls,s=i.animation,a=this.props.transitionName;return!a&&s&&(a="".concat(o,"-").concat(s)),a}},{key:"render",value:function(){var i=this,o=this.state.notices,s=this.props,a=s.prefixCls,l=s.className,c=s.closeIcon,u=s.style,f=[];return o.forEach(function(d,h){var p=d.notice,g=d.holderCallback,m=h===o.length-1?p.updateMark:void 0,y=p.key,b=p.userPassKey,C=be(be(be({prefixCls:a,closeIcon:c},p),p.props),{},{key:y,noticeKey:b||y,updateMark:m,onClose:function(_){var w;i.remove(_),(w=p.onClose)===null||w===void 0||w.call(p)},onClick:p.onClick,children:p.content});f.push(y),i.noticePropsMap[y]={props:C,holderCallback:g}}),D("div",{className:at(a,l),style:u,children:D(ble,{keys:f,motionName:this.getTransitionName(),onVisibleChanged:function(h,p){var g=p.key;h||delete i.noticePropsMap[g]},children:function(d){var h=d.key,p=d.className,g=d.style,m=d.visible,y=i.noticePropsMap[h],b=y.props,C=y.holderCallback;return C?D("div",{className:at(p,"".concat(a,"-hook-holder")),style:be({},g),ref:function(_){typeof h>"u"||(_?(i.hookRefs.set(h,_),C(_,b)):i.hookRefs.delete(h))}},h):D(uz,{...b,className:at(p,b==null?void 0:b.className),style:be(be({},g),b==null?void 0:b.style),visible:m})}})})}}]),n}(T.exports.Component);c2.newInstance=void 0;c2.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}};c2.newInstance=function(e,n){var r=e||{},i=r.getContainer,o=_i(r,cQe),s=document.createElement("div");if(i){var a=i();a.appendChild(s)}else document.body.appendChild(s);var l=!1;function c(u){l||(l=!0,n({notice:function(d){u.add(d)},removeNotice:function(d){u.remove(d)},component:u,destroy:function(){ale(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return fz(u)}}))}sle(D(c2,{...o,ref:c}),s)};function fQe(t,e){var n=function(){var i,o,s=null,a={add:function(g,m){s==null||s.component.add(g,m)}},l=fz(a),c=Ke(l,2),u=c[0],f=c[1];function d(p){var g=p.prefixCls,m=i("message",g),y=i(),b=p.key||Ple(),C=new Promise(function(_){var w=function(){return typeof p.onClose=="function"&&p.onClose(),_(!0)};t(Lt(Lt({},p),{prefixCls:m,rootPrefixCls:y,getPopupContainer:o}),function(M){var k=M.prefixCls,I=M.instance;s=I,u(e(Lt(Lt({},p),{key:b,onClose:w}),k))})}),E=function(){s&&s.removeNotice(b)};return E.then=function(_,w){return C.then(_,w)},E.promise=C,E}var h=T.exports.useRef({});return h.current.open=d,Ale.forEach(function(p){return Dle(h.current,p)}),[h.current,D(rg,{children:function(p){return i=p.getPrefixCls,o=p.getPopupContainer,f}},"holder")]};return n}var Kl,xle=3,wle,dQe=1,Cle="",hL="move-up",Sle=!1,Ele,_le,Tle=!1;function Ple(){return dQe++}function hQe(t){t.top!==void 0&&(wle=t.top,Kl=null),t.duration!==void 0&&(xle=t.duration),t.prefixCls!==void 0&&(Cle=t.prefixCls),t.getContainer!==void 0&&(Ele=t.getContainer,Kl=null),t.transitionName!==void 0&&(hL=t.transitionName,Kl=null,Sle=!0),t.maxCount!==void 0&&(_le=t.maxCount,Kl=null),t.rtl!==void 0&&(Tle=t.rtl)}function Ole(t,e){var n=t.prefixCls,r=t.getPopupContainer,i=dz(),o=i.getPrefixCls,s=i.getRootPrefixCls,a=i.getIconPrefixCls,l=o("message",n||Cle),c=s(t.rootPrefixCls,l),u=a();if(Kl){e({prefixCls:l,rootPrefixCls:c,iconPrefixCls:u,instance:Kl});return}var f={prefixCls:l,transitionName:Sle?hL:"".concat(c,"-").concat(hL),style:{top:wle},getContainer:Ele||r,maxCount:_le};c2.newInstance(f,function(d){if(Kl){e({prefixCls:l,rootPrefixCls:c,iconPrefixCls:u,instance:Kl});return}Kl=d,e({prefixCls:l,rootPrefixCls:c,iconPrefixCls:u,instance:d})})}var Mle={info:PNe,success:gie,error:Q0,warning:u8,loading:sS},Ale=Object.keys(Mle);function kle(t,e,n){var r,i=t.duration!==void 0?t.duration:xle,o=Mle[t.type],s=at("".concat(e,"-custom-content"),(r={},V(r,"".concat(e,"-").concat(t.type),t.type),V(r,"".concat(e,"-rtl"),Tle===!0),r));return{key:t.key,duration:i,style:t.style||{},className:t.className,content:D(ay,{iconPrefixCls:n,children:_t("div",{className:s,children:[t.icon||o&&D(o,{}),D("span",{children:t.content})]})}),onClose:t.onClose,onClick:t.onClick}}function pQe(t){var e=t.key||Ple(),n=new Promise(function(i){var o=function(){return typeof t.onClose=="function"&&t.onClose(),i(!0)};Ole(t,function(s){var a=s.prefixCls,l=s.iconPrefixCls,c=s.instance;c.notice(kle(Lt(Lt({},t),{key:e,onClose:o}),a,l))})}),r=function(){Kl&&Kl.removeNotice(e)};return r.then=function(i,o){return n.then(i,o)},r.promise=n,r}function gQe(t){return Object.prototype.toString.call(t)==="[object Object]"&&!!t.content}var qS={open:pQe,config:hQe,destroy:function(e){if(Kl)if(e){var n=Kl,r=n.removeNotice;r(e)}else{var i=Kl,o=i.destroy;o(),Kl=null}}};function Dle(t,e){t[e]=function(n,r,i){return gQe(n)?t.open(Lt(Lt({},n),{type:e})):(typeof r=="function"&&(i=r,r=void 0),t.open({content:n,duration:r,type:e,onClose:i}))}}Ale.forEach(function(t){return Dle(qS,t)});qS.warn=qS.warning;qS.useMessage=fQe(Ole,kle);const vQe=qS;function mQe(t,e){var n=function(){var i,o=null,s={add:function(p,g){o==null||o.component.add(p,g)}},a=fz(s),l=Ke(a,2),c=l[0],u=l[1];function f(h){var p=h.prefixCls,g=i("notification",p);t(Lt(Lt({},h),{prefixCls:g}),function(m){var y=m.prefixCls,b=m.instance;o=b,c(e(h,y))})}var d=T.exports.useRef({});return d.current.open=f,["success","info","warning","error"].forEach(function(h){d.current[h]=function(p){return d.current.open(Lt(Lt({},p),{type:h}))}}),[d.current,D(rg,{children:function(h){return i=h.getPrefixCls,u}},"holder")]};return n}globalThis&&globalThis.__awaiter;var t0={},Nle=4.5,Rle=24,Ile=24,$le="",pL="topRight",Lle,Fle,zle=!1,Gle;function yQe(t){var e=t.duration,n=t.placement,r=t.bottom,i=t.top,o=t.getContainer,s=t.closeIcon,a=t.prefixCls;a!==void 0&&($le=a),e!==void 0&&(Nle=e),n!==void 0?pL=n:t.rtl&&(pL="topLeft"),r!==void 0&&(Ile=r),i!==void 0&&(Rle=i),o!==void 0&&(Lle=o),s!==void 0&&(Fle=s),t.rtl!==void 0&&(zle=t.rtl),t.maxCount!==void 0&&(Gle=t.maxCount)}function bQe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rle,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ile,r;switch(t){case"top":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":r={left:0,top:e,bottom:"auto"};break;case"topRight":r={right:0,top:e,bottom:"auto"};break;case"bottom":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":r={left:0,top:"auto",bottom:n};break;default:r={right:0,top:"auto",bottom:n};break}return r}function Ble(t,e){var n=t.placement,r=n===void 0?pL:n,i=t.top,o=t.bottom,s=t.getContainer,a=s===void 0?Lle:s,l=t.prefixCls,c=dz(),u=c.getPrefixCls,f=c.getIconPrefixCls,d=u("notification",l||$le),h=f(),p="".concat(d,"-").concat(r),g=t0[p];if(g){Promise.resolve(g).then(function(y){e({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:y})});return}var m=at("".concat(d,"-").concat(r),V({},"".concat(d,"-rtl"),zle===!0));t0[p]=new Promise(function(y){c2.newInstance({prefixCls:d,className:m,style:bQe(r,i,o),getContainer:a,maxCount:Gle},function(b){y(b),e({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:b})})})}var xQe={success:Xk,info:Zk,error:Kk,warning:PE};function jle(t,e,n){var r=t.duration,i=t.icon,o=t.type,s=t.description,a=t.message,l=t.btn,c=t.onClose,u=t.onClick,f=t.key,d=t.style,h=t.className,p=t.closeIcon,g=p===void 0?Fle:p,m=r===void 0?Nle:r,y=null;i?y=D("span",{className:"".concat(e,"-icon"),children:t.icon}):o&&(y=T.exports.createElement(xQe[o]||null,{className:"".concat(e,"-icon ").concat(e,"-icon-").concat(o)}));var b=D("span",{className:"".concat(e,"-close-x"),children:g||D(TE,{className:"".concat(e,"-close-icon")})}),C=!s&&y?D("span",{className:"".concat(e,"-message-single-line-auto-margin")}):null;return{content:D(ay,{iconPrefixCls:n,children:_t("div",{className:y?"".concat(e,"-with-icon"):"",role:"alert",children:[y,_t("div",{className:"".concat(e,"-message"),children:[C,a]}),D("div",{className:"".concat(e,"-description"),children:s}),l?D("span",{className:"".concat(e,"-btn"),children:l}):null]})}),duration:m,closable:!0,closeIcon:b,onClose:c,onClick:u,key:f,style:d||{},className:at(h,V({},"".concat(e,"-").concat(o),!!o))}}function wQe(t){Ble(t,function(e){var n=e.prefixCls,r=e.iconPrefixCls,i=e.instance;i.notice(jle(t,n,r))})}var u2={open:wQe,close:function(e){Object.keys(t0).forEach(function(n){return Promise.resolve(t0[n]).then(function(r){r.removeNotice(e)})})},config:yQe,destroy:function(){Object.keys(t0).forEach(function(e){Promise.resolve(t0[e]).then(function(n){n.destroy()}),delete t0[e]})}};["success","info","warning","error"].forEach(function(t){u2[t]=function(e){return u2.open(Lt(Lt({},e),{type:t}))}});u2.warn=u2.warning;u2.useNotification=mQe(Ble,jle);const CQe=u2;var SQe=function(e,n){return n||(e?"ant-".concat(e):"ant")},ui=T.exports.createContext({getPrefixCls:SQe}),rg=ui.Consumer,EQe="-ant-".concat(Date.now(),"-").concat(Math.random());function _Qe(t,e){var n={},r=function(u,f){var d=u.clone();return d=(f==null?void 0:f(d))||d,d.toRgbString()},i=function(u,f){var d=new UR(u),h=oS(d.toRgbString());n["".concat(f,"-color")]=r(d),n["".concat(f,"-color-disabled")]=h[1],n["".concat(f,"-color-hover")]=h[4],n["".concat(f,"-color-active")]=h[7],n["".concat(f,"-color-outline")]=d.clone().setAlpha(.2).toRgbString(),n["".concat(f,"-color-deprecated-bg")]=h[1],n["".concat(f,"-color-deprecated-border")]=h[3]};if(e.primaryColor){i(e.primaryColor,"primary");var o=new UR(e.primaryColor),s=oS(o.toRgbString());s.forEach(function(c,u){n["primary-".concat(u+1)]=c}),n["primary-color-deprecated-l-35"]=r(o,function(c){return c.lighten(35)}),n["primary-color-deprecated-l-20"]=r(o,function(c){return c.lighten(20)}),n["primary-color-deprecated-t-20"]=r(o,function(c){return c.tint(20)}),n["primary-color-deprecated-t-50"]=r(o,function(c){return c.tint(50)}),n["primary-color-deprecated-f-12"]=r(o,function(c){return c.setAlpha(c.getAlpha()*.12)});var a=new UR(s[0]);n["primary-color-active-deprecated-f-30"]=r(a,function(c){return c.setAlpha(c.getAlpha()*.3)}),n["primary-color-active-deprecated-d-02"]=r(a,function(c){return c.darken(2)})}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var l=Object.keys(n).map(function(c){return"--".concat(t,"-").concat(c,": ").concat(n[c],";")});return`
  :root {
    `.concat(l.join(`
`),`
  }
  `).trim()}function TQe(t,e){var n=_Qe(t,e);bh()&&l8(n,"".concat(EQe,"-dynamic-theme"))}var gL=T.exports.createContext(!1),Vle=function(e){var n=e.children,r=e.disabled,i=T.exports.useContext(gL);return D(gL.Provider,{value:r||i,children:n})};const ig=gL;var vL=T.exports.createContext(void 0),Ule=function(e){var n=e.children,r=e.size;return D(vL.Consumer,{children:function(i){return D(vL.Provider,{value:r||i,children:n})}})};const mf=vL;var PQe=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"],OQe="ant",MQe="anticon",OA,Hle;function GO(){return OA||OQe}function AQe(){return Hle||MQe}var kQe=function(e){var n=e.prefixCls,r=e.iconPrefixCls,i=e.theme;n!==void 0&&(OA=n),r!==void 0&&(Hle=r),i&&TQe(GO(),i)},dz=function(){return{getPrefixCls:function(n,r){return r||(n?"".concat(GO(),"-").concat(n):GO())},getIconPrefixCls:AQe,getRootPrefixCls:function(n,r){return n||OA||(r&&r.includes("-")?r.replace(/^(.*)-[^-]*$/,"$1"):GO())}}},DQe=function(e){var n,r,i=e.children,o=e.csp,s=e.autoInsertSpaceInButton,a=e.form,l=e.locale,c=e.componentSize,u=e.direction,f=e.space,d=e.virtual,h=e.dropdownMatchSelectWidth,p=e.legacyLocale,g=e.parentContext,m=e.iconPrefixCls,y=e.componentDisabled,b=T.exports.useCallback(function(k,I){var A=e.prefixCls;if(I)return I;var N=A||g.getPrefixCls("");return k?"".concat(N,"-").concat(k):N},[g.getPrefixCls,e.prefixCls]),C=Lt(Lt({},g),{csp:o,autoInsertSpaceInButton:s,locale:l||p,direction:u,space:f,virtual:d,dropdownMatchSelectWidth:h,getPrefixCls:b});PQe.forEach(function(k){var I=e[k];I&&(C[k]=I)});var E=k2(function(){return C},C,function(k,I){var A=Object.keys(k),N=Object.keys(I);return A.length!==N.length||A.some(function($){return k[$]!==I[$]})}),_=T.exports.useMemo(function(){return{prefixCls:m,csp:o}},[m,o]),w=i,M={};return l&&(M=((n=l.Form)===null||n===void 0?void 0:n.defaultValidateMessages)||((r=Up.Form)===null||r===void 0?void 0:r.defaultValidateMessages)||{}),a&&a.validateMessages&&(M=Lt(Lt({},M),a.validateMessages)),Object.keys(M).length>0&&(w=D(sz,{validateMessages:M,children:i})),l&&(w=D(ole,{locale:l,_ANT_MARK__:LZe,children:w})),(m||o)&&(w=D(o8.Provider,{value:_,children:w})),c&&(w=D(Ule,{size:c,children:w})),y!==void 0&&(w=D(Vle,{disabled:y,children:w})),D(ui.Provider,{value:E,children:w})},ay=function(e){return T.exports.useEffect(function(){e.direction&&(vQe.config({rtl:e.direction==="rtl"}),CQe.config({rtl:e.direction==="rtl"}))},[e.direction]),D(tg,{children:function(n,r,i){return D(rg,{children:function(o){return D(DQe,{parentContext:o,legacyLocale:i,...e})}})}})};ay.ConfigContext=ui;ay.SizeContext=mf;ay.config=kQe;function kw(t,e,n,r){var i=fu.unstable_batchedUpdates?function(s){fu.unstable_batchedUpdates(n,s)}:n;return t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){t.removeEventListener&&t.removeEventListener(e,i,r)}}}var XS=T.exports.isValidElement;function NQe(t,e,n){return XS(t)?T.exports.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function Dc(t,e){return NQe(t,t,e)}function IX(t){var e=T.exports.useRef();e.current=t;var n=T.exports.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}var ad=bh()?T.exports.useLayoutEffect:T.exports.useEffect,BO=function(e,n){var r=T.exports.useRef(!0);ad(function(){if(!r.current)return e()},n),ad(function(){return r.current=!1,function(){r.current=!0}},[])},hp;(function(t){t[t.INNER=0]="INNER",t[t.PROP=1]="PROP"})(hp||(hp={}));function DI(t){return t!==void 0}function Gs(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Rp(function(){var m=void 0,y;return DI(i)?(m=i,y=hp.PROP):DI(r)?(m=typeof r=="function"?r():r,y=hp.PROP):(m=typeof t=="function"?t():t,y=hp.INNER),[m,y,m]}),l=Ke(a,2),c=l[0],u=l[1],f=DI(i)?i:c[0],d=s?s(f):f;BO(function(){u(function(m){var y=Ke(m,1),b=y[0];return[i,hp.PROP,b]})},[i]);var h=T.exports.useRef(),p=IX(function(m,y){u(function(b){var C=Ke(b,3),E=C[0],_=C[1],w=C[2],M=typeof m=="function"?m(E):m;if(M===E)return b;var k=_===hp.INNER&&h.current!==w?w:E;return[M,hp.INNER,k]},y)}),g=IX(o);return ad(function(){var m=Ke(c,3),y=m[0],b=m[1],C=m[2];y!==C&&b===hp.INNER&&(g(y,C),h.current=C)},[c]),[d,p]}var St={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=St.F1&&n<=St.F12)return!1;switch(n){case St.ALT:case St.CAPS_LOCK:case St.CONTEXT_MENU:case St.CTRL:case St.DOWN:case St.END:case St.ESC:case St.HOME:case St.INSERT:case St.LEFT:case St.MAC_FF_META:case St.META:case St.NUMLOCK:case St.NUM_CENTER:case St.PAGE_DOWN:case St.PAGE_UP:case St.PAUSE:case St.PRINT_SCREEN:case St.RIGHT:case St.SHIFT:case St.UP:case St.WIN_KEY:case St.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=St.ZERO&&e<=St.NINE||e>=St.NUM_ZERO&&e<=St.NUM_MULTIPLY||e>=St.A&&e<=St.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case St.SPACE:case St.QUESTION_MARK:case St.NUM_PLUS:case St.NUM_MINUS:case St.NUM_PERIOD:case St.NUM_DIVISION:case St.SEMICOLON:case St.DASH:case St.EQUALS:case St.COMMA:case St.PERIOD:case St.SLASH:case St.APOSTROPHE:case St.SINGLE_QUOTE:case St.OPEN_SQUARE_BRACKET:case St.BACKSLASH:case St.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const TD=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4)))};function $X(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n!=null?n:r!==void 0?r:"rc-index-key-".concat(e)}function Wle(t,e){var n=t||{},r=n.label,i=n.value,o=n.options;return{label:r||(e?"children":"label"),value:i||"value",options:o||"options"}}function RQe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=Wle(n,!1),s=o.label,a=o.value,l=o.options;function c(u,f){u.forEach(function(d){var h=d[s];if(f||!(l in d)){var p=d[a];i.push({key:$X(d,i.length),groupOption:f,data:d,label:h,value:p})}else{var g=h;g===void 0&&r&&(g=d.label),i.push({key:$X(d,i.length),group:!0,data:d,label:g}),c(d[l],!0)}})}return c(t,!1),i}function mL(t){var e=be({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Nl(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function IQe(t,e){if(!e||!e.length)return null;var n=!1;function r(o,s){var a=Xae(s),l=a[0],c=a.slice(1);if(!l)return[o];var u=o.split(l);return n=n||u.length>1,u.reduce(function(f,d){return[].concat(un(f),un(r(d,c)))},[]).filter(function(f){return f})}var i=r(t,e);return n?i:null}function dC(t,e){return t?t.contains(e):!1}var Yle=T.exports.forwardRef(function(t,e){var n=t.didUpdate,r=t.getContainer,i=t.children,o=T.exports.useRef(),s=T.exports.useRef();T.exports.useImperativeHandle(e,function(){return{}});var a=T.exports.useRef(!1);return!a.current&&bh()&&(s.current=r(),o.current=s.current.parentNode,a.current=!0),T.exports.useEffect(function(){n==null||n(t)}),T.exports.useEffect(function(){return s.current.parentNode===null&&o.current!==null&&o.current.appendChild(s.current),function(){var l,c;(l=s.current)===null||l===void 0||(c=l.parentNode)===null||c===void 0||c.removeChild(s.current)}},[]),s.current?fu.createPortal(i,s.current):null});function $Qe(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function LQe(t,e,n){var r=t[e]||{};return be(be({},r),n)}function FQe(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a=o[s];if($Qe(t[a].points,i,r))return"".concat(e,"-placement-").concat(a)}return""}function qle(t){var e=t.prefixCls,n=t.motion,r=t.animation,i=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:i?{motionName:i}:null)}function zQe(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,i=t.mask,o=t.maskMotion,s=t.maskAnimation,a=t.maskTransitionName;if(!i)return null;var l={};return(o||a||s)&&(l=be({motionAppear:!0},qle({motion:o,prefixCls:e,transitionName:a,animation:s}))),D(ng,{...l,visible:n,removeOnLeave:!0,children:function(c){var u=c.className;return D("div",{style:{zIndex:r},className:at("".concat(e,"-mask"),u)})}})}const hz=function(t){if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function LX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LX(Object(n),!0).forEach(function(r){GQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jO(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jO=function(e){return typeof e}:jO=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jO(t)}function GQe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jx,BQe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function MA(){if(Jx!==void 0)return Jx;Jx="";var t=document.createElement("p").style,e="Transform";for(var n in BQe)n+e in t&&(Jx=n);return Jx}function Xle(){return MA()?"".concat(MA(),"TransitionProperty"):"transitionProperty"}function PD(){return MA()?"".concat(MA(),"Transform"):"transform"}function zX(t,e){var n=Xle();n&&(t.style[n]=e,n!=="transitionProperty"&&(t.style.transitionProperty=e))}function NI(t,e){var n=PD();n&&(t.style[n]=e,n!=="transform"&&(t.style.transform=e))}function jQe(t){return t.style.transitionProperty||t.style[Xle()]}function VQe(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(PD());if(n&&n!=="none"){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var UQe=/matrix\((.*)\)/,HQe=/matrix3d\((.*)\)/;function WQe(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(PD());if(r&&r!=="none"){var i,o=r.match(UQe);if(o)o=o[1],i=o.split(",").map(function(a){return parseFloat(a,10)}),i[4]=e.x,i[5]=e.y,NI(t,"matrix(".concat(i.join(","),")"));else{var s=r.match(HQe)[1];i=s.split(",").map(function(a){return parseFloat(a,10)}),i[12]=e.x,i[13]=e.y,NI(t,"matrix3d(".concat(i.join(","),")"))}}else NI(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var YQe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,zE;function GX(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function h1(t,e,n){var r=n;if(jO(e)==="object"){for(var i in e)e.hasOwnProperty(i)&&h1(t,i,e[i]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),t.style[e]=r;return}return zE(t,e)}function qQe(t){var e,n,r,i=t.ownerDocument,o=i.body,s=i&&i.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),r=Math.floor(e.top),n-=s.clientLeft||o.clientLeft||0,r-=s.clientTop||o.clientTop||0,{left:n,top:r}}function Kle(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function Zle(t){return Kle(t)}function Qle(t){return Kle(t,!0)}function KS(t){var e=qQe(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=Zle(r),e.top+=Qle(r),e}function pz(t){return t!=null&&t==t.window}function Jle(t){return pz(t)?t.document:t.nodeType===9?t:t.ownerDocument}function XQe(t,e,n){var r=n,i="",o=Jle(t);return r=r||o.defaultView.getComputedStyle(t,null),r&&(i=r.getPropertyValue(e)||r[e]),i}var KQe=new RegExp("^(".concat(YQe,")(?!px)[a-z%]+$"),"i"),ZQe=/^(top|right|bottom|left)$/,RI="currentStyle",II="runtimeStyle",Fm="left",QQe="px";function JQe(t,e){var n=t[RI]&&t[RI][e];if(KQe.test(n)&&!ZQe.test(e)){var r=t.style,i=r[Fm],o=t[II][Fm];t[II][Fm]=t[RI][Fm],r[Fm]=e==="fontSize"?"1em":n||0,n=r.pixelLeft+QQe,r[Fm]=i,t[II][Fm]=o}return n===""?"auto":n}typeof window<"u"&&(zE=window.getComputedStyle?XQe:JQe);function BP(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function BX(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function jX(t,e,n){h1(t,"position")==="static"&&(t.style.position="relative");var r=-999,i=-999,o=BP("left",n),s=BP("top",n),a=BX(o),l=BX(s);o!=="left"&&(r=999),s!=="top"&&(i=999);var c="",u=KS(t);("left"in e||"top"in e)&&(c=jQe(t)||"",zX(t,"none")),"left"in e&&(t.style[a]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[l]="",t.style[s]="".concat(i,"px")),GX(t);var f=KS(t),d={};for(var h in e)if(e.hasOwnProperty(h)){var p=BP(h,n),g=h==="left"?r:i,m=u[h]-f[h];p===h?d[p]=g+m:d[p]=g-m}h1(t,d),GX(t),("left"in e||"top"in e)&&zX(t,c);var y={};for(var b in e)if(e.hasOwnProperty(b)){var C=BP(b,n),E=e[b]-u[b];b===C?y[C]=d[C]+E:y[C]=d[C]-E}h1(t,y)}function eJe(t,e){var n=KS(t),r=VQe(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),WQe(t,i)}function tJe(t,e,n){if(n.ignoreShake){var r=KS(t),i=r.left.toFixed(0),o=r.top.toFixed(0),s=e.left.toFixed(0),a=e.top.toFixed(0);if(i===s&&o===a)return}n.useCssRight||n.useCssBottom?jX(t,e,n):n.useCssTransform&&PD()in document.body.style?eJe(t,e):jX(t,e,n)}function gz(t,e){for(var n=0;n<t.length;n++)e(t[n])}function ece(t){return zE(t,"boxSizing")==="border-box"}var nJe=["margin","border","padding"],yL=-1,rJe=2,bL=1,iJe=0;function oJe(t,e,n){var r={},i=t.style,o;for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o],i[o]=e[o]);n.call(t);for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o])}function Dw(t,e,n){var r=0,i,o,s;for(o=0;o<e.length;o++)if(i=e[o],i)for(s=0;s<n.length;s++){var a=void 0;i==="border"?a="".concat(i).concat(n[s],"Width"):a=i+n[s],r+=parseFloat(zE(t,a))||0}return r}var eh={getParent:function(e){var n=e;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};gz(["Width","Height"],function(t){eh["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],eh["viewport".concat(t)](n))},eh["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement,s=o[n];return r.compatMode==="CSS1Compat"&&s||i&&i[n]||s}});function VX(t,e,n){var r=n;if(pz(t))return e==="width"?eh.viewportWidth(t):eh.viewportHeight(t);if(t.nodeType===9)return e==="width"?eh.docWidth(t):eh.docHeight(t);var i=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),s=ece(t),a=0;(o==null||o<=0)&&(o=void 0,a=zE(t,e),(a==null||Number(a)<0)&&(a=t.style[e]||0),a=parseFloat(a)||0),r===void 0&&(r=s?bL:yL);var l=o!==void 0||s,c=o||a;return r===yL?l?c-Dw(t,["border","padding"],i):a:l?r===bL?c:c+(r===rJe?-Dw(t,["border"],i):Dw(t,["margin"],i)):a+Dw(t,nJe.slice(r),i)}var sJe={position:"absolute",visibility:"hidden",display:"block"};function UX(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return i.offsetWidth!==0?r=VX.apply(void 0,e):oJe(i,sJe,function(){r=VX.apply(void 0,e)}),r}gz(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);eh["outer".concat(e)]=function(r,i){return r&&UX(r,t,i?iJe:bL)};var n=t==="width"?["Left","Right"]:["Top","Bottom"];eh[t]=function(r,i){var o=i;if(o!==void 0){if(r){var s=ece(r);return s&&(o+=Dw(r,["padding","border"],n)),h1(r,t,o)}return}return r&&UX(r,t,yL)}});function tce(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var Jr={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:Jle,offset:function(e,n,r){if(typeof n<"u")tJe(e,n,r||{});else return KS(e)},isWindow:pz,each:gz,css:h1,clone:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i=e.overflow;if(i)for(n in e)e.hasOwnProperty(n)&&(r.overflow[n]=e.overflow[n]);return r},mix:tce,getWindowScrollLeft:function(e){return Zle(e)},getWindowScrollTop:function(e){return Qle(e)},merge:function(){for(var e={},n=0;n<arguments.length;n++)Jr.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};tce(Jr,eh);var $I=Jr.getParent;function xL(t){if(Jr.isWindow(t)||t.nodeType===9)return null;var e=Jr.getDocument(t),n=e.body,r,i=Jr.css(t,"position"),o=i==="fixed"||i==="absolute";if(!o)return t.nodeName.toLowerCase()==="html"?null:$I(t);for(r=$I(t);r&&r!==n&&r.nodeType!==9;r=$I(r))if(i=Jr.css(r,"position"),i!=="static")return r;return null}var HX=Jr.getParent;function aJe(t){if(Jr.isWindow(t)||t.nodeType===9)return!1;var e=Jr.getDocument(t),n=e.body,r=null;for(r=HX(t);r&&r!==n&&r!==e;r=HX(r)){var i=Jr.css(r,"position");if(i==="fixed")return!0}return!1}function vz(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=xL(t),i=Jr.getDocument(t),o=i.defaultView||i.parentWindow,s=i.body,a=i.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==s&&r!==a&&Jr.css(r,"overflow")!=="visible"){var l=Jr.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}else if(r===s||r===a)break;r=xL(r)}var c=null;if(!Jr.isWindow(t)&&t.nodeType!==9){c=t.style.position;var u=Jr.css(t,"position");u==="absolute"&&(t.style.position="fixed")}var f=Jr.getWindowScrollLeft(o),d=Jr.getWindowScrollTop(o),h=Jr.viewportWidth(o),p=Jr.viewportHeight(o),g=a.scrollWidth,m=a.scrollHeight,y=window.getComputedStyle(s);if(y.overflowX==="hidden"&&(g=o.innerWidth),y.overflowY==="hidden"&&(m=o.innerHeight),t.style&&(t.style.position=c),e||aJe(t))n.left=Math.max(n.left,f),n.top=Math.max(n.top,d),n.right=Math.min(n.right,f+h),n.bottom=Math.min(n.bottom,d+p);else{var b=Math.max(g,f+h);n.right=Math.min(n.right,b);var C=Math.max(m,d+p);n.bottom=Math.min(n.bottom,C)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function lJe(t,e,n,r){var i=Jr.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Jr.mix(i,o)}function mz(t){var e,n,r;if(!Jr.isWindow(t)&&t.nodeType!==9)e=Jr.offset(t),n=Jr.outerWidth(t),r=Jr.outerHeight(t);else{var i=Jr.getWindow(t);e={left:Jr.getWindowScrollLeft(i),top:Jr.getWindowScrollTop(i)},n=Jr.viewportWidth(i),r=Jr.viewportHeight(i)}return e.width=n,e.height=r,e}function WX(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,s=t.left,a=t.top;return n==="c"?a+=o/2:n==="b"&&(a+=o),r==="c"?s+=i/2:r==="r"&&(s+=i),{left:s,top:a}}function jP(t,e,n,r,i){var o=WX(e,n[1]),s=WX(t,n[0]),a=[s.left-o.left,s.top-o.top];return{left:Math.round(t.left-a[0]+r[0]-i[0]),top:Math.round(t.top-a[1]+r[1]-i[1])}}function YX(t,e,n){return t.left<n.left||t.left+e.width>n.right}function qX(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function cJe(t,e,n){return t.left>n.right||t.left+e.width<n.left}function uJe(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function VP(t,e,n){var r=[];return Jr.each(t,function(i){r.push(i.replace(e,function(o){return n[o]}))}),r}function UP(t,e){return t[e]=-t[e],t}function XX(t,e){var n;return/%$/.test(t)?n=parseInt(t.substring(0,t.length-1),10)/100*e:n=parseInt(t,10),n||0}function KX(t,e){t[0]=XX(t[0],e.width),t[1]=XX(t[1],e.height)}function nce(t,e,n,r){var i=n.points,o=n.offset||[0,0],s=n.targetOffset||[0,0],a=n.overflow,l=n.source||t;o=[].concat(o),s=[].concat(s),a=a||{};var c={},u=0,f=!!(a&&a.alwaysByViewport),d=vz(l,f),h=mz(l);KX(o,h),KX(s,e);var p=jP(h,e,i,o,s),g=Jr.merge(h,p);if(d&&(a.adjustX||a.adjustY)&&r){if(a.adjustX&&YX(p,h,d)){var m=VP(i,/[lr]/gi,{l:"r",r:"l"}),y=UP(o,0),b=UP(s,0),C=jP(h,e,m,y,b);cJe(C,h,d)||(u=1,i=m,o=y,s=b)}if(a.adjustY&&qX(p,h,d)){var E=VP(i,/[tb]/gi,{t:"b",b:"t"}),_=UP(o,1),w=UP(s,1),M=jP(h,e,E,_,w);uJe(M,h,d)||(u=1,i=E,o=_,s=w)}u&&(p=jP(h,e,i,o,s),Jr.mix(g,p));var k=YX(p,h,d),I=qX(p,h,d);if(k||I){var A=i;k&&(A=VP(i,/[lr]/gi,{l:"r",r:"l"})),I&&(A=VP(i,/[tb]/gi,{t:"b",b:"t"})),i=A,o=n.offset||[0,0],s=n.targetOffset||[0,0]}c.adjustX=a.adjustX&&k,c.adjustY=a.adjustY&&I,(c.adjustX||c.adjustY)&&(g=lJe(p,h,d,c))}return g.width!==h.width&&Jr.css(l,"width",Jr.width(l)+g.width-h.width),g.height!==h.height&&Jr.css(l,"height",Jr.height(l)+g.height-h.height),Jr.offset(l,{left:g.left,top:g.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:s,overflow:c}}function fJe(t,e){var n=vz(t,e),r=mz(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function yz(t,e,n){var r=n.target||e,i=mz(r),o=!fJe(r,n.overflow&&n.overflow.alwaysByViewport);return nce(t,i,n,o)}yz.__getOffsetParent=xL;yz.__getVisibleRectForElement=vz;function dJe(t,e,n){var r,i,o=Jr.getDocument(t),s=o.defaultView||o.parentWindow,a=Jr.getWindowScrollLeft(s),l=Jr.getWindowScrollTop(s),c=Jr.viewportWidth(s),u=Jr.viewportHeight(s);"pageX"in e?r=e.pageX:r=a+e.clientX,"pageY"in e?i=e.pageY:i=l+e.clientY;var f={left:r,top:i,width:0,height:0},d=r>=0&&r<=a+c&&i>=0&&i<=l+u,h=[n.points[0],"cc"];return nce(t,f,FX(FX({},n),{},{points:h}),d)}var hJe="__lodash_hash_undefined__";function pJe(t){return this.__data__.set(t,hJe),this}var gJe=pJe;function vJe(t){return this.__data__.has(t)}var mJe=vJe,yJe=j8,bJe=gJe,xJe=mJe;function AA(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yJe;++e<n;)this.add(t[e])}AA.prototype.add=AA.prototype.push=bJe;AA.prototype.has=xJe;var wJe=AA;function CJe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var SJe=CJe;function EJe(t,e){return t.has(e)}var _Je=EJe,TJe=wJe,PJe=SJe,OJe=_Je,MJe=1,AJe=2;function kJe(t,e,n,r,i,o){var s=n&MJe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&AJe?new TJe:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var p=t[f],g=e[f];if(r)var m=s?r(g,p,f,e,t,o):r(p,g,f,t,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!PJe(e,function(y,b){if(!OJe(h,b)&&(p===y||i(p,y,n,r,o)))return h.push(b)})){d=!1;break}}else if(!(p===g||i(p,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var rce=kJe;function DJe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var NJe=DJe;function RJe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ice=RJe,ZX=ME,QX=wae,IJe=NE,$Je=rce,LJe=NJe,FJe=ice,zJe=1,GJe=2,BJe="[object Boolean]",jJe="[object Date]",VJe="[object Error]",UJe="[object Map]",HJe="[object Number]",WJe="[object RegExp]",YJe="[object Set]",qJe="[object String]",XJe="[object Symbol]",KJe="[object ArrayBuffer]",ZJe="[object DataView]",JX=ZX?ZX.prototype:void 0,LI=JX?JX.valueOf:void 0;function QJe(t,e,n,r,i,o,s){switch(n){case ZJe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KJe:return!(t.byteLength!=e.byteLength||!o(new QX(t),new QX(e)));case BJe:case jJe:case HJe:return IJe(+t,+e);case VJe:return t.name==e.name&&t.message==e.message;case WJe:case qJe:return t==e+"";case UJe:var a=LJe;case YJe:var l=r&zJe;if(a||(a=FJe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=GJe,s.set(t,e);var u=$Je(a(t),a(e),r,i,o,s);return s.delete(t),u;case XJe:if(LI)return LI.call(t)==LI.call(e)}return!1}var JJe=QJe,eK=yae,eet=1,tet=Object.prototype,net=tet.hasOwnProperty;function ret(t,e,n,r,i,o){var s=n&eet,a=eK(t),l=a.length,c=eK(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:net.call(e,d)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var m=s;++f<l;){d=a[f];var y=t[d],b=e[d];if(r)var C=s?r(b,y,d,e,t,o):r(y,b,d,t,e,o);if(!(C===void 0?y===b||i(y,b,n,r,o):C)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var E=t.constructor,_=e.constructor;E!=_&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return o.delete(t),o.delete(e),g}var iet=ret,FI=uD,oet=rce,set=JJe,aet=iet,tK=fD,nK=wu,rK=s2.exports,cet=q8,uet=1,iK="[object Arguments]",oK="[object Array]",HP="[object Object]",fet=Object.prototype,sK=fet.hasOwnProperty;function det(t,e,n,r,i,o){var s=nK(t),a=nK(e),l=s?oK:tK(t),c=a?oK:tK(e);l=l==iK?HP:l,c=c==iK?HP:c;var u=l==HP,f=c==HP,d=l==c;if(d&&rK(t)){if(!rK(e))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new FI),s||cet(t)?oet(t,e,n,r,i,o):set(t,e,l,n,r,i,o);if(!(n&uet)){var h=u&&sK.call(t,"__wrapped__"),p=f&&sK.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,m=p?e.value():e;return o||(o=new FI),i(g,m,n,r,o)}}return d?(o||(o=new FI),aet(t,e,n,r,i,o)):!1}var het=det,pet=het,aK=pd;function oce(t,e,n,r,i){return t===e?!0:t==null||e==null||!aK(t)&&!aK(e)?t!==t&&e!==e:pet(t,e,n,r,oce,i)}var bz=oce,get=bz;function vet(t,e){return get(t,e)}var met=vet;function yet(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function bet(t,e){t!==document.activeElement&&dC(e,t)&&typeof t.focus=="function"&&t.focus()}function lK(t,e){var n=null,r=null;function i(s){var a=Ke(s,1),l=a[0].target;if(!!document.documentElement.contains(l)){var c=l.getBoundingClientRect(),u=c.width,f=c.height,d=Math.floor(u),h=Math.floor(f);(n!==d||r!==h)&&Promise.resolve().then(function(){e({width:d,height:h})}),n=d,r=h}}var o=new Uae(i);return t&&o.observe(t),function(){o.disconnect()}}const xet=function(t,e){var n=dt.useRef(!1),r=dt.useRef(null);function i(){window.clearTimeout(r.current)}function o(s){if(i(),!n.current||s===!0){if(t()===!1)return;n.current=!0,r.current=window.setTimeout(function(){n.current=!1},e)}else r.current=window.setTimeout(function(){n.current=!1,o()},e)}return[o,function(){n.current=!1,i()}]};function cK(t){return typeof t!="function"?null:t()}function uK(t){return Ar(t)!=="object"||!t?null:t}var wet=function(e,n){var r=e.children,i=e.disabled,o=e.target,s=e.align,a=e.onAlign,l=e.monitorWindowResize,c=e.monitorBufferTime,u=c===void 0?0:c,f=dt.useRef({}),d=dt.useRef(),h=dt.Children.only(r),p=dt.useRef({});p.current.disabled=i,p.current.target=o,p.current.align=s,p.current.onAlign=a;var g=xet(function(){var w=p.current,M=w.disabled,k=w.target,I=w.align,A=w.onAlign;if(!M&&k){var N=d.current,$,L=cK(k),B=uK(k);f.current.element=L,f.current.point=B,f.current.align=I;var j=document,H=j.activeElement;return L&&hz(L)?$=yz(N,L,I):B&&($=dJe(N,B,I)),bet(H,N),A&&$&&A(N,$),!0}return!1},u),m=Ke(g,2),y=m[0],b=m[1],C=dt.useRef({cancel:function(){}}),E=dt.useRef({cancel:function(){}});dt.useEffect(function(){var w=cK(o),M=uK(o);d.current!==E.current.element&&(E.current.cancel(),E.current.element=d.current,E.current.cancel=lK(d.current,y)),(f.current.element!==w||!yet(f.current.point,M)||!met(f.current.align,s))&&(y(),C.current.element!==w&&(C.current.cancel(),C.current.element=w,C.current.cancel=lK(w,y)))}),dt.useEffect(function(){i?b():y()},[i]);var _=dt.useRef(null);return dt.useEffect(function(){l?_.current||(_.current=kw(window,"resize",y)):_.current&&(_.current.remove(),_.current=null)},[l]),dt.useEffect(function(){return function(){C.current.cancel(),E.current.cancel(),_.current&&_.current.remove(),b()}},[]),dt.useImperativeHandle(n,function(){return{forceAlign:function(){return y(!0)}}}),dt.isValidElement(h)&&(h=dt.cloneElement(h,{ref:gd(h.ref,d)})),h},sce=dt.forwardRef(wet);sce.displayName="Align";var fK=["measure","alignPre","align",null,"motion"];const Cet=function(t,e){var n=Rp(null),r=Ke(n,2),i=r[0],o=r[1],s=T.exports.useRef();function a(u){o(u,!0)}function l(){oi.cancel(s.current)}function c(u){l(),s.current=oi(function(){a(function(f){switch(i){case"align":return"motion";case"motion":return"stable"}return f}),u==null||u()})}return T.exports.useEffect(function(){a("measure")},[t]),T.exports.useEffect(function(){switch(i){case"measure":e();break}i&&(s.current=oi(ii(nc().mark(function u(){var f,d;return nc().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:f=fK.indexOf(i),d=fK[f+1],d&&f!==-1&&a(d);case 3:case"end":return p.stop()}},u)}))))},[i]),T.exports.useEffect(function(){return function(){l()}},[]),[i,c]},Eet=function(t){var e=T.exports.useState({width:0,height:0}),n=Ke(e,2),r=n[0],i=n[1];function o(a){i({width:a.offsetWidth,height:a.offsetHeight})}var s=T.exports.useMemo(function(){var a={};if(t){var l=r.width,c=r.height;t.indexOf("height")!==-1&&c?a.height=c:t.indexOf("minHeight")!==-1&&c&&(a.minHeight=c),t.indexOf("width")!==-1&&l?a.width=l:t.indexOf("minWidth")!==-1&&l&&(a.minWidth=l)}return a},[t,r]);return[s,o]};var ace=T.exports.forwardRef(function(t,e){var n=t.visible,r=t.prefixCls,i=t.className,o=t.style,s=t.children,a=t.zIndex,l=t.stretch,c=t.destroyPopupOnHide,u=t.forceRender,f=t.align,d=t.point,h=t.getRootDomNode,p=t.getClassNameFromAlign,g=t.onAlign,m=t.onMouseEnter,y=t.onMouseLeave,b=t.onMouseDown,C=t.onTouchStart,E=t.onClick,_=T.exports.useRef(),w=T.exports.useRef(),M=T.exports.useState(),k=Ke(M,2),I=k[0],A=k[1],N=Eet(l),$=Ke(N,2),L=$[0],B=$[1];function j(){l&&B(h())}var H=Cet(n,j),te=Ke(H,2),Y=te[0],ue=te[1],ce=T.exports.useState(0),se=Ke(ce,2),fe=se[0],me=se[1],K=T.exports.useRef();ad(function(){Y==="alignPre"&&me(0)},[Y]);function le(){return d||h}function Ne(){var X;(X=_.current)===null||X===void 0||X.forceAlign()}function Re(X,ve){var ne=p(ve);I!==ne&&A(ne),me(function(ke){return ke+1}),Y==="align"&&(g==null||g(X,ve))}ad(function(){Y==="align"&&(fe<2?Ne():ue(function(){var X;(X=K.current)===null||X===void 0||X.call(K)}))},[fe]);var Je=be({},qle(t));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(X){var ve=Je[X];Je[X]=function(ne,ke){return ue(),ve==null?void 0:ve(ne,ke)}});function $e(){return new Promise(function(X){K.current=X})}T.exports.useEffect(function(){!Je.motionName&&Y==="motion"&&ue()},[Je.motionName,Y]),T.exports.useImperativeHandle(e,function(){return{forceAlign:Ne,getElement:function(){return w.current}}});var tt=be(be({},L),{},{zIndex:a,opacity:Y==="motion"||Y==="stable"||!n?void 0:0,pointerEvents:!n&&Y!=="stable"?"none":void 0},o),Pt=!0;(f==null?void 0:f.points)&&(Y==="align"||Y==="stable")&&(Pt=!1);var bt=s;return T.exports.Children.count(s)>1&&(bt=D("div",{className:"".concat(r,"-content"),children:s})),D(ng,{visible:n,ref:w,leavedClassName:"".concat(r,"-hidden"),...Je,onAppearPrepare:$e,onEnterPrepare:$e,removeOnLeave:c,forceRender:u,children:function(X,ve){var ne=X.className,ke=X.style,je=at(r,i,I,ne);return D(sce,{target:le(),ref:_,monitorWindowResize:!0,disabled:Pt,align:f,onAlign:Re,children:D("div",{ref:ve,className:je,onMouseEnter:m,onMouseLeave:y,onMouseDownCapture:b,onTouchStartCapture:C,onClick:E,style:be(be({},ke),tt),children:bt})},"popup")}})});ace.displayName="PopupInner";var lce=T.exports.forwardRef(function(t,e){var n=t.prefixCls,r=t.visible,i=t.zIndex,o=t.children,s=t.mobile;s=s===void 0?{}:s;var a=s.popupClassName,l=s.popupStyle,c=s.popupMotion,u=c===void 0?{}:c,f=s.popupRender,d=t.onClick,h=T.exports.useRef();T.exports.useImperativeHandle(e,function(){return{forceAlign:function(){},getElement:function(){return h.current}}});var p=be({zIndex:i},l),g=o;return T.exports.Children.count(o)>1&&(g=D("div",{className:"".concat(n,"-content"),children:o})),f&&(g=f(g)),D(ng,{visible:r,ref:h,removeOnLeave:!0,...u,children:function(m,y){var b=m.className,C=m.style,E=at(n,a,b);return D("div",{ref:y,className:E,onClick:d,style:be(be({},C),p),children:g})}})});lce.displayName="MobilePopupInner";var _et=["visible","mobile"],cce=T.exports.forwardRef(function(t,e){var n=t.visible,r=t.mobile,i=_i(t,_et),o=T.exports.useState(n),s=Ke(o,2),a=s[0],l=s[1],c=T.exports.useState(!1),u=Ke(c,2),f=u[0],d=u[1],h=be(be({},i),{},{visible:a});T.exports.useEffect(function(){l(n),n&&r&&d(TD())},[n,r]);var p=f?D(lce,{...h,mobile:r,ref:e}):D(ace,{...h,ref:e});return _t("div",{children:[D(zQe,{...h}),p]})});cce.displayName="Popup";var dK=T.exports.createContext(null);function zI(){}function Tet(){return""}function Pet(t){return t?t.ownerDocument:window.document}var Oet=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Met(t){var e=function(n){Zi(i,n);var r=Ra(i);function i(o){var s;Cn(this,i),s=r.call(this,o),s.popupRef=T.exports.createRef(),s.triggerRef=T.exports.createRef(),s.portalContainer=void 0,s.attachId=void 0,s.clickOutsideHandler=void 0,s.touchOutsideHandler=void 0,s.contextMenuOutsideHandler1=void 0,s.contextMenuOutsideHandler2=void 0,s.mouseDownTimeout=void 0,s.focusTime=void 0,s.preClickTime=void 0,s.preTouchTime=void 0,s.delayTimer=void 0,s.hasPopupMouseDown=void 0,s.onMouseEnter=function(l){var c=s.props.mouseEnterDelay;s.fireEvents("onMouseEnter",l),s.delaySetPopupVisible(!0,c,c?null:l)},s.onMouseMove=function(l){s.fireEvents("onMouseMove",l),s.setPoint(l)},s.onMouseLeave=function(l){s.fireEvents("onMouseLeave",l),s.delaySetPopupVisible(!1,s.props.mouseLeaveDelay)},s.onPopupMouseEnter=function(){s.clearDelayTimer()},s.onPopupMouseLeave=function(l){var c;l.relatedTarget&&!l.relatedTarget.setTimeout&&dC((c=s.popupRef.current)===null||c===void 0?void 0:c.getElement(),l.relatedTarget)||s.delaySetPopupVisible(!1,s.props.mouseLeaveDelay)},s.onFocus=function(l){s.fireEvents("onFocus",l),s.clearDelayTimer(),s.isFocusToShow()&&(s.focusTime=Date.now(),s.delaySetPopupVisible(!0,s.props.focusDelay))},s.onMouseDown=function(l){s.fireEvents("onMouseDown",l),s.preClickTime=Date.now()},s.onTouchStart=function(l){s.fireEvents("onTouchStart",l),s.preTouchTime=Date.now()},s.onBlur=function(l){s.fireEvents("onBlur",l),s.clearDelayTimer(),s.isBlurToHide()&&s.delaySetPopupVisible(!1,s.props.blurDelay)},s.onContextMenu=function(l){l.preventDefault(),s.fireEvents("onContextMenu",l),s.setPopupVisible(!0,l)},s.onContextMenuClose=function(){s.isContextMenuToShow()&&s.close()},s.onClick=function(l){if(s.fireEvents("onClick",l),s.focusTime){var c;if(s.preClickTime&&s.preTouchTime?c=Math.min(s.preClickTime,s.preTouchTime):s.preClickTime?c=s.preClickTime:s.preTouchTime&&(c=s.preTouchTime),Math.abs(c-s.focusTime)<20)return;s.focusTime=0}s.preClickTime=0,s.preTouchTime=0,s.isClickToShow()&&(s.isClickToHide()||s.isBlurToHide())&&l&&l.preventDefault&&l.preventDefault();var u=!s.state.popupVisible;(s.isClickToHide()&&!u||u&&s.isClickToShow())&&s.setPopupVisible(!s.state.popupVisible,l)},s.onPopupMouseDown=function(){if(s.hasPopupMouseDown=!0,clearTimeout(s.mouseDownTimeout),s.mouseDownTimeout=window.setTimeout(function(){s.hasPopupMouseDown=!1},0),s.context){var l;(l=s.context).onPopupMouseDown.apply(l,arguments)}},s.onDocumentClick=function(l){if(!(s.props.mask&&!s.props.maskClosable)){var c=l.target,u=s.getRootDomNode(),f=s.getPopupDomNode();(!dC(u,c)||s.isContextMenuOnly())&&!dC(f,c)&&!s.hasPopupMouseDown&&s.close()}},s.getRootDomNode=function(){var l=s.props.getTriggerDOMNode;if(l)return l(s.triggerRef.current);try{var c=WS(s.triggerRef.current);if(c)return c}catch{}return fu.findDOMNode(ts(s))},s.getPopupClassNameFromAlign=function(l){var c=[],u=s.props,f=u.popupPlacement,d=u.builtinPlacements,h=u.prefixCls,p=u.alignPoint,g=u.getPopupClassNameFromAlign;return f&&d&&c.push(FQe(d,h,l,p)),g&&c.push(g(l)),c.join(" ")},s.getComponent=function(){var l=s.props,c=l.prefixCls,u=l.destroyPopupOnHide,f=l.popupClassName,d=l.onPopupAlign,h=l.popupMotion,p=l.popupAnimation,g=l.popupTransitionName,m=l.popupStyle,y=l.mask,b=l.maskAnimation,C=l.maskTransitionName,E=l.maskMotion,_=l.zIndex,w=l.popup,M=l.stretch,k=l.alignPoint,I=l.mobile,A=l.forceRender,N=l.onPopupClick,$=s.state,L=$.popupVisible,B=$.point,j=s.getPopupAlign(),H={};return s.isMouseEnterToShow()&&(H.onMouseEnter=s.onPopupMouseEnter),s.isMouseLeaveToHide()&&(H.onMouseLeave=s.onPopupMouseLeave),H.onMouseDown=s.onPopupMouseDown,H.onTouchStart=s.onPopupMouseDown,D(cce,{prefixCls:c,destroyPopupOnHide:u,visible:L,point:k&&B,className:f,align:j,onAlign:d,animation:p,getClassNameFromAlign:s.getPopupClassNameFromAlign,...H,stretch:M,getRootDomNode:s.getRootDomNode,style:m,mask:y,zIndex:_,transitionName:g,maskAnimation:b,maskTransitionName:C,maskMotion:E,ref:s.popupRef,motion:h,mobile:I,forceRender:A,onClick:N,children:typeof w=="function"?w():w})},s.attachParent=function(l){oi.cancel(s.attachId);var c=s.props,u=c.getPopupContainer,f=c.getDocument,d=s.getRootDomNode(),h;u?(d||u.length===0)&&(h=u(d)):h=f(s.getRootDomNode()).body,h?h.appendChild(l):s.attachId=oi(function(){s.attachParent(l)})},s.getContainer=function(){if(!s.portalContainer){var l=s.props.getDocument,c=l(s.getRootDomNode()).createElement("div");c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.width="100%",s.portalContainer=c}return s.attachParent(s.portalContainer),s.portalContainer},s.setPoint=function(l){var c=s.props.alignPoint;!c||!l||s.setState({point:{pageX:l.pageX,pageY:l.pageY}})},s.handlePortalUpdate=function(){s.state.prevPopupVisible!==s.state.popupVisible&&s.props.afterPopupVisibleChange(s.state.popupVisible)},s.triggerContextValue={onPopupMouseDown:s.onPopupMouseDown};var a;return"popupVisible"in o?a=!!o.popupVisible:a=!!o.defaultPopupVisible,s.state={prevPopupVisible:a,popupVisible:a},Oet.forEach(function(l){s["fire".concat(l)]=function(c){s.fireEvents(l,c)}}),s}return Rn(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var s=this.props,a=this.state;if(a.popupVisible){var l;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(l=s.getDocument(this.getRootDomNode()),this.clickOutsideHandler=kw(l,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(l=l||s.getDocument(this.getRootDomNode()),this.touchOutsideHandler=kw(l,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(l=l||s.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=kw(l,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=kw(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),oi.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var s;return((s=this.popupRef.current)===null||s===void 0?void 0:s.getElement())||null}},{key:"getPopupAlign",value:function(){var s=this.props,a=s.popupPlacement,l=s.popupAlign,c=s.builtinPlacements;return a&&c?LQe(c,a,l):l}},{key:"setPopupVisible",value:function(s,a){var l=this.props.alignPoint,c=this.state.popupVisible;this.clearDelayTimer(),c!==s&&("popupVisible"in this.props||this.setState({popupVisible:s,prevPopupVisible:c}),this.props.onPopupVisibleChange(s)),l&&a&&s&&this.setPoint(a)}},{key:"delaySetPopupVisible",value:function(s,a,l){var c=this,u=a*1e3;if(this.clearDelayTimer(),u){var f=l?{pageX:l.pageX,pageY:l.pageY}:null;this.delayTimer=window.setTimeout(function(){c.setPopupVisible(s,f),c.clearDelayTimer()},u)}else this.setPopupVisible(s,l)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(s){var a=this.props.children.props,l=this.props;return a[s]&&l[s]?this["fire".concat(s)]:a[s]||l[s]}},{key:"isClickToShow",value:function(){var s=this.props,a=s.action,l=s.showAction;return a.indexOf("click")!==-1||l.indexOf("click")!==-1}},{key:"isContextMenuOnly",value:function(){var s=this.props.action;return s==="contextMenu"||s.length===1&&s[0]==="contextMenu"}},{key:"isContextMenuToShow",value:function(){var s=this.props,a=s.action,l=s.showAction;return a.indexOf("contextMenu")!==-1||l.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var s=this.props,a=s.action,l=s.hideAction;return a.indexOf("click")!==-1||l.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var s=this.props,a=s.action,l=s.showAction;return a.indexOf("hover")!==-1||l.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var s=this.props,a=s.action,l=s.hideAction;return a.indexOf("hover")!==-1||l.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var s=this.props,a=s.action,l=s.showAction;return a.indexOf("focus")!==-1||l.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var s=this.props,a=s.action,l=s.hideAction;return a.indexOf("focus")!==-1||l.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var s;(s=this.popupRef.current)===null||s===void 0||s.forceAlign()}}},{key:"fireEvents",value:function(s,a){var l=this.props.children.props[s];l&&l(a);var c=this.props[s];c&&c(a)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var s=this.state.popupVisible,a=this.props,l=a.children,c=a.forceRender,u=a.alignPoint,f=a.className,d=a.autoDestroy,h=T.exports.Children.only(l),p={key:"trigger"};this.isContextMenuToShow()?p.onContextMenu=this.onContextMenu:p.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(p.onClick=this.onClick,p.onMouseDown=this.onMouseDown,p.onTouchStart=this.onTouchStart):(p.onClick=this.createTwoChains("onClick"),p.onMouseDown=this.createTwoChains("onMouseDown"),p.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(p.onMouseEnter=this.onMouseEnter,u&&(p.onMouseMove=this.onMouseMove)):p.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?p.onMouseLeave=this.onMouseLeave:p.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(p.onFocus=this.onFocus,p.onBlur=this.onBlur):(p.onFocus=this.createTwoChains("onFocus"),p.onBlur=this.createTwoChains("onBlur"));var g=at(h&&h.props&&h.props.className,f);g&&(p.className=g);var m=be({},p);D2(h)&&(m.ref=gd(this.triggerRef,h.ref));var y=T.exports.cloneElement(h,m),b;return(s||this.popupRef.current||c)&&(b=D(t,{getContainer:this.getContainer,didUpdate:this.handlePortalUpdate,children:this.getComponent()},"portal")),!s&&d&&(b=null),_t(dK.Provider,{value:this.triggerContextValue,children:[y,b]})}}],[{key:"getDerivedStateFromProps",value:function(s,a){var l=s.popupVisible,c={};return l!==void 0&&a.popupVisible!==l&&(c.popupVisible=l,c.prevPopupVisible=a.popupVisible),c}}]),i}(T.exports.Component);return e.contextType=dK,e.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Tet,getDocument:Pet,onPopupVisibleChange:zI,afterPopupVisibleChange:zI,onPopupAlign:zI,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},e}const R2=Met(Yle);var Aet=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],ket=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}}}},Det=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,s=e.popupElement,a=e.containerWidth,l=e.animation,c=e.transitionName,u=e.dropdownStyle,f=e.dropdownClassName,d=e.direction,h=d===void 0?"ltr":d,p=e.placement,g=e.dropdownMatchSelectWidth,m=e.dropdownRender,y=e.dropdownAlign,b=e.getPopupContainer,C=e.empty,E=e.getTriggerDOMNode,_=e.onPopupVisibleChange,w=e.onPopupMouseEnter,M=_i(e,Aet),k="".concat(r,"-dropdown"),I=s;m&&(I=m(s));var A=T.exports.useMemo(function(){return ket(g)},[g]),N=l?"".concat(k,"-").concat(l):c,$=T.exports.useRef(null);T.exports.useImperativeHandle(n,function(){return{getPopupElement:function(){return $.current}}});var L=be({minWidth:a},u);return typeof g=="number"?L.width=g:g&&(L.width=a),D(R2,{...M,showAction:_?["click"]:[],hideAction:_?["click"]:[],popupPlacement:p||(h==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:A,prefixCls:k,popupTransitionName:N,popup:D("div",{ref:$,onMouseEnter:w,children:I}),popupAlign:y,popupVisible:i,getPopupContainer:b,popupClassName:at(f,V({},"".concat(k,"-empty"),C)),popupStyle:L,getTriggerDOMNode:E,onPopupVisibleChange:_,children:o})},uce=T.exports.forwardRef(Det);uce.displayName="SelectTrigger";var Net=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Ret=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Iet="".concat(Net," ").concat(Ret).split(/[\s\n]+/),$et="aria-",Let="data-";function hK(t,e){return t.indexOf(e)===0}function ZS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=be({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||hK(i,$et))||n.data&&hK(i,Let)||n.attr&&Iet.includes(i))&&(r[i]=t[i])}),r}var Fet=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],cb=void 0;function zet(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,s=t.responsive,a=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,f=t.style,d=t.children,h=t.display,p=t.order,g=t.component,m=g===void 0?"div":g,y=_i(t,Fet),b=s&&!h;function C(k){l(c,k)}T.exports.useEffect(function(){return function(){C(null)}},[]);var E=o&&i!==cb?o(i):d,_;r||(_={opacity:b?0:1,height:b?0:cb,overflowY:b?"hidden":cb,order:s?p:cb,pointerEvents:b?"none":cb,position:b?"absolute":cb});var w={};b&&(w["aria-hidden"]=!0);var M=D(m,{className:at(!r&&n,u),style:be(be({},_),f),...w,...y,ref:e,children:E});return s&&(M=D(B0,{onResize:function(I){var A=I.offsetWidth;C(A)},disabled:a,children:M})),M}var hC=T.exports.forwardRef(zet);hC.displayName="Item";function Get(){var t=Rp({}),e=Ke(t,2),n=e[1],r=T.exports.useRef([]),i=0,o=0;function s(a){var l=i;i+=1,r.current.length<l+1&&(r.current[l]=a);var c=r.current[l];function u(f){r.current[l]=typeof f=="function"?f(r.current[l]):f,oi.cancel(o),o=oi(function(){n({},!0)})}return[c,u]}return s}var Bet=["component"],jet=["className"],Vet=["className"],Uet=function(e,n){var r=T.exports.useContext(kA);if(!r){var i=e.component,o=i===void 0?"div":i,s=_i(e,Bet);return D(o,{...s,ref:n})}var a=r.className,l=_i(r,jet),c=e.className,u=_i(e,Vet);return D(kA.Provider,{value:null,children:D(hC,{ref:n,className:at(a,c),...l,...u})})},fce=T.exports.forwardRef(Uet);fce.displayName="RawItem";var Het=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],kA=T.exports.createContext(null),dce="responsive",hce="invalidate";function Wet(t){return"+ ".concat(t.length," ...")}function Yet(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,s=t.renderItem,a=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,f=t.ssr,d=t.style,h=t.className,p=t.maxCount,g=t.renderRest,m=t.renderRawRest,y=t.suffix,b=t.component,C=b===void 0?"div":b,E=t.itemComponent,_=t.onVisibleChange,w=_i(t,Het),M=Get(),k=f==="full",I=M(null),A=Ke(I,2),N=A[0],$=A[1],L=N||0,B=M(new Map),j=Ke(B,2),H=j[0],te=j[1],Y=M(0),ue=Ke(Y,2),ce=ue[0],se=ue[1],fe=M(0),me=Ke(fe,2),K=me[0],le=me[1],Ne=M(0),Re=Ke(Ne,2),Je=Re[0],$e=Re[1],tt=T.exports.useState(null),Pt=Ke(tt,2),bt=Pt[0],X=Pt[1],ve=T.exports.useState(null),ne=Ke(ve,2),ke=ne[0],je=ne[1],Ve=T.exports.useMemo(function(){return ke===null&&k?Number.MAX_SAFE_INTEGER:ke||0},[ke,N]),$t=T.exports.useState(!1),Ct=Ke($t,2),ln=Ct[0],bn=Ct[1],Z="".concat(r,"-item"),J=Math.max(ce,K),xe=p===dce,Se=o.length&&xe,ze=p===hce,ot=Se||typeof p=="number"&&o.length>p,yn=T.exports.useMemo(function(){var Yt=o;return Se?N===null&&k?Yt=o:Yt=o.slice(0,Math.min(o.length,L/u)):typeof p=="number"&&(Yt=o.slice(0,p)),Yt},[o,u,N,p,Se]),xt=T.exports.useMemo(function(){return Se?o.slice(Ve+1):o.slice(yn.length)},[o,yn,Se,Ve]),It=T.exports.useCallback(function(Yt,gn){var dn;return typeof l=="function"?l(Yt):(dn=l&&(Yt==null?void 0:Yt[l]))!==null&&dn!==void 0?dn:gn},[l]),qe=T.exports.useCallback(s||function(Yt){return Yt},[s]);function Tt(Yt,gn){je(Yt),gn||(bn(Yt<o.length-1),_==null||_(Yt))}function Dt(Yt,gn){$(gn.clientWidth)}function _n(Yt,gn){te(function(dn){var zt=new Map(dn);return gn===null?zt.delete(Yt):zt.set(Yt,gn),zt})}function lr(Yt,gn){le(gn),se(K)}function Qn(Yt,gn){$e(gn)}function Wn(Yt){return H.get(It(yn[Yt],Yt))}ad(function(){if(L&&J&&yn){var Yt=Je,gn=yn.length,dn=gn-1;if(!gn){Tt(0),X(null);return}for(var zt=0;zt<gn;zt+=1){var On=Wn(zt);if(k&&(On=On||0),On===void 0){Tt(zt-1,!0);break}if(Yt+=On,dn===0&&Yt<=L||zt===dn-1&&Yt+Wn(dn)<=L){Tt(dn),X(null);break}else if(Yt+J>L){Tt(zt-1),X(Yt-On-Je+K);break}}y&&Wn(0)+Je>L&&X(null)}},[L,H,K,Je,It,yn]);var In=ln&&!!xt.length,en={};bt!==null&&Se&&(en={position:"absolute",left:bt,top:0});var Pn={prefixCls:Z,responsive:Se,component:E,invalidate:ze},Sr=a?function(Yt,gn){var dn=It(Yt,gn);return D(kA.Provider,{value:be(be({},Pn),{},{order:gn,item:Yt,itemKey:dn,registerSize:_n,display:gn<=Ve}),children:a(Yt,gn)},dn)}:function(Yt,gn){var dn=It(Yt,gn);return T.exports.createElement(hC,{...Pn,order:gn,key:dn,item:Yt,renderItem:qe,itemKey:dn,registerSize:_n,display:gn<=Ve})},Fn,ro={order:In?Ve:Number.MAX_SAFE_INTEGER,className:"".concat(Z,"-rest"),registerSize:lr,display:In};if(m)m&&(Fn=D(kA.Provider,{value:be(be({},Pn),ro),children:m(xt)}));else{var wo=g||Wet;Fn=D(hC,{...Pn,...ro,children:typeof wo=="function"?wo(xt):wo})}var Tr=_t(C,{className:at(!ze&&r,h),style:d,ref:e,...w,children:[yn.map(Sr),ot?Fn:null,y&&D(hC,{...Pn,responsive:xe,responsiveDisabled:!Se,order:Ve,className:"".concat(Z,"-suffix"),registerSize:Qn,display:!0,style:en,children:y})]});return xe&&(Tr=D(B0,{onResize:Dt,disabled:!Se,children:Tr})),Tr}var lh=T.exports.forwardRef(Yet);lh.displayName="Overflow";lh.Item=fce;lh.RESPONSIVE=dce;lh.INVALIDATE=hce;var DA=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,s=e.onClick,a=e.children,l;return typeof r=="function"?l=r(i):l=r,D("span",{className:n,onMouseDown:function(u){u.preventDefault(),o&&o(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0,children:l!==void 0?l:D("span",{className:at(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")})),children:a})})},qet=function(e,n){var r,i,o=e.prefixCls,s=e.id,a=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,f=e.autoComplete,d=e.editable,h=e.activeDescendantId,p=e.value,g=e.maxLength,m=e.onKeyDown,y=e.onMouseDown,b=e.onChange,C=e.onPaste,E=e.onCompositionStart,_=e.onCompositionEnd,w=e.open,M=e.attrs,k=a||D("input",{}),I=k,A=I.ref,N=I.props,$=N.onKeyDown,L=N.onChange,B=N.onMouseDown,j=N.onCompositionStart,H=N.onCompositionEnd,te=N.style;return"maxLength"in k.props,k=T.exports.cloneElement(k,be(be(be({type:"search"},N),{},{id:s,ref:gd(n,A),disabled:l,tabIndex:c,autoComplete:f||"off",autoFocus:u,className:at("".concat(o,"-selection-search-input"),(r=k)===null||r===void 0||(i=r.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":"".concat(s,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(s,"_list"),"aria-activedescendant":h},M),{},{value:d?p:"",maxLength:g,readOnly:!d,unselectable:d?null:"on",style:be(be({},te),{},{opacity:d?null:0}),onKeyDown:function(ue){m(ue),$&&$(ue)},onMouseDown:function(ue){y(ue),B&&B(ue)},onChange:function(ue){b(ue),L&&L(ue)},onCompositionStart:function(ue){E(ue),j&&j(ue)},onCompositionEnd:function(ue){_(ue),H&&H(ue)},onPaste:C})),k},xz=T.exports.forwardRef(qet);xz.displayName="Input";function pce(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var Xet=typeof window<"u"&&window.document&&window.document.documentElement,Ket=Xet;function Zet(t,e){Ket?T.exports.useLayoutEffect(t,e):T.exports.useEffect(t,e)}function Qet(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var pK=function(e){e.preventDefault(),e.stopPropagation()},Jet=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,s=e.searchValue,a=e.inputRef,l=e.placeholder,c=e.disabled,u=e.mode,f=e.showSearch,d=e.autoFocus,h=e.autoComplete,p=e.activeDescendantId,g=e.tabIndex,m=e.removeIcon,y=e.maxTagCount,b=e.maxTagTextLength,C=e.maxTagPlaceholder,E=C===void 0?function(bt){return"+ ".concat(bt.length," ...")}:C,_=e.tagRender,w=e.onToggleOpen,M=e.onRemove,k=e.onInputChange,I=e.onInputPaste,A=e.onInputKeyDown,N=e.onInputMouseDown,$=e.onInputCompositionStart,L=e.onInputCompositionEnd,B=T.exports.useRef(null),j=T.exports.useState(0),H=Ke(j,2),te=H[0],Y=H[1],ue=T.exports.useState(!1),ce=Ke(ue,2),se=ce[0],fe=ce[1],me="".concat(r,"-selection"),K=o||u==="tags"?s:"",le=u==="tags"||f&&(o||se);Zet(function(){Y(B.current.scrollWidth)},[K]);function Ne(bt,X,ve,ne,ke){return _t("span",{className:at("".concat(me,"-item"),V({},"".concat(me,"-item-disabled"),ve)),title:typeof bt=="string"||typeof bt=="number"?bt.toString():void 0,children:[D("span",{className:"".concat(me,"-item-content"),children:X}),ne&&D(DA,{className:"".concat(me,"-item-remove"),onMouseDown:pK,onClick:ke,customizeIcon:m,children:"\xD7"})]})}function Re(bt,X,ve,ne,ke){var je=function($t){pK($t),w(!o)};return D("span",{onMouseDown:je,children:_({label:X,value:bt,disabled:ve,closable:ne,onClose:ke})})}function Je(bt){var X=bt.disabled,ve=bt.label,ne=bt.value,ke=!c&&!X,je=ve;if(typeof b=="number"&&(typeof ve=="string"||typeof ve=="number")){var Ve=String(je);Ve.length>b&&(je="".concat(Ve.slice(0,b),"..."))}var $t=function(ln){ln&&ln.stopPropagation(),M(bt)};return typeof _=="function"?Re(ne,je,X,ke,$t):Ne(ve,je,X,ke,$t)}function $e(bt){var X=typeof E=="function"?E(bt):E;return Ne(X,X,!1)}var tt=_t("div",{className:"".concat(me,"-search"),style:{width:te},onFocus:function(){fe(!0)},onBlur:function(){fe(!1)},children:[D(xz,{ref:a,open:o,prefixCls:r,id:n,inputElement:null,disabled:c,autoFocus:d,autoComplete:h,editable:le,activeDescendantId:p,value:K,onKeyDown:A,onMouseDown:N,onChange:k,onPaste:I,onCompositionStart:$,onCompositionEnd:L,tabIndex:g,attrs:ZS(e,!0)}),_t("span",{ref:B,className:"".concat(me,"-search-mirror"),"aria-hidden":!0,children:[K,"\xA0"]})]}),Pt=D(lh,{prefixCls:"".concat(me,"-overflow"),data:i,renderItem:Je,renderRest:$e,suffix:tt,itemKey:Qet,maxCount:y});return _t(Xi,{children:[Pt,!i.length&&!K&&D("span",{className:"".concat(me,"-placeholder"),children:l})]})},ett=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,f=e.open,d=e.values,h=e.placeholder,p=e.tabIndex,g=e.showSearch,m=e.searchValue,y=e.activeValue,b=e.maxLength,C=e.onInputKeyDown,E=e.onInputMouseDown,_=e.onInputChange,w=e.onInputPaste,M=e.onInputCompositionStart,k=e.onInputCompositionEnd,I=T.exports.useState(!1),A=Ke(I,2),N=A[0],$=A[1],L=u==="combobox",B=L||g,j=d[0],H=m||"";L&&y&&!N&&(H=y),T.exports.useEffect(function(){L&&$(!1)},[L,y]);var te=u!=="combobox"&&!f&&!g?!1:!!H,Y=j&&(typeof j.label=="string"||typeof j.label=="number")?j.label.toString():void 0,ue=function(){if(j)return null;var se=te?{visibility:"hidden"}:void 0;return D("span",{className:"".concat(r,"-selection-placeholder"),style:se,children:h})};return _t(Xi,{children:[D("span",{className:"".concat(r,"-selection-search"),children:D(xz,{ref:o,prefixCls:r,id:i,open:f,inputElement:n,disabled:s,autoFocus:a,autoComplete:l,editable:B,activeDescendantId:c,value:H,onKeyDown:C,onMouseDown:E,onChange:function(se){$(!0),_(se)},onPaste:w,onCompositionStart:M,onCompositionEnd:k,tabIndex:p,attrs:ZS(e,!0),maxLength:L?b:void 0})}),!L&&j&&!te&&D("span",{className:"".concat(r,"-selection-item"),title:Y,children:j.label}),ue()]})};function gce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=T.exports.useRef(null),n=T.exports.useRef(null);T.exports.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function ttt(t){return![St.ESC,St.SHIFT,St.BACKSPACE,St.TAB,St.WIN_KEY,St.ALT,St.META,St.WIN_KEY_RIGHT,St.CTRL,St.SEMICOLON,St.EQUALS,St.CAPS_LOCK,St.CONTEXT_MENU,St.F1,St.F2,St.F3,St.F4,St.F5,St.F6,St.F7,St.F8,St.F9,St.F10,St.F11,St.F12].includes(t)}var ntt=function(e,n){var r=T.exports.useRef(null),i=T.exports.useRef(!1),o=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.onSearch,f=e.onSearchSubmit,d=e.onToggleOpen,h=e.onInputKeyDown,p=e.domRef;T.exports.useImperativeHandle(n,function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}});var g=gce(0),m=Ke(g,2),y=m[0],b=m[1],C=function(H){var te=H.which;(te===St.UP||te===St.DOWN)&&H.preventDefault(),h&&h(H),te===St.ENTER&&a==="tags"&&!i.current&&!s&&(f==null||f(H.target.value)),ttt(te)&&d(!0)},E=function(){b(!0)},_=T.exports.useRef(null),w=function(H){u(H,!0,i.current)!==!1&&d(!0)},M=function(){i.current=!0},k=function(H){i.current=!1,a!=="combobox"&&w(H.target.value)},I=function(H){var te=H.target.value;if(c&&_.current&&/[\r\n]/.test(_.current)){var Y=_.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");te=te.replace(Y,_.current)}_.current=null,w(te)},A=function(H){var te=H.clipboardData,Y=te.getData("text");_.current=Y},N=function(H){var te=H.target;if(te!==r.current){var Y=document.body.style.msTouchAction!==void 0;Y?setTimeout(function(){r.current.focus()}):r.current.focus()}},$=function(H){var te=y();H.target!==r.current&&!te&&H.preventDefault(),(a!=="combobox"&&(!l||!te)||!s)&&(s&&u("",!0,!1),d())},L={inputRef:r,onInputKeyDown:C,onInputMouseDown:E,onInputChange:I,onInputPaste:A,onInputCompositionStart:M,onInputCompositionEnd:k},B=a==="multiple"||a==="tags"?D(Jet,{...e,...L}):D(ett,{...e,...L});return D("div",{ref:p,className:"".concat(o,"-selector"),onClick:N,onMouseDown:$,children:B})},vce=T.exports.forwardRef(ntt);vce.displayName="Selector";function rtt(t,e,n,r){var i=T.exports.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},T.exports.useEffect(function(){function o(s){var a;if(!(!((a=i.current)===null||a===void 0)&&a.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function itt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=T.exports.useState(!1),n=Ke(e,2),r=n[0],i=n[1],o=T.exports.useRef(null),s=function(){window.clearTimeout(o.current)};T.exports.useEffect(function(){return s},[]);var a=function(c,u){s(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,a,s]}var mce=T.exports.createContext(null);function ott(){return T.exports.useContext(mce)}var stt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],att=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function wL(t){return t==="tags"||t==="multiple"}var ltt=T.exports.forwardRef(function(t,e){var n,r,i=t.id,o=t.prefixCls,s=t.className,a=t.showSearch,l=t.tagRender,c=t.direction,u=t.omitDomProps,f=t.displayValues,d=t.onDisplayValuesChange,h=t.emptyOptions,p=t.notFoundContent,g=p===void 0?"Not Found":p,m=t.onClear,y=t.mode,b=t.disabled,C=t.loading,E=t.getInputElement,_=t.getRawInputElement,w=t.open,M=t.defaultOpen,k=t.onDropdownVisibleChange,I=t.activeValue,A=t.onActiveValueChange,N=t.activeDescendantId,$=t.searchValue,L=t.onSearch,B=t.onSearchSplit,j=t.tokenSeparators,H=t.allowClear,te=t.showArrow,Y=t.inputIcon,ue=t.clearIcon,ce=t.OptionList,se=t.animation,fe=t.transitionName,me=t.dropdownStyle,K=t.dropdownClassName,le=t.dropdownMatchSelectWidth,Ne=t.dropdownRender,Re=t.dropdownAlign,Je=t.placement,$e=t.getPopupContainer,tt=t.showAction,Pt=tt===void 0?[]:tt,bt=t.onFocus,X=t.onBlur,ve=t.onKeyUp,ne=t.onKeyDown,ke=t.onMouseDown,je=_i(t,stt),Ve=wL(y),$t=(a!==void 0?a:Ve)||y==="combobox",Ct=be({},je);att.forEach(function(tr){delete Ct[tr]}),u==null||u.forEach(function(tr){delete Ct[tr]});var ln=T.exports.useState(!1),bn=Ke(ln,2),Z=bn[0],J=bn[1];T.exports.useEffect(function(){J(TD())},[]);var xe=T.exports.useRef(null),Se=T.exports.useRef(null),ze=T.exports.useRef(null),ot=T.exports.useRef(null),yn=T.exports.useRef(null),xt=itt(),It=Ke(xt,3),qe=It[0],Tt=It[1],Dt=It[2];T.exports.useImperativeHandle(e,function(){var tr,or;return{focus:(tr=ot.current)===null||tr===void 0?void 0:tr.focus,blur:(or=ot.current)===null||or===void 0?void 0:or.blur,scrollTo:function(Hi){var po;return(po=yn.current)===null||po===void 0?void 0:po.scrollTo(Hi)}}});var _n=T.exports.useMemo(function(){var tr;if(y!=="combobox")return $;var or=(tr=f[0])===null||tr===void 0?void 0:tr.value;return typeof or=="string"||typeof or=="number"?String(or):""},[$,y,f]),lr=y==="combobox"&&typeof E=="function"&&E()||null,Qn=typeof _=="function"&&_(),Wn=lKe(Se,Qn==null||(n=Qn.props)===null||n===void 0?void 0:n.ref),In=Gs(void 0,{defaultValue:M,value:w}),en=Ke(In,2),Pn=en[0],Sr=en[1],Fn=Pn,ro=!g&&h;(b||ro&&Fn&&y==="combobox")&&(Fn=!1);var wo=ro?!1:Fn,Tr=T.exports.useCallback(function(tr){var or=tr!==void 0?tr:!Fn;Fn!==or&&!b&&(Sr(or),k==null||k(or))},[b,Fn,Sr,k]),Yt=T.exports.useMemo(function(){return(j||[]).some(function(tr){return[`
`,`\r
`].includes(tr)})},[j]),gn=function(or,Ui,Hi){var po=!0,Ms=or;A==null||A(null);var As=Hi?null:IQe(or,j);return y!=="combobox"&&As&&(Ms="",B==null||B(As),Tr(!1),po=!1),L&&_n!==Ms&&L(Ms,{source:Ui?"typing":"effect"}),po},dn=function(or){!or||!or.trim()||L(or,{source:"submit"})};T.exports.useEffect(function(){!Fn&&!Ve&&y!=="combobox"&&gn("",!1,!1)},[Fn]),T.exports.useEffect(function(){Pn&&b&&Sr(!1),b&&Tt(!1)},[b]);var zt=gce(),On=Ke(zt,2),Gr=On[0],qo=On[1],Hr=function(or){var Ui=Gr(),Hi=or.which;if(Hi===St.ENTER&&(y!=="combobox"&&or.preventDefault(),Fn||Tr(!0)),qo(!!_n),Hi===St.BACKSPACE&&!Ui&&Ve&&!_n&&f.length){for(var po=un(f),Ms=null,As=po.length-1;As>=0;As-=1){var zo=po[As];if(!zo.disabled){po.splice(As,1),Ms=zo;break}}Ms&&d(po,{type:"remove",values:[Ms]})}for(var fa=arguments.length,da=new Array(fa>1?fa-1:0),ha=1;ha<fa;ha++)da[ha-1]=arguments[ha];if(Fn&&yn.current){var Fl;(Fl=yn.current).onKeyDown.apply(Fl,[or].concat(da))}ne==null||ne.apply(void 0,[or].concat(da))},Qi=function(or){for(var Ui=arguments.length,Hi=new Array(Ui>1?Ui-1:0),po=1;po<Ui;po++)Hi[po-1]=arguments[po];if(Fn&&yn.current){var Ms;(Ms=yn.current).onKeyUp.apply(Ms,[or].concat(Hi))}ve==null||ve.apply(void 0,[or].concat(Hi))},Vi=function(or){var Ui=f.filter(function(Hi){return Hi!==or});d(Ui,{type:"remove",values:[or]})},ys=T.exports.useRef(!1),qr=function(){Tt(!0),b||(bt&&!ys.current&&bt.apply(void 0,arguments),Pt.includes("focus")&&Tr(!0)),ys.current=!0},bs=function(){Tt(!1,function(){ys.current=!1,Tr(!1)}),!b&&(_n&&(y==="tags"?L(_n,{source:"submit"}):y==="multiple"&&L("",{source:"blur"})),X&&X.apply(void 0,arguments))},io=[];T.exports.useEffect(function(){return function(){io.forEach(function(tr){return clearTimeout(tr)}),io.splice(0,io.length)}},[]);var Fo=function(or){var Ui,Hi=or.target,po=(Ui=ze.current)===null||Ui===void 0?void 0:Ui.getPopupElement();if(po&&po.contains(Hi)){var Ms=setTimeout(function(){var da=io.indexOf(Ms);if(da!==-1&&io.splice(da,1),Dt(),!Z&&!po.contains(document.activeElement)){var ha;(ha=ot.current)===null||ha===void 0||ha.focus()}});io.push(Ms)}for(var As=arguments.length,zo=new Array(As>1?As-1:0),fa=1;fa<As;fa++)zo[fa-1]=arguments[fa];ke==null||ke.apply(void 0,[or].concat(zo))},xs=T.exports.useState(null),ua=Ke(xs,2),Sa=ua[0],Xr=ua[1],Fr=T.exports.useState({}),fr=Ke(Fr,2),er=fr[1];function oo(){er({})}ad(function(){if(wo){var tr,or=Math.ceil((tr=xe.current)===null||tr===void 0?void 0:tr.offsetWidth);Sa!==or&&!Number.isNaN(or)&&Xr(or)}},[wo]);var ws;Qn&&(ws=function(or){Tr(or)}),rtt(function(){var tr;return[xe.current,(tr=ze.current)===null||tr===void 0?void 0:tr.getPopupElement()]},wo,Tr,!!Qn);var Ia=T.exports.useMemo(function(){return be(be({},t),{},{notFoundContent:g,open:Fn,triggerOpen:wo,id:i,showSearch:$t,multiple:Ve,toggleOpen:Tr})},[t,g,wo,Fn,i,$t,Ve,Tr]),xl=te!==void 0?te:C||!Ve&&y!=="combobox",wl;xl&&(wl=D(DA,{className:at("".concat(o,"-arrow"),V({},"".concat(o,"-arrow-loading"),C)),customizeIcon:Y,customizeIconProps:{loading:C,searchValue:_n,open:Fn,focused:qe,showSearch:$t}}));var el,Cl=function(){m==null||m(),d([],{type:"clear",values:f}),gn("",!1,!1)};!b&&H&&(f.length||_n)&&(el=D(DA,{className:"".concat(o,"-clear"),onMouseDown:Cl,customizeIcon:ue,children:"\xD7"}));var ho=D(ce,{ref:yn}),ti=at(o,s,(r={},V(r,"".concat(o,"-focused"),qe),V(r,"".concat(o,"-multiple"),Ve),V(r,"".concat(o,"-single"),!Ve),V(r,"".concat(o,"-allow-clear"),H),V(r,"".concat(o,"-show-arrow"),xl),V(r,"".concat(o,"-disabled"),b),V(r,"".concat(o,"-loading"),C),V(r,"".concat(o,"-open"),Fn),V(r,"".concat(o,"-customize-input"),lr),V(r,"".concat(o,"-show-search"),$t),r)),Br=D(uce,{ref:ze,disabled:b,prefixCls:o,visible:wo,popupElement:ho,containerWidth:Sa,animation:se,transitionName:fe,dropdownStyle:me,dropdownClassName:K,direction:c,dropdownMatchSelectWidth:le,dropdownRender:Ne,dropdownAlign:Re,placement:Je,getPopupContainer:$e,empty:h,getTriggerDOMNode:function(){return Se.current},onPopupVisibleChange:ws,onPopupMouseEnter:oo,children:Qn?T.exports.cloneElement(Qn,{ref:Wn}):D(vce,{...t,domRef:Se,prefixCls:o,inputElement:lr,ref:ot,id:i,showSearch:$t,mode:y,activeDescendantId:N,tagRender:l,values:f,open:Fn,onToggleOpen:Tr,activeValue:I,searchValue:_n,onSearch:gn,onSearchSubmit:dn,onRemove:Vi,tokenWithEnter:Yt})}),Di;return Qn?Di=Br:Di=_t("div",{className:ti,...Ct,ref:xe,onMouseDown:Fo,onKeyDown:Hr,onKeyUp:Qi,onFocus:qr,onBlur:bs,children:[qe&&!Fn&&D("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite",children:"".concat(f.map(function(tr){var or=tr.label,Ui=tr.value;return["number","string"].includes(Ar(or))?or:Ui}).join(", "))}),Br,wl,el]}),D(mce.Provider,{value:Ia,children:Di})});const ctt=function(t,e){var n=T.exports.useRef({values:new Map,options:new Map}),r=T.exports.useMemo(function(){var o=n.current,s=o.values,a=o.options,l=t.map(function(f){if(f.label===void 0){var d;return be(be({},f),{},{label:(d=s.get(f.value))===null||d===void 0?void 0:d.label})}return f}),c=new Map,u=new Map;return l.forEach(function(f){c.set(f.value,f),u.set(f.value,e.get(f.value)||a.get(f.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=T.exports.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function GI(t,e){return pce(t).join("").toUpperCase().includes(e)}const utt=function(t,e,n,r,i){return T.exports.useMemo(function(){if(!n||r===!1)return t;var o=e.options,s=e.label,a=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),f=c?r:function(h,p){return i?GI(p[i],u):p[o]?GI(p[s!=="children"?s:"label"],u):GI(p[a],u)},d=c?function(h){return mL(h)}:function(h){return h};return t.forEach(function(h){if(h[o]){var p=f(n,d(h));if(p)l.push(h);else{var g=h[o].filter(function(m){return f(n,d(m))});g.length&&l.push(be(be({},h),{},V({},o,g)))}return}f(n,d(h))&&l.push(h)}),l},[t,r,i,n,e])};var gK=0,ftt=bh();function dtt(){var t;return ftt?(t=gK,gK+=1):t="TEST_OR_SSR",t}function htt(t){var e=T.exports.useState(),n=Ke(e,2),r=n[0],i=n[1];return T.exports.useEffect(function(){i("rc_select_".concat(dtt()))},[]),t||r}var ptt=["children","value"],gtt=["children"];function vtt(t){var e=t.key,n=t.props,r=n.children,i=n.value,o=_i(n,ptt);return be({key:e,value:i!==void 0?i:e,children:r},o)}function yce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return G0(t).map(function(n,r){if(!T.exports.isValidElement(n)||!n.type)return null;var i=n.type.isSelectOptGroup,o=n.key,s=n.props,a=s.children,l=_i(s,gtt);return e||!i?vtt(n):be(be({key:"__RC_SELECT_GRP__".concat(o===null?r:o,"__"),label:o},l),{},{options:yce(a)})}).filter(function(n){return n})}function mtt(t,e,n,r,i){return T.exports.useMemo(function(){var o=t,s=!t;s&&(o=yce(e));var a=new Map,l=new Map,c=function(d,h,p){p&&typeof p=="string"&&d.set(h[p],h)};function u(f){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=0;h<f.length;h+=1){var p=f[h];!p[n.options]||d?(a.set(p[n.value],p),c(l,p,n.label),c(l,p,r),c(l,p,i)):u(p[n.options],!0)}}return u(o),{options:o,valueOptions:a,labelOptions:l}},[t,e,n,r,i])}function vK(t){var e=T.exports.useRef();e.current=t;var n=T.exports.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var wz=function(){return null};wz.isSelectOptGroup=!0;var Cz=function(){return null};Cz.isSelectOption=!0;function mK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mK(Object(n),!0).forEach(function(r){bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xce=T.exports.forwardRef(function(t,e){var n=t.height,r=t.offset,i=t.children,o=t.prefixCls,s=t.onInnerResize,a={},l={display:"flex",flexDirection:"column"};return r!==void 0&&(a={height:n,position:"relative",overflow:"hidden"},l=yK(yK({},l),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),D("div",{style:a,children:D(B0,{onResize:function(u){var f=u.offsetHeight;f&&s&&s()},children:D("div",{style:l,className:at(bce({},"".concat(o,"-holder-inner"),o)),ref:e,children:i})})})});xce.displayName="Filler";function CL(t){return CL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CL(t)}function bK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ytt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function btt(t,e,n){return e&&xK(t.prototype,e),n&&xK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SL(t,e)}function SL(t,e){return SL=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},SL(t,e)}function wtt(t){var e=Ett();return function(){var r=NA(t),i;if(e){var o=NA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ctt(this,i)}}function Ctt(t,e){if(e&&(CL(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Stt(t)}function Stt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ett(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function NA(t){return NA=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},NA(t)}var _tt=20;function wK(t){return"touches"in t?t.touches[0].pageY:t.pageY}var Ttt=function(t){xtt(n,t);var e=wtt(n);function n(){var r;ytt(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.moveRaf=null,r.scrollbarRef=T.exports.createRef(),r.thumbRef=T.exports.createRef(),r.visibleTimeout=null,r.state={dragging:!1,pageY:null,startTop:null,visible:!1},r.delayHidden=function(){clearTimeout(r.visibleTimeout),r.setState({visible:!0}),r.visibleTimeout=setTimeout(function(){r.setState({visible:!1})},2e3)},r.onScrollbarTouchStart=function(a){a.preventDefault()},r.onContainerMouseDown=function(a){a.stopPropagation(),a.preventDefault()},r.patchEvents=function(){window.addEventListener("mousemove",r.onMouseMove),window.addEventListener("mouseup",r.onMouseUp),r.thumbRef.current.addEventListener("touchmove",r.onMouseMove),r.thumbRef.current.addEventListener("touchend",r.onMouseUp)},r.removeEvents=function(){var a;window.removeEventListener("mousemove",r.onMouseMove),window.removeEventListener("mouseup",r.onMouseUp),(a=r.scrollbarRef.current)===null||a===void 0||a.removeEventListener("touchstart",r.onScrollbarTouchStart),r.thumbRef.current&&(r.thumbRef.current.removeEventListener("touchstart",r.onMouseDown),r.thumbRef.current.removeEventListener("touchmove",r.onMouseMove),r.thumbRef.current.removeEventListener("touchend",r.onMouseUp)),oi.cancel(r.moveRaf)},r.onMouseDown=function(a){var l=r.props.onStartMove;r.setState({dragging:!0,pageY:wK(a),startTop:r.getTop()}),l(),r.patchEvents(),a.stopPropagation(),a.preventDefault()},r.onMouseMove=function(a){var l=r.state,c=l.dragging,u=l.pageY,f=l.startTop,d=r.props.onScroll;if(oi.cancel(r.moveRaf),c){var h=wK(a)-u,p=f+h,g=r.getEnableScrollRange(),m=r.getEnableHeightRange(),y=m?p/m:0,b=Math.ceil(y*g);r.moveRaf=oi(function(){d(b)})}},r.onMouseUp=function(){var a=r.props.onStopMove;r.setState({dragging:!1}),a(),r.removeEvents()},r.getSpinHeight=function(){var a=r.props,l=a.height,c=a.count,u=l/c*10;return u=Math.max(u,_tt),u=Math.min(u,l/2),Math.floor(u)},r.getEnableScrollRange=function(){var a=r.props,l=a.scrollHeight,c=a.height;return l-c||0},r.getEnableHeightRange=function(){var a=r.props.height,l=r.getSpinHeight();return a-l||0},r.getTop=function(){var a=r.props.scrollTop,l=r.getEnableScrollRange(),c=r.getEnableHeightRange();if(a===0||l===0)return 0;var u=a/l;return u*c},r.showScroll=function(){var a=r.props,l=a.height,c=a.scrollHeight;return c>l},r}return btt(n,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(i){i.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var i=this.state,o=i.dragging,s=i.visible,a=this.props.prefixCls,l=this.getSpinHeight(),c=this.getTop(),u=this.showScroll(),f=u&&s;return D("div",{ref:this.scrollbarRef,className:at("".concat(a,"-scrollbar"),bK({},"".concat(a,"-scrollbar-show"),u)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:f?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden,children:D("div",{ref:this.thumbRef,className:at("".concat(a,"-scrollbar-thumb"),bK({},"".concat(a,"-scrollbar-thumb-moving"),o)),style:{width:"100%",height:l,top:c,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown})})}}]),n}(T.exports.Component);function Ptt(t){var e=t.children,n=t.setRef,r=T.exports.useCallback(function(i){n(i)},[]);return T.exports.cloneElement(e,{ref:r})}function Ott(t,e,n,r,i,o){var s=o.getKey;return t.slice(e,n+1).map(function(a,l){var c=e+l,u=i(a,c,{}),f=s(a);return D(Ptt,{setRef:function(h){return r(a,h)},children:u},f)})}function Mtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Att(t,e,n){return e&&CK(t.prototype,e),n&&CK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var ktt=function(){function t(){Mtt(this,t),this.maps=void 0,this.maps=Object.create(null)}return Att(t,[{key:"set",value:function(n,r){this.maps[n]=r}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function Dtt(t,e){return $tt(t)||Itt(t,e)||Rtt(t,e)||Ntt()}function Ntt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rtt(t,e){if(!!t){if(typeof t=="string")return SK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SK(t,e)}}function SK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Itt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function $tt(t){if(Array.isArray(t))return t}function Ltt(t,e,n){var r=T.exports.useState(0),i=Dtt(r,2),o=i[0],s=i[1],a=T.exports.useRef(new Map),l=T.exports.useRef(new ktt),c=T.exports.useRef();function u(){oi.cancel(c.current)}function f(){u(),c.current=oi(function(){a.current.forEach(function(h,p){if(h&&h.offsetParent){var g=WS(h),m=g.offsetHeight;l.current.get(p)!==m&&l.current.set(p,g.offsetHeight)}}),s(function(h){return h+1})})}function d(h,p){var g=t(h),m=a.current.get(g);p?(a.current.set(g,p),f()):a.current.delete(g),!m!=!p&&(p?e==null||e(h):n==null||n(h))}return T.exports.useEffect(function(){return u},[]),[d,f,l.current,o]}function EL(t){return EL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EL(t)}function Ftt(t,e,n,r,i,o,s,a){var l=T.exports.useRef();return function(c){if(c==null){a();return}if(oi.cancel(l.current),typeof c=="number")s(c);else if(c&&EL(c)==="object"){var u,f=c.align;"index"in c?u=c.index:u=e.findIndex(function(g){return i(g)===c.key});var d=c.offset,h=d===void 0?0:d,p=function g(m,y){if(!(m<0||!t.current)){var b=t.current.clientHeight,C=!1,E=y;if(b){for(var _=y||f,w=0,M=0,k=0,I=Math.min(e.length,u),A=0;A<=I;A+=1){var N=i(e[A]);M=w;var $=n.get(N);k=M+($===void 0?r:$),w=k,A===u&&$===void 0&&(C=!0)}var L=null;switch(_){case"top":L=M-h;break;case"bottom":L=k-b+h;break;default:{var B=t.current.scrollTop,j=B+b;M<B?E="top":k>j&&(E="bottom")}}L!==null&&L!==t.current.scrollTop&&s(L)}l.current=oi(function(){C&&o(),g(m-1,E)})}};p(3)}}}function ztt(t,e,n){var r=t.length,i=e.length,o,s;if(r===0&&i===0)return null;r<i?(o=t,s=e):(o=e,s=t);var a={__EMPTY_ITEM__:!0};function l(p){return p!==void 0?n(p):a}for(var c=null,u=Math.abs(r-i)!==1,f=0;f<s.length;f+=1){var d=l(o[f]),h=l(s[f]);if(d!==h){c=f,u=u||d!==l(s[f+1]);break}}return c===null?null:{index:c,multiple:u}}function EK(t,e){return Vtt(t)||jtt(t,e)||Btt(t,e)||Gtt()}function Gtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Btt(t,e){if(!!t){if(typeof t=="string")return _K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _K(t,e)}}function _K(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jtt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function Vtt(t){if(Array.isArray(t))return t}function Utt(t,e,n){var r=T.exports.useState(t),i=EK(r,2),o=i[0],s=i[1],a=T.exports.useState(null),l=EK(a,2),c=l[0],u=l[1];return T.exports.useEffect(function(){var f=ztt(o||[],t||[],e);(f==null?void 0:f.index)!==void 0&&(n==null||n(f.index),u(t[f.index])),s(t)},[t]),[c]}function _L(t){return _L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_L(t)}var Htt=(typeof navigator>"u"?"undefined":_L(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const wce=function(t,e){var n=T.exports.useRef(!1),r=T.exports.useRef(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout(function(){n.current=!1},50)}var o=T.exports.useRef({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s<0&&o.current.top||s>0&&o.current.bottom;return a&&l?(clearTimeout(r.current),n.current=!1):(!l||n.current)&&i(),!n.current&&l}};function Wtt(t,e,n,r){var i=T.exports.useRef(0),o=T.exports.useRef(null),s=T.exports.useRef(null),a=T.exports.useRef(!1),l=wce(e,n);function c(f){if(!!t){oi.cancel(o.current);var d=f.deltaY;i.current+=d,s.current=d,!l(d)&&(Htt||f.preventDefault(),o.current=oi(function(){var h=a.current?10:1;r(i.current*h),i.current=0}))}}function u(f){!t||(a.current=f.detail===s.current)}return[c,u]}var Ytt=14/15;function qtt(t,e,n){var r=T.exports.useRef(!1),i=T.exports.useRef(0),o=T.exports.useRef(null),s=T.exports.useRef(null),a,l=function(d){if(r.current){var h=Math.ceil(d.touches[0].pageY),p=i.current-h;i.current=h,n(p)&&d.preventDefault(),clearInterval(s.current),s.current=setInterval(function(){p*=Ytt,(!n(p,!0)||Math.abs(p)<=.1)&&clearInterval(s.current)},16)}},c=function(){r.current=!1,a()},u=function(d){a(),d.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(d.touches[0].pageY),o.current=d.target,o.current.addEventListener("touchmove",l),o.current.addEventListener("touchend",c))};a=function(){o.current&&(o.current.removeEventListener("touchmove",l),o.current.removeEventListener("touchend",c))},ad(function(){return t&&e.current.addEventListener("touchstart",u),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",u),a(),clearInterval(s.current)}},[t])}var Xtt=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function TK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ew(t,e){return Jtt(t)||Qtt(t,e)||Ztt(t,e)||Ktt()}function Ktt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ztt(t,e){if(!!t){if(typeof t=="string")return PK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PK(t,e)}}function PK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qtt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function Jtt(t){if(Array.isArray(t))return t}function ent(t,e){if(t==null)return{};var n=tnt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function tnt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var nnt=[],rnt={overflowY:"auto",overflowAnchor:"none"};function int(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,s=t.itemHeight,a=t.fullHeight,l=a===void 0?!0:a,c=t.style,u=t.data,f=t.children,d=t.itemKey,h=t.virtual,p=t.component,g=p===void 0?"div":p,m=t.onScroll,y=t.onVisibleChange,b=ent(t,Xtt),C=!!(h!==!1&&o&&s),E=C&&u&&s*u.length>o,_=T.exports.useState(0),w=ew(_,2),M=w[0],k=w[1],I=T.exports.useState(!1),A=ew(I,2),N=A[0],$=A[1],L=at(r,i),B=u||nnt,j=T.exports.useRef(),H=T.exports.useRef(),te=T.exports.useRef(),Y=T.exports.useCallback(function(qe){return typeof d=="function"?d(qe):qe==null?void 0:qe[d]},[d]),ue={getKey:Y};function ce(qe){k(function(Tt){var Dt;typeof qe=="function"?Dt=qe(Tt):Dt=qe;var _n=$t(Dt);return j.current.scrollTop=_n,_n})}var se=T.exports.useRef({start:0,end:B.length}),fe=T.exports.useRef(),me=Utt(B,Y),K=ew(me,1),le=K[0];fe.current=le;var Ne=Ltt(Y,null,null),Re=ew(Ne,4),Je=Re[0],$e=Re[1],tt=Re[2],Pt=Re[3],bt=T.exports.useMemo(function(){if(!C)return{scrollHeight:void 0,start:0,end:B.length-1,offset:void 0};if(!E){var qe;return{scrollHeight:((qe=H.current)===null||qe===void 0?void 0:qe.offsetHeight)||0,start:0,end:B.length-1,offset:void 0}}for(var Tt=0,Dt,_n,lr,Qn=B.length,Wn=0;Wn<Qn;Wn+=1){var In=B[Wn],en=Y(In),Pn=tt.get(en),Sr=Tt+(Pn===void 0?s:Pn);Sr>=M&&Dt===void 0&&(Dt=Wn,_n=Tt),Sr>M+o&&lr===void 0&&(lr=Wn),Tt=Sr}return Dt===void 0&&(Dt=0,_n=0),lr===void 0&&(lr=B.length-1),lr=Math.min(lr+1,B.length),{scrollHeight:Tt,start:Dt,end:lr,offset:_n}},[E,C,M,B,Pt,o]),X=bt.scrollHeight,ve=bt.start,ne=bt.end,ke=bt.offset;se.current.start=ve,se.current.end=ne;var je=X-o,Ve=T.exports.useRef(je);Ve.current=je;function $t(qe){var Tt=qe;return Number.isNaN(Ve.current)||(Tt=Math.min(Tt,Ve.current)),Tt=Math.max(Tt,0),Tt}var Ct=M<=0,ln=M>=je,bn=wce(Ct,ln);function Z(qe){var Tt=qe;ce(Tt)}function J(qe){var Tt=qe.currentTarget.scrollTop;Tt!==M&&ce(Tt),m==null||m(qe)}var xe=Wtt(C,Ct,ln,function(qe){ce(function(Tt){var Dt=Tt+qe;return Dt})}),Se=ew(xe,2),ze=Se[0],ot=Se[1];qtt(C,j,function(qe,Tt){return bn(qe,Tt)?!1:(ze({preventDefault:function(){},deltaY:qe}),!0)}),ad(function(){function qe(Tt){C&&Tt.preventDefault()}return j.current.addEventListener("wheel",ze),j.current.addEventListener("DOMMouseScroll",ot),j.current.addEventListener("MozMousePixelScroll",qe),function(){j.current&&(j.current.removeEventListener("wheel",ze),j.current.removeEventListener("DOMMouseScroll",ot),j.current.removeEventListener("MozMousePixelScroll",qe))}},[C]);var yn=Ftt(j,B,tt,s,Y,$e,ce,function(){var qe;(qe=te.current)===null||qe===void 0||qe.delayHidden()});T.exports.useImperativeHandle(e,function(){return{scrollTo:yn}}),ad(function(){if(y){var qe=B.slice(ve,ne+1);y(qe,B)}},[ve,ne,B]);var xt=Ott(B,ve,ne,Je,f,ue),It=null;return o&&(It=BI(Cce({},l?"height":"maxHeight",o),rnt),C&&(It.overflowY="hidden",N&&(It.pointerEvents="none"))),_t("div",{style:BI(BI({},c),{},{position:"relative"}),className:L,...b,children:[D(g,{className:"".concat(r,"-holder"),style:It,ref:j,onScroll:J,children:D(xce,{prefixCls:r,height:X,offset:ke,onInnerResize:$e,ref:H,children:xt})}),C&&D(Ttt,{ref:te,prefixCls:r,scrollTop:M,height:o,scrollHeight:X,count:B.length,onScroll:Z,onStartMove:function(){$(!0)},onStopMove:function(){$(!1)}})]})}var Sce=T.exports.forwardRef(int);Sce.displayName="List";function ont(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Ece=T.exports.createContext(null),snt=["disabled","title","children","style","className"];function OK(t){return typeof t=="string"||typeof t=="number"}var ant=function(e,n){var r=ott(),i=r.prefixCls,o=r.id,s=r.open,a=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,f=r.notFoundContent,d=r.onPopupScroll,h=T.exports.useContext(Ece),p=h.flattenOptions,g=h.onActiveValue,m=h.defaultActiveFirstOption,y=h.onSelect,b=h.menuItemSelectedIcon,C=h.rawValues,E=h.fieldNames,_=h.virtual,w=h.listHeight,M=h.listItemHeight,k="".concat(i,"-item"),I=k2(function(){return p},[s,p],function(K,le){return le[0]&&K[1]!==le[1]}),A=T.exports.useRef(null),N=function(le){le.preventDefault()},$=function(le){A.current&&A.current.scrollTo(typeof le=="number"?{index:le}:le)},L=function(le){for(var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Re=I.length,Je=0;Je<Re;Je+=1){var $e=(le+Je*Ne+Re)%Re,tt=I[$e],Pt=tt.group,bt=tt.data;if(!Pt&&!bt.disabled)return $e}return-1},B=T.exports.useState(function(){return L(0)}),j=Ke(B,2),H=j[0],te=j[1],Y=function(le){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;te(le);var Re={source:Ne?"keyboard":"mouse"},Je=I[le];if(!Je){g(null,-1,Re);return}g(Je.value,le,Re)};T.exports.useEffect(function(){Y(m!==!1?L(0):-1)},[I.length,c]);var ue=T.exports.useCallback(function(K){return C.has(K)&&l!=="combobox"},[l,un(C).toString()]);T.exports.useEffect(function(){var K=setTimeout(function(){if(!a&&s&&C.size===1){var Ne=Array.from(C)[0],Re=I.findIndex(function(Je){var $e=Je.data;return $e.value===Ne});Re!==-1&&(Y(Re),$(Re))}});if(s){var le;(le=A.current)===null||le===void 0||le.scrollTo(void 0)}return function(){return clearTimeout(K)}},[s,c]);var ce=function(le){le!==void 0&&y(le,{selected:!C.has(le)}),a||u(!1)};if(T.exports.useImperativeHandle(n,function(){return{onKeyDown:function(le){var Ne=le.which,Re=le.ctrlKey;switch(Ne){case St.N:case St.P:case St.UP:case St.DOWN:{var Je=0;if(Ne===St.UP?Je=-1:Ne===St.DOWN?Je=1:ont()&&Re&&(Ne===St.N?Je=1:Ne===St.P&&(Je=-1)),Je!==0){var $e=L(H+Je,Je);$($e),Y($e,!0)}break}case St.ENTER:{var tt=I[H];tt&&!tt.data.disabled?ce(tt.value):ce(void 0),s&&le.preventDefault();break}case St.ESC:u(!1),s&&le.stopPropagation()}},onKeyUp:function(){},scrollTo:function(le){$(le)}}}),I.length===0)return D("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(k,"-empty"),onMouseDown:N,children:f});var se=Object.keys(E).map(function(K){return E[K]}),fe=function(le){return le.label},me=function(le){var Ne=I[le];if(!Ne)return null;var Re=Ne.data||{},Je=Re.value,$e=Ne.group,tt=ZS(Re,!0),Pt=fe(Ne);return Ne?T.exports.createElement("div",{"aria-label":typeof Pt=="string"&&!$e?Pt:null,...tt,key:le,role:$e?"presentation":"option",id:"".concat(o,"_list_").concat(le),"aria-selected":ue(Je)},Je):null};return _t(Xi,{children:[_t("div",{role:"listbox",id:"".concat(o,"_list"),style:{height:0,width:0,overflow:"hidden"},children:[me(H-1),me(H),me(H+1)]}),D(Sce,{itemKey:"key",ref:A,data:I,height:w,itemHeight:M,fullHeight:!1,onMouseDown:N,onScroll:d,virtual:_,children:function(K,le){var Ne,Re=K.group,Je=K.groupOption,$e=K.data,tt=K.label,Pt=K.value,bt=$e.key;if(Re){var X,ve=(X=$e.title)!==null&&X!==void 0?X:OK(tt)?tt.toString():void 0;return D("div",{className:at(k,"".concat(k,"-group")),title:ve,children:tt!==void 0?tt:bt})}var ne=$e.disabled,ke=$e.title;$e.children;var je=$e.style,Ve=$e.className,$t=_i($e,snt),Ct=Ja($t,se),ln=ue(Pt),bn="".concat(k,"-option"),Z=at(k,bn,Ve,(Ne={},V(Ne,"".concat(bn,"-grouped"),Je),V(Ne,"".concat(bn,"-active"),H===le&&!ne),V(Ne,"".concat(bn,"-disabled"),ne),V(Ne,"".concat(bn,"-selected"),ln),Ne)),J=fe(K),xe=!b||typeof b=="function"||ln,Se=typeof J=="number"?J:J||Pt,ze=OK(Se)?Se.toString():void 0;return ke!==void 0&&(ze=ke),_t("div",{...ZS(Ct),"aria-selected":ln,className:Z,title:ze,onMouseMove:function(){H===le||ne||Y(le)},onClick:function(){ne||ce(Pt)},style:je,children:[D("div",{className:"".concat(bn,"-content"),children:Se}),T.exports.isValidElement(b)||ln,xe&&D(DA,{className:"".concat(k,"-option-state"),customizeIcon:b,customizeIconProps:{isSelected:ln},children:ln?"\u2713":null})]})}})]})},_ce=T.exports.forwardRef(ant);_ce.displayName="OptionList";var lnt=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],cnt=["inputValue"];function unt(t){return!t||Ar(t)!=="object"}var fnt=T.exports.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,s=t.backfill,a=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,f=t.autoClearSearchValue,d=f===void 0?!0:f,h=t.onSelect,p=t.onDeselect,g=t.dropdownMatchSelectWidth,m=g===void 0?!0:g,y=t.filterOption,b=t.filterSort,C=t.optionFilterProp,E=t.optionLabelProp,_=t.options,w=t.children,M=t.defaultActiveFirstOption,k=t.menuItemSelectedIcon,I=t.virtual,A=t.listHeight,N=A===void 0?200:A,$=t.listItemHeight,L=$===void 0?20:$,B=t.value,j=t.defaultValue,H=t.labelInValue,te=t.onChange,Y=_i(t,lnt),ue=htt(n),ce=wL(r),se=!!(!_&&w),fe=T.exports.useMemo(function(){return y===void 0&&r==="combobox"?!1:y},[y,r]),me=T.exports.useMemo(function(){return Wle(a,se)},[JSON.stringify(a),se]),K=Gs("",{value:c!==void 0?c:l,postState:function(gn){return gn||""}}),le=Ke(K,2),Ne=le[0],Re=le[1],Je=mtt(_,w,me,C,E),$e=Je.valueOptions,tt=Je.labelOptions,Pt=Je.options,bt=T.exports.useCallback(function(Yt){var gn=pce(Yt);return gn.map(function(dn){var zt,On,Gr,qo;if(unt(dn))zt=dn;else{var Hr;Gr=dn.key,On=dn.label,zt=(Hr=dn.value)!==null&&Hr!==void 0?Hr:Gr}var Qi=$e.get(zt);if(Qi){var Vi;On===void 0&&(On=Qi==null?void 0:Qi[E||me.label]),Gr===void 0&&(Gr=(Vi=Qi==null?void 0:Qi.key)!==null&&Vi!==void 0?Vi:zt),qo=Qi==null?void 0:Qi.disabled}return{label:On,value:zt,key:Gr,disabled:qo}})},[me,E,$e]),X=Gs(j,{value:B}),ve=Ke(X,2),ne=ve[0],ke=ve[1],je=T.exports.useMemo(function(){var Yt,gn=bt(ne);return r==="combobox"&&!(!((Yt=gn[0])===null||Yt===void 0)&&Yt.value)?[]:gn},[ne,bt,r]),Ve=ctt(je,$e),$t=Ke(Ve,2),Ct=$t[0],ln=$t[1],bn=T.exports.useMemo(function(){if(!r&&Ct.length===1){var Yt=Ct[0];if(Yt.value===null&&(Yt.label===null||Yt.label===void 0))return[]}return Ct.map(function(gn){var dn;return be(be({},gn),{},{label:(dn=gn.label)!==null&&dn!==void 0?dn:gn.value})})},[r,Ct]),Z=T.exports.useMemo(function(){return new Set(Ct.map(function(Yt){return Yt.value}))},[Ct]);T.exports.useEffect(function(){if(r==="combobox"){var Yt,gn=(Yt=Ct[0])===null||Yt===void 0?void 0:Yt.value;gn!=null&&Re(String(gn))}},[Ct]);var J=vK(function(Yt,gn){var dn,zt=gn!=null?gn:Yt;return dn={},V(dn,me.value,Yt),V(dn,me.label,zt),dn}),xe=T.exports.useMemo(function(){if(r!=="tags")return Pt;var Yt=un(Pt),gn=function(zt){return $e.has(zt)};return un(Ct).sort(function(dn,zt){return dn.value<zt.value?-1:1}).forEach(function(dn){var zt=dn.value;gn(zt)||Yt.push(J(zt,dn.label))}),Yt},[J,Pt,$e,Ct,r]),Se=utt(xe,me,Ne,fe,C),ze=T.exports.useMemo(function(){return r!=="tags"||!Ne||Se.some(function(Yt){return Yt[C||"value"]===Ne})?Se:[J(Ne)].concat(un(Se))},[J,C,r,Se,Ne]),ot=T.exports.useMemo(function(){return b?un(ze).sort(function(Yt,gn){return b(Yt,gn)}):ze},[ze,b]),yn=T.exports.useMemo(function(){return RQe(ot,{fieldNames:me,childrenAsData:se})},[ot,me,se]),xt=function(gn){var dn=bt(gn);if(ke(dn),te&&(dn.length!==Ct.length||dn.some(function(Gr,qo){var Hr;return((Hr=Ct[qo])===null||Hr===void 0?void 0:Hr.value)!==(Gr==null?void 0:Gr.value)}))){var zt=H?dn:dn.map(function(Gr){return Gr.value}),On=dn.map(function(Gr){return mL(ln(Gr.value))});te(ce?zt:zt[0],ce?On:On[0])}},It=T.exports.useState(null),qe=Ke(It,2),Tt=qe[0],Dt=qe[1],_n=T.exports.useState(0),lr=Ke(_n,2),Qn=lr[0],Wn=lr[1],In=M!==void 0?M:r!=="combobox",en=T.exports.useCallback(function(Yt,gn){var dn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},zt=dn.source,On=zt===void 0?"keyboard":zt;Wn(gn),s&&r==="combobox"&&Yt!==null&&On==="keyboard"&&Dt(String(Yt))},[s,r]),Pn=function(gn,dn){var zt=function(){var io,Fo=ln(gn);return[H?{label:Fo==null?void 0:Fo[me.label],value:gn,key:(io=Fo==null?void 0:Fo.key)!==null&&io!==void 0?io:gn}:gn,mL(Fo)]};if(dn&&h){var On=zt(),Gr=Ke(On,2),qo=Gr[0],Hr=Gr[1];h(qo,Hr)}else if(!dn&&p){var Qi=zt(),Vi=Ke(Qi,2),ys=Vi[0],qr=Vi[1];p(ys,qr)}},Sr=vK(function(Yt,gn){var dn,zt=ce?gn.selected:!0;zt?dn=ce?[].concat(un(Ct),[Yt]):[Yt]:dn=Ct.filter(function(On){return On.value!==Yt}),xt(dn),Pn(Yt,zt),r==="combobox"?Dt(""):(!wL||d)&&(Re(""),Dt(""))}),Fn=function(gn,dn){xt(gn),(dn.type==="remove"||dn.type==="clear")&&dn.values.forEach(function(zt){Pn(zt.value,!1)})},ro=function(gn,dn){if(Re(gn),Dt(null),dn.source==="submit"){var zt=(gn||"").trim();if(zt){var On=Array.from(new Set([].concat(un(Z),[zt])));xt(On),Pn(zt,!0),Re("")}return}dn.source!=="blur"&&(r==="combobox"&&xt(gn),u==null||u(gn))},wo=function(gn){var dn=gn;r!=="tags"&&(dn=gn.map(function(On){var Gr=tt.get(On);return Gr==null?void 0:Gr.value}).filter(function(On){return On!==void 0}));var zt=Array.from(new Set([].concat(un(Z),un(dn))));xt(zt),zt.forEach(function(On){Pn(On,!0)})},Tr=T.exports.useMemo(function(){var Yt=I!==!1&&m!==!1;return be(be({},Je),{},{flattenOptions:yn,onActiveValue:en,defaultActiveFirstOption:In,onSelect:Sr,menuItemSelectedIcon:k,rawValues:Z,fieldNames:me,virtual:Yt,listHeight:N,listItemHeight:L,childrenAsData:se})},[Je,yn,en,In,Sr,k,Z,me,I,m,N,L,se]);return D(Ece.Provider,{value:Tr,children:D(ltt,{...Y,id:ue,prefixCls:o,ref:e,omitDomProps:cnt,mode:r,displayValues:bn,onDisplayValuesChange:Fn,searchValue:Ne,onSearch:ro,onSearchSplit:wo,dropdownMatchSelectWidth:m,OptionList:_ce,emptyOptions:!yn.length,activeValue:Tt,activeDescendantId:"".concat(ue,"_list_").concat(Qn)})})}),Sz=fnt;Sz.Option=Cz;Sz.OptGroup=wz;var dnt=function(){var e=T.exports.useContext(ui),n=e.getPrefixCls,r=n("empty-img-default");return D("svg",{className:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg",children:_t("g",{fill:"none",fillRule:"evenodd",children:[_t("g",{transform:"translate(24 31.67)",children:[D("ellipse",{className:"".concat(r,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),D("path",{className:"".concat(r,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),D("path",{className:"".concat(r,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),D("path",{className:"".concat(r,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),D("path",{className:"".concat(r,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),D("path",{className:"".concat(r,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),_t("g",{className:"".concat(r,"-g"),transform:"translate(149.65 15.383)",children:[D("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),D("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})})};const hnt=dnt;var pnt=function(){var e=T.exports.useContext(ui),n=e.getPrefixCls,r=n("empty-img-simple");return D("svg",{className:r,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg",children:_t("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd",children:[D("ellipse",{className:"".concat(r,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),_t("g",{className:"".concat(r,"-g"),fillRule:"nonzero",children:[D("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),D("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(r,"-path")})]})]})})};const gnt=pnt;var vnt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Tce=D(hnt,{}),Pce=D(gnt,{}),Ez=function(e){var n=e.className,r=e.prefixCls,i=e.image,o=i===void 0?Tce:i,s=e.description,a=e.children,l=e.imageStyle,c=vnt(e,["className","prefixCls","image","description","children","imageStyle"]),u=T.exports.useContext(ui),f=u.getPrefixCls,d=u.direction;return D(tg,{componentName:"Empty",children:function(h){var p,g=f("empty",r),m=typeof s<"u"?s:h.description,y=typeof m=="string"?m:"empty",b=null;return typeof o=="string"?b=D("img",{alt:y,src:o}):b=o,_t("div",{className:at(g,(p={},V(p,"".concat(g,"-normal"),o===Pce),V(p,"".concat(g,"-rtl"),d==="rtl"),p),n),...c,children:[D("div",{className:"".concat(g,"-image"),style:l,children:b}),m&&D("div",{className:"".concat(g,"-description"),children:m}),a&&D("div",{className:"".concat(g,"-footer"),children:a})]})}})};Ez.PRESENTED_IMAGE_DEFAULT=Tce;Ez.PRESENTED_IMAGE_SIMPLE=Pce;const Kd=Ez;var mnt=function(e){return D(rg,{children:function(n){var r=n.getPrefixCls,i=r("empty");switch(e){case"Table":case"List":return D(Kd,{image:Kd.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return D(Kd,{image:Kd.PRESENTED_IMAGE_SIMPLE,className:"".concat(i,"-small")});default:return D(Kd,{})}}})};const ynt=mnt;var Uv=T.exports.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),Oce=T.exports.createContext(null),bnt=function(e){var n=Ja(e,["prefixCls"]);return D(sz,{...n})},_z=T.exports.createContext({prefixCls:""}),Nc=T.exports.createContext({}),QS=function(e){var n=e.children,r=e.status,i=e.override,o=T.exports.useContext(Nc),s=T.exports.useMemo(function(){var a=Lt({},o);return i&&delete a.isFormItemInput,r&&(delete a.status,delete a.hasFeedback,delete a.feedbackIcon),a},[r,i,o]);return D(Nc.Provider,{value:s,children:n})},Su=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n},jI=function(){return{height:0,opacity:0}},MK=function(e){var n=e.scrollHeight;return{height:n,opacity:1}},xnt=function(e){return{height:e?e.offsetHeight:0}},VI=function(e,n){return(n==null?void 0:n.deadline)===!0||n.propertyName==="height"},wnt={motionName:"ant-motion-collapse",onAppearStart:jI,onEnterStart:jI,onAppearActive:MK,onEnterActive:MK,onLeaveStart:xnt,onLeaveActive:jI,onAppearEnd:VI,onEnterEnd:VI,onLeaveEnd:VI,motionDeadline:500};Su("bottomLeft","bottomRight","topLeft","topRight");var Cnt=function(e){return e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up"},V0=function(e,n,r){return r!==void 0?r:"".concat(e,"-").concat(n)};const AK=wnt;Su("warning","error","");function cf(t,e,n){var r;return at((r={},V(r,"".concat(t,"-status-success"),e==="success"),V(r,"".concat(t,"-status-warning"),e==="warning"),V(r,"".concat(t,"-status-error"),e==="error"),V(r,"".concat(t,"-status-validating"),e==="validating"),V(r,"".concat(t,"-has-feedback"),n),r))}var ly=function(e,n){return n||e};function Snt(t){var e=t.suffixIcon,n=t.clearIcon,r=t.menuItemSelectedIcon,i=t.removeIcon,o=t.loading,s=t.multiple,a=t.hasFeedback,l=t.prefixCls,c=t.showArrow,u=t.feedbackIcon,f=n;n||(f=D(Q0,{}));var d=function(b){return _t(Xi,{children:[c!==!1&&b,a&&u]})},h=null;if(e!==void 0)h=d(e);else if(o)h=d(D(sS,{spin:!0}));else{var p="".concat(l,"-suffix");h=function(b){var C=b.open,E=b.showSearch;return d(C&&E?D(noe,{className:p}):D(Aie,{className:p}))}}var g=null;r!==void 0?g=r:s?g=D(TDe,{}):g=null;var m=null;return i!==void 0?m=i:m=D(TE,{}),{clearIcon:f,suffixIcon:h,itemIcon:g,removeIcon:m}}var Ent=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Mce="SECRET_COMBOBOX_MODE_DO_NOT_USE",_nt=function(e,n){var r,i=e.prefixCls,o=e.bordered,s=o===void 0?!0:o,a=e.className,l=e.getPopupContainer,c=e.dropdownClassName,u=e.listHeight,f=u===void 0?256:u,d=e.placement,h=e.listItemHeight,p=h===void 0?24:h,g=e.size,m=e.disabled,y=e.notFoundContent,b=e.status,C=e.showArrow,E=Ent(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),_=T.exports.useContext(ui),w=_.getPopupContainer,M=_.getPrefixCls,k=_.renderEmpty,I=_.direction,A=_.virtual,N=_.dropdownMatchSelectWidth,$=T.exports.useContext(mf),L=M("select",i),B=M(),j=T.exports.useMemo(function(){var je=E.mode;if(je!=="combobox")return je===Mce?"combobox":je},[E.mode]),H=j==="multiple"||j==="tags",te=C!==void 0?C:E.loading||!(H||j==="combobox"),Y=T.exports.useContext(Nc),ue=Y.status,ce=Y.hasFeedback,se=Y.isFormItemInput,fe=Y.feedbackIcon,me=ly(ue,b),K;y!==void 0?K=y:j==="combobox"?K=null:K=(k||ynt)("Select");var le=Snt(Lt(Lt({},E),{multiple:H,hasFeedback:ce,feedbackIcon:fe,showArrow:te,prefixCls:L})),Ne=le.suffixIcon,Re=le.itemIcon,Je=le.removeIcon,$e=le.clearIcon,tt=Ja(E,["suffixIcon","itemIcon"]),Pt=at(c,V({},"".concat(L,"-dropdown-").concat(I),I==="rtl")),bt=g||$,X=T.exports.useContext(ig),ve=m||X,ne=at((r={},V(r,"".concat(L,"-lg"),bt==="large"),V(r,"".concat(L,"-sm"),bt==="small"),V(r,"".concat(L,"-rtl"),I==="rtl"),V(r,"".concat(L,"-borderless"),!s),V(r,"".concat(L,"-in-form-item"),se),r),cf(L,me,ce),a),ke=function(){return d!==void 0?d:I==="rtl"?"bottomRight":"bottomLeft"};return D(Sz,{ref:n,virtual:A,dropdownMatchSelectWidth:N,...tt,transitionName:V0(B,Cnt(d),E.transitionName),listHeight:f,listItemHeight:p,mode:j,prefixCls:L,placement:ke(),direction:I,inputIcon:Ne,menuItemSelectedIcon:Re,removeIcon:Je,clearIcon:$e,notFoundContent:K,className:ne,getPopupContainer:l||w,dropdownClassName:Pt,showArrow:ce||C,disabled:ve})},OD=T.exports.forwardRef(_nt);OD.SECRET_COMBOBOX_MODE_DO_NOT_USE=Mce;OD.Option=Cz;OD.OptGroup=wz;const kK=OD;var DK=["xxl","xl","lg","md","sm","xs"],WP={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},zm=new Map,UI=-1,YP={},Tnt={matchHandlers:{},dispatch:function(e){return YP=e,zm.forEach(function(n){return n(YP)}),zm.size>=1},subscribe:function(e){return zm.size||this.register(),UI+=1,zm.set(UI,e),e(YP),UI},unsubscribe:function(e){zm.delete(e),zm.size||this.unregister()},unregister:function(){var e=this;Object.keys(WP).forEach(function(n){var r=WP[n],i=e.matchHandlers[r];i==null||i.mql.removeListener(i==null?void 0:i.listener)}),zm.clear()},register:function(){var e=this;Object.keys(WP).forEach(function(n){var r=WP[n],i=function(a){var l=a.matches;e.dispatch(Lt(Lt({},YP),V({},n,l)))},o=window.matchMedia(r);o.addListener(i),e.matchHandlers[r]={mql:o,listener:i},i(o)})}};const NK=Tnt;var Uu={adjustX:1,adjustY:1},Hu=[0,0],Ace={left:{points:["cr","cl"],overflow:Uu,offset:[-4,0],targetOffset:Hu},right:{points:["cl","cr"],overflow:Uu,offset:[4,0],targetOffset:Hu},top:{points:["bc","tc"],overflow:Uu,offset:[0,-4],targetOffset:Hu},bottom:{points:["tc","bc"],overflow:Uu,offset:[0,4],targetOffset:Hu},topLeft:{points:["bl","tl"],overflow:Uu,offset:[0,-4],targetOffset:Hu},leftTop:{points:["tr","tl"],overflow:Uu,offset:[-4,0],targetOffset:Hu},topRight:{points:["br","tr"],overflow:Uu,offset:[0,-4],targetOffset:Hu},rightTop:{points:["tl","tr"],overflow:Uu,offset:[4,0],targetOffset:Hu},bottomRight:{points:["tr","br"],overflow:Uu,offset:[0,4],targetOffset:Hu},rightBottom:{points:["bl","br"],overflow:Uu,offset:[4,0],targetOffset:Hu},bottomLeft:{points:["tl","bl"],overflow:Uu,offset:[0,4],targetOffset:Hu},leftBottom:{points:["br","bl"],overflow:Uu,offset:[-4,0],targetOffset:Hu}};function Pnt(t){var e=t.showArrow,n=t.arrowContent,r=t.children,i=t.prefixCls,o=t.id,s=t.overlayInnerStyle,a=t.className,l=t.style;return _t("div",{className:at("".concat(i,"-content"),a),style:l,children:[e!==!1&&D("div",{className:"".concat(i,"-arrow"),children:n},"arrow"),D("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:s,children:typeof r=="function"?r():r})]})}var Ont=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,f=e.prefixCls,d=f===void 0?"rc-tooltip":f,h=e.children,p=e.onVisibleChange,g=e.afterVisibleChange,m=e.transitionName,y=e.animation,b=e.motion,C=e.placement,E=C===void 0?"right":C,_=e.align,w=_===void 0?{}:_,M=e.destroyTooltipOnHide,k=M===void 0?!1:M,I=e.defaultVisible,A=e.getTooltipContainer,N=e.overlayInnerStyle,$=e.arrowContent,L=e.overlay,B=e.id,j=e.showArrow,H=_i(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),te=T.exports.useRef(null);T.exports.useImperativeHandle(n,function(){return te.current});var Y=be({},H);"visible"in e&&(Y.popupVisible=e.visible);var ue=function(){return D(Pnt,{showArrow:j,arrowContent:$,prefixCls:d,id:B,overlayInnerStyle:N,children:L},"content")},ce=!1,se=!1;if(typeof k=="boolean")ce=k;else if(k&&Ar(k)==="object"){var fe=k.keepParent;ce=fe===!0,se=fe===!1}return D(R2,{popupClassName:r,prefixCls:d,popup:ue,action:o,builtinPlacements:Ace,popupPlacement:E,ref:te,popupAlign:w,getPopupContainer:A,onPopupVisibleChange:p,afterPopupVisibleChange:g,popupTransitionName:m,popupAnimation:y,popupMotion:b,defaultPopupVisible:I,destroyPopupOnHide:ce,autoDestroy:se,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a,...Y,children:h})};const Mnt=T.exports.forwardRef(Ont);var Ant=Su("success","processing","error","default","warning"),kce=Su("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),knt={adjustX:1,adjustY:1},RK={adjustX:0,adjustY:0},Dnt=[0,0];function IK(t){return typeof t=="boolean"?t?knt:RK:Lt(Lt({},RK),t)}function Nnt(t){var e=t.arrowWidth,n=e===void 0?4:e,r=t.horizontalArrowShift,i=r===void 0?16:r,o=t.verticalArrowShift,s=o===void 0?8:o,a=t.autoAdjustOverflow,l=t.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(s+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(s+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,s+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,s+n]}};return Object.keys(c).forEach(function(u){c[u]=l?Lt(Lt({},c[u]),{overflow:IK(a),targetOffset:Dnt}):Lt(Lt({},Ace[u]),{overflow:IK(a)}),c[u].ignoreShake=!0}),c}var Rnt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Int=function(e,n){var r={},i=Lt({},e);return n.forEach(function(o){e&&o in e&&(r[o]=e[o],delete i[o])}),{picked:r,omitted:i}},$K=new RegExp("^(".concat(kce.join("|"),")(-inverse)?$"));function $nt(t,e){var n=t.type;if((n.__ANT_BUTTON===!0||t.type==="button")&&t.props.disabled||n.__ANT_SWITCH===!0&&(t.props.disabled||t.props.loading)||n.__ANT_RADIO===!0&&t.props.disabled){var r=Int(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,s=Lt(Lt({display:"inline-block"},i),{cursor:"not-allowed",width:t.props.block?"100%":null}),a=Lt(Lt({},o),{pointerEvents:"none"}),l=Dc(t,{style:a,className:null});return D("span",{style:s,className:at(t.props.className,"".concat(e,"-disabled-compatible-wrapper")),children:l})}return t}var Dce=T.exports.forwardRef(function(t,e){var n,r=T.exports.useContext(ui),i=r.getPopupContainer,o=r.getPrefixCls,s=r.direction,a=Gs(!1,{value:t.visible,defaultValue:t.defaultVisible}),l=Ke(a,2),c=l[0],u=l[1],f=function(){var ue=t.title,ce=t.overlay;return!ue&&!ce&&ue!==0},d=function(ue){var ce;u(f()?!1:ue),f()||(ce=t.onVisibleChange)===null||ce===void 0||ce.call(t,ue)},h=function(){var ue=t.builtinPlacements,ce=t.arrowPointAtCenter,se=t.autoAdjustOverflow;return ue||Nnt({arrowPointAtCenter:ce,autoAdjustOverflow:se})},p=function(ue,ce){var se=h(),fe=Object.keys(se).find(function(le){return se[le].points[0]===ce.points[0]&&se[le].points[1]===ce.points[1]});if(!!fe){var me=ue.getBoundingClientRect(),K={top:"50%",left:"50%"};fe.indexOf("top")>=0||fe.indexOf("Bottom")>=0?K.top="".concat(me.height-ce.offset[1],"px"):(fe.indexOf("Top")>=0||fe.indexOf("bottom")>=0)&&(K.top="".concat(-ce.offset[1],"px")),fe.indexOf("left")>=0||fe.indexOf("Right")>=0?K.left="".concat(me.width-ce.offset[0],"px"):(fe.indexOf("right")>=0||fe.indexOf("Left")>=0)&&(K.left="".concat(-ce.offset[0],"px")),ue.style.transformOrigin="".concat(K.left," ").concat(K.top)}},g=function(){var ue=t.title,ce=t.overlay;return ue===0?ue:ce||ue||""},m=t.getPopupContainer,y=Rnt(t,["getPopupContainer"]),b=t.prefixCls,C=t.openClassName,E=t.getTooltipContainer,_=t.overlayClassName,w=t.color,M=t.overlayInnerStyle,k=t.children,I=o("tooltip",b),A=o(),N=c;!("visible"in t)&&f()&&(N=!1);var $=$nt(XS(k)?k:D("span",{children:k}),I),L=$.props,B=at(L.className,V({},C||"".concat(I,"-open"),!0)),j=at(_,(n={},V(n,"".concat(I,"-rtl"),s==="rtl"),V(n,"".concat(I,"-").concat(w),w&&$K.test(w)),n)),H=M,te;return w&&!$K.test(w)&&(H=Lt(Lt({},M),{background:w}),te={"--antd-arrow-background-color":w}),D(Mnt,{...y,prefixCls:I,overlayClassName:j,getTooltipContainer:m||E||i,ref:e,builtinPlacements:h(),overlay:g(),visible:N,onVisibleChange:d,onPopupAlign:p,overlayInnerStyle:H,arrowContent:D("span",{className:"".concat(I,"-arrow-content"),style:te}),motion:{motionName:V0(A,"zoom-big-fast",t.transitionName),motionDeadline:1e3},children:N?Dc($,{className:B}):$})});Dce.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};const GE=Dce;var TL=function(e){if(!e)return null;var n=typeof e=="function";return n?e():e},Lnt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Nce=T.exports.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.content,o=t._overlay,s=Lnt(t,["prefixCls","title","content","_overlay"]),a=T.exports.useContext(ui),l=a.getPrefixCls,c=function(h){if(!(!r&&!i))return _t(Xi,{children:[r&&D("div",{className:"".concat(h,"-title"),children:TL(r)}),D("div",{className:"".concat(h,"-inner-content"),children:TL(i)})]})},u=l("popover",n),f=l();return D(GE,{...s,prefixCls:u,ref:e,overlay:o||c(u),transitionName:V0(f,"zoom-big",s.transitionName)})});Nce.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};const Rce=Nce;var MD=function(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var u=s[c];if(!l(u))return!1;var f=e[u],d=n[u];if(o=r?r.call(i,f,d,u):void 0,o===!1||o===void 0&&f!==d)return!1}return!0},Fnt=["children","locked"],ld=T.exports.createContext(null);function znt(t,e){var n=be({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function JS(t){var e=t.children,n=t.locked,r=_i(t,Fnt),i=T.exports.useContext(ld),o=k2(function(){return znt(i,r)},[i,r],function(s,a){return!n&&(s[0]!==a[0]||!MD(s[1],a[1]))});return D(ld.Provider,{value:o,children:e})}function Ice(t,e,n,r){var i=T.exports.useContext(ld),o=i.activeKey,s=i.onActive,a=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(c){n==null||n({key:t,domEvent:c}),s(t)},l.onMouseLeave=function(c){r==null||r({key:t,domEvent:c}),a(t)}),l}var Gnt=["item"];function RA(t){var e=t.item,n=_i(t,Gnt);return Object.defineProperty(n,"item",{get:function(){return Nl(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}function $ce(t){var e=t.icon,n=t.props,r=t.children,i;return typeof e=="function"?i=T.exports.createElement(e,be({},n)):i=e,i||r||null}function Lce(t){var e=T.exports.useContext(ld),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}var Bnt=[],Fce=T.exports.createContext(null);function AD(){return T.exports.useContext(Fce)}var zce=T.exports.createContext(Bnt);function BE(t){var e=T.exports.useContext(zce);return T.exports.useMemo(function(){return t!==void 0?[].concat(un(e),[t]):e},[e,t])}var Gce=T.exports.createContext(null),Bce=T.exports.createContext(null);function Tz(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function jce(t){var e=T.exports.useContext(Bce);return Tz(e,t)}var Pz=T.exports.createContext({}),jnt=["title","attribute","elementRef"],Vnt=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Unt=["active"],Hnt=function(t){Zi(n,t);var e=Ra(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"render",value:function(){var i=this.props,o=i.title,s=i.attribute,a=i.elementRef,l=_i(i,jnt),c=Ja(l,["eventKey"]);return Nl(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),D(lh.Item,{...s,title:typeof o=="string"?o:void 0,...c,ref:a})}}]),n}(T.exports.Component),Wnt=function(e){var n,r=e.style,i=e.className,o=e.eventKey;e.warnKey;var s=e.disabled,a=e.itemIcon,l=e.children,c=e.role,u=e.onMouseEnter,f=e.onMouseLeave,d=e.onClick,h=e.onKeyDown,p=e.onFocus,g=_i(e,Vnt),m=jce(o),y=T.exports.useContext(ld),b=y.prefixCls,C=y.onItemClick,E=y.disabled,_=y.overflowDisabled,w=y.itemIcon,M=y.selectedKeys,k=y.onActive,I=T.exports.useContext(Pz),A=I._internalRenderMenuItem,N="".concat(b,"-item"),$=T.exports.useRef(),L=T.exports.useRef(),B=E||s,j=BE(o),H=function($e){return{key:o,keyPath:un(j).reverse(),item:$.current,domEvent:$e}},te=a||w,Y=Ice(o,B,u,f),ue=Y.active,ce=_i(Y,Unt),se=M.includes(o),fe=Lce(j.length),me=function($e){if(!B){var tt=H($e);d==null||d(RA(tt)),C(tt)}},K=function($e){if(h==null||h($e),$e.which===St.ENTER){var tt=H($e);d==null||d(RA(tt)),C(tt)}},le=function($e){k(o),p==null||p($e)},Ne={};e.role==="option"&&(Ne["aria-selected"]=se);var Re=_t(Hnt,{ref:$,elementRef:L,role:c===null?"none":c||"menuitem",tabIndex:s?null:-1,"data-menu-id":_&&m?null:m,...g,...ce,...Ne,component:"li","aria-disabled":s,style:be(be({},fe),r),className:at(N,(n={},V(n,"".concat(N,"-active"),ue),V(n,"".concat(N,"-selected"),se),V(n,"".concat(N,"-disabled"),B),n),i),onClick:me,onKeyDown:K,onFocus:le,children:[l,D($ce,{props:be(be({},e),{},{isSelected:se}),icon:te})]});return A&&(Re=A(Re,e,{selected:se})),Re};function kD(t){var e=t.eventKey,n=AD(),r=BE(e);return T.exports.useEffect(function(){if(n)return n.registerPath(e,r),function(){n.unregisterPath(e,r)}},[r]),n?null:D(Wnt,{...t})}var Ynt=["label","children","key","type"];function Oz(t,e){return G0(t).map(function(n,r){if(T.exports.isValidElement(n)){var i,o,s=n.key,a=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:s,l=a==null;l&&(a="tmp_key-".concat([].concat(un(e),[r]).join("-")));var c={key:a,eventKey:a};return T.exports.cloneElement(n,c)}return n})}function PL(t){return(t||[]).map(function(e,n){if(e&&Ar(e)==="object"){var r=e.label,i=e.children,o=e.key,s=e.type,a=_i(e,Ynt),l=o!=null?o:"tmp-".concat(n);return i||s==="group"?s==="group"?D(Yce,{...a,title:r,children:PL(i)},l):D(Az,{...a,title:r,children:PL(i)},l):s==="divider"?D(qce,{...a},l):D(kD,{...a,children:r},l)}return null}).filter(function(e){return e})}function qnt(t,e,n){var r=t;return e&&(r=PL(e)),Oz(r,n)}function Db(t){var e=T.exports.useRef(t);e.current=t;var n=T.exports.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var Xnt=["className","children"],Knt=function(e,n){var r=e.className,i=e.children,o=_i(e,Xnt),s=T.exports.useContext(ld),a=s.prefixCls,l=s.mode,c=s.rtl;return D("ul",{className:at(a,c&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat(l==="inline"?"inline":"vertical"),r),...o,"data-menu-list":!0,ref:n,children:i})},Mz=T.exports.forwardRef(Knt);Mz.displayName="SubMenuList";var gv={adjustX:1,adjustY:1},Znt={topLeft:{points:["bl","tl"],overflow:gv,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:gv,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:gv,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:gv,offset:[4,0]}},Qnt={topLeft:{points:["bl","tl"],overflow:gv,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:gv,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:gv,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:gv,offset:[4,0]}};function Vce(t,e,n){if(e)return e;if(n)return n[t]||n.other}var Jnt={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ert(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupClassName,s=t.popupOffset,a=t.disabled,l=t.mode,c=t.onVisibleChange,u=T.exports.useContext(ld),f=u.getPopupContainer,d=u.rtl,h=u.subMenuOpenDelay,p=u.subMenuCloseDelay,g=u.builtinPlacements,m=u.triggerSubMenuAction,y=u.forceSubMenuRender,b=u.rootClassName,C=u.motion,E=u.defaultMotions,_=T.exports.useState(!1),w=Ke(_,2),M=w[0],k=w[1],I=be(d?be({},Qnt):be({},Znt),g),A=Jnt[l],N=Vce(l,C,E),$=be(be({},N),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),L=T.exports.useRef();return T.exports.useEffect(function(){return L.current=oi(function(){k(n)}),function(){oi.cancel(L.current)}},[n]),D(R2,{prefixCls:e,popupClassName:at("".concat(e,"-popup"),V({},"".concat(e,"-rtl"),d),o,b),stretch:l==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:I,popupPlacement:A,popupVisible:M,popup:i,popupAlign:s&&{offset:s},action:a?[]:[m],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:c,forceRender:y,popupMotion:$,children:r})}function trt(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",s=T.exports.useContext(ld),a=s.prefixCls,l=s.forceSubMenuRender,c=s.motion,u=s.defaultMotions,f=s.mode,d=T.exports.useRef(!1);d.current=f===o;var h=T.exports.useState(!d.current),p=Ke(h,2),g=p[0],m=p[1],y=d.current?n:!1;T.exports.useEffect(function(){d.current&&m(!1)},[f]);var b=be({},Vce(o,c,u));r.length>1&&(b.motionAppear=!1);var C=b.onVisibleChanged;return b.onVisibleChanged=function(E){return!d.current&&!E&&m(!0),C==null?void 0:C(E)},g?null:D(JS,{mode:o,locked:!d.current,children:D(ng,{visible:y,...b,forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(a,"-hidden"),children:function(E){var _=E.className,w=E.style;return D(Mz,{id:e,className:_,style:w,children:i})}})})}var nrt=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],rrt=["active"],irt=function(e){var n,r=e.style,i=e.className,o=e.title,s=e.eventKey;e.warnKey;var a=e.disabled,l=e.internalPopupClose,c=e.children,u=e.itemIcon,f=e.expandIcon,d=e.popupClassName,h=e.popupOffset,p=e.onClick,g=e.onMouseEnter,m=e.onMouseLeave,y=e.onTitleClick,b=e.onTitleMouseEnter,C=e.onTitleMouseLeave,E=_i(e,nrt),_=jce(s),w=T.exports.useContext(ld),M=w.prefixCls,k=w.mode,I=w.openKeys,A=w.disabled,N=w.overflowDisabled,$=w.activeKey,L=w.selectedKeys,B=w.itemIcon,j=w.expandIcon,H=w.onItemClick,te=w.onOpenChange,Y=w.onActive,ue=T.exports.useContext(Pz),ce=ue._internalRenderSubMenuItem,se=T.exports.useContext(Gce),fe=se.isSubPathKey,me=BE(),K="".concat(M,"-submenu"),le=A||a,Ne=T.exports.useRef(),Re=T.exports.useRef(),Je=u||B,$e=f||j,tt=I.includes(s),Pt=!N&&tt,bt=fe(L,s),X=Ice(s,le,b,C),ve=X.active,ne=_i(X,rrt),ke=T.exports.useState(!1),je=Ke(ke,2),Ve=je[0],$t=je[1],Ct=function(_n){le||$t(_n)},ln=function(_n){Ct(!0),g==null||g({key:s,domEvent:_n})},bn=function(_n){Ct(!1),m==null||m({key:s,domEvent:_n})},Z=T.exports.useMemo(function(){return ve||(k!=="inline"?Ve||fe([$],s):!1)},[k,ve,$,Ve,s,fe]),J=Lce(me.length),xe=function(_n){le||(y==null||y({key:s,domEvent:_n}),k==="inline"&&te(s,!tt))},Se=Db(function(Dt){p==null||p(RA(Dt)),H(Dt)}),ze=function(_n){k!=="inline"&&te(s,_n)},ot=function(){Y(s)},yn=_&&"".concat(_,"-popup"),xt=_t("div",{role:"menuitem",style:J,className:"".concat(K,"-title"),tabIndex:le?null:-1,ref:Ne,title:typeof o=="string"?o:null,"data-menu-id":N&&_?null:_,"aria-expanded":Pt,"aria-haspopup":!0,"aria-controls":yn,"aria-disabled":le,onClick:xe,onFocus:ot,...ne,children:[o,D($ce,{icon:k!=="horizontal"?$e:null,props:be(be({},e),{},{isOpen:Pt,isSubMenu:!0}),children:D("i",{className:"".concat(K,"-arrow")})})]}),It=T.exports.useRef(k);if(k!=="inline"&&(It.current=me.length>1?"vertical":k),!N){var qe=It.current;xt=D(ert,{mode:qe,prefixCls:K,visible:!l&&Pt&&k!=="inline",popupClassName:d,popupOffset:h,popup:D(JS,{mode:qe==="horizontal"?"vertical":qe,children:D(Mz,{id:yn,ref:Re,children:c})}),disabled:le,onVisibleChange:ze,children:xt})}var Tt=_t(lh.Item,{role:"none",...E,component:"li",style:r,className:at(K,"".concat(K,"-").concat(k),i,(n={},V(n,"".concat(K,"-open"),Pt),V(n,"".concat(K,"-active"),Z),V(n,"".concat(K,"-selected"),bt),V(n,"".concat(K,"-disabled"),le),n)),onMouseEnter:ln,onMouseLeave:bn,children:[xt,!N&&D(trt,{id:yn,open:Pt,keyPath:me,children:c})]});return ce&&(Tt=ce(Tt,e,{selected:bt,active:Z,open:Pt,disabled:le})),D(JS,{onItemClick:Se,mode:k==="horizontal"?"vertical":k,itemIcon:Je,expandIcon:$e,children:Tt})};function Az(t){var e=t.eventKey,n=t.children,r=BE(e),i=Oz(n,r),o=AD();T.exports.useEffect(function(){if(o)return o.registerPath(e,r),function(){o.unregisterPath(e,r)}},[r]);var s;return o?s=i:s=D(irt,{...t,children:i}),D(zce.Provider,{value:r,children:s})}function LK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(hz(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),s=null;return i&&!Number.isNaN(o)?s=o:r&&s===null&&(s=0),r&&t.disabled&&(s=null),s!==null&&(s>=0||e&&s<0)}return!1}function Uce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=un(t.querySelectorAll("*")).filter(function(r){return LK(r,e)});return LK(t,e)&&n.unshift(t),n}var OL=St.LEFT,ML=St.RIGHT,AL=St.UP,VO=St.DOWN,UO=St.ENTER,Hce=St.ESC,tw=St.HOME,nw=St.END,FK=[AL,VO,OL,ML];function ort(t,e,n,r){var i,o,s,a,l="prev",c="next",u="children",f="parent";if(t==="inline"&&r===UO)return{inlineTrigger:!0};var d=(i={},V(i,AL,l),V(i,VO,c),i),h=(o={},V(o,OL,n?c:l),V(o,ML,n?l:c),V(o,VO,u),V(o,UO,u),o),p=(s={},V(s,AL,l),V(s,VO,c),V(s,UO,u),V(s,Hce,f),V(s,OL,n?u:f),V(s,ML,n?f:u),s),g={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p},m=(a=g["".concat(t).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(m){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}function srt(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function art(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function Wce(t,e){var n=Uce(t,!0);return n.filter(function(r){return e.has(r)})}function zK(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=Wce(t,e),o=i.length,s=i.findIndex(function(a){return n===a});return r<0?s===-1?s=o-1:s-=1:r>0&&(s+=1),s=(s+o)%o,i[s]}function lrt(t,e,n,r,i,o,s,a,l,c){var u=T.exports.useRef(),f=T.exports.useRef();f.current=e;var d=function(){oi.cancel(u.current)};return T.exports.useEffect(function(){return function(){d()}},[]),function(h){var p=h.which;if([].concat(FK,[UO,Hce,tw,nw]).includes(p)){var g,m,y,b=function(){g=new Set,m=new Map,y=new Map;var j=o();return j.forEach(function(H){var te=document.querySelector("[data-menu-id='".concat(Tz(r,H),"']"));te&&(g.add(te),y.set(te,H),m.set(H,te))}),g};b();var C=m.get(e),E=art(C,g),_=y.get(E),w=ort(t,s(_,!0).length===1,n,p);if(!w&&p!==tw&&p!==nw)return;(FK.includes(p)||[tw,nw].includes(p))&&h.preventDefault();var M=function(j){if(j){var H=j,te=j.querySelector("a");te!=null&&te.getAttribute("href")&&(H=te);var Y=y.get(j);a(Y),d(),u.current=oi(function(){f.current===Y&&H.focus()})}};if([tw,nw].includes(p)||w.sibling||!E){var k;!E||t==="inline"?k=i.current:k=srt(E);var I,A=Wce(k,g);p===tw?I=A[0]:p===nw?I=A[A.length-1]:I=zK(k,g,E,w.offset),M(I)}else if(w.inlineTrigger)l(_);else if(w.offset>0)l(_,!0),d(),u.current=oi(function(){b();var B=E.getAttribute("aria-controls"),j=document.getElementById(B),H=zK(j,g);M(H)},5);else if(w.offset<0){var N=s(_,!0),$=N[N.length-2],L=m.get($);l($,!1),M(L)}}c==null||c(h)}}var crt=Math.random().toFixed(5).toString().slice(2),GK=0;function urt(t){var e=Gs(t,{value:t}),n=Ke(e,2),r=n[0],i=n[1];return T.exports.useEffect(function(){GK+=1;var o="".concat(crt,"-").concat(GK);i("rc-menu-uuid-".concat(o))},[]),r}function frt(t){Promise.resolve().then(t)}var kz="__RC_UTIL_PATH_SPLIT__",BK=function(e){return e.join(kz)},drt=function(e){return e.split(kz)},kL="rc-menu-more";function hrt(){var t=T.exports.useState({}),e=Ke(t,2),n=e[1],r=T.exports.useRef(new Map),i=T.exports.useRef(new Map),o=T.exports.useState([]),s=Ke(o,2),a=s[0],l=s[1],c=T.exports.useRef(0),u=T.exports.useRef(!1),f=function(){u.current||n({})},d=T.exports.useCallback(function(C,E){var _=BK(E);i.current.set(_,C),r.current.set(C,_),c.current+=1;var w=c.current;frt(function(){w===c.current&&f()})},[]),h=T.exports.useCallback(function(C,E){var _=BK(E);i.current.delete(_),r.current.delete(C)},[]),p=T.exports.useCallback(function(C){l(C)},[]),g=T.exports.useCallback(function(C,E){var _=r.current.get(C)||"",w=drt(_);return E&&a.includes(w[0])&&w.unshift(kL),w},[a]),m=T.exports.useCallback(function(C,E){return C.some(function(_){var w=g(_,!0);return w.includes(E)})},[g]),y=function(){var E=un(r.current.keys());return a.length&&E.push(kL),E},b=T.exports.useCallback(function(C){var E="".concat(r.current.get(C)).concat(kz),_=new Set;return un(i.current.keys()).forEach(function(w){w.startsWith(E)&&_.add(i.current.get(w))}),_},[]);return T.exports.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:d,unregisterPath:h,refreshOverflowKeys:p,isSubPathKey:m,getKeyPath:g,getKeys:y,getSubPathKeys:b}}var prt=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],ub=[],grt=T.exports.forwardRef(function(t,e){var n,r,i=t.prefixCls,o=i===void 0?"rc-menu":i,s=t.rootClassName,a=t.style,l=t.className,c=t.tabIndex,u=c===void 0?0:c,f=t.items,d=t.children,h=t.direction,p=t.id,g=t.mode,m=g===void 0?"vertical":g,y=t.inlineCollapsed,b=t.disabled,C=t.disabledOverflow,E=t.subMenuOpenDelay,_=E===void 0?.1:E,w=t.subMenuCloseDelay,M=w===void 0?.1:w,k=t.forceSubMenuRender,I=t.defaultOpenKeys,A=t.openKeys,N=t.activeKey,$=t.defaultActiveFirst,L=t.selectable,B=L===void 0?!0:L,j=t.multiple,H=j===void 0?!1:j,te=t.defaultSelectedKeys,Y=t.selectedKeys,ue=t.onSelect,ce=t.onDeselect,se=t.inlineIndent,fe=se===void 0?24:se,me=t.motion,K=t.defaultMotions,le=t.triggerSubMenuAction,Ne=le===void 0?"hover":le,Re=t.builtinPlacements,Je=t.itemIcon,$e=t.expandIcon,tt=t.overflowedIndicator,Pt=tt===void 0?"...":tt,bt=t.overflowedIndicatorPopupClassName,X=t.getPopupContainer,ve=t.onClick,ne=t.onOpenChange,ke=t.onKeyDown;t.openAnimation,t.openTransitionName;var je=t._internalRenderMenuItem,Ve=t._internalRenderSubMenuItem,$t=_i(t,prt),Ct=T.exports.useMemo(function(){return qnt(d,f,ub)},[d,f]),ln=T.exports.useState(!1),bn=Ke(ln,2),Z=bn[0],J=bn[1],xe=T.exports.useRef(),Se=urt(p),ze=h==="rtl",ot=T.exports.useMemo(function(){return(m==="inline"||m==="vertical")&&y?["vertical",y]:[m,!1]},[m,y]),yn=Ke(ot,2),xt=yn[0],It=yn[1],qe=T.exports.useState(0),Tt=Ke(qe,2),Dt=Tt[0],_n=Tt[1],lr=Dt>=Ct.length-1||xt!=="horizontal"||C,Qn=Gs(I,{value:A,postState:function(Br){return Br||ub}}),Wn=Ke(Qn,2),In=Wn[0],en=Wn[1],Pn=function(Br){en(Br),ne==null||ne(Br)},Sr=T.exports.useState(In),Fn=Ke(Sr,2),ro=Fn[0],wo=Fn[1],Tr=xt==="inline",Yt=T.exports.useRef(!1);T.exports.useEffect(function(){Tr&&wo(In)},[In]),T.exports.useEffect(function(){if(!Yt.current){Yt.current=!0;return}Tr?en(ro):Pn(ub)},[Tr]);var gn=hrt(),dn=gn.registerPath,zt=gn.unregisterPath,On=gn.refreshOverflowKeys,Gr=gn.isSubPathKey,qo=gn.getKeyPath,Hr=gn.getKeys,Qi=gn.getSubPathKeys,Vi=T.exports.useMemo(function(){return{registerPath:dn,unregisterPath:zt}},[dn,zt]),ys=T.exports.useMemo(function(){return{isSubPathKey:Gr}},[Gr]);T.exports.useEffect(function(){On(lr?ub:Ct.slice(Dt+1).map(function(ti){return ti.key}))},[Dt,lr]);var qr=Gs(N||$&&((n=Ct[0])===null||n===void 0?void 0:n.key),{value:N}),bs=Ke(qr,2),io=bs[0],Fo=bs[1],xs=Db(function(ti){Fo(ti)}),ua=Db(function(){Fo(void 0)});T.exports.useImperativeHandle(e,function(){return{list:xe.current,focus:function(Br){var Di,tr=io!=null?io:(Di=Ct.find(function(po){return!po.props.disabled}))===null||Di===void 0?void 0:Di.key;if(tr){var or,Ui,Hi;(or=xe.current)===null||or===void 0||(Ui=or.querySelector("li[data-menu-id='".concat(Tz(Se,tr),"']")))===null||Ui===void 0||(Hi=Ui.focus)===null||Hi===void 0||Hi.call(Ui,Br)}}}});var Sa=Gs(te||[],{value:Y,postState:function(Br){return Array.isArray(Br)?Br:Br==null?ub:[Br]}}),Xr=Ke(Sa,2),Fr=Xr[0],fr=Xr[1],er=function(Br){if(B){var Di=Br.key,tr=Fr.includes(Di),or;H?tr?or=Fr.filter(function(Hi){return Hi!==Di}):or=[].concat(un(Fr),[Di]):or=[Di],fr(or);var Ui=be(be({},Br),{},{selectedKeys:or});tr?ce==null||ce(Ui):ue==null||ue(Ui)}!H&&In.length&&xt!=="inline"&&Pn(ub)},oo=Db(function(ti){ve==null||ve(RA(ti)),er(ti)}),ws=Db(function(ti,Br){var Di=In.filter(function(or){return or!==ti});if(Br)Di.push(ti);else if(xt!=="inline"){var tr=Qi(ti);Di=Di.filter(function(or){return!tr.has(or)})}MD(In,Di)||Pn(Di)}),Ia=Db(X),xl=function(Br,Di){var tr=Di!=null?Di:!In.includes(Br);ws(Br,tr)},wl=lrt(xt,io,ze,Se,xe,Hr,qo,Fo,xl,ke);T.exports.useEffect(function(){J(!0)},[]);var el=T.exports.useMemo(function(){return{_internalRenderMenuItem:je,_internalRenderSubMenuItem:Ve}},[je,Ve]),Cl=xt!=="horizontal"||C?Ct:Ct.map(function(ti,Br){return D(JS,{overflowDisabled:Br>Dt,children:ti},ti.key)}),ho=D(lh,{id:p,ref:xe,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:kD,className:at(o,"".concat(o,"-root"),"".concat(o,"-").concat(xt),l,(r={},V(r,"".concat(o,"-inline-collapsed"),It),V(r,"".concat(o,"-rtl"),ze),r),s),dir:h,style:a,role:"menu",tabIndex:u,data:Cl,renderRawItem:function(Br){return Br},renderRawRest:function(Br){var Di=Br.length,tr=Di?Ct.slice(-Di):null;return D(Az,{eventKey:kL,title:Pt,disabled:lr,internalPopupClose:Di===0,popupClassName:bt,children:tr})},maxCount:xt!=="horizontal"||C?lh.INVALIDATE:lh.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Br){_n(Br)},onKeyDown:wl,...$t});return D(Pz.Provider,{value:el,children:D(Bce.Provider,{value:Se,children:_t(JS,{prefixCls:o,rootClassName:s,mode:xt,openKeys:In,rtl:ze,disabled:b,motion:Z?me:null,defaultMotions:Z?K:null,activeKey:io,onActive:xs,onInactive:ua,selectedKeys:Fr,inlineIndent:fe,subMenuOpenDelay:_,subMenuCloseDelay:M,forceSubMenuRender:k,builtinPlacements:Re,triggerSubMenuAction:Ne,getPopupContainer:Ia,itemIcon:Je,expandIcon:$e,onItemClick:oo,onOpenChange:ws,children:[D(Gce.Provider,{value:ys,children:ho}),D("div",{style:{display:"none"},"aria-hidden":!0,children:D(Fce.Provider,{value:Vi,children:Ct})})]})})})}),vrt=["className","title","eventKey","children"],mrt=["children"],yrt=function(e){var n=e.className,r=e.title;e.eventKey;var i=e.children,o=_i(e,vrt),s=T.exports.useContext(ld),a=s.prefixCls,l="".concat(a,"-item-group");return _t("li",{...o,onClick:function(u){return u.stopPropagation()},className:at(l,n),children:[D("div",{className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0,children:r}),D("ul",{className:"".concat(l,"-list"),children:i})]})};function Yce(t){var e=t.children,n=_i(t,mrt),r=BE(n.eventKey),i=Oz(e,r),o=AD();return o?i:D(yrt,{...Ja(n,["warnKey"]),children:i})}function qce(t){var e=t.className,n=t.style,r=T.exports.useContext(ld),i=r.prefixCls,o=AD();return o?null:D("li",{className:at("".concat(i,"-item-divider"),e),style:n})}var jE=grt;jE.Item=kD;jE.SubMenu=Az;jE.ItemGroup=Yce;jE.Divider=qce;var brt=0,p1={};function IA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=brt++,r=e;function i(){r-=1,r<=0?(t(),delete p1[n]):p1[n]=oi(i)}return p1[n]=oi(i),n}IA.cancel=function(e){e!==void 0&&(oi.cancel(p1[e]),delete p1[e])};IA.ids=p1;var HI;function jK(t){return!t||t.offsetParent===null||t.hidden}function xrt(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}var Xce=function(t){Zi(n,t);var e=Ra(n);function n(){var r;return Cn(this,n),r=e.apply(this,arguments),r.containerRef=T.exports.createRef(),r.animationStart=!1,r.destroyed=!1,r.onClick=function(i,o){var s,a,l=r.props,c=l.insertExtraNode,u=l.disabled;if(!(u||!i||jK(i)||i.className.indexOf("-leave")>=0)){r.extraNode=document.createElement("div");var f=ts(r),d=f.extraNode,h=r.context.getPrefixCls;d.className="".concat(h(""),"-click-animating-node");var p=r.getAttributeName();if(i.setAttribute(p,"true"),o&&o!=="#ffffff"&&o!=="rgb(255, 255, 255)"&&xrt(o)&&!/rgba\((?:\d*, ){3}0\)/.test(o)&&o!=="transparent"){d.style.borderColor=o;var g=((s=i.getRootNode)===null||s===void 0?void 0:s.call(i))||i.ownerDocument,m=g instanceof Document?g.body:(a=g.firstChild)!==null&&a!==void 0?a:g;HI=l8(`
      [`.concat(h(""),"-click-animating-without-extra-node='true']::after, .").concat(h(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(o,`;
      }`),"antd-wave",{csp:r.csp,attachTo:m})}c&&i.appendChild(d),["transition","animation"].forEach(function(y){i.addEventListener("".concat(y,"start"),r.onTransitionStart),i.addEventListener("".concat(y,"end"),r.onTransitionEnd)})}},r.onTransitionStart=function(i){if(!r.destroyed){var o=r.containerRef.current;!i||i.target!==o||r.animationStart||r.resetEffect(o)}},r.onTransitionEnd=function(i){!i||i.animationName!=="fadeEffect"||r.resetEffect(i.target)},r.bindAnimationEvent=function(i){if(!(!i||!i.getAttribute||i.getAttribute("disabled")||i.className.indexOf("disabled")>=0)){var o=function(a){if(!(a.target.tagName==="INPUT"||jK(a.target))){r.resetEffect(i);var l=getComputedStyle(i).getPropertyValue("border-top-color")||getComputedStyle(i).getPropertyValue("border-color")||getComputedStyle(i).getPropertyValue("background-color");r.clickWaveTimeoutId=window.setTimeout(function(){return r.onClick(i,l)},0),IA.cancel(r.animationStartId),r.animationStart=!0,r.animationStartId=IA(function(){r.animationStart=!1},10)}};return i.addEventListener("click",o,!0),{cancel:function(){i.removeEventListener("click",o,!0)}}}},r.renderWave=function(i){var o=i.csp,s=r.props.children;if(r.csp=o,!T.exports.isValidElement(s))return s;var a=r.containerRef;return D2(s)&&(a=gd(s.ref,r.containerRef)),Dc(s,{ref:a})},r}return Rn(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var i=this.containerRef.current;!i||i.nodeType!==1||(this.instance=this.bindAnimationEvent(i))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var i=this.context.getPrefixCls,o=this.props.insertExtraNode;return o?"".concat(i(""),"-click-animating"):"".concat(i(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(i){var o=this;if(!(!i||i===this.extraNode||!(i instanceof Element))){var s=this.props.insertExtraNode,a=this.getAttributeName();i.setAttribute(a,"false"),HI&&(HI.innerHTML=""),s&&this.extraNode&&i.contains(this.extraNode)&&i.removeChild(this.extraNode),["transition","animation"].forEach(function(l){i.removeEventListener("".concat(l,"start"),o.onTransitionStart),i.removeEventListener("".concat(l,"end"),o.onTransitionEnd)})}}},{key:"render",value:function(){return D(rg,{children:this.renderWave})}}]),n}(T.exports.Component);Xce.contextType=ui;var wrt=T.exports.forwardRef(function(t,e){return D(Xce,{ref:e,...t})});const Kce=wrt;var Crt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Zce=T.exports.createContext(void 0),Srt=function(e){var n,r=T.exports.useContext(ui),i=r.getPrefixCls,o=r.direction,s=e.prefixCls,a=e.size,l=e.className,c=Crt(e,["prefixCls","size","className"]),u=i("btn-group",s),f="";switch(a){case"large":f="lg";break;case"small":f="sm";break}var d=at(u,(n={},V(n,"".concat(u,"-").concat(f),f),V(n,"".concat(u,"-rtl"),o==="rtl"),n),l);return D(Zce.Provider,{value:a,children:D("div",{...c,className:d})})};const Ert=Srt;var WI=function(){return{width:0,opacity:0,transform:"scale(0)"}},YI=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},_rt=function(e){var n=e.prefixCls,r=e.loading,i=e.existIcon,o=!!r;return i?D("span",{className:"".concat(n,"-loading-icon"),children:D(sS,{})}):D(ng,{visible:o,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:WI,onAppearActive:YI,onEnterStart:WI,onEnterActive:YI,onLeaveStart:YI,onLeaveActive:WI,children:function(s,a){var l=s.className,c=s.style;return D("span",{className:"".concat(n,"-loading-icon"),style:c,ref:a,children:D(sS,{className:l})})}})};const Trt=_rt;var Prt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},VK=/^[\u4e00-\u9fa5]{2}$/,DL=VK.test.bind(VK);function Ort(t){return typeof t=="string"}function qI(t){return t==="text"||t==="link"}function Mrt(t){return T.exports.isValidElement(t)&&t.type===T.exports.Fragment}function Art(t,e){if(t!=null){var n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&Ort(t.type)&&DL(t.props.children)?Dc(t,{children:t.props.children.split("").join(n)}):typeof t=="string"?DL(t)?D("span",{children:t.split("").join(n)}):D("span",{children:t}):Mrt(t)?D("span",{children:t}):t}}function krt(t,e){var n=!1,r=[];return T.exports.Children.forEach(t,function(i){var o=Ar(i),s=o==="string"||o==="number";if(n&&s){var a=r.length-1,l=r[a];r[a]="".concat(l).concat(i)}else r.push(i);n=s}),T.exports.Children.map(r,function(i){return Art(i,e)})}Su("default","primary","ghost","dashed","link","text");Su("default","circle","round");Su("submit","button","reset");function Dz(t){return t==="danger"?{danger:!0}:{type:t}}var Drt=function(e,n){var r,i=e.loading,o=i===void 0?!1:i,s=e.prefixCls,a=e.type,l=a===void 0?"default":a,c=e.danger,u=e.shape,f=u===void 0?"default":u,d=e.size,h=e.disabled,p=e.className,g=e.children,m=e.icon,y=e.ghost,b=y===void 0?!1:y,C=e.block,E=C===void 0?!1:C,_=e.htmlType,w=_===void 0?"button":_,M=Prt(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),k=T.exports.useContext(mf),I=T.exports.useContext(ig),A=h||I,N=T.exports.useContext(Zce),$=T.exports.useState(!!o),L=Ke($,2),B=L[0],j=L[1],H=T.exports.useState(!1),te=Ke(H,2),Y=te[0],ue=te[1],ce=T.exports.useContext(ui),se=ce.getPrefixCls,fe=ce.autoInsertSpaceInButton,me=ce.direction,K=n||T.exports.createRef(),le=function(){return T.exports.Children.count(g)===1&&!m&&!qI(l)},Ne=function(){if(!(!K||!K.current||fe===!1)){var ln=K.current.textContent;le()&&DL(ln)?Y||ue(!0):Y&&ue(!1)}},Re=typeof o=="boolean"?o:(o==null?void 0:o.delay)||!0;T.exports.useEffect(function(){var Ct=null;return typeof Re=="number"?Ct=window.setTimeout(function(){Ct=null,j(Re)},Re):j(Re),function(){Ct&&(window.clearTimeout(Ct),Ct=null)}},[Re]),T.exports.useEffect(Ne,[K]);var Je=function(ln){var bn=e.onClick;if(B||A){ln.preventDefault();return}bn==null||bn(ln)},$e=se("btn",s),tt=fe!==!1,Pt={large:"lg",small:"sm",middle:void 0},bt=N||d||k,X=bt&&Pt[bt]||"",ve=B?"loading":m,ne=Ja(M,["navigate"]),ke=at($e,(r={},V(r,"".concat($e,"-").concat(f),f!=="default"&&f),V(r,"".concat($e,"-").concat(l),l),V(r,"".concat($e,"-").concat(X),X),V(r,"".concat($e,"-icon-only"),!g&&g!==0&&!!ve),V(r,"".concat($e,"-background-ghost"),b&&!qI(l)),V(r,"".concat($e,"-loading"),B),V(r,"".concat($e,"-two-chinese-chars"),Y&&tt&&!B),V(r,"".concat($e,"-block"),E),V(r,"".concat($e,"-dangerous"),!!c),V(r,"".concat($e,"-rtl"),me==="rtl"),V(r,"".concat($e,"-disabled"),ne.href!==void 0&&A),r),p),je=m&&!B?m:D(Trt,{existIcon:!!m,prefixCls:$e,loading:!!B}),Ve=g||g===0?krt(g,le()&&tt):null;if(ne.href!==void 0)return _t("a",{...ne,className:ke,onClick:Je,ref:K,children:[je,Ve]});var $t=_t("button",{...M,type:w,className:ke,onClick:Je,disabled:A,ref:K,children:[je,Ve]});return qI(l)?$t:D(Kce,{disabled:!!B,children:$t})},Nz=T.exports.forwardRef(Drt);Nz.Group=Ert;Nz.__ANT_BUTTON=!0;const Hv=Nz;//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Qce;function Nn(){return Qce.apply(null,arguments)}function Nrt(t){Qce=t}function cd(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function x0(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function bo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rz(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(bo(t,e))return!1;return!0}function xc(t){return t===void 0}function Hp(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function VE(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Jce(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function vv(t,e){for(var n in e)bo(e,n)&&(t[n]=e[n]);return bo(e,"toString")&&(t.toString=e.toString),bo(e,"valueOf")&&(t.valueOf=e.valueOf),t}function wh(t,e,n,r){return Sue(t,e,n,r,!0).utc()}function Rrt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function hi(t){return t._pf==null&&(t._pf=Rrt()),t._pf}var NL;Array.prototype.some?NL=Array.prototype.some:NL=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function Iz(t){if(t._isValid==null){var e=hi(t),n=NL.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function DD(t){var e=wh(NaN);return t!=null?vv(hi(e),t):hi(e).userInvalidated=!0,e}var UK=Nn.momentProperties=[],XI=!1;function $z(t,e){var n,r,i,o=UK.length;if(xc(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),xc(e._i)||(t._i=e._i),xc(e._f)||(t._f=e._f),xc(e._l)||(t._l=e._l),xc(e._strict)||(t._strict=e._strict),xc(e._tzm)||(t._tzm=e._tzm),xc(e._isUTC)||(t._isUTC=e._isUTC),xc(e._offset)||(t._offset=e._offset),xc(e._pf)||(t._pf=hi(e)),xc(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=UK[n],i=e[r],xc(i)||(t[r]=i);return t}function UE(t){$z(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),XI===!1&&(XI=!0,Nn.updateOffset(this),XI=!1)}function ud(t){return t instanceof UE||t!=null&&t._isAMomentObject!=null}function eue(t){Nn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function yf(t,e){var n=!0;return vv(function(){if(Nn.deprecationHandler!=null&&Nn.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])bo(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}eue(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var HK={};function tue(t,e){Nn.deprecationHandler!=null&&Nn.deprecationHandler(t,e),HK[t]||(eue(e),HK[t]=!0)}Nn.suppressDeprecationWarnings=!1;Nn.deprecationHandler=null;function Ch(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Irt(t){var e,n;for(n in t)bo(t,n)&&(e=t[n],Ch(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function RL(t,e){var n=vv({},t),r;for(r in e)bo(e,r)&&(x0(t[r])&&x0(e[r])?(n[r]={},vv(n[r],t[r]),vv(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)bo(t,r)&&!bo(e,r)&&x0(t[r])&&(n[r]=vv({},n[r]));return n}function Lz(t){t!=null&&this.set(t)}var IL;Object.keys?IL=Object.keys:IL=function(t){var e,n=[];for(e in t)bo(t,e)&&n.push(e);return n};var $rt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Lrt(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Ch(r)?r.call(e,n):r}function vh(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Fz=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qP=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,KI={},g1={};function _r(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(g1[t]=i),e&&(g1[e[0]]=function(){return vh(i.apply(this,arguments),e[1],e[2])}),n&&(g1[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Frt(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function zrt(t){var e=t.match(Fz),n,r;for(n=0,r=e.length;n<r;n++)g1[e[n]]?e[n]=g1[e[n]]:e[n]=Frt(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=Ch(e[s])?e[s].call(i,t):e[s];return o}}function HO(t,e){return t.isValid()?(e=nue(e,t.localeData()),KI[e]=KI[e]||zrt(e),KI[e](t)):t.localeData().invalidDate()}function nue(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(qP.lastIndex=0;n>=0&&qP.test(t);)t=t.replace(qP,r),qP.lastIndex=0,n-=1;return t}var Grt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Brt(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Fz).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var jrt="Invalid date";function Vrt(){return this._invalidDate}var Urt="%d",Hrt=/\d{1,2}/;function Wrt(t){return this._ordinal.replace("%d",t)}var Yrt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qrt(t,e,n,r){var i=this._relativeTime[n];return Ch(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Xrt(t,e){var n=this._relativeTime[t>0?"future":"past"];return Ch(n)?n(e):n.replace(/%s/i,e)}var pC={};function $l(t,e){var n=t.toLowerCase();pC[n]=pC[n+"s"]=pC[e]=t}function bf(t){return typeof t=="string"?pC[t]||pC[t.toLowerCase()]:void 0}function zz(t){var e={},n,r;for(r in t)bo(t,r)&&(n=bf(r),n&&(e[n]=t[r]));return e}var rue={};function Ll(t,e){rue[t]=e}function Krt(t){var e=[],n;for(n in t)bo(t,n)&&e.push({unit:n,priority:rue[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function ND(t){return t%4===0&&t%100!==0||t%400===0}function nf(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Ai(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=nf(e)),n}function I2(t,e){return function(n){return n!=null?(iue(this,t,n),Nn.updateOffset(this,e),this):$A(this,t)}}function $A(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function iue(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&ND(t.year())&&t.month()===1&&t.date()===29?(n=Ai(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),zD(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Zrt(t){return t=bf(t),Ch(this[t])?this[t]():this}function Qrt(t,e){if(typeof t=="object"){t=zz(t);var n=Krt(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=bf(t),Ch(this[t]))return this[t](e);return this}var oue=/\d/,Eu=/\d\d/,sue=/\d{3}/,Gz=/\d{4}/,RD=/[+-]?\d{6}/,ms=/\d\d?/,aue=/\d\d\d\d?/,lue=/\d\d\d\d\d\d?/,ID=/\d{1,3}/,Bz=/\d{1,4}/,$D=/[+-]?\d{1,6}/,$2=/\d+/,LD=/[+-]?\d+/,Jrt=/Z|[+-]\d\d:?\d\d/gi,FD=/Z|[+-]\d\d(?::?\d\d)?/gi,eit=/[+-]?\d+(\.\d{1,3})?/,HE=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,LA;LA={};function nr(t,e,n){LA[t]=Ch(e)?e:function(r,i){return r&&n?n:e}}function tit(t,e){return bo(LA,t)?LA[t](e._strict,e._locale):new RegExp(nit(t))}function nit(t){return iu(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function iu(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var $L={};function Vo(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Hp(e)&&(r=function(o,s){s[e]=Ai(o)}),i=t.length,n=0;n<i;n++)$L[t[n]]=r}function WE(t,e){Vo(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function rit(t,e,n){e!=null&&bo($L,t)&&$L[t](e,n._a,n,t)}var Rl=0,Tp=1,Zd=2,Da=3,Zf=4,Pp=5,h0=6,iit=7,oit=8;function sit(t,e){return(t%e+e)%e}var oa;Array.prototype.indexOf?oa=Array.prototype.indexOf:oa=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function zD(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=sit(e,12);return t+=(e-n)/12,n===1?ND(t)?29:28:31-n%7%2}_r("M",["MM",2],"Mo",function(){return this.month()+1});_r("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});_r("MMMM",0,0,function(t){return this.localeData().months(this,t)});$l("month","M");Ll("month",8);nr("M",ms);nr("MM",ms,Eu);nr("MMM",function(t,e){return e.monthsShortRegex(t)});nr("MMMM",function(t,e){return e.monthsRegex(t)});Vo(["M","MM"],function(t,e){e[Tp]=Ai(t)-1});Vo(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Tp]=i:hi(n).invalidMonth=t});var ait="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uue=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lit=HE,cit=HE;function uit(t,e){return t?cd(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||uue).test(e)?"format":"standalone"][t.month()]:cd(this._months)?this._months:this._months.standalone}function fit(t,e){return t?cd(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[uue.test(e)?"format":"standalone"][t.month()]:cd(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dit(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=wh([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=oa.call(this._shortMonthsParse,s),i!==-1?i:null):(i=oa.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=oa.call(this._shortMonthsParse,s),i!==-1?i:(i=oa.call(this._longMonthsParse,s),i!==-1?i:null)):(i=oa.call(this._longMonthsParse,s),i!==-1?i:(i=oa.call(this._shortMonthsParse,s),i!==-1?i:null))}function hit(t,e,n){var r,i,o;if(this._monthsParseExact)return dit.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=wh([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function fue(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ai(e);else if(e=t.localeData().monthsParse(e),!Hp(e))return t}return n=Math.min(t.date(),zD(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function due(t){return t!=null?(fue(this,t),Nn.updateOffset(this,!0),this):$A(this,"Month")}function pit(){return zD(this.year(),this.month())}function git(t){return this._monthsParseExact?(bo(this,"_monthsRegex")||hue.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(bo(this,"_monthsShortRegex")||(this._monthsShortRegex=lit),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vit(t){return this._monthsParseExact?(bo(this,"_monthsRegex")||hue.call(this),t?this._monthsStrictRegex:this._monthsRegex):(bo(this,"_monthsRegex")||(this._monthsRegex=cit),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function hue(){function t(s,a){return a.length-s.length}var e=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=wh([2e3,i]),e.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=iu(e[i]),n[i]=iu(n[i]);for(i=0;i<24;i++)r[i]=iu(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}_r("Y",0,0,function(){var t=this.year();return t<=9999?vh(t,4):"+"+t});_r(0,["YY",2],0,function(){return this.year()%100});_r(0,["YYYY",4],0,"year");_r(0,["YYYYY",5],0,"year");_r(0,["YYYYYY",6,!0],0,"year");$l("year","y");Ll("year",1);nr("Y",LD);nr("YY",ms,Eu);nr("YYYY",Bz,Gz);nr("YYYYY",$D,RD);nr("YYYYYY",$D,RD);Vo(["YYYYY","YYYYYY"],Rl);Vo("YYYY",function(t,e){e[Rl]=t.length===2?Nn.parseTwoDigitYear(t):Ai(t)});Vo("YY",function(t,e){e[Rl]=Nn.parseTwoDigitYear(t)});Vo("Y",function(t,e){e[Rl]=parseInt(t,10)});function gC(t){return ND(t)?366:365}Nn.parseTwoDigitYear=function(t){return Ai(t)+(Ai(t)>68?1900:2e3)};var pue=I2("FullYear",!0);function mit(){return ND(this.year())}function yit(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function eE(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function FA(t,e,n){var r=7+e-n,i=(7+eE(t,0,r).getUTCDay()-e)%7;return-i+r-1}function gue(t,e,n,r,i){var o=(7+n-r)%7,s=FA(t,r,i),a=1+7*(e-1)+o+s,l,c;return a<=0?(l=t-1,c=gC(l)+a):a>gC(t)?(l=t+1,c=a-gC(t)):(l=t,c=a),{year:l,dayOfYear:c}}function tE(t,e,n){var r=FA(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+Ip(s,e,n)):i>Ip(t.year(),e,n)?(o=i-Ip(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function Ip(t,e,n){var r=FA(t,e,n),i=FA(t+1,e,n);return(gC(t)-r+i)/7}_r("w",["ww",2],"wo","week");_r("W",["WW",2],"Wo","isoWeek");$l("week","w");$l("isoWeek","W");Ll("week",5);Ll("isoWeek",5);nr("w",ms);nr("ww",ms,Eu);nr("W",ms);nr("WW",ms,Eu);WE(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Ai(t)});function bit(t){return tE(t,this._week.dow,this._week.doy).week}var xit={dow:0,doy:6};function wit(){return this._week.dow}function Cit(){return this._week.doy}function Sit(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Eit(t){var e=tE(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}_r("d",0,"do","day");_r("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});_r("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});_r("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});_r("e",0,0,"weekday");_r("E",0,0,"isoWeekday");$l("day","d");$l("weekday","e");$l("isoWeekday","E");Ll("day",11);Ll("weekday",11);Ll("isoWeekday",11);nr("d",ms);nr("e",ms);nr("E",ms);nr("dd",function(t,e){return e.weekdaysMinRegex(t)});nr("ddd",function(t,e){return e.weekdaysShortRegex(t)});nr("dddd",function(t,e){return e.weekdaysRegex(t)});WE(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:hi(n).invalidWeekday=t});WE(["d","e","E"],function(t,e,n,r){e[r]=Ai(t)});function _it(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Tit(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function jz(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Pit="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oit="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mit=HE,Ait=HE,kit=HE;function Dit(t,e){var n=cd(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?jz(n,this._week.dow):t?n[t.day()]:n}function Nit(t){return t===!0?jz(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Rit(t){return t===!0?jz(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Iit(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=wh([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=oa.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=oa.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=oa.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=oa.call(this._weekdaysParse,s),i!==-1||(i=oa.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=oa.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=oa.call(this._shortWeekdaysParse,s),i!==-1||(i=oa.call(this._weekdaysParse,s),i!==-1)?i:(i=oa.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=oa.call(this._minWeekdaysParse,s),i!==-1||(i=oa.call(this._weekdaysParse,s),i!==-1)?i:(i=oa.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function $it(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Iit.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=wh([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Lit(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=_it(t,this.localeData()),this.add(t-e,"d")):e}function Fit(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function zit(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Tit(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Git(t){return this._weekdaysParseExact?(bo(this,"_weekdaysRegex")||Vz.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(bo(this,"_weekdaysRegex")||(this._weekdaysRegex=Mit),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Bit(t){return this._weekdaysParseExact?(bo(this,"_weekdaysRegex")||Vz.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(bo(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ait),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jit(t){return this._weekdaysParseExact?(bo(this,"_weekdaysRegex")||Vz.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(bo(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kit),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Vz(){function t(u,f){return f.length-u.length}var e=[],n=[],r=[],i=[],o,s,a,l,c;for(o=0;o<7;o++)s=wh([2e3,1]).day(o),a=iu(this.weekdaysMin(s,"")),l=iu(this.weekdaysShort(s,"")),c=iu(this.weekdays(s,"")),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Uz(){return this.hours()%12||12}function Vit(){return this.hours()||24}_r("H",["HH",2],0,"hour");_r("h",["hh",2],0,Uz);_r("k",["kk",2],0,Vit);_r("hmm",0,0,function(){return""+Uz.apply(this)+vh(this.minutes(),2)});_r("hmmss",0,0,function(){return""+Uz.apply(this)+vh(this.minutes(),2)+vh(this.seconds(),2)});_r("Hmm",0,0,function(){return""+this.hours()+vh(this.minutes(),2)});_r("Hmmss",0,0,function(){return""+this.hours()+vh(this.minutes(),2)+vh(this.seconds(),2)});function mue(t,e){_r(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}mue("a",!0);mue("A",!1);$l("hour","h");Ll("hour",13);function yue(t,e){return e._meridiemParse}nr("a",yue);nr("A",yue);nr("H",ms);nr("h",ms);nr("k",ms);nr("HH",ms,Eu);nr("hh",ms,Eu);nr("kk",ms,Eu);nr("hmm",aue);nr("hmmss",lue);nr("Hmm",aue);nr("Hmmss",lue);Vo(["H","HH"],Da);Vo(["k","kk"],function(t,e,n){var r=Ai(t);e[Da]=r===24?0:r});Vo(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Vo(["h","hh"],function(t,e,n){e[Da]=Ai(t),hi(n).bigHour=!0});Vo("hmm",function(t,e,n){var r=t.length-2;e[Da]=Ai(t.substr(0,r)),e[Zf]=Ai(t.substr(r)),hi(n).bigHour=!0});Vo("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Da]=Ai(t.substr(0,r)),e[Zf]=Ai(t.substr(r,2)),e[Pp]=Ai(t.substr(i)),hi(n).bigHour=!0});Vo("Hmm",function(t,e,n){var r=t.length-2;e[Da]=Ai(t.substr(0,r)),e[Zf]=Ai(t.substr(r))});Vo("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Da]=Ai(t.substr(0,r)),e[Zf]=Ai(t.substr(r,2)),e[Pp]=Ai(t.substr(i))});function Uit(t){return(t+"").toLowerCase().charAt(0)==="p"}var Hit=/[ap]\.?m?\.?/i,Wit=I2("Hours",!0);function Yit(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var bue={calendar:$rt,longDateFormat:Grt,invalidDate:jrt,ordinal:Urt,dayOfMonthOrdinalParse:Hrt,relativeTime:Yrt,months:ait,monthsShort:cue,week:xit,weekdays:Pit,weekdaysMin:Oit,weekdaysShort:vue,meridiemParse:Hit},Ts={},rw={},nE;function qit(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function WK(t){return t&&t.toLowerCase().replace("_","-")}function Xit(t){for(var e=0,n,r,i,o;e<t.length;){for(o=WK(t[e]).split("-"),n=o.length,r=WK(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=GD(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&qit(o,r)>=n-1)break;n--}e++}return nE}function Kit(t){return t.match("^[^/\\\\]*$")!=null}function GD(t){var e=null,n;if(Ts[t]===void 0&&typeof Dl<"u"&&Dl&&Dl.exports&&Kit(t))try{e=nE._abbr,n=require,n("./locale/"+t),Ov(e)}catch{Ts[t]=null}return Ts[t]}function Ov(t,e){var n;return t&&(xc(e)?n=og(t):n=Hz(t,e),n?nE=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),nE._abbr}function Hz(t,e){if(e!==null){var n,r=bue;if(e.abbr=t,Ts[t]!=null)tue("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ts[t]._config;else if(e.parentLocale!=null)if(Ts[e.parentLocale]!=null)r=Ts[e.parentLocale]._config;else if(n=GD(e.parentLocale),n!=null)r=n._config;else return rw[e.parentLocale]||(rw[e.parentLocale]=[]),rw[e.parentLocale].push({name:t,config:e}),null;return Ts[t]=new Lz(RL(r,e)),rw[t]&&rw[t].forEach(function(i){Hz(i.name,i.config)}),Ov(t),Ts[t]}else return delete Ts[t],null}function Zit(t,e){if(e!=null){var n,r,i=bue;Ts[t]!=null&&Ts[t].parentLocale!=null?Ts[t].set(RL(Ts[t]._config,e)):(r=GD(t),r!=null&&(i=r._config),e=RL(i,e),r==null&&(e.abbr=t),n=new Lz(e),n.parentLocale=Ts[t],Ts[t]=n),Ov(t)}else Ts[t]!=null&&(Ts[t].parentLocale!=null?(Ts[t]=Ts[t].parentLocale,t===Ov()&&Ov(t)):Ts[t]!=null&&delete Ts[t]);return Ts[t]}function og(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return nE;if(!cd(t)){if(e=GD(t),e)return e;t=[t]}return Xit(t)}function Qit(){return IL(Ts)}function Wz(t){var e,n=t._a;return n&&hi(t).overflow===-2&&(e=n[Tp]<0||n[Tp]>11?Tp:n[Zd]<1||n[Zd]>zD(n[Rl],n[Tp])?Zd:n[Da]<0||n[Da]>24||n[Da]===24&&(n[Zf]!==0||n[Pp]!==0||n[h0]!==0)?Da:n[Zf]<0||n[Zf]>59?Zf:n[Pp]<0||n[Pp]>59?Pp:n[h0]<0||n[h0]>999?h0:-1,hi(t)._overflowDayOfYear&&(e<Rl||e>Zd)&&(e=Zd),hi(t)._overflowWeeks&&e===-1&&(e=iit),hi(t)._overflowWeekday&&e===-1&&(e=oit),hi(t).overflow=e),t}var Jit=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eot=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tot=/Z|[+-]\d\d(?::?\d\d)?/,XP=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ZI=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],not=/^\/?Date\((-?\d+)/i,rot=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,iot={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xue(t){var e,n,r=t._i,i=Jit.exec(r)||eot.exec(r),o,s,a,l,c=XP.length,u=ZI.length;if(i){for(hi(t).iso=!0,e=0,n=c;e<n;e++)if(XP[e][1].exec(i[1])){s=XP[e][0],o=XP[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=u;e<n;e++)if(ZI[e][1].exec(i[3])){a=(i[2]||" ")+ZI[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(tot.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),qz(t)}else t._isValid=!1}function oot(t,e,n,r,i,o){var s=[sot(t),cue.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function sot(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function aot(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function lot(t,e,n){if(t){var r=vue.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return hi(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function cot(t,e,n){if(t)return iot[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function wue(t){var e=rot.exec(aot(t._i)),n;if(e){if(n=oot(e[4],e[3],e[2],e[5],e[6],e[7]),!lot(e[1],n,t))return;t._a=n,t._tzm=cot(e[8],e[9],e[10]),t._d=eE.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),hi(t).rfc2822=!0}else t._isValid=!1}function uot(t){var e=not.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(xue(t),t._isValid===!1)delete t._isValid;else return;if(wue(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Nn.createFromInputFallback(t)}Nn.createFromInputFallback=yf("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Nb(t,e,n){return t!=null?t:e!=null?e:n}function fot(t){var e=new Date(Nn.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Yz(t){var e,n,r=[],i,o,s;if(!t._d){for(i=fot(t),t._w&&t._a[Zd]==null&&t._a[Tp]==null&&dot(t),t._dayOfYear!=null&&(s=Nb(t._a[Rl],i[Rl]),(t._dayOfYear>gC(s)||t._dayOfYear===0)&&(hi(t)._overflowDayOfYear=!0),n=eE(s,0,t._dayOfYear),t._a[Tp]=n.getUTCMonth(),t._a[Zd]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Da]===24&&t._a[Zf]===0&&t._a[Pp]===0&&t._a[h0]===0&&(t._nextDay=!0,t._a[Da]=0),t._d=(t._useUTC?eE:yit).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Da]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(hi(t).weekdayMismatch=!0)}}function dot(t){var e,n,r,i,o,s,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=Nb(e.GG,t._a[Rl],tE(vs(),1,4).year),r=Nb(e.W,1),i=Nb(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,c=tE(vs(),o,s),n=Nb(e.gg,t._a[Rl],c.year),r=Nb(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>Ip(n,o,s)?hi(t)._overflowWeeks=!0:l!=null?hi(t)._overflowWeekday=!0:(a=gue(n,r,i,o,s),t._a[Rl]=a.year,t._dayOfYear=a.dayOfYear)}Nn.ISO_8601=function(){};Nn.RFC_2822=function(){};function qz(t){if(t._f===Nn.ISO_8601){xue(t);return}if(t._f===Nn.RFC_2822){wue(t);return}t._a=[],hi(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,l=0,c,u;for(i=nue(t._f,t._locale).match(Fz)||[],u=i.length,n=0;n<u;n++)o=i[n],r=(e.match(tit(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&hi(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),g1[o]?(r?hi(t).empty=!1:hi(t).unusedTokens.push(o),rit(o,r,t)):t._strict&&!r&&hi(t).unusedTokens.push(o);hi(t).charsLeftOver=a-l,e.length>0&&hi(t).unusedInput.push(e),t._a[Da]<=12&&hi(t).bigHour===!0&&t._a[Da]>0&&(hi(t).bigHour=void 0),hi(t).parsedDateParts=t._a.slice(0),hi(t).meridiem=t._meridiem,t._a[Da]=hot(t._locale,t._a[Da],t._meridiem),c=hi(t).era,c!==null&&(t._a[Rl]=t._locale.erasConvertYear(c,t._a[Rl])),Yz(t),Wz(t)}function hot(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function pot(t){var e,n,r,i,o,s,a=!1,l=t._f.length;if(l===0){hi(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,s=!1,e=$z({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],qz(e),Iz(e)&&(s=!0),o+=hi(e).charsLeftOver,o+=hi(e).unusedTokens.length*10,hi(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));vv(t,n||e)}function got(t){if(!t._d){var e=zz(t._i),n=e.day===void 0?e.date:e.day;t._a=Jce([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Yz(t)}}function vot(t){var e=new UE(Wz(Cue(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Cue(t){var e=t._i,n=t._f;return t._locale=t._locale||og(t._l),e===null||n===void 0&&e===""?DD({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ud(e)?new UE(Wz(e)):(VE(e)?t._d=e:cd(n)?pot(t):n?qz(t):mot(t),Iz(t)||(t._d=null),t))}function mot(t){var e=t._i;xc(e)?t._d=new Date(Nn.now()):VE(e)?t._d=new Date(e.valueOf()):typeof e=="string"?uot(t):cd(e)?(t._a=Jce(e.slice(0),function(n){return parseInt(n,10)}),Yz(t)):x0(e)?got(t):Hp(e)?t._d=new Date(e):Nn.createFromInputFallback(t)}function Sue(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(x0(t)&&Rz(t)||cd(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,vot(o)}function vs(t,e,n,r){return Sue(t,e,n,r,!1)}var yot=yf("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=vs.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:DD()}),bot=yf("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=vs.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:DD()});function Eue(t,e){var n,r;if(e.length===1&&cd(e[0])&&(e=e[0]),!e.length)return vs();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function xot(){var t=[].slice.call(arguments,0);return Eue("isBefore",t)}function wot(){var t=[].slice.call(arguments,0);return Eue("isAfter",t)}var Cot=function(){return Date.now?Date.now():+new Date},iw=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Sot(t){var e,n=!1,r,i=iw.length;for(e in t)if(bo(t,e)&&!(oa.call(iw,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[iw[r]]){if(n)return!1;parseFloat(t[iw[r]])!==Ai(t[iw[r]])&&(n=!0)}return!0}function Eot(){return this._isValid}function _ot(){return vd(NaN)}function BD(t){var e=zz(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Sot(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=og(),this._bubble()}function WO(t){return t instanceof BD}function LL(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Tot(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&Ai(t[s])!==Ai(e[s]))&&o++;return o+i}function _ue(t,e){_r(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+vh(~~(n/60),2)+e+vh(~~n%60,2)})}_ue("Z",":");_ue("ZZ","");nr("Z",FD);nr("ZZ",FD);Vo(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Xz(FD,t)});var Pot=/([\+\-]|\d\d)/gi;function Xz(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Pot)||["-",0,0],o=+(i[1]*60)+Ai(i[2]),o===0?0:i[0]==="+"?o:-o)}function Kz(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(ud(t)||VE(t)?t.valueOf():vs(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Nn.updateOffset(n,!1),n):vs(t).local()}function FL(t){return-Math.round(t._d.getTimezoneOffset())}Nn.updateOffset=function(){};function Oot(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Xz(FD,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=FL(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Oue(this,vd(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Nn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:FL(this)}function Mot(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Aot(t){return this.utcOffset(0,t)}function kot(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(FL(this),"m")),this}function Dot(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Xz(Jrt,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Not(t){return this.isValid()?(t=t?vs(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Rot(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Iot(){if(!xc(this._isDSTShifted))return this._isDSTShifted;var t={},e;return $z(t,this),t=Cue(t),t._a?(e=t._isUTC?wh(t._a):vs(t._a),this._isDSTShifted=this.isValid()&&Tot(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function $ot(){return this.isValid()?!this._isUTC:!1}function Lot(){return this.isValid()?this._isUTC:!1}function Tue(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Fot=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zot=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function vd(t,e){var n=t,r=null,i,o,s;return WO(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Hp(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Fot.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Ai(r[Zd])*i,h:Ai(r[Da])*i,m:Ai(r[Zf])*i,s:Ai(r[Pp])*i,ms:Ai(LL(r[h0]*1e3))*i}):(r=zot.exec(t))?(i=r[1]==="-"?-1:1,n={y:Gm(r[2],i),M:Gm(r[3],i),w:Gm(r[4],i),d:Gm(r[5],i),h:Gm(r[6],i),m:Gm(r[7],i),s:Gm(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Got(vs(n.from),vs(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new BD(n),WO(t)&&bo(t,"_locale")&&(o._locale=t._locale),WO(t)&&bo(t,"_isValid")&&(o._isValid=t._isValid),o}vd.fn=BD.prototype;vd.invalid=_ot;function Gm(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function YK(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Got(t,e){var n;return t.isValid()&&e.isValid()?(e=Kz(e,t),t.isBefore(e)?n=YK(t,e):(n=YK(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pue(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(tue(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=vd(n,r),Oue(this,i,t),this}}function Oue(t,e,n,r){var i=e._milliseconds,o=LL(e._days),s=LL(e._months);!t.isValid()||(r=r==null?!0:r,s&&fue(t,$A(t,"Month")+s*n),o&&iue(t,"Date",$A(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&Nn.updateOffset(t,o||s))}var Bot=Pue(1,"add"),jot=Pue(-1,"subtract");function Mue(t){return typeof t=="string"||t instanceof String}function Vot(t){return ud(t)||VE(t)||Mue(t)||Hp(t)||Hot(t)||Uot(t)||t===null||t===void 0}function Uot(t){var e=x0(t)&&!Rz(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||bo(t,o);return e&&n}function Hot(t){var e=cd(t),n=!1;return e&&(n=t.filter(function(r){return!Hp(r)&&Mue(t)}).length===0),e&&n}function Wot(t){var e=x0(t)&&!Rz(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||bo(t,o);return e&&n}function Yot(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qot(t,e){arguments.length===1&&(arguments[0]?Vot(arguments[0])?(t=arguments[0],e=void 0):Wot(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||vs(),r=Kz(n,this).startOf("day"),i=Nn.calendarFormat(this,r)||"sameElse",o=e&&(Ch(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,vs(n)))}function Xot(){return new UE(this)}function Kot(t,e){var n=ud(t)?t:vs(t);return this.isValid()&&n.isValid()?(e=bf(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Zot(t,e){var n=ud(t)?t:vs(t);return this.isValid()&&n.isValid()?(e=bf(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Qot(t,e,n,r){var i=ud(t)?t:vs(t),o=ud(e)?e:vs(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function Jot(t,e){var n=ud(t)?t:vs(t),r;return this.isValid()&&n.isValid()?(e=bf(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function est(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function tst(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nst(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=Kz(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=bf(e),e){case"year":o=YO(this,r)/12;break;case"month":o=YO(this,r);break;case"quarter":o=YO(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:nf(o)}function YO(t,e){if(t.date()<e.date())return-YO(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}Nn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Nn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function rst(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ist(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?HO(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ch(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",HO(n,"Z")):HO(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ost(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function sst(t){t||(t=this.isUtc()?Nn.defaultFormatUtc:Nn.defaultFormat);var e=HO(this,t);return this.localeData().postformat(e)}function ast(t,e){return this.isValid()&&(ud(t)&&t.isValid()||vs(t).isValid())?vd({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function lst(t){return this.from(vs(),t)}function cst(t,e){return this.isValid()&&(ud(t)&&t.isValid()||vs(t).isValid())?vd({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ust(t){return this.to(vs(),t)}function Aue(t){var e;return t===void 0?this._locale._abbr:(e=og(t),e!=null&&(this._locale=e),this)}var kue=yf("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Due(){return this._locale}var zA=1e3,v1=60*zA,GA=60*v1,Nue=(365*400+97)*24*GA;function m1(t,e){return(t%e+e)%e}function Rue(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-Nue:new Date(t,e,n).valueOf()}function Iue(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-Nue:Date.UTC(t,e,n)}function fst(t){var e,n;if(t=bf(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Iue:Rue,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=m1(e+(this._isUTC?0:this.utcOffset()*v1),GA);break;case"minute":e=this._d.valueOf(),e-=m1(e,v1);break;case"second":e=this._d.valueOf(),e-=m1(e,zA);break}return this._d.setTime(e),Nn.updateOffset(this,!0),this}function dst(t){var e,n;if(t=bf(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Iue:Rue,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=GA-m1(e+(this._isUTC?0:this.utcOffset()*v1),GA)-1;break;case"minute":e=this._d.valueOf(),e+=v1-m1(e,v1)-1;break;case"second":e=this._d.valueOf(),e+=zA-m1(e,zA)-1;break}return this._d.setTime(e),Nn.updateOffset(this,!0),this}function hst(){return this._d.valueOf()-(this._offset||0)*6e4}function pst(){return Math.floor(this.valueOf()/1e3)}function gst(){return new Date(this.valueOf())}function vst(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function mst(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function yst(){return this.isValid()?this.toISOString():null}function bst(){return Iz(this)}function xst(){return vv({},hi(this))}function wst(){return hi(this).overflow}function Cst(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_r("N",0,0,"eraAbbr");_r("NN",0,0,"eraAbbr");_r("NNN",0,0,"eraAbbr");_r("NNNN",0,0,"eraName");_r("NNNNN",0,0,"eraNarrow");_r("y",["y",1],"yo","eraYear");_r("y",["yy",2],0,"eraYear");_r("y",["yyy",3],0,"eraYear");_r("y",["yyyy",4],0,"eraYear");nr("N",Zz);nr("NN",Zz);nr("NNN",Zz);nr("NNNN",Nst);nr("NNNNN",Rst);Vo(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?hi(n).era=i:hi(n).invalidEra=t});nr("y",$2);nr("yy",$2);nr("yyy",$2);nr("yyyy",$2);nr("yo",Ist);Vo(["y","yy","yyy","yyyy"],Rl);Vo(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Rl]=n._locale.eraYearOrdinalParse(t,i):e[Rl]=parseInt(t,10)});function Sst(t,e){var n,r,i,o=this._eras||og("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Nn(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Nn(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function Est(t,e,n){var r,i,o=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(l===t)return o[r];break}else if([s,a,l].indexOf(t)>=0)return o[r]}function _st(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Nn(t.since).year():Nn(t.since).year()+(e-t.offset)*n}function Tst(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Pst(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Ost(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Mst(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-Nn(i[t].since).year())*n+i[t].offset;return this.year()}function Ast(t){return bo(this,"_erasNameRegex")||Qz.call(this),t?this._erasNameRegex:this._erasRegex}function kst(t){return bo(this,"_erasAbbrRegex")||Qz.call(this),t?this._erasAbbrRegex:this._erasRegex}function Dst(t){return bo(this,"_erasNarrowRegex")||Qz.call(this),t?this._erasNarrowRegex:this._erasRegex}function Zz(t,e){return e.erasAbbrRegex(t)}function Nst(t,e){return e.erasNameRegex(t)}function Rst(t,e){return e.erasNarrowRegex(t)}function Ist(t,e){return e._eraYearOrdinalRegex||$2}function Qz(){var t=[],e=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)e.push(iu(s[i].name)),t.push(iu(s[i].abbr)),n.push(iu(s[i].narrow)),r.push(iu(s[i].name)),r.push(iu(s[i].abbr)),r.push(iu(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}_r(0,["gg",2],0,function(){return this.weekYear()%100});_r(0,["GG",2],0,function(){return this.isoWeekYear()%100});function jD(t,e){_r(0,[t,t.length],0,e)}jD("gggg","weekYear");jD("ggggg","weekYear");jD("GGGG","isoWeekYear");jD("GGGGG","isoWeekYear");$l("weekYear","gg");$l("isoWeekYear","GG");Ll("weekYear",1);Ll("isoWeekYear",1);nr("G",LD);nr("g",LD);nr("GG",ms,Eu);nr("gg",ms,Eu);nr("GGGG",Bz,Gz);nr("gggg",Bz,Gz);nr("GGGGG",$D,RD);nr("ggggg",$D,RD);WE(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Ai(t)});WE(["gg","GG"],function(t,e,n,r){e[r]=Nn.parseTwoDigitYear(t)});function $st(t){return $ue.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Lst(t){return $ue.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Fst(){return Ip(this.year(),1,4)}function zst(){return Ip(this.isoWeekYear(),1,4)}function Gst(){var t=this.localeData()._week;return Ip(this.year(),t.dow,t.doy)}function Bst(){var t=this.localeData()._week;return Ip(this.weekYear(),t.dow,t.doy)}function $ue(t,e,n,r,i){var o;return t==null?tE(this,r,i).year:(o=Ip(t,r,i),e>o&&(e=o),jst.call(this,t,e,n,r,i))}function jst(t,e,n,r,i){var o=gue(t,e,n,r,i),s=eE(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}_r("Q",0,"Qo","quarter");$l("quarter","Q");Ll("quarter",7);nr("Q",oue);Vo("Q",function(t,e){e[Tp]=(Ai(t)-1)*3});function Vst(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}_r("D",["DD",2],"Do","date");$l("date","D");Ll("date",9);nr("D",ms);nr("DD",ms,Eu);nr("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Vo(["D","DD"],Zd);Vo("Do",function(t,e){e[Zd]=Ai(t.match(ms)[0])});var Lue=I2("Date",!0);_r("DDD",["DDDD",3],"DDDo","dayOfYear");$l("dayOfYear","DDD");Ll("dayOfYear",4);nr("DDD",ID);nr("DDDD",sue);Vo(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Ai(t)});function Ust(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}_r("m",["mm",2],0,"minute");$l("minute","m");Ll("minute",14);nr("m",ms);nr("mm",ms,Eu);Vo(["m","mm"],Zf);var Hst=I2("Minutes",!1);_r("s",["ss",2],0,"second");$l("second","s");Ll("second",15);nr("s",ms);nr("ss",ms,Eu);Vo(["s","ss"],Pp);var Wst=I2("Seconds",!1);_r("S",0,0,function(){return~~(this.millisecond()/100)});_r(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_r(0,["SSS",3],0,"millisecond");_r(0,["SSSS",4],0,function(){return this.millisecond()*10});_r(0,["SSSSS",5],0,function(){return this.millisecond()*100});_r(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_r(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_r(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_r(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$l("millisecond","ms");Ll("millisecond",16);nr("S",ID,oue);nr("SS",ID,Eu);nr("SSS",ID,sue);var mv,Fue;for(mv="SSSS";mv.length<=9;mv+="S")nr(mv,$2);function Yst(t,e){e[h0]=Ai(("0."+t)*1e3)}for(mv="S";mv.length<=9;mv+="S")Vo(mv,Yst);Fue=I2("Milliseconds",!1);_r("z",0,0,"zoneAbbr");_r("zz",0,0,"zoneName");function qst(){return this._isUTC?"UTC":""}function Xst(){return this._isUTC?"Coordinated Universal Time":""}var wn=UE.prototype;wn.add=Bot;wn.calendar=qot;wn.clone=Xot;wn.diff=nst;wn.endOf=dst;wn.format=sst;wn.from=ast;wn.fromNow=lst;wn.to=cst;wn.toNow=ust;wn.get=Zrt;wn.invalidAt=wst;wn.isAfter=Kot;wn.isBefore=Zot;wn.isBetween=Qot;wn.isSame=Jot;wn.isSameOrAfter=est;wn.isSameOrBefore=tst;wn.isValid=bst;wn.lang=kue;wn.locale=Aue;wn.localeData=Due;wn.max=bot;wn.min=yot;wn.parsingFlags=xst;wn.set=Qrt;wn.startOf=fst;wn.subtract=jot;wn.toArray=vst;wn.toObject=mst;wn.toDate=gst;wn.toISOString=ist;wn.inspect=ost;typeof Symbol<"u"&&Symbol.for!=null&&(wn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});wn.toJSON=yst;wn.toString=rst;wn.unix=pst;wn.valueOf=hst;wn.creationData=Cst;wn.eraName=Tst;wn.eraNarrow=Pst;wn.eraAbbr=Ost;wn.eraYear=Mst;wn.year=pue;wn.isLeapYear=mit;wn.weekYear=$st;wn.isoWeekYear=Lst;wn.quarter=wn.quarters=Vst;wn.month=due;wn.daysInMonth=pit;wn.week=wn.weeks=Sit;wn.isoWeek=wn.isoWeeks=Eit;wn.weeksInYear=Gst;wn.weeksInWeekYear=Bst;wn.isoWeeksInYear=Fst;wn.isoWeeksInISOWeekYear=zst;wn.date=Lue;wn.day=wn.days=Lit;wn.weekday=Fit;wn.isoWeekday=zit;wn.dayOfYear=Ust;wn.hour=wn.hours=Wit;wn.minute=wn.minutes=Hst;wn.second=wn.seconds=Wst;wn.millisecond=wn.milliseconds=Fue;wn.utcOffset=Oot;wn.utc=Aot;wn.local=kot;wn.parseZone=Dot;wn.hasAlignedHourOffset=Not;wn.isDST=Rot;wn.isLocal=$ot;wn.isUtcOffset=Lot;wn.isUtc=Tue;wn.isUTC=Tue;wn.zoneAbbr=qst;wn.zoneName=Xst;wn.dates=yf("dates accessor is deprecated. Use date instead.",Lue);wn.months=yf("months accessor is deprecated. Use month instead",due);wn.years=yf("years accessor is deprecated. Use year instead",pue);wn.zone=yf("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Mot);wn.isDSTShifted=yf("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Iot);function Kst(t){return vs(t*1e3)}function Zst(){return vs.apply(null,arguments).parseZone()}function zue(t){return t}var xo=Lz.prototype;xo.calendar=Lrt;xo.longDateFormat=Brt;xo.invalidDate=Vrt;xo.ordinal=Wrt;xo.preparse=zue;xo.postformat=zue;xo.relativeTime=qrt;xo.pastFuture=Xrt;xo.set=Irt;xo.eras=Sst;xo.erasParse=Est;xo.erasConvertYear=_st;xo.erasAbbrRegex=kst;xo.erasNameRegex=Ast;xo.erasNarrowRegex=Dst;xo.months=uit;xo.monthsShort=fit;xo.monthsParse=hit;xo.monthsRegex=vit;xo.monthsShortRegex=git;xo.week=bit;xo.firstDayOfYear=Cit;xo.firstDayOfWeek=wit;xo.weekdays=Dit;xo.weekdaysMin=Rit;xo.weekdaysShort=Nit;xo.weekdaysParse=$it;xo.weekdaysRegex=Git;xo.weekdaysShortRegex=Bit;xo.weekdaysMinRegex=jit;xo.isPM=Uit;xo.meridiem=Yit;function BA(t,e,n,r){var i=og(),o=wh().set(r,e);return i[n](o,t)}function Gue(t,e,n){if(Hp(t)&&(e=t,t=void 0),t=t||"",e!=null)return BA(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=BA(t,r,n,"month");return i}function Jz(t,e,n,r){typeof t=="boolean"?(Hp(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Hp(e)&&(n=e,e=void 0),e=e||"");var i=og(),o=t?i._week.dow:0,s,a=[];if(n!=null)return BA(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=BA(e,(s+o)%7,r,"day");return a}function Qst(t,e){return Gue(t,e,"months")}function Jst(t,e){return Gue(t,e,"monthsShort")}function eat(t,e,n){return Jz(t,e,n,"weekdays")}function tat(t,e,n){return Jz(t,e,n,"weekdaysShort")}function nat(t,e,n){return Jz(t,e,n,"weekdaysMin")}Ov("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Ai(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Nn.lang=yf("moment.lang is deprecated. Use moment.locale instead.",Ov);Nn.langData=yf("moment.langData is deprecated. Use moment.localeData instead.",og);var lp=Math.abs;function rat(){var t=this._data;return this._milliseconds=lp(this._milliseconds),this._days=lp(this._days),this._months=lp(this._months),t.milliseconds=lp(t.milliseconds),t.seconds=lp(t.seconds),t.minutes=lp(t.minutes),t.hours=lp(t.hours),t.months=lp(t.months),t.years=lp(t.years),this}function Bue(t,e,n,r){var i=vd(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function iat(t,e){return Bue(this,t,e,1)}function oat(t,e){return Bue(this,t,e,-1)}function qK(t){return t<0?Math.floor(t):Math.ceil(t)}function sat(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=qK(zL(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=nf(t/1e3),r.seconds=i%60,o=nf(i/60),r.minutes=o%60,s=nf(o/60),r.hours=s%24,e+=nf(s/24),l=nf(jue(e)),n+=l,e-=qK(zL(l)),a=nf(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function jue(t){return t*4800/146097}function zL(t){return t*146097/4800}function aat(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=bf(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+jue(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(zL(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function lat(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ai(this._months/12)*31536e6:NaN}function sg(t){return function(){return this.as(t)}}var cat=sg("ms"),uat=sg("s"),fat=sg("m"),dat=sg("h"),hat=sg("d"),pat=sg("w"),gat=sg("M"),vat=sg("Q"),mat=sg("y");function yat(){return vd(this)}function bat(t){return t=bf(t),this.isValid()?this[t+"s"]():NaN}function cy(t){return function(){return this.isValid()?this._data[t]:NaN}}var xat=cy("milliseconds"),wat=cy("seconds"),Cat=cy("minutes"),Sat=cy("hours"),Eat=cy("days"),_at=cy("months"),Tat=cy("years");function Pat(){return nf(this.days()/7)}var pp=Math.round,t1={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Oat(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Mat(t,e,n,r){var i=vd(t).abs(),o=pp(i.as("s")),s=pp(i.as("m")),a=pp(i.as("h")),l=pp(i.as("d")),c=pp(i.as("M")),u=pp(i.as("w")),f=pp(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),d=d||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=r,Oat.apply(null,d)}function Aat(t){return t===void 0?pp:typeof t=="function"?(pp=t,!0):!1}function kat(t,e){return t1[t]===void 0?!1:e===void 0?t1[t]:(t1[t]=e,t==="s"&&(t1.ss=e-1),!0)}function Dat(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=t1,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},t1,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=Mat(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var QI=Math.abs;function fb(t){return(t>0)-(t<0)||+t}function VD(){if(!this.isValid())return this.localeData().invalidDate();var t=QI(this._milliseconds)/1e3,e=QI(this._days),n=QI(this._months),r,i,o,s,a=this.asSeconds(),l,c,u,f;return a?(r=nf(t/60),i=nf(r/60),t%=60,r%=60,o=nf(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=fb(this._months)!==fb(a)?"-":"",u=fb(this._days)!==fb(a)?"-":"",f=fb(this._milliseconds)!==fb(a)?"-":"",l+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(i||r||t?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(t?f+s+"S":"")):"P0D"}var no=BD.prototype;no.isValid=Eot;no.abs=rat;no.add=iat;no.subtract=oat;no.as=aat;no.asMilliseconds=cat;no.asSeconds=uat;no.asMinutes=fat;no.asHours=dat;no.asDays=hat;no.asWeeks=pat;no.asMonths=gat;no.asQuarters=vat;no.asYears=mat;no.valueOf=lat;no._bubble=sat;no.clone=yat;no.get=bat;no.milliseconds=xat;no.seconds=wat;no.minutes=Cat;no.hours=Sat;no.days=Eat;no.weeks=Pat;no.months=_at;no.years=Tat;no.humanize=Dat;no.toISOString=VD;no.toString=VD;no.toJSON=VD;no.locale=Aue;no.localeData=Due;no.toIsoString=yf("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",VD);no.lang=kue;_r("X",0,0,"unix");_r("x",0,0,"valueOf");nr("x",LD);nr("X",eit);Vo("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Vo("x",function(t,e,n){n._d=new Date(Ai(t))});//! moment.js
Nn.version="2.29.4";Nrt(vs);Nn.fn=wn;Nn.min=xot;Nn.max=wot;Nn.now=Cot;Nn.utc=wh;Nn.unix=Kst;Nn.months=Qst;Nn.isDate=VE;Nn.locale=Ov;Nn.invalid=DD;Nn.duration=vd;Nn.isMoment=ud;Nn.weekdays=eat;Nn.parseZone=Zst;Nn.localeData=og;Nn.isDuration=WO;Nn.monthsShort=Jst;Nn.weekdaysMin=nat;Nn.defineLocale=Hz;Nn.updateLocale=Zit;Nn.locales=Qit;Nn.weekdaysShort=tat;Nn.normalizeUnits=bf;Nn.relativeTimeRounding=Aat;Nn.relativeTimeThreshold=kat;Nn.calendarFormat=Yot;Nn.prototype=wn;Nn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Nat={getNow:function(){return Nn()},getFixedDate:function(e){return Nn(e,"YYYY-MM-DD")},getEndDate:function(e){var n=e.clone();return n.endOf("month")},getWeekDay:function(e){var n=e.clone().locale("en_US");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,n){var r=e.clone();return r.add(n,"year")},addMonth:function(e,n){var r=e.clone();return r.add(n,"month")},addDate:function(e,n){var r=e.clone();return r.add(n,"day")},setYear:function(e,n){var r=e.clone();return r.year(n)},setMonth:function(e,n){var r=e.clone();return r.month(n)},setDate:function(e,n){var r=e.clone();return r.date(n)},setHour:function(e,n){var r=e.clone();return r.hour(n)},setMinute:function(e,n){var r=e.clone();return r.minute(n)},setSecond:function(e,n){var r=e.clone();return r.second(n)},isAfter:function(e,n){return e.isAfter(n)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){var n=Nn().locale(e);return n.localeData().firstDayOfWeek()},getWeekFirstDate:function(e,n){var r=n.clone(),i=r.locale(e);return i.weekday(0)},getWeek:function(e,n){var r=n.clone(),i=r.locale(e);return i.week()},getShortWeekDays:function(e){var n=Nn().locale(e);return n.localeData().weekdaysMin()},getShortMonths:function(e){var n=Nn().locale(e);return n.localeData().monthsShort()},format:function(e,n,r){var i=n.clone(),o=i.locale(e);return o.format(r)},parse:function(e,n,r){for(var i=[],o=0;o<r.length;o+=1){var s=r[o],a=n;if(s.includes("wo")||s.includes("Wo")){s=s.replace(/wo/g,"w").replace(/Wo/g,"W");var l=s.match(/[-YyMmDdHhSsWwGg]+/g),c=a.match(/[-\d]+/g);l&&c?(s=l.join(""),a=c.join("")):i.push(s.replace(/o/g,""))}var u=Nn(a,s,e,!0);if(u.isValid())return u}for(var f=0;f<i.length;f+=1){var d=Nn(n,i[f],e,!1);if(d.isValid())return Xke(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),d}return null}}};function Rat(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vue=Rat,XK=ME,Iat=Vue,$at=wu,Lat=iD,Fat=1/0,KK=XK?XK.prototype:void 0,ZK=KK?KK.toString:void 0;function Uue(t){if(typeof t=="string")return t;if($at(t))return Iat(t,Uue)+"";if(Lat(t))return ZK?ZK.call(t):"";var e=t+"";return e=="0"&&1/t==-Fat?"-0":e}var zat=Uue;function Gat(t){return function(e){return e==null?void 0:e[t]}}var Bat=Gat,jat=zat;function Vat(t){return t==null?"":jat(t)}var Uat=Vat,mu=T.exports.createContext({}),KP={visibility:"hidden"};function L2(t){var e=t.prefixCls,n=t.prevIcon,r=n===void 0?"\u2039":n,i=t.nextIcon,o=i===void 0?"\u203A":i,s=t.superPrevIcon,a=s===void 0?"\xAB":s,l=t.superNextIcon,c=l===void 0?"\xBB":l,u=t.onSuperPrev,f=t.onSuperNext,d=t.onPrev,h=t.onNext,p=t.children,g=T.exports.useContext(mu),m=g.hideNextBtn,y=g.hidePrevBtn;return _t("div",{className:e,children:[u&&D("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(e,"-super-prev-btn"),style:y?KP:{},children:a}),d&&D("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(e,"-prev-btn"),style:y?KP:{},children:r}),D("div",{className:"".concat(e,"-view"),children:p}),h&&D("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(e,"-next-btn"),style:m?KP:{},children:o}),f&&D("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(e,"-super-next-btn"),style:m?KP:{},children:c})]})}function Hat(t){var e=t.prefixCls,n=t.generateConfig,r=t.viewDate,i=t.onPrevDecades,o=t.onNextDecades,s=T.exports.useContext(mu),a=s.hideHeader;if(a)return null;var l="".concat(e,"-header"),c=n.getYear(r),u=Math.floor(c/Op)*Op,f=u+Op-1;return _t(L2,{...t,prefixCls:l,onSuperPrev:i,onSuperNext:o,children:[u,"-",f]})}function Hue(t,e,n,r,i){var o=t.setHour(e,n);return o=t.setMinute(o,r),o=t.setSecond(o,i),o}function Wue(t,e,n){if(!n)return e;var r=e;return r=t.setHour(r,t.getHour(n)),r=t.setMinute(r,t.getMinute(n)),r=t.setSecond(r,t.getSecond(n)),r}function Wat(t,e,n,r,i,o){var s=Math.floor(t/r)*r;if(s<t)return[s,60-i,60-o];var a=Math.floor(e/i)*i;if(a<e)return[s,a,60-o];var l=Math.floor(n/o)*o;return[s,a,l]}function Yat(t,e){var n=t.getYear(e),r=t.getMonth(e)+1,i=t.getEndDate(t.getFixedDate("".concat(n,"-").concat(r,"-01"))),o=t.getDate(i),s=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(s,"-").concat(o)}function YE(t){for(var e=t.prefixCls,n=t.disabledDate,r=t.onSelect,i=t.picker,o=t.rowNum,s=t.colNum,a=t.prefixColumn,l=t.rowClassName,c=t.baseDate,u=t.getCellClassName,f=t.getCellText,d=t.getCellNode,h=t.getCellDate,p=t.generateConfig,g=t.titleCell,m=t.headerCells,y=T.exports.useContext(mu),b=y.onDateMouseEnter,C=y.onDateMouseLeave,E=y.mode,_="".concat(e,"-cell"),w=[],M=0;M<o;M+=1){for(var k=[],I=void 0,A=function(L){var B,j=M*s+L,H=h(c,j),te=VL({cellDate:H,mode:E,disabledDate:n,generateConfig:p});L===0&&(I=H,a&&k.push(a(I)));var Y=g&&g(H);k.push(D("td",{title:Y,className:at(_,be((B={},V(B,"".concat(_,"-disabled"),te),V(B,"".concat(_,"-start"),f(H)===1||i==="year"&&Number(Y)%10===0),V(B,"".concat(_,"-end"),Y===Yat(p,H)||i==="year"&&Number(Y)%10===9),B),u(H))),onClick:function(){te||r(H)},onMouseEnter:function(){!te&&b&&b(H)},onMouseLeave:function(){!te&&C&&C(H)},children:d?d(H):D("div",{className:"".concat(_,"-inner"),children:f(H)})},L))},N=0;N<s;N+=1)A(N);w.push(D("tr",{className:l&&l(I),children:k},M))}return D("div",{className:"".concat(e,"-body"),children:_t("table",{className:"".concat(e,"-content"),children:[m&&D("thead",{children:D("tr",{children:m})}),D("tbody",{children:w})]})})}var GL=3,QK=4;function qat(t){var e=qf-1,n=t.prefixCls,r=t.viewDate,i=t.generateConfig,o="".concat(n,"-cell"),s=i.getYear(r),a=Math.floor(s/qf)*qf,l=Math.floor(s/Op)*Op,c=l+Op-1,u=i.setYear(r,l-Math.ceil((GL*QK*qf-Op)/2)),f=function(h){var p,g=i.getYear(h),m=g+e;return p={},V(p,"".concat(o,"-in-view"),l<=g&&m<=c),V(p,"".concat(o,"-selected"),g===a),p};return D(YE,{...t,rowNum:QK,colNum:GL,baseDate:u,getCellText:function(h){var p=i.getYear(h);return"".concat(p,"-").concat(p+e)},getCellClassName:f,getCellDate:function(h,p){return i.addYear(h,p*qf)}})}var ZP=new Map;function Xat(t,e){var n;function r(){hz(t)?e():n=oi(function(){r()})}return r(),function(){oi.cancel(n)}}function BL(t,e,n){if(ZP.get(t)&&cancelAnimationFrame(ZP.get(t)),n<=0){ZP.set(t,requestAnimationFrame(function(){t.scrollTop=e}));return}var r=e-t.scrollTop,i=r/n*10;ZP.set(t,requestAnimationFrame(function(){t.scrollTop+=i,t.scrollTop!==e&&BL(t,e,n-10)}))}function F2(t,e){var n=e.onLeftRight,r=e.onCtrlLeftRight,i=e.onUpDown,o=e.onPageUpDown,s=e.onEnter,a=t.which,l=t.ctrlKey,c=t.metaKey;switch(a){case St.LEFT:if(l||c){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case St.RIGHT:if(l||c){if(r)return r(1),!0}else if(n)return n(1),!0;break;case St.UP:if(i)return i(-1),!0;break;case St.DOWN:if(i)return i(1),!0;break;case St.PAGE_UP:if(o)return o(-1),!0;break;case St.PAGE_DOWN:if(o)return o(1),!0;break;case St.ENTER:if(s)return s(),!0;break}return!1}function Yue(t,e,n,r){var i=t;if(!i)switch(e){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function que(t,e,n){var r=t==="time"?8:10,i=typeof e=="function"?e(n.getNow()).length:e.length;return Math.max(r,i)+2}var ow=null,QP=new Set;function Kat(t){return!ow&&typeof window<"u"&&window.addEventListener&&(ow=function(n){un(QP).forEach(function(r){r(n)})},window.addEventListener("mousedown",ow)),QP.add(t),function(){QP.delete(t),QP.size===0&&(window.removeEventListener("mousedown",ow),ow=null)}}function Zat(t){var e=t.target;if(t.composed&&e.shadowRoot){var n;return((n=t.composedPath)===null||n===void 0?void 0:n.call(t)[0])||e}return e}var Qat=function(e){return e==="month"||e==="date"?"year":e},Jat=function(e){return e==="date"?"month":e},elt=function(e){return e==="month"||e==="date"?"quarter":e},tlt=function(e){return e==="date"?"week":e},nlt={year:Qat,month:Jat,quarter:elt,week:tlt,time:null,date:null};function Xue(t,e){return t.some(function(n){return n&&n.contains(e)})}var qf=10,Op=qf*10;function rlt(t){var e=t.prefixCls,n=t.onViewDateChange,r=t.generateConfig,i=t.viewDate,o=t.operationRef,s=t.onSelect,a=t.onPanelChange,l="".concat(e,"-decade-panel");o.current={onKeyDown:function(d){return F2(d,{onLeftRight:function(p){s(r.addYear(i,p*qf),"key")},onCtrlLeftRight:function(p){s(r.addYear(i,p*Op),"key")},onUpDown:function(p){s(r.addYear(i,p*qf*GL),"key")},onEnter:function(){a("year",i)}})}};var c=function(d){var h=r.addYear(i,d*Op);n(h),a(null,h)},u=function(d){s(d,"mouse"),a("year",d)};return _t("div",{className:l,children:[D(Hat,{...t,prefixCls:e,onPrevDecades:function(){c(-1)},onNextDecades:function(){c(1)}}),D(qat,{...t,prefixCls:e,onSelect:u})]})}var qO=7;function uy(t,e){if(!t&&!e)return!0;if(!t||!e)return!1}function ilt(t,e,n){var r=uy(e,n);if(typeof r=="boolean")return r;var i=Math.floor(t.getYear(e)/10),o=Math.floor(t.getYear(n)/10);return i===o}function UD(t,e,n){var r=uy(e,n);return typeof r=="boolean"?r:t.getYear(e)===t.getYear(n)}function jL(t,e){var n=Math.floor(t.getMonth(e)/3);return n+1}function Kue(t,e,n){var r=uy(e,n);return typeof r=="boolean"?r:UD(t,e,n)&&jL(t,e)===jL(t,n)}function e7(t,e,n){var r=uy(e,n);return typeof r=="boolean"?r:UD(t,e,n)&&t.getMonth(e)===t.getMonth(n)}function Mp(t,e,n){var r=uy(e,n);return typeof r=="boolean"?r:t.getYear(e)===t.getYear(n)&&t.getMonth(e)===t.getMonth(n)&&t.getDate(e)===t.getDate(n)}function olt(t,e,n){var r=uy(e,n);return typeof r=="boolean"?r:t.getHour(e)===t.getHour(n)&&t.getMinute(e)===t.getMinute(n)&&t.getSecond(e)===t.getSecond(n)}function Zue(t,e,n,r){var i=uy(n,r);return typeof i=="boolean"?i:t.locale.getWeek(e,n)===t.locale.getWeek(e,r)}function rE(t,e,n){return Mp(t,e,n)&&olt(t,e,n)}function JP(t,e,n,r){return!e||!n||!r?!1:!Mp(t,e,r)&&!Mp(t,n,r)&&t.isAfter(r,e)&&t.isAfter(n,r)}function slt(t,e,n){var r=e.locale.getWeekFirstDay(t),i=e.setDate(n,1),o=e.getWeekDay(i),s=e.addDate(i,r-o);return e.getMonth(s)===e.getMonth(n)&&e.getDate(s)>1&&(s=e.addDate(s,-7)),s}function vC(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(e){case"year":return n.addYear(t,r*10);case"quarter":case"month":return n.addYear(t,r);default:return n.addMonth(t,r)}}function dl(t,e){var n=e.generateConfig,r=e.locale,i=e.format;return typeof i=="function"?i(t):n.locale.format(r.locale,t,i)}function Que(t,e){var n=e.generateConfig,r=e.locale,i=e.formatList;return!t||typeof i[0]=="function"?null:n.locale.parse(r.locale,t,i)}function VL(t){var e=t.cellDate,n=t.mode,r=t.disabledDate,i=t.generateConfig;if(!r)return!1;var o=function(p,g,m){for(var y=g;y<=m;){var b=void 0;switch(p){case"date":{if(b=i.setDate(e,y),!r(b))return!1;break}case"month":{if(b=i.setMonth(e,y),!VL({cellDate:b,mode:"month",generateConfig:i,disabledDate:r}))return!1;break}case"year":{if(b=i.setYear(e,y),!VL({cellDate:b,mode:"year",generateConfig:i,disabledDate:r}))return!1;break}}y+=1}return!0};switch(n){case"date":case"week":return r(e);case"month":{var s=1,a=i.getDate(i.getEndDate(e));return o("date",s,a)}case"quarter":{var l=Math.floor(i.getMonth(e)/3)*3,c=l+2;return o("month",l,c)}case"year":return o("month",0,11);case"decade":{var u=i.getYear(e),f=Math.floor(u/qf)*qf,d=f+qf-1;return o("year",f,d)}}}function alt(t){var e=T.exports.useContext(mu),n=e.hideHeader;if(n)return null;var r=t.prefixCls,i=t.generateConfig,o=t.locale,s=t.value,a=t.format,l="".concat(r,"-header");return D(L2,{prefixCls:l,children:s?dl(s,{locale:o,format:a,generateConfig:i}):"\xA0"})}function eO(t){var e=t.prefixCls,n=t.units,r=t.onSelect,i=t.value,o=t.active,s=t.hideDisabledOptions,a="".concat(e,"-cell"),l=T.exports.useContext(mu),c=l.open,u=T.exports.useRef(null),f=T.exports.useRef(new Map),d=T.exports.useRef();return T.exports.useLayoutEffect(function(){var h=f.current.get(i);h&&c!==!1&&BL(u.current,h.offsetTop,120)},[i]),T.exports.useLayoutEffect(function(){if(c){var h=f.current.get(i);h&&(d.current=Xat(h,function(){BL(u.current,h.offsetTop,0)}))}return function(){var p;(p=d.current)===null||p===void 0||p.call(d)}},[c]),D("ul",{className:at("".concat(e,"-column"),V({},"".concat(e,"-column-active"),o)),ref:u,style:{position:"relative"},children:n.map(function(h){var p;return s&&h.disabled?null:D("li",{ref:function(m){f.current.set(h.value,m)},className:at(a,(p={},V(p,"".concat(a,"-disabled"),h.disabled),V(p,"".concat(a,"-selected"),i===h.value),p)),onClick:function(){h.disabled||r(h.value)},children:D("div",{className:"".concat(a,"-inner"),children:h.label})},h.value)})})}function Jue(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(t);r.length<e;)r="".concat(n).concat(t);return r}var llt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n};function efe(t){return t==null?[]:Array.isArray(t)?t:[t]}function tfe(t){var e={};return Object.keys(t).forEach(function(n){(n.substr(0,5)==="data-"||n.substr(0,5)==="aria-"||n==="role"||n==="name")&&n.substr(0,7)!=="data-__"&&(e[n]=t[n])}),e}function Fi(t,e){return t?t[e]:null}function Zu(t,e,n){var r=[Fi(t,0),Fi(t,1)];return r[n]=typeof e=="function"?e(r[n]):e,!r[0]&&!r[1]?null:r}function clt(t,e){if(t.length!==e.length)return!0;for(var n=0;n<t.length;n+=1)if(t[n].disabled!==e[n].disabled)return!0;return!1}function JI(t,e,n,r){for(var i=[],o=t;o<=e;o+=n)i.push({label:Jue(o,2),value:o,disabled:(r||[]).includes(o)});return i}function ult(t){var e=t.generateConfig,n=t.prefixCls,r=t.operationRef,i=t.activeColumnIndex,o=t.value,s=t.showHour,a=t.showMinute,l=t.showSecond,c=t.use12Hours,u=t.hourStep,f=u===void 0?1:u,d=t.minuteStep,h=d===void 0?1:d,p=t.secondStep,g=p===void 0?1:p,m=t.disabledHours,y=t.disabledMinutes,b=t.disabledSeconds,C=t.disabledTime,E=t.hideDisabledOptions,_=t.onSelect,w=[],M="".concat(n,"-content"),k="".concat(n,"-time-panel"),I,A=o?e.getHour(o):-1,N=A,$=o?e.getMinute(o):-1,L=o?e.getSecond(o):-1,B=e.getNow(),j=T.exports.useMemo(function(){if(C){var bt=C(B);return[bt.disabledHours,bt.disabledMinutes,bt.disabledSeconds]}return[m,y,b]},[m,y,b,C,B]),H=Ke(j,3),te=H[0],Y=H[1],ue=H[2],ce=function(X,ve,ne,ke){var je=o||e.getNow(),Ve=Math.max(0,ve),$t=Math.max(0,ne),Ct=Math.max(0,ke);return je=Hue(e,je,!c||!X?Ve:Ve+12,$t,Ct),je},se=JI(0,23,f,te&&te()),fe=k2(function(){return se},se,clt);c&&(I=N>=12,N%=12);var me=T.exports.useMemo(function(){if(!c)return[!1,!1];var bt=[!0,!0];return fe.forEach(function(X){var ve=X.disabled,ne=X.value;ve||(ne>=12?bt[1]=!1:bt[0]=!1)}),bt},[c,fe]),K=Ke(me,2),le=K[0],Ne=K[1],Re=T.exports.useMemo(function(){return c?fe.filter(I?function(bt){return bt.value>=12}:function(bt){return bt.value<12}).map(function(bt){var X=bt.value%12,ve=X===0?"12":Jue(X,2);return be(be({},bt),{},{label:ve,value:X})}):fe},[c,I,fe]),Je=JI(0,59,h,Y&&Y(A)),$e=JI(0,59,g,ue&&ue(A,$));r.current={onUpDown:function(X){var ve=w[i];if(ve)for(var ne=ve.units.findIndex(function($t){return $t.value===ve.value}),ke=ve.units.length,je=1;je<ke;je+=1){var Ve=ve.units[(ne+X*je+ke)%ke];if(Ve.disabled!==!0){ve.onSelect(Ve.value);break}}}};function tt(bt,X,ve,ne,ke){bt!==!1&&w.push({node:T.exports.cloneElement(X,{prefixCls:k,value:ve,active:i===w.length,onSelect:ke,units:ne,hideDisabledOptions:E}),onSelect:ke,value:ve,units:ne})}tt(s,D(eO,{},"hour"),N,Re,function(bt){_(ce(I,bt,$,L),"mouse")}),tt(a,D(eO,{},"minute"),$,Je,function(bt){_(ce(I,N,bt,L),"mouse")}),tt(l,D(eO,{},"second"),L,$e,function(bt){_(ce(I,N,$,bt),"mouse")});var Pt=-1;return typeof I=="boolean"&&(Pt=I?1:0),tt(c===!0,D(eO,{},"12hours"),Pt,[{label:"AM",value:0,disabled:le},{label:"PM",value:1,disabled:Ne}],function(bt){_(ce(!!bt,N,$,L),"mouse")}),D("div",{className:M,children:w.map(function(bt){var X=bt.node;return X})})}var flt=function(e){return e.filter(function(n){return n!==!1}).length};function nfe(t){var e=t.generateConfig,n=t.format,r=n===void 0?"HH:mm:ss":n,i=t.prefixCls,o=t.active,s=t.operationRef,a=t.showHour,l=t.showMinute,c=t.showSecond,u=t.use12Hours,f=u===void 0?!1:u,d=t.onSelect,h=t.value,p="".concat(i,"-time-panel"),g=T.exports.useRef(),m=T.exports.useState(-1),y=Ke(m,2),b=y[0],C=y[1],E=flt([a,l,c,f]);return s.current={onKeyDown:function(w){return F2(w,{onLeftRight:function(k){C((b+k+E)%E)},onUpDown:function(k){b===-1?C(0):g.current&&g.current.onUpDown(k)},onEnter:function(){d(h||e.getNow(),"key"),C(-1)}})},onBlur:function(){C(-1)}},_t("div",{className:at(p,V({},"".concat(p,"-active"),o)),children:[D(alt,{...t,format:r,prefixCls:i}),D(ult,{...t,prefixCls:i,activeColumnIndex:b,operationRef:g})]})}var z2=T.exports.createContext({});function HD(t){var e=t.cellPrefixCls,n=t.generateConfig,r=t.rangedValue,i=t.hoverRangedValue,o=t.isInView,s=t.isSameCell,a=t.offsetCell,l=t.today,c=t.value;function u(f){var d,h=a(f,-1),p=a(f,1),g=Fi(r,0),m=Fi(r,1),y=Fi(i,0),b=Fi(i,1),C=JP(n,y,b,f);function E(A){return s(g,A)}function _(A){return s(m,A)}var w=s(y,f),M=s(b,f),k=(C||M)&&(!o(h)||_(h)),I=(C||w)&&(!o(p)||E(p));return d={},V(d,"".concat(e,"-in-view"),o(f)),V(d,"".concat(e,"-in-range"),JP(n,g,m,f)),V(d,"".concat(e,"-range-start"),E(f)),V(d,"".concat(e,"-range-end"),_(f)),V(d,"".concat(e,"-range-start-single"),E(f)&&!m),V(d,"".concat(e,"-range-end-single"),_(f)&&!g),V(d,"".concat(e,"-range-start-near-hover"),E(f)&&(s(h,y)||JP(n,y,b,h))),V(d,"".concat(e,"-range-end-near-hover"),_(f)&&(s(p,b)||JP(n,y,b,p))),V(d,"".concat(e,"-range-hover"),C),V(d,"".concat(e,"-range-hover-start"),w),V(d,"".concat(e,"-range-hover-end"),M),V(d,"".concat(e,"-range-hover-edge-start"),k),V(d,"".concat(e,"-range-hover-edge-end"),I),V(d,"".concat(e,"-range-hover-edge-start-near-range"),k&&s(h,m)),V(d,"".concat(e,"-range-hover-edge-end-near-range"),I&&s(p,g)),V(d,"".concat(e,"-today"),s(l,f)),V(d,"".concat(e,"-selected"),s(c,f)),d}return u}function dlt(t){var e=t.prefixCls,n=t.generateConfig,r=t.prefixColumn,i=t.locale,o=t.rowCount,s=t.viewDate,a=t.value,l=t.dateRender,c=T.exports.useContext(z2),u=c.rangedValue,f=c.hoverRangedValue,d=slt(i.locale,n,s),h="".concat(e,"-cell"),p=n.locale.getWeekFirstDay(i.locale),g=n.getNow(),m=[],y=i.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(i.locale):[]);r&&m.push(D("th",{"aria-label":"empty cell"},"empty"));for(var b=0;b<qO;b+=1)m.push(D("th",{children:y[(b+p)%qO]},b));var C=HD({cellPrefixCls:h,today:g,value:a,generateConfig:n,rangedValue:r?null:u,hoverRangedValue:r?null:f,isSameCell:function(w,M){return Mp(n,w,M)},isInView:function(w){return e7(n,w,s)},offsetCell:function(w,M){return n.addDate(w,M)}}),E=l?function(_){return l(_,g)}:void 0;return D(YE,{...t,rowNum:o,colNum:qO,baseDate:d,getCellNode:E,getCellText:n.getDate,getCellClassName:C,getCellDate:n.addDate,titleCell:function(w){return dl(w,{locale:i,format:"YYYY-MM-DD",generateConfig:n})},headerCells:m})}function hlt(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.viewDate,o=t.onNextMonth,s=t.onPrevMonth,a=t.onNextYear,l=t.onPrevYear,c=t.onYearClick,u=t.onMonthClick,f=T.exports.useContext(mu),d=f.hideHeader;if(d)return null;var h="".concat(e,"-header"),p=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),g=n.getMonth(i),m=D("button",{type:"button",onClick:c,tabIndex:-1,className:"".concat(e,"-year-btn"),children:dl(i,{locale:r,format:r.yearFormat,generateConfig:n})},"year"),y=D("button",{type:"button",onClick:u,tabIndex:-1,className:"".concat(e,"-month-btn"),children:r.monthFormat?dl(i,{locale:r,format:r.monthFormat,generateConfig:n}):p[g]},"month"),b=r.monthBeforeYear?[y,m]:[m,y];return D(L2,{...t,prefixCls:h,onSuperPrev:l,onPrev:s,onNext:o,onSuperNext:a,children:b})}var plt=6;function t7(t){var e=t.prefixCls,n=t.panelName,r=n===void 0?"date":n,i=t.keyboardConfig,o=t.active,s=t.operationRef,a=t.generateConfig,l=t.value,c=t.viewDate,u=t.onViewDateChange,f=t.onPanelChange,d=t.onSelect,h="".concat(e,"-").concat(r,"-panel");s.current={onKeyDown:function(y){return F2(y,be({onLeftRight:function(C){d(a.addDate(l||c,C),"key")},onCtrlLeftRight:function(C){d(a.addYear(l||c,C),"key")},onUpDown:function(C){d(a.addDate(l||c,C*qO),"key")},onPageUpDown:function(C){d(a.addMonth(l||c,C),"key")}},i))}};var p=function(y){var b=a.addYear(c,y);u(b),f(null,b)},g=function(y){var b=a.addMonth(c,y);u(b),f(null,b)};return _t("div",{className:at(h,V({},"".concat(h,"-active"),o)),children:[D(hlt,{...t,prefixCls:e,value:l,viewDate:c,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){g(-1)},onNextMonth:function(){g(1)},onMonthClick:function(){f("month",c)},onYearClick:function(){f("year",c)}}),D(dlt,{...t,onSelect:function(y){return d(y,"mouse")},prefixCls:e,value:l,viewDate:c,rowCount:plt})]})}var JK=llt("date","time");function glt(t){var e=t.prefixCls,n=t.operationRef,r=t.generateConfig,i=t.value,o=t.defaultValue,s=t.disabledTime,a=t.showTime,l=t.onSelect,c="".concat(e,"-datetime-panel"),u=T.exports.useState(null),f=Ke(u,2),d=f[0],h=f[1],p=T.exports.useRef({}),g=T.exports.useRef({}),m=Ar(a)==="object"?be({},a):{};function y(_){var w=JK.indexOf(d)+_,M=JK[w]||null;return M}var b=function(w){g.current.onBlur&&g.current.onBlur(w),h(null)};n.current={onKeyDown:function(w){if(w.which===St.TAB){var M=y(w.shiftKey?-1:1);return h(M),M&&w.preventDefault(),!0}if(d){var k=d==="date"?p:g;return k.current&&k.current.onKeyDown&&k.current.onKeyDown(w),!0}return[St.LEFT,St.RIGHT,St.UP,St.DOWN].includes(w.which)?(h("date"),!0):!1},onBlur:b,onClose:b};var C=function(w,M){var k=w;M==="date"&&!i&&m.defaultValue?(k=r.setHour(k,r.getHour(m.defaultValue)),k=r.setMinute(k,r.getMinute(m.defaultValue)),k=r.setSecond(k,r.getSecond(m.defaultValue))):M==="time"&&!i&&o&&(k=r.setYear(k,r.getYear(o)),k=r.setMonth(k,r.getMonth(o)),k=r.setDate(k,r.getDate(o))),l&&l(k,"mouse")},E=s?s(i||null):{};return _t("div",{className:at(c,V({},"".concat(c,"-active"),d)),children:[D(t7,{...t,operationRef:p,active:d==="date",onSelect:function(w){C(Wue(r,w,!i&&Ar(a)==="object"?a.defaultValue:null),"date")}}),D(nfe,{...t,format:void 0,...m,...E,disabledTime:null,defaultValue:void 0,operationRef:g,active:d==="time",onSelect:function(w){C(w,"time")}})]})}function vlt(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.value,o="".concat(e,"-cell"),s=function(u){return D("td",{className:at(o,"".concat(o,"-week")),children:n.locale.getWeek(r.locale,u)},"week")},a="".concat(e,"-week-panel-row"),l=function(u){return at(a,V({},"".concat(a,"-selected"),Zue(n,r.locale,i,u)))};return D(t7,{...t,panelName:"week",prefixColumn:s,rowClassName:l,keyboardConfig:{onLeftRight:null}})}function mlt(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.viewDate,o=t.onNextYear,s=t.onPrevYear,a=t.onYearClick,l=T.exports.useContext(mu),c=l.hideHeader;if(c)return null;var u="".concat(e,"-header");return D(L2,{...t,prefixCls:u,onSuperPrev:s,onSuperNext:o,children:D("button",{type:"button",onClick:a,className:"".concat(e,"-year-btn"),children:dl(i,{locale:r,format:r.yearFormat,generateConfig:n})})})}var rfe=3,ylt=4;function blt(t){var e=t.prefixCls,n=t.locale,r=t.value,i=t.viewDate,o=t.generateConfig,s=t.monthCellRender,a=T.exports.useContext(z2),l=a.rangedValue,c=a.hoverRangedValue,u="".concat(e,"-cell"),f=HD({cellPrefixCls:u,value:r,generateConfig:o,rangedValue:l,hoverRangedValue:c,isSameCell:function(m,y){return e7(o,m,y)},isInView:function(){return!0},offsetCell:function(m,y){return o.addMonth(m,y)}}),d=n.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(n.locale):[]),h=o.setMonth(i,0),p=s?function(g){return s(g,n)}:void 0;return D(YE,{...t,rowNum:ylt,colNum:rfe,baseDate:h,getCellNode:p,getCellText:function(m){return n.monthFormat?dl(m,{locale:n,format:n.monthFormat,generateConfig:o}):d[o.getMonth(m)]},getCellClassName:f,getCellDate:o.addMonth,titleCell:function(m){return dl(m,{locale:n,format:"YYYY-MM",generateConfig:o})}})}function xlt(t){var e=t.prefixCls,n=t.operationRef,r=t.onViewDateChange,i=t.generateConfig,o=t.value,s=t.viewDate,a=t.onPanelChange,l=t.onSelect,c="".concat(e,"-month-panel");n.current={onKeyDown:function(d){return F2(d,{onLeftRight:function(p){l(i.addMonth(o||s,p),"key")},onCtrlLeftRight:function(p){l(i.addYear(o||s,p),"key")},onUpDown:function(p){l(i.addMonth(o||s,p*rfe),"key")},onEnter:function(){a("date",o||s)}})}};var u=function(d){var h=i.addYear(s,d);r(h),a(null,h)};return _t("div",{className:c,children:[D(mlt,{...t,prefixCls:e,onPrevYear:function(){u(-1)},onNextYear:function(){u(1)},onYearClick:function(){a("year",s)}}),D(blt,{...t,prefixCls:e,onSelect:function(d){l(d,"mouse"),a("date",d)}})]})}function wlt(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.viewDate,o=t.onNextYear,s=t.onPrevYear,a=t.onYearClick,l=T.exports.useContext(mu),c=l.hideHeader;if(c)return null;var u="".concat(e,"-header");return D(L2,{...t,prefixCls:u,onSuperPrev:s,onSuperNext:o,children:D("button",{type:"button",onClick:a,className:"".concat(e,"-year-btn"),children:dl(i,{locale:r,format:r.yearFormat,generateConfig:n})})})}var Clt=4,Slt=1;function Elt(t){var e=t.prefixCls,n=t.locale,r=t.value,i=t.viewDate,o=t.generateConfig,s=T.exports.useContext(z2),a=s.rangedValue,l=s.hoverRangedValue,c="".concat(e,"-cell"),u=HD({cellPrefixCls:c,value:r,generateConfig:o,rangedValue:a,hoverRangedValue:l,isSameCell:function(h,p){return Kue(o,h,p)},isInView:function(){return!0},offsetCell:function(h,p){return o.addMonth(h,p*3)}}),f=o.setDate(o.setMonth(i,0),1);return D(YE,{...t,rowNum:Slt,colNum:Clt,baseDate:f,getCellText:function(h){return dl(h,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:o})},getCellClassName:u,getCellDate:function(h,p){return o.addMonth(h,p*3)},titleCell:function(h){return dl(h,{locale:n,format:"YYYY-[Q]Q",generateConfig:o})}})}function _lt(t){var e=t.prefixCls,n=t.operationRef,r=t.onViewDateChange,i=t.generateConfig,o=t.value,s=t.viewDate,a=t.onPanelChange,l=t.onSelect,c="".concat(e,"-quarter-panel");n.current={onKeyDown:function(d){return F2(d,{onLeftRight:function(p){l(i.addMonth(o||s,p*3),"key")},onCtrlLeftRight:function(p){l(i.addYear(o||s,p),"key")},onUpDown:function(p){l(i.addYear(o||s,p),"key")}})}};var u=function(d){var h=i.addYear(s,d);r(h),a(null,h)};return _t("div",{className:c,children:[D(wlt,{...t,prefixCls:e,onPrevYear:function(){u(-1)},onNextYear:function(){u(1)},onYearClick:function(){a("year",s)}}),D(Elt,{...t,prefixCls:e,onSelect:function(d){l(d,"mouse")}})]})}function Tlt(t){var e=t.prefixCls,n=t.generateConfig,r=t.viewDate,i=t.onPrevDecade,o=t.onNextDecade,s=t.onDecadeClick,a=T.exports.useContext(mu),l=a.hideHeader;if(l)return null;var c="".concat(e,"-header"),u=n.getYear(r),f=Math.floor(u/yv)*yv,d=f+yv-1;return D(L2,{...t,prefixCls:c,onSuperPrev:i,onSuperNext:o,children:_t("button",{type:"button",onClick:s,className:"".concat(e,"-decade-btn"),children:[f,"-",d]})})}var UL=3,eZ=4;function Plt(t){var e=t.prefixCls,n=t.value,r=t.viewDate,i=t.locale,o=t.generateConfig,s=T.exports.useContext(z2),a=s.rangedValue,l=s.hoverRangedValue,c="".concat(e,"-cell"),u=o.getYear(r),f=Math.floor(u/yv)*yv,d=f+yv-1,h=o.setYear(r,f-Math.ceil((UL*eZ-yv)/2)),p=function(y){var b=o.getYear(y);return f<=b&&b<=d},g=HD({cellPrefixCls:c,value:n,generateConfig:o,rangedValue:a,hoverRangedValue:l,isSameCell:function(y,b){return UD(o,y,b)},isInView:p,offsetCell:function(y,b){return o.addYear(y,b)}});return D(YE,{...t,rowNum:eZ,colNum:UL,baseDate:h,getCellText:o.getYear,getCellClassName:g,getCellDate:o.addYear,titleCell:function(y){return dl(y,{locale:i,format:"YYYY",generateConfig:o})}})}var yv=10;function Olt(t){var e=t.prefixCls,n=t.operationRef,r=t.onViewDateChange,i=t.generateConfig,o=t.value,s=t.viewDate,a=t.sourceMode,l=t.onSelect,c=t.onPanelChange,u="".concat(e,"-year-panel");n.current={onKeyDown:function(h){return F2(h,{onLeftRight:function(g){l(i.addYear(o||s,g),"key")},onCtrlLeftRight:function(g){l(i.addYear(o||s,g*yv),"key")},onUpDown:function(g){l(i.addYear(o||s,g*UL),"key")},onEnter:function(){c(a==="date"?"date":"month",o||s)}})}};var f=function(h){var p=i.addYear(s,h*10);r(p),c(null,p)};return _t("div",{className:u,children:[D(Tlt,{...t,prefixCls:e,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){c("decade",s)}}),D(Plt,{...t,prefixCls:e,onSelect:function(h){c(a==="date"?"date":"month",h),l(h,"mouse")}})]})}function ife(t,e,n){return n?D("div",{className:"".concat(t,"-footer-extra"),children:n(e)}):null}function ofe(t){var e=t.prefixCls,n=t.rangeList,r=n===void 0?[]:n,i=t.components,o=i===void 0?{}:i,s=t.needConfirmButton,a=t.onNow,l=t.onOk,c=t.okDisabled,u=t.showNow,f=t.locale,d,h;if(r.length){var p=o.rangeItem||"span";d=D(Xi,{children:r.map(function(m){var y=m.label,b=m.onClick,C=m.onMouseEnter,E=m.onMouseLeave;return D("li",{className:"".concat(e,"-preset"),children:D(p,{onClick:b,onMouseEnter:C,onMouseLeave:E,children:y})},y)})})}if(s){var g=o.button||"button";a&&!d&&u!==!1&&(d=D("li",{className:"".concat(e,"-now"),children:D("a",{className:"".concat(e,"-now-btn"),onClick:a,children:f.now})})),h=s&&D("li",{className:"".concat(e,"-ok"),children:D(g,{disabled:c,onClick:l,children:f.ok})})}return!d&&!h?null:_t("ul",{className:"".concat(e,"-ranges"),children:[d,h]})}function sfe(t){var e,n=t.prefixCls,r=n===void 0?"rc-picker":n,i=t.className,o=t.style,s=t.locale,a=t.generateConfig,l=t.value,c=t.defaultValue,u=t.pickerValue,f=t.defaultPickerValue,d=t.disabledDate,h=t.mode,p=t.picker,g=p===void 0?"date":p,m=t.tabIndex,y=m===void 0?0:m,b=t.showNow,C=t.showTime,E=t.showToday,_=t.renderExtraFooter,w=t.hideHeader,M=t.onSelect,k=t.onChange,I=t.onPanelChange,A=t.onMouseDown,N=t.onPickerValueChange,$=t.onOk,L=t.components,B=t.direction,j=t.hourStep,H=j===void 0?1:j,te=t.minuteStep,Y=te===void 0?1:te,ue=t.secondStep,ce=ue===void 0?1:ue,se=g==="date"&&!!C||g==="time",fe=24%H===0,me=60%Y===0,K=60%ce===0,le=T.exports.useContext(mu),Ne=le.operationRef,Re=le.panelRef,Je=le.onSelect,$e=le.hideRanges,tt=le.defaultOpenValue,Pt=T.exports.useContext(z2),bt=Pt.inRange,X=Pt.panelPosition,ve=Pt.rangedValue,ne=Pt.hoverRangedValue,ke=T.exports.useRef({}),je=T.exports.useRef(!0),Ve=Gs(null,{value:l,defaultValue:c,postState:function(zt){return!zt&&tt&&g==="time"?tt:zt}}),$t=Ke(Ve,2),Ct=$t[0],ln=$t[1],bn=Gs(null,{value:u,defaultValue:f||Ct,postState:function(zt){var On=a.getNow();if(!zt)return On;if(!Ct&&C){var Gr=Ar(C)==="object"?C.defaultValue:c;return Wue(a,Array.isArray(zt)?zt[0]:zt,Gr||On)}return Array.isArray(zt)?zt[0]:zt}}),Z=Ke(bn,2),J=Z[0],xe=Z[1],Se=function(zt){xe(zt),N&&N(zt)},ze=function(zt){var On=nlt[g];return On?On(zt):zt},ot=Gs(function(){return g==="time"?"time":ze("date")},{value:h}),yn=Ke(ot,2),xt=yn[0],It=yn[1];T.exports.useEffect(function(){It(g)},[g]);var qe=T.exports.useState(function(){return xt}),Tt=Ke(qe,2),Dt=Tt[0],_n=Tt[1],lr=function(zt,On){var Gr=ze(zt||xt);_n(xt),It(Gr),I&&(xt!==Gr||rE(a,J,J))&&I(On,Gr)},Qn=function(zt,On){var Gr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(xt===g||Gr)&&(ln(zt),M&&M(zt),Je&&Je(zt,On),k&&!rE(a,zt,Ct)&&!(d!=null&&d(zt))&&k(zt))},Wn=function(zt){return ke.current&&ke.current.onKeyDown?([St.LEFT,St.RIGHT,St.UP,St.DOWN,St.PAGE_UP,St.PAGE_DOWN,St.ENTER].includes(zt.which)&&zt.preventDefault(),ke.current.onKeyDown(zt)):(Nl(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)},In=function(zt){ke.current&&ke.current.onBlur&&ke.current.onBlur(zt)};Ne&&X!=="right"&&(Ne.current={onKeyDown:Wn,onClose:function(){ke.current&&ke.current.onClose&&ke.current.onClose()}}),T.exports.useEffect(function(){l&&!je.current&&xe(l)},[l]),T.exports.useEffect(function(){je.current=!1},[]);var en,Pn=be(be({},t),{},{operationRef:ke,prefixCls:r,viewDate:J,value:Ct,onViewDateChange:Se,sourceMode:Dt,onPanelChange:lr,disabledDate:d});switch(delete Pn.onChange,delete Pn.onSelect,xt){case"decade":en=D(rlt,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}});break;case"year":en=D(Olt,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}});break;case"month":en=D(xlt,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}});break;case"quarter":en=D(_lt,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}});break;case"week":en=D(vlt,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}});break;case"time":delete Pn.showTime,en=D(nfe,{...Pn,...Ar(C)==="object"?C:null,onSelect:function(zt,On){Se(zt),Qn(zt,On)}});break;default:C?en=D(glt,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}}):en=D(t7,{...Pn,onSelect:function(zt,On){Se(zt),Qn(zt,On)}})}var Sr,Fn,ro=function(){var zt=a.getNow(),On=Wat(a.getHour(zt),a.getMinute(zt),a.getSecond(zt),fe?H:1,me?Y:1,K?ce:1),Gr=Hue(a,zt,On[0],On[1],On[2]);Qn(Gr,"submit")};$e||(Sr=ife(r,xt,_),Fn=ofe({prefixCls:r,components:L,needConfirmButton:se,okDisabled:!Ct||d&&d(Ct),locale:s,showNow:b,onNow:se&&ro,onOk:function(){Ct&&(Qn(Ct,"submit",!0),$&&$(Ct))}}));var wo;if(E&&xt==="date"&&g==="date"&&!C){var Tr=a.getNow(),Yt="".concat(r,"-today-btn"),gn=d&&d(Tr);wo=D("a",{className:at(Yt,gn&&"".concat(Yt,"-disabled")),"aria-disabled":gn,onClick:function(){gn||Qn(Tr,"mouse",!0)},children:s.today})}return D(mu.Provider,{value:be(be({},le),{},{mode:xt,hideHeader:"hideHeader"in t?w:le.hideHeader,hidePrevBtn:bt&&X==="right",hideNextBtn:bt&&X==="left"}),children:_t("div",{tabIndex:y,className:at("".concat(r,"-panel"),i,(e={},V(e,"".concat(r,"-panel-has-range"),ve&&ve[0]&&ve[1]),V(e,"".concat(r,"-panel-has-range-hover"),ne&&ne[0]&&ne[1]),V(e,"".concat(r,"-panel-rtl"),B==="rtl"),e)),style:o,onKeyDown:Wn,onBlur:In,onMouseDown:A,ref:Re,children:[en,Sr||Fn||wo?_t("div",{className:"".concat(r,"-footer"),children:[Sr,Fn,wo]}):null]})})}var Mlt={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function afe(t){var e,n=t.prefixCls,r=t.popupElement,i=t.popupStyle,o=t.visible,s=t.dropdownClassName,a=t.dropdownAlign,l=t.transitionName,c=t.getPopupContainer,u=t.children,f=t.range,d=t.popupPlacement,h=t.direction,p="".concat(n,"-dropdown"),g=function(){return d!==void 0?d:h==="rtl"?"bottomRight":"bottomLeft"};return D(R2,{showAction:[],hideAction:[],popupPlacement:g(),builtinPlacements:Mlt,prefixCls:p,popupTransitionName:l,popup:r,popupAlign:a,popupVisible:o,popupClassName:at(s,(e={},V(e,"".concat(p,"-range"),f),V(e,"".concat(p,"-rtl"),h==="rtl"),e)),popupStyle:i,getPopupContainer:c,children:u})}function HL(t){var e=t.open,n=t.value,r=t.isClickOutside,i=t.triggerOpen,o=t.forwardKeyDown,s=t.onKeyDown,a=t.blurToCancel,l=t.onSubmit,c=t.onCancel,u=t.onFocus,f=t.onBlur,d=T.exports.useState(!1),h=Ke(d,2),p=h[0],g=h[1],m=T.exports.useState(!1),y=Ke(m,2),b=y[0],C=y[1],E=T.exports.useRef(!1),_=T.exports.useRef(!1),w=T.exports.useRef(!1),M={onMouseDown:function(){g(!0),i(!0)},onKeyDown:function(I){var A=function(){w.current=!0};if(s(I,A),!w.current){switch(I.which){case St.ENTER:{e?l()!==!1&&g(!0):i(!0),I.preventDefault();return}case St.TAB:{p&&e&&!I.shiftKey?(g(!1),I.preventDefault()):!p&&e&&!o(I)&&I.shiftKey&&(g(!0),I.preventDefault());return}case St.ESC:{g(!0),c();return}}!e&&![St.SHIFT].includes(I.which)?i(!0):p||o(I)}},onFocus:function(I){g(!0),C(!0),u&&u(I)},onBlur:function(I){if(E.current||!r(document.activeElement)){E.current=!1;return}a?setTimeout(function(){for(var A=document,N=A.activeElement;N&&N.shadowRoot;)N=N.shadowRoot.activeElement;r(N)&&c()},0):e&&(i(!1),_.current&&l()),C(!1),f&&f(I)}};return T.exports.useEffect(function(){_.current=!1},[e]),T.exports.useEffect(function(){_.current=!0},[n]),T.exports.useEffect(function(){return Kat(function(k){var I=Zat(k);if(e){var A=r(I);A?(!b||A)&&i(!1):(E.current=!0,requestAnimationFrame(function(){E.current=!1}))}})}),[M,{focused:b,typing:p}]}function WL(t){var e=t.valueTexts,n=t.onTextChange,r=T.exports.useState(""),i=Ke(r,2),o=i[0],s=i[1],a=T.exports.useRef([]);a.current=e;function l(u){s(u),n(u)}function c(){s(a.current[0])}return T.exports.useEffect(function(){e.every(function(u){return u!==o})&&c()},[e.join("||")]),[o,l,c]}function jA(t,e){var n=e.formatList,r=e.generateConfig,i=e.locale;return k2(function(){if(!t)return[[""],""];for(var o="",s=[],a=0;a<n.length;a+=1){var l=n[a],c=dl(t,{generateConfig:r,locale:i,format:l});s.push(c),a===0&&(o=c)}return[s,o]},[t,n],function(o,s){return o[0]!==s[0]||!MD(o[1],s[1])})}function YL(t,e){var n=e.formatList,r=e.generateConfig,i=e.locale,o=T.exports.useState(null),s=Ke(o,2),a=s[0],l=s[1],c=T.exports.useRef(null);function u(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cancelAnimationFrame(c.current),y){l(m);return}c.current=requestAnimationFrame(function(){l(m)})}var f=jA(a,{formatList:n,generateConfig:r,locale:i}),d=Ke(f,2),h=d[1];function p(m){u(m)}function g(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u(null,m)}return T.exports.useEffect(function(){g(!0)},[t]),T.exports.useEffect(function(){return function(){return cancelAnimationFrame(c.current)}},[]),[h,p,g]}function Alt(t){var e,n=t.prefixCls,r=n===void 0?"rc-picker":n,i=t.id,o=t.tabIndex,s=t.style,a=t.className,l=t.dropdownClassName,c=t.dropdownAlign,u=t.popupStyle,f=t.transitionName,d=t.generateConfig,h=t.locale,p=t.inputReadOnly,g=t.allowClear,m=t.autoFocus,y=t.showTime,b=t.picker,C=b===void 0?"date":b,E=t.format,_=t.use12Hours,w=t.value,M=t.defaultValue,k=t.open,I=t.defaultOpen,A=t.defaultOpenValue,N=t.suffixIcon,$=t.clearIcon,L=t.disabled,B=t.disabledDate,j=t.placeholder,H=t.getPopupContainer,te=t.pickerRef,Y=t.panelRender,ue=t.onChange,ce=t.onOpenChange,se=t.onFocus,fe=t.onBlur,me=t.onMouseDown,K=t.onMouseUp,le=t.onMouseEnter,Ne=t.onMouseLeave,Re=t.onContextMenu,Je=t.onClick,$e=t.onKeyDown,tt=t.onSelect,Pt=t.direction,bt=t.autoComplete,X=bt===void 0?"off":bt,ve=t.inputRender,ne=T.exports.useRef(null),ke=C==="date"&&!!y||C==="time",je=efe(Yue(E,C,y,_)),Ve=T.exports.useRef(null),$t=T.exports.useRef(null),Ct=T.exports.useRef(null),ln=Gs(null,{value:w,defaultValue:M}),bn=Ke(ln,2),Z=bn[0],J=bn[1],xe=T.exports.useState(Z),Se=Ke(xe,2),ze=Se[0],ot=Se[1],yn=T.exports.useRef(null),xt=Gs(!1,{value:k,defaultValue:I,postState:function(er){return L?!1:er},onChange:function(er){ce&&ce(er),!er&&yn.current&&yn.current.onClose&&yn.current.onClose()}}),It=Ke(xt,2),qe=It[0],Tt=It[1],Dt=jA(ze,{formatList:je,generateConfig:d,locale:h}),_n=Ke(Dt,2),lr=_n[0],Qn=_n[1],Wn=WL({valueTexts:lr,onTextChange:function(er){var oo=Que(er,{locale:h,formatList:je,generateConfig:d});oo&&(!B||!B(oo))&&ot(oo)}}),In=Ke(Wn,3),en=In[0],Pn=In[1],Sr=In[2],Fn=function(er){ot(er),J(er),ue&&!rE(d,Z,er)&&ue(er,er?dl(er,{generateConfig:d,locale:h,format:je[0]}):"")},ro=function(er){L&&er||Tt(er)},wo=function(er){return qe&&yn.current&&yn.current.onKeyDown?yn.current.onKeyDown(er):(Nl(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},Tr=function(){K&&K.apply(void 0,arguments),ne.current&&(ne.current.focus(),ro(!0))},Yt=HL({blurToCancel:ke,open:qe,value:en,triggerOpen:ro,forwardKeyDown:wo,isClickOutside:function(er){return!Xue([Ve.current,$t.current,Ct.current],er)},onSubmit:function(){return!ze||B&&B(ze)?!1:(Fn(ze),ro(!1),Sr(),!0)},onCancel:function(){ro(!1),ot(Z),Sr()},onKeyDown:function(er,oo){$e==null||$e(er,oo)},onFocus:se,onBlur:fe}),gn=Ke(Yt,2),dn=gn[0],zt=gn[1],On=zt.focused,Gr=zt.typing;T.exports.useEffect(function(){qe||(ot(Z),!lr.length||lr[0]===""?Pn(""):Qn!==en&&Sr())},[qe,lr]),T.exports.useEffect(function(){qe||Sr()},[C]),T.exports.useEffect(function(){ot(Z)},[Z]),te&&(te.current={focus:function(){ne.current&&ne.current.focus()},blur:function(){ne.current&&ne.current.blur()}});var qo=YL(en,{formatList:je,generateConfig:d,locale:h}),Hr=Ke(qo,3),Qi=Hr[0],Vi=Hr[1],ys=Hr[2],qr=be(be({},t),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),bs=D(sfe,{...qr,generateConfig:d,className:at(V({},"".concat(r,"-panel-focused"),!Gr)),value:ze,locale:h,tabIndex:-1,onSelect:function(er){tt==null||tt(er),ot(er)},direction:Pt,onPanelChange:function(er,oo){var ws=t.onPanelChange;ys(!0),ws==null||ws(er,oo)}});Y&&(bs=Y(bs));var io=D("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(er){er.preventDefault()},children:bs}),Fo;N&&(Fo=D("span",{className:"".concat(r,"-suffix"),children:N}));var xs;g&&Z&&!L&&(xs=D("span",{onMouseDown:function(er){er.preventDefault(),er.stopPropagation()},onMouseUp:function(er){er.preventDefault(),er.stopPropagation(),Fn(null),ro(!1)},className:"".concat(r,"-clear"),role:"button",children:$||D("span",{className:"".concat(r,"-clear-btn")})}));var ua=be(be(be({id:i,tabIndex:o,disabled:L,readOnly:p||typeof je[0]=="function"||!Gr,value:Qi||en,onChange:function(er){Pn(er.target.value)},autoFocus:m,placeholder:j,ref:ne,title:en},dn),{},{size:que(C,je[0],d)},tfe(t)),{},{autoComplete:X}),Sa=ve?ve(ua):D("input",{...ua}),Xr=function(er,oo){(oo==="submit"||oo!=="key"&&!ke)&&(Fn(er),ro(!1))},Fr=Pt==="rtl"?"bottomRight":"bottomLeft";return D(mu.Provider,{value:{operationRef:yn,hideHeader:C==="time",panelRef:Ve,onSelect:Xr,open:qe,defaultOpenValue:A,onDateMouseEnter:Vi,onDateMouseLeave:ys},children:D(afe,{visible:qe,popupElement:io,popupStyle:u,prefixCls:r,dropdownClassName:l,dropdownAlign:c,getPopupContainer:H,transitionName:f,popupPlacement:Fr,direction:Pt,children:D("div",{ref:Ct,className:at(r,a,(e={},V(e,"".concat(r,"-disabled"),L),V(e,"".concat(r,"-focused"),On),V(e,"".concat(r,"-rtl"),Pt==="rtl"),e)),style:s,onMouseDown:me,onMouseUp:Tr,onMouseEnter:le,onMouseLeave:Ne,onContextMenu:Re,onClick:Je,children:_t("div",{className:at("".concat(r,"-input"),V({},"".concat(r,"-input-placeholder"),!!Qi)),ref:$t,children:[Sa,Fo,xs]})})})})}var klt=function(t){Zi(n,t);var e=Ra(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.pickerRef=T.exports.createRef(),r.focus=function(){r.pickerRef.current&&r.pickerRef.current.focus()},r.blur=function(){r.pickerRef.current&&r.pickerRef.current.blur()},r}return Rn(n,[{key:"render",value:function(){return D(Alt,{...this.props,pickerRef:this.pickerRef})}}]),n}(T.exports.Component);function Dlt(t,e,n){var r=t.picker,i=t.locale,o=t.selectedValue,s=t.disabledDate,a=t.disabled,l=t.generateConfig,c=Fi(o,0),u=Fi(o,1);function f(m){return l.locale.getWeekFirstDate(i.locale,m)}function d(m){var y=l.getYear(m),b=l.getMonth(m);return y*100+b}function h(m){var y=l.getYear(m),b=jL(l,m);return y*10+b}var p=T.exports.useCallback(function(m){if(s&&s(m))return!0;if(a[1]&&u)return!Mp(l,m,u)&&l.isAfter(m,u);if(e&&u)switch(r){case"quarter":return h(m)>h(u);case"month":return d(m)>d(u);case"week":return f(m)>f(u);default:return!Mp(l,m,u)&&l.isAfter(m,u)}return!1},[s,a[1],u,e]),g=T.exports.useCallback(function(m){if(s&&s(m))return!0;if(a[0]&&c)return!Mp(l,m,u)&&l.isAfter(c,m);if(n&&c)switch(r){case"quarter":return h(m)<h(c);case"month":return d(m)<d(c);case"week":return f(m)<f(c);default:return!Mp(l,m,c)&&l.isAfter(c,m)}return!1},[s,a[0],c,n]);return[p,g]}function Nlt(t,e,n,r){var i=vC(t,n,r,1);function o(s){return s(t,e)?"same":s(i,e)?"closing":"far"}switch(n){case"year":return o(function(s,a){return ilt(r,s,a)});case"quarter":case"month":return o(function(s,a){return UD(r,s,a)});default:return o(function(s,a){return e7(r,s,a)})}}function Rlt(t,e,n,r){var i=Fi(t,0),o=Fi(t,1);if(e===0)return i;if(i&&o){var s=Nlt(i,o,n,r);switch(s){case"same":return i;case"closing":return i;default:return vC(o,n,r,-1)}}return i}function Ilt(t){var e=t.values,n=t.picker,r=t.defaultDates,i=t.generateConfig,o=T.exports.useState(function(){return[Fi(r,0),Fi(r,1)]}),s=Ke(o,2),a=s[0],l=s[1],c=T.exports.useState(null),u=Ke(c,2),f=u[0],d=u[1],h=Fi(e,0),p=Fi(e,1);function g(y){return a[y]?a[y]:Fi(f,y)||Rlt(e,y,n,i)||h||p||i.getNow()}function m(y,b){if(y){var C=Zu(f,y,b);l(Zu(a,null,b)||[null,null]);var E=(b+1)%2;Fi(e,E)||(C=Zu(C,y,E)),d(C)}else(h||p)&&d(null)}return[g,m]}function tZ(t,e){return t&&t[0]&&t[1]&&e.isAfter(t[0],t[1])?[t[1],t[0]]:t}function nZ(t,e,n,r){return!!(t||r&&r[e]||n[(e+1)%2])}function $lt(t){var e,n,r,i=t.prefixCls,o=i===void 0?"rc-picker":i,s=t.id,a=t.style,l=t.className,c=t.popupStyle,u=t.dropdownClassName,f=t.transitionName,d=t.dropdownAlign,h=t.getPopupContainer,p=t.generateConfig,g=t.locale,m=t.placeholder,y=t.autoFocus,b=t.disabled,C=t.format,E=t.picker,_=E===void 0?"date":E,w=t.showTime,M=t.use12Hours,k=t.separator,I=k===void 0?"~":k,A=t.value,N=t.defaultValue,$=t.defaultPickerValue,L=t.open,B=t.defaultOpen,j=t.disabledDate,H=t.disabledTime,te=t.dateRender,Y=t.panelRender,ue=t.ranges,ce=t.allowEmpty,se=t.allowClear,fe=t.suffixIcon,me=t.clearIcon,K=t.pickerRef,le=t.inputReadOnly,Ne=t.mode,Re=t.renderExtraFooter,Je=t.onChange,$e=t.onOpenChange,tt=t.onPanelChange,Pt=t.onCalendarChange,bt=t.onFocus,X=t.onBlur,ve=t.onMouseDown,ne=t.onMouseUp,ke=t.onMouseEnter,je=t.onMouseLeave,Ve=t.onClick,$t=t.onOk,Ct=t.onKeyDown,ln=t.components,bn=t.order,Z=t.direction,J=t.activePickerIndex,xe=t.autoComplete,Se=xe===void 0?"off":xe,ze=_==="date"&&!!w||_==="time",ot=T.exports.useRef({}),yn=T.exports.useRef(null),xt=T.exports.useRef(null),It=T.exports.useRef(null),qe=T.exports.useRef(null),Tt=T.exports.useRef(null),Dt=T.exports.useRef(null),_n=T.exports.useRef(null),lr=T.exports.useRef(null),Qn=efe(Yue(C,_,w,M)),Wn=Gs(0,{value:J}),In=Ke(Wn,2),en=In[0],Pn=In[1],Sr=T.exports.useRef(null),Fn=T.exports.useMemo(function(){return Array.isArray(b)?b:[b||!1,b||!1]},[b]),ro=Gs(null,{value:A,defaultValue:N,postState:function(sn){return _==="time"&&!bn?sn:tZ(sn,p)}}),wo=Ke(ro,2),Tr=wo[0],Yt=wo[1],gn=Ilt({values:Tr,picker:_,defaultDates:$,generateConfig:p}),dn=Ke(gn,2),zt=dn[0],On=dn[1],Gr=Gs(Tr,{postState:function(sn){var Yn=sn;if(Fn[0]&&Fn[1])return Yn;for(var Jn=0;Jn<2;Jn+=1)Fn[Jn]&&!Fi(Yn,Jn)&&!Fi(ce,Jn)&&(Yn=Zu(Yn,p.getNow(),Jn));return Yn}}),qo=Ke(Gr,2),Hr=qo[0],Qi=qo[1],Vi=Gs([_,_],{value:Ne}),ys=Ke(Vi,2),qr=ys[0],bs=ys[1];T.exports.useEffect(function(){bs([_,_])},[_]);var io=function(sn,Yn){bs(sn),tt&&tt(Yn,sn)},Fo=Dlt({picker:_,selectedValue:Hr,locale:g,disabled:Fn,disabledDate:j,generateConfig:p},ot.current[1],ot.current[0]),xs=Ke(Fo,2),ua=xs[0],Sa=xs[1],Xr=Gs(!1,{value:L,defaultValue:B,postState:function(sn){return Fn[en]?!1:sn},onChange:function(sn){$e&&$e(sn),!sn&&Sr.current&&Sr.current.onClose&&Sr.current.onClose()}}),Fr=Ke(Xr,2),fr=Fr[0],er=Fr[1],oo=fr&&en===0,ws=fr&&en===1,Ia=T.exports.useState(0),xl=Ke(Ia,2),wl=xl[0],el=xl[1];T.exports.useEffect(function(){!fr&&yn.current&&el(yn.current.offsetWidth)},[fr]);var Cl=T.exports.useRef();function ho(Mn,sn){if(Mn)clearTimeout(Cl.current),ot.current[sn]=!0,Pn(sn),er(Mn),fr||On(null,sn);else if(en===sn){er(Mn);var Yn=ot.current;Cl.current=setTimeout(function(){Yn===ot.current&&(ot.current={})})}}function ti(Mn){ho(!0,Mn),setTimeout(function(){var sn=[Dt,_n][Mn];sn.current&&sn.current.focus()},0)}function Br(Mn,sn){var Yn=Mn,Jn=Fi(Yn,0),vi=Fi(Yn,1);Jn&&vi&&p.isAfter(Jn,vi)&&(_==="week"&&!Zue(p,g.locale,Jn,vi)||_==="quarter"&&!Kue(p,Jn,vi)||_!=="week"&&_!=="quarter"&&_!=="time"&&!Mp(p,Jn,vi)?(sn===0?(Yn=[Jn,null],vi=null):(Jn=null,Yn=[null,vi]),ot.current=V({},sn,!0)):(_!=="time"||bn!==!1)&&(Yn=tZ(Yn,p))),Qi(Yn);var Ea=Yn&&Yn[0]?dl(Yn[0],{generateConfig:p,locale:g,format:Qn[0]}):"",Co=Yn&&Yn[1]?dl(Yn[1],{generateConfig:p,locale:g,format:Qn[0]}):"";if(Pt){var Wi={range:sn===0?"start":"end"};Pt(Yn,[Ea,Co],Wi)}var So=nZ(Jn,0,Fn,ce),go=nZ(vi,1,Fn,ce),ea=Yn===null||So&&go;ea&&(Yt(Yn),Je&&(!rE(p,Fi(Tr,0),Jn)||!rE(p,Fi(Tr,1),vi))&&Je(Yn,[Ea,Co]));var Ss=null;sn===0&&!Fn[1]?Ss=1:sn===1&&!Fn[0]&&(Ss=0),Ss!==null&&Ss!==en&&(!ot.current[Ss]||!Fi(Yn,Ss))&&Fi(Yn,sn)?ti(Ss):ho(!1,sn)}var Di=function(sn){return fr&&Sr.current&&Sr.current.onKeyDown?Sr.current.onKeyDown(sn):(Nl(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},tr={formatList:Qn,generateConfig:p,locale:g},or=jA(Fi(Hr,0),tr),Ui=Ke(or,2),Hi=Ui[0],po=Ui[1],Ms=jA(Fi(Hr,1),tr),As=Ke(Ms,2),zo=As[0],fa=As[1],da=function(sn,Yn){var Jn=Que(sn,{locale:g,formatList:Qn,generateConfig:p}),vi=Yn===0?ua:Sa;Jn&&!vi(Jn)&&(Qi(Zu(Hr,Jn,Yn)),On(Jn,Yn))},ha=WL({valueTexts:Hi,onTextChange:function(sn){return da(sn,0)}}),Fl=Ke(ha,3),$a=Fl[0],La=Fl[1],md=Fl[2],cg=WL({valueTexts:zo,onTextChange:function(sn){return da(sn,1)}}),Tu=Ke(cg,3),Ic=Tu[0],Uo=Tu[1],Ws=Tu[2],$c=T.exports.useState(null),ug=Ke($c,2),Eh=ug[0],yd=ug[1],_h=T.exports.useState(null),xf=Ke(_h,2),Pu=xf[0],bd=xf[1],sm=YL($a,{formatList:Qn,generateConfig:p,locale:g}),xd=Ke(sm,3),fg=xd[0],am=xd[1],Th=xd[2],dg=YL(Ic,{formatList:Qn,generateConfig:p,locale:g}),Lc=Ke(dg,3),Ph=Lc[0],zl=Lc[1],wd=Lc[2],hg=function(sn){bd(Zu(Hr,sn,en)),en===0?am(sn):zl(sn)},Ou=function(){bd(Zu(Hr,null,en)),en===0?Th():wd()},Ji=function(sn,Yn){return{blurToCancel:ze,forwardKeyDown:Di,onBlur:X,isClickOutside:function(vi){return!Xue([xt.current,It.current,qe.current,yn.current],vi)},onFocus:function(vi){Pn(sn),bt&&bt(vi)},triggerOpen:function(vi){ho(vi,sn)},onSubmit:function(){if(!Hr||j&&j(Hr[sn]))return!1;Br(Hr,sn),Yn()},onCancel:function(){ho(!1,sn),Qi(Tr),Yn()}}},so=HL(be(be({},Ji(0,md)),{},{open:oo,value:$a,onKeyDown:function(sn,Yn){Ct==null||Ct(sn,Yn)}})),Oh=Ke(so,2),wf=Oh[0],Cf=Oh[1],Mu=Cf.focused,Gl=Cf.typing,Cd=HL(be(be({},Ji(1,Ws)),{},{open:ws,value:Ic,onKeyDown:function(sn,Yn){Ct==null||Ct(sn,Yn)}})),Sd=Ke(Cd,2),S=Sd[0],O=Sd[1],R=O.focused,F=O.typing,U=function(sn){Ve&&Ve(sn),!fr&&!Dt.current.contains(sn.target)&&!_n.current.contains(sn.target)&&(Fn[0]?Fn[1]||ti(1):ti(0))},W=function(sn){ve&&ve(sn),fr&&(Mu||R)&&!Dt.current.contains(sn.target)&&!_n.current.contains(sn.target)&&sn.preventDefault()},ee=Tr&&Tr[0]?dl(Tr[0],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"",Ae=Tr&&Tr[1]?dl(Tr[1],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"";T.exports.useEffect(function(){fr||(Qi(Tr),!Hi.length||Hi[0]===""?La(""):po!==$a&&md(),!zo.length||zo[0]===""?Uo(""):fa!==Ic&&Ws())},[fr,Hi,zo]),T.exports.useEffect(function(){Qi(Tr)},[ee,Ae]),K&&(K.current={focus:function(){Dt.current&&Dt.current.focus()},blur:function(){Dt.current&&Dt.current.blur(),_n.current&&_n.current.blur()}});var Oe=Object.keys(ue||{}),Ze=Oe.map(function(Mn){var sn=ue[Mn],Yn=typeof sn=="function"?sn():sn;return{label:Mn,onClick:function(){Br(Yn,null),ho(!1,en)},onMouseEnter:function(){yd(Yn)},onMouseLeave:function(){yd(null)}}});function vt(){var Mn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Yn=null;fr&&Pu&&Pu[0]&&Pu[1]&&p.isAfter(Pu[1],Pu[0])&&(Yn=Pu);var Jn=w;if(w&&Ar(w)==="object"&&w.defaultValue){var vi=w.defaultValue;Jn=be(be({},w),{},{defaultValue:Fi(vi,en)||void 0})}var Ea=null;return te&&(Ea=function(Wi,So){return te(Wi,So,{range:en?"end":"start"})}),D(z2.Provider,{value:{inRange:!0,panelPosition:Mn,rangedValue:Eh||Hr,hoverRangedValue:Yn},children:D(sfe,{...t,...sn,dateRender:Ea,showTime:Jn,mode:qr[en],generateConfig:p,style:void 0,direction:Z,disabledDate:en===0?ua:Sa,disabledTime:function(Wi){return H?H(Wi,en===0?"start":"end"):!1},className:at(V({},"".concat(o,"-panel-focused"),en===0?!Gl:!F)),value:Fi(Hr,en),locale:g,tabIndex:-1,onPanelChange:function(Wi,So){en===0&&Th(!0),en===1&&wd(!0),io(Zu(qr,So,en),Zu(Hr,Wi,en));var go=Wi;Mn==="right"&&qr[en]===So&&(go=vC(go,So,p,-1)),On(go,en)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:en===0?Fi(Hr,1):Fi(Hr,0)})})}var Ht=0,ut=0;en&&It.current&&Tt.current&&xt.current&&(Ht=It.current.offsetWidth+Tt.current.offsetWidth,xt.current.offsetWidth&&lr.current.offsetWidth&&Ht>xt.current.offsetWidth-lr.current.offsetWidth-(Z==="rtl"||lr.current.offsetLeft>Ht?0:lr.current.offsetLeft)&&(ut=Ht));var mt=Z==="rtl"?{right:Ht}:{left:Ht};function cr(){var Mn,sn=ife(o,qr[en],Re),Yn=ofe({prefixCls:o,components:ln,needConfirmButton:ze,okDisabled:!Fi(Hr,en)||j&&j(Hr[en]),locale:g,rangeList:Ze,onOk:function(){Fi(Hr,en)&&(Br(Hr,en),$t&&$t(Hr))}});if(_!=="time"&&!w){var Jn=zt(en),vi=vC(Jn,_,p),Ea=qr[en],Co=Ea===_,Wi=vt(Co?"left":!1,{pickerValue:Jn,onPickerValueChange:function(Ss){On(Ss,en)}}),So=vt("right",{pickerValue:vi,onPickerValueChange:function(Ss){On(vC(Ss,_,p,-1),en)}});Z==="rtl"?Mn=_t(Xi,{children:[So,Co&&Wi]}):Mn=_t(Xi,{children:[Wi,Co&&So]})}else Mn=vt();var go=_t(Xi,{children:[D("div",{className:"".concat(o,"-panels"),children:Mn}),(sn||Yn)&&_t("div",{className:"".concat(o,"-footer"),children:[sn,Yn]})]});return Y&&(go=Y(go)),D("div",{className:"".concat(o,"-panel-container"),style:{marginLeft:ut},ref:xt,onMouseDown:function(Ss){Ss.preventDefault()},children:go})}var rr=_t("div",{className:at("".concat(o,"-range-wrapper"),"".concat(o,"-").concat(_,"-range-wrapper")),style:{minWidth:wl},children:[D("div",{ref:lr,className:"".concat(o,"-range-arrow"),style:mt}),cr()]}),sr;fe&&(sr=D("span",{className:"".concat(o,"-suffix"),children:fe}));var ao;se&&(Fi(Tr,0)&&!Fn[0]||Fi(Tr,1)&&!Fn[1])&&(ao=D("span",{onMouseDown:function(sn){sn.preventDefault(),sn.stopPropagation()},onMouseUp:function(sn){sn.preventDefault(),sn.stopPropagation();var Yn=Tr;Fn[0]||(Yn=Zu(Yn,null,0)),Fn[1]||(Yn=Zu(Yn,null,1)),Br(Yn,null),ho(!1,en)},className:"".concat(o,"-clear"),children:me||D("span",{className:"".concat(o,"-clear-btn")})}));var Ri={size:que(_,Qn[0],p)},Cs=0,Ti=0;It.current&&qe.current&&Tt.current&&(en===0?Ti=It.current.offsetWidth:(Cs=Ht,Ti=qe.current.offsetWidth));var Vn=Z==="rtl"?{right:Cs}:{left:Cs},Go=function(sn,Yn){var Jn=Zu(Hr,sn,en);Yn==="submit"||Yn!=="key"&&!ze?(Br(Jn,en),en===0?Th():wd()):Qi(Jn)};return D(mu.Provider,{value:{operationRef:Sr,hideHeader:_==="time",onDateMouseEnter:hg,onDateMouseLeave:Ou,hideRanges:!0,onSelect:Go,open:fr},children:D(afe,{visible:fr,popupElement:rr,popupStyle:c,prefixCls:o,dropdownClassName:u,dropdownAlign:d,getPopupContainer:h,transitionName:f,range:!0,direction:Z,children:_t("div",{ref:yn,className:at(o,"".concat(o,"-range"),l,(e={},V(e,"".concat(o,"-disabled"),Fn[0]&&Fn[1]),V(e,"".concat(o,"-focused"),en===0?Mu:R),V(e,"".concat(o,"-rtl"),Z==="rtl"),e)),style:a,onClick:U,onMouseEnter:ke,onMouseLeave:je,onMouseDown:W,onMouseUp:ne,...tfe(t),children:[D("div",{className:at("".concat(o,"-input"),(n={},V(n,"".concat(o,"-input-active"),en===0),V(n,"".concat(o,"-input-placeholder"),!!fg),n)),ref:It,children:D("input",{id:s,disabled:Fn[0],readOnly:le||typeof Qn[0]=="function"||!Gl,value:fg||$a,onChange:function(sn){La(sn.target.value)},autoFocus:y,placeholder:Fi(m,0)||"",ref:Dt,...wf,...Ri,autoComplete:Se})}),D("div",{className:"".concat(o,"-range-separator"),ref:Tt,children:I}),D("div",{className:at("".concat(o,"-input"),(r={},V(r,"".concat(o,"-input-active"),en===1),V(r,"".concat(o,"-input-placeholder"),!!Ph),r)),ref:qe,children:D("input",{disabled:Fn[1],readOnly:le||typeof Qn[0]=="function"||!F,value:Ph||Ic,onChange:function(sn){Uo(sn.target.value)},placeholder:Fi(m,1)||"",ref:_n,...S,...Ri,autoComplete:Se})}),D("div",{className:"".concat(o,"-active-bar"),style:be(be({},Vn),{},{width:Ti,position:"absolute"})}),sr,ao]})})})}var Llt=function(t){Zi(n,t);var e=Ra(n);function n(){var r;Cn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),r.pickerRef=T.exports.createRef(),r.focus=function(){r.pickerRef.current&&r.pickerRef.current.focus()},r.blur=function(){r.pickerRef.current&&r.pickerRef.current.blur()},r}return Rn(n,[{key:"render",value:function(){return D($lt,{...this.props,pickerRef:this.pickerRef})}}]),n}(T.exports.Component),lfe=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;Cn(this,n),i=e.call(this,r),i.handleChange=function(s){var a=i.props,l=a.disabled,c=a.onChange;l||("checked"in i.props||i.setState({checked:s.target.checked}),c&&c({target:be(be({},i.props),{},{checked:s.target.checked}),stopPropagation:function(){s.stopPropagation()},preventDefault:function(){s.preventDefault()},nativeEvent:s.nativeEvent}))},i.saveInput=function(s){i.input=s};var o="checked"in r?r.checked:r.defaultChecked;return i.state={checked:o},i}return Rn(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var i,o=this.props,s=o.prefixCls,a=o.className,l=o.style,c=o.name,u=o.id,f=o.type,d=o.disabled,h=o.readOnly,p=o.tabIndex,g=o.onClick,m=o.onFocus,y=o.onBlur,b=o.onKeyDown,C=o.onKeyPress,E=o.onKeyUp,_=o.autoFocus,w=o.value,M=o.required,k=_i(o,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),I=Object.keys(k).reduce(function($,L){return(L.substr(0,5)==="aria-"||L.substr(0,5)==="data-"||L==="role")&&($[L]=k[L]),$},{}),A=this.state.checked,N=at(s,a,(i={},V(i,"".concat(s,"-checked"),A),V(i,"".concat(s,"-disabled"),d),i));return _t("span",{className:N,style:l,children:[D("input",{name:c,id:u,type:f,required:M,readOnly:h,disabled:d,tabIndex:p,className:"".concat(s,"-input"),checked:!!A,onClick:g,onFocus:m,onBlur:y,onKeyUp:E,onKeyDown:b,onKeyPress:C,onChange:this.handleChange,autoFocus:_,ref:this.saveInput,value:w,...I}),D("span",{className:"".concat(s,"-inner")})]})}}],[{key:"getDerivedStateFromProps",value:function(i,o){return"checked"in i?be(be({},o),{},{checked:i.checked}):null}}]),n}(T.exports.Component);lfe.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var Flt=function(e){var n,r,i=e.prefixCls,o=e.className,s=e.style,a=e.size,l=e.shape,c=at((n={},V(n,"".concat(i,"-lg"),a==="large"),V(n,"".concat(i,"-sm"),a==="small"),n)),u=at((r={},V(r,"".concat(i,"-circle"),l==="circle"),V(r,"".concat(i,"-square"),l==="square"),V(r,"".concat(i,"-round"),l==="round"),r)),f=typeof a=="number"?{width:a,height:a,lineHeight:"".concat(a,"px")}:{};return D("span",{className:at(i,c,u,o),style:Lt(Lt({},f),s)})};const WD=Flt;var cfe=function(e){var n=e.prefixCls,r=e.className,i=e.active,o=T.exports.useContext(ui),s=o.getPrefixCls,a=s("skeleton",n),l=Ja(e,["prefixCls","className"]),c=at(a,"".concat(a,"-element"),V({},"".concat(a,"-active"),i),r);return D("div",{className:c,children:D(WD,{prefixCls:"".concat(a,"-avatar"),...l})})};cfe.defaultProps={size:"default",shape:"circle"};const zlt=cfe;var ufe=function(e){var n,r=e.prefixCls,i=e.className,o=e.active,s=e.block,a=s===void 0?!1:s,l=T.exports.useContext(ui),c=l.getPrefixCls,u=c("skeleton",r),f=Ja(e,["prefixCls"]),d=at(u,"".concat(u,"-element"),(n={},V(n,"".concat(u,"-active"),o),V(n,"".concat(u,"-block"),a),n),i);return D("div",{className:d,children:D(WD,{prefixCls:"".concat(u,"-button"),...f})})};ufe.defaultProps={size:"default"};const Glt=ufe;var Blt=function(e){var n,r=e.prefixCls,i=e.className,o=e.style,s=e.active,a=T.exports.useContext(ui),l=a.getPrefixCls,c=l("skeleton",r),u=at(c,"".concat(c,"-element"),V({},"".concat(c,"-active"),s),i),f=(n=e.children)!==null&&n!==void 0?n:D(qDe,{});return D("div",{className:u,children:D("div",{className:at("".concat(c,"-image"),i),style:o,children:f})})};const jlt=Blt;var Vlt="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Ult=function(e){var n=e.prefixCls,r=e.className,i=e.style,o=e.active,s=T.exports.useContext(ui),a=s.getPrefixCls,l=a("skeleton",n),c=at(l,"".concat(l,"-element"),V({},"".concat(l,"-active"),o),r);return D("div",{className:c,children:D("div",{className:at("".concat(l,"-image"),r),style:i,children:D("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg"),children:D("path",{d:Vlt,className:"".concat(l,"-image-path")})})})})};const Hlt=Ult;var ffe=function(e){var n,r=e.prefixCls,i=e.className,o=e.active,s=e.block,a=T.exports.useContext(ui),l=a.getPrefixCls,c=l("skeleton",r),u=Ja(e,["prefixCls"]),f=at(c,"".concat(c,"-element"),(n={},V(n,"".concat(c,"-active"),o),V(n,"".concat(c,"-block"),s),n),i);return D("div",{className:f,children:D(WD,{prefixCls:"".concat(c,"-input"),...u})})};ffe.defaultProps={size:"default"};const Wlt=ffe;var Ylt=function(e){var n=function(c){var u=e.width,f=e.rows,d=f===void 0?2:f;if(Array.isArray(u))return u[c];if(d-1===c)return u},r=e.prefixCls,i=e.className,o=e.style,s=e.rows,a=un(Array(s)).map(function(l,c){return D("li",{style:{width:n(c)}},c)});return D("ul",{className:at(r,i),style:o,children:a})};const qlt=Ylt;var Xlt=function(e){var n=e.prefixCls,r=e.className,i=e.width,o=e.style;return D("h3",{className:at(n,r),style:Lt({width:i},o)})};const Klt=Xlt;function e4(t){return t&&Ar(t)==="object"?t:{}}function Zlt(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Qlt(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function Jlt(t,e){var n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}var fy=function(e){var n=e.prefixCls,r=e.loading,i=e.className,o=e.style,s=e.children,a=e.avatar,l=e.title,c=e.paragraph,u=e.active,f=e.round,d=T.exports.useContext(ui),h=d.getPrefixCls,p=d.direction,g=h("skeleton",n);if(r||!("loading"in e)){var m,y=!!a,b=!!l,C=!!c,E;if(y){var _=Lt(Lt({prefixCls:"".concat(g,"-avatar")},Zlt(b,C)),e4(a));E=D("div",{className:"".concat(g,"-header"),children:D(WD,{..._})})}var w;if(b||C){var M;if(b){var k=Lt(Lt({prefixCls:"".concat(g,"-title")},Qlt(y,C)),e4(l));M=D(Klt,{...k})}var I;if(C){var A=Lt(Lt({prefixCls:"".concat(g,"-paragraph")},Jlt(y,b)),e4(c));I=D(qlt,{...A})}w=_t("div",{className:"".concat(g,"-content"),children:[M,I]})}var N=at(g,(m={},V(m,"".concat(g,"-with-avatar"),y),V(m,"".concat(g,"-active"),u),V(m,"".concat(g,"-rtl"),p==="rtl"),V(m,"".concat(g,"-round"),f),m),i);return _t("div",{className:N,style:o,children:[E,w]})}return typeof s<"u"?s:null};fy.defaultProps={avatar:!1,title:!0,paragraph:!0};fy.Button=Glt;fy.Avatar=zlt;fy.Input=Wlt;fy.Image=Hlt;fy.Node=jlt;const ect=fy;function dfe(t){var e=T.exports.useRef(),n=T.exports.useRef(!1);function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];n.current||(oi.cancel(e.current),e.current=oi(function(){t.apply(void 0,o)}))}return T.exports.useEffect(function(){return n.current=!1,function(){n.current=!0,oi.cancel(e.current)}},[]),r}function tct(t){var e=T.exports.useRef([]),n=T.exports.useState({}),r=Ke(n,2),i=r[1],o=T.exports.useRef(typeof t=="function"?t():t),s=dfe(function(){var l=o.current;e.current.forEach(function(c){l=c(l)}),e.current=[],o.current=l,i({})});function a(l){e.current.push(l),s()}return[o.current,a]}function nct(t,e){var n,r=t.prefixCls,i=t.id,o=t.active,s=t.tab,a=s.key,l=s.tab,c=s.disabled,u=s.closeIcon,f=t.closable,d=t.renderWrapper,h=t.removeAriaLabel,p=t.editable,g=t.onClick,m=t.onRemove,y=t.onFocus,b=t.style,C="".concat(r,"-tab");T.exports.useEffect(function(){return m},[]);var E=p&&f!==!1&&!c;function _(k){c||g(k)}function w(k){k.preventDefault(),k.stopPropagation(),p.onEdit("remove",{key:a,event:k})}var M=_t("div",{ref:e,className:at(C,(n={},V(n,"".concat(C,"-with-remove"),E),V(n,"".concat(C,"-active"),o),V(n,"".concat(C,"-disabled"),c),n)),style:b,onClick:_,children:[D("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(a),className:"".concat(C,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(a),"aria-disabled":c,tabIndex:c?null:0,onClick:function(I){I.stopPropagation(),_(I)},onKeyDown:function(I){[St.SPACE,St.ENTER].includes(I.which)&&(I.preventDefault(),_(I))},onFocus:y,children:l}),E&&D("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(C,"-remove"),onClick:function(I){I.stopPropagation(),w(I)},children:u||p.removeIcon||"\xD7"})]},a);return d?d(M):M}const rct=T.exports.forwardRef(nct);var rZ={width:0,height:0,left:0,top:0};function ict(t,e,n){return T.exports.useMemo(function(){for(var r,i=new Map,o=e.get((r=t[0])===null||r===void 0?void 0:r.key)||rZ,s=o.left+o.width,a=0;a<t.length;a+=1){var l=t[a].key,c=e.get(l);if(!c){var u;c=e.get((u=t[a-1])===null||u===void 0?void 0:u.key)||rZ}var f=i.get(l)||be({},c);f.right=s-f.left-f.width,i.set(l,f)}return i},[t.map(function(r){return r.key}).join("_"),e,n])}var iZ={width:0,height:0,left:0,top:0,right:0};function oct(t,e,n,r,i){var o=i.tabs,s=i.tabPosition,a=i.rtl,l,c,u;["top","bottom"].includes(s)?(l="width",c=a?"right":"left",u=Math.abs(e.left)):(l="height",c="top",u=-e.top);var f=e[l],d=n[l],h=r[l],p=f;return d+h>f&&d<f&&(p=f-h),T.exports.useMemo(function(){if(!o.length)return[0,0];for(var g=o.length,m=g,y=0;y<g;y+=1){var b=t.get(o[y].key)||iZ;if(b[c]+b[l]>u+p){m=y-1;break}}for(var C=0,E=g-1;E>=0;E-=1){var _=t.get(o[E].key)||iZ;if(_[c]<u){C=E+1;break}}return[C,m]},[t,u,p,s,o.map(function(g){return g.key}).join("_"),a])}var db={adjustX:1,adjustY:1},hb=[0,0],sct={topLeft:{points:["bl","tl"],overflow:db,offset:[0,-4],targetOffset:hb},topCenter:{points:["bc","tc"],overflow:db,offset:[0,-4],targetOffset:hb},topRight:{points:["br","tr"],overflow:db,offset:[0,-4],targetOffset:hb},bottomLeft:{points:["tl","bl"],overflow:db,offset:[0,4],targetOffset:hb},bottomCenter:{points:["tc","bc"],overflow:db,offset:[0,4],targetOffset:hb},bottomRight:{points:["tr","br"],overflow:db,offset:[0,4],targetOffset:hb}},act=St.ESC,lct=St.TAB;function cct(t){var e=t.visible,n=t.setTriggerVisible,r=t.triggerRef,i=t.onVisibleChange,o=t.autoFocus,s=T.exports.useRef(!1),a=function(){if(e&&r.current){var f,d,h,p;(f=r.current)===null||f===void 0||(d=f.triggerRef)===null||d===void 0||(h=d.current)===null||h===void 0||(p=h.focus)===null||p===void 0||p.call(h),n(!1),typeof i=="function"&&i(!1)}},l=function(){var f,d,h,p,g=Uce((f=r.current)===null||f===void 0||(d=f.popupRef)===null||d===void 0||(h=d.current)===null||h===void 0||(p=h.getElement)===null||p===void 0?void 0:p.call(h)),m=g[0];return m!=null&&m.focus?(m.focus(),s.current=!0,!0):!1},c=function(f){switch(f.keyCode){case act:a();break;case lct:{var d=!1;s.current||(d=l()),d?f.preventDefault():a();break}}};T.exports.useEffect(function(){return e?(window.addEventListener("keydown",c),o&&oi(l,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}},[e])}var uct=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function fct(t,e){var n=t.arrow,r=n===void 0?!1:n,i=t.prefixCls,o=i===void 0?"rc-dropdown":i,s=t.transitionName,a=t.animation,l=t.align,c=t.placement,u=c===void 0?"bottomLeft":c,f=t.placements,d=f===void 0?sct:f,h=t.getPopupContainer,p=t.showAction,g=t.hideAction,m=t.overlayClassName,y=t.overlayStyle,b=t.visible,C=t.trigger,E=C===void 0?["hover"]:C,_=t.autoFocus,w=_i(t,uct),M=T.exports.useState(),k=Ke(M,2),I=k[0],A=k[1],N="visible"in t?b:I,$=T.exports.useRef(null);T.exports.useImperativeHandle(e,function(){return $.current}),cct({visible:N,setTriggerVisible:A,triggerRef:$,onVisibleChange:t.onVisibleChange,autoFocus:_});var L=function(){var me=t.overlay,K;return typeof me=="function"?K=me():K=me,K},B=function(me){var K=t.onOverlayClick;A(!1),K&&K(me)},j=function(me){var K=t.onVisibleChange;A(me),typeof K=="function"&&K(me)},H=function(){var me=L();return _t(Xi,{children:[r&&D("div",{className:"".concat(o,"-arrow")}),me]})},te=function(){var me=t.overlay;return typeof me=="function"?H:H()},Y=function(){var me=t.minOverlayWidthMatchTrigger,K=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?me:!K},ue=function(){var me=t.openClassName;return me!==void 0?me:"".concat(o,"-open")},ce=function(){var me=t.children,K=me.props?me.props:{},le=at(K.className,ue());return N&&me?T.exports.cloneElement(me,{className:le}):me},se=g;return!se&&E.indexOf("contextMenu")!==-1&&(se=["click"]),D(R2,{...be(be({builtinPlacements:d},w),{},{prefixCls:o,ref:$,popupClassName:at(m,V({},"".concat(o,"-show-arrow"),r)),popupStyle:y,action:E,showAction:p,hideAction:se||[],popupPlacement:u,popupAlign:l,popupTransitionName:s,popupAnimation:a,popupVisible:N,stretch:Y()?"minWidth":"",popup:te(),onPopupVisibleChange:j,onPopupClick:B,getPopupContainer:h}),children:ce()})}const dct=T.exports.forwardRef(fct);function hct(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return!r||r.showAdd===!1?null:D("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(a){r.onEdit("add",{event:a})},children:r.addIcon||"+"})}const hfe=T.exports.forwardRef(hct);function pct(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,s=t.mobile,a=t.moreIcon,l=a===void 0?"More":a,c=t.moreTransitionName,u=t.style,f=t.className,d=t.editable,h=t.tabBarGutter,p=t.rtl,g=t.removeAriaLabel,m=t.onTabClick,y=t.getPopupContainer,b=t.popupClassName,C=T.exports.useState(!1),E=Ke(C,2),_=E[0],w=E[1],M=T.exports.useState(null),k=Ke(M,2),I=k[0],A=k[1],N="".concat(r,"-more-popup"),$="".concat(n,"-dropdown"),L=I!==null?"".concat(N,"-").concat(I):null,B=o==null?void 0:o.dropdownAriaLabel;function j(fe,me){fe.preventDefault(),fe.stopPropagation(),d.onEdit("remove",{key:me,event:fe})}var H=D(jE,{onClick:function(me){var K=me.key,le=me.domEvent;m(K,le),w(!1)},prefixCls:"".concat($,"-menu"),id:N,tabIndex:-1,role:"listbox","aria-activedescendant":L,selectedKeys:[I],"aria-label":B!==void 0?B:"expanded dropdown",children:i.map(function(fe){var me=d&&fe.closable!==!1&&!fe.disabled;return _t(kD,{id:"".concat(N,"-").concat(fe.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(fe.key),disabled:fe.disabled,children:[D("span",{children:fe.tab}),me&&D("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat($,"-menu-item-remove"),onClick:function(le){le.stopPropagation(),j(le,fe.key)},children:fe.closeIcon||d.removeIcon||"\xD7"})]},fe.key)})});function te(fe){for(var me=i.filter(function(Je){return!Je.disabled}),K=me.findIndex(function(Je){return Je.key===I})||0,le=me.length,Ne=0;Ne<le;Ne+=1){K=(K+fe+le)%le;var Re=me[K];if(!Re.disabled){A(Re.key);return}}}function Y(fe){var me=fe.which;if(!_){[St.DOWN,St.SPACE,St.ENTER].includes(me)&&(w(!0),fe.preventDefault());return}switch(me){case St.UP:te(-1),fe.preventDefault();break;case St.DOWN:te(1),fe.preventDefault();break;case St.ESC:w(!1);break;case St.SPACE:case St.ENTER:I!==null&&m(I,fe);break}}T.exports.useEffect(function(){var fe=document.getElementById(L);fe&&fe.scrollIntoView&&fe.scrollIntoView(!1)},[I]),T.exports.useEffect(function(){_||A(null)},[_]);var ue=V({},p?"marginRight":"marginLeft",h);i.length||(ue.visibility="hidden",ue.order=1);var ce=at(V({},"".concat($,"-rtl"),p)),se=s?null:D(dct,{prefixCls:$,overlay:H,trigger:["hover"],visible:i.length?_:!1,transitionName:c,onVisibleChange:w,overlayClassName:at(ce,b),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:y,children:D("button",{type:"button",className:"".concat(n,"-nav-more"),style:ue,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":N,id:"".concat(r,"-more"),"aria-expanded":_,onKeyDown:Y,children:l})});return _t("div",{className:at("".concat(n,"-nav-operations"),f),style:u,ref:e,children:[se,D(hfe,{prefixCls:n,locale:o,editable:d})]})}const gct=T.exports.memo(T.exports.forwardRef(pct),function(t,e){return e.tabMoving}),n7=T.exports.createContext(null);var vct=.1,oZ=.01,XO=20,sZ=Math.pow(.995,XO);function mct(t,e){var n=T.exports.useState(),r=Ke(n,2),i=r[0],o=r[1],s=T.exports.useState(0),a=Ke(s,2),l=a[0],c=a[1],u=T.exports.useState(0),f=Ke(u,2),d=f[0],h=f[1],p=T.exports.useState(),g=Ke(p,2),m=g[0],y=g[1],b=T.exports.useRef();function C(I){var A=I.touches[0],N=A.screenX,$=A.screenY;o({x:N,y:$}),window.clearInterval(b.current)}function E(I){if(!!i){I.preventDefault();var A=I.touches[0],N=A.screenX,$=A.screenY;o({x:N,y:$});var L=N-i.x,B=$-i.y;e(L,B);var j=Date.now();c(j),h(j-l),y({x:L,y:B})}}function _(){if(!!i&&(o(null),y(null),m)){var I=m.x/d,A=m.y/d,N=Math.abs(I),$=Math.abs(A);if(Math.max(N,$)<vct)return;var L=I,B=A;b.current=window.setInterval(function(){if(Math.abs(L)<oZ&&Math.abs(B)<oZ){window.clearInterval(b.current);return}L*=sZ,B*=sZ,e(L*XO,B*XO)},XO)}}var w=T.exports.useRef();function M(I){var A=I.deltaX,N=I.deltaY,$=0,L=Math.abs(A),B=Math.abs(N);L===B?$=w.current==="x"?A:N:L>B?($=A,w.current="x"):($=N,w.current="y"),e(-$,-$)&&I.preventDefault()}var k=T.exports.useRef(null);k.current={onTouchStart:C,onTouchMove:E,onTouchEnd:_,onWheel:M},T.exports.useEffect(function(){function I(L){k.current.onTouchStart(L)}function A(L){k.current.onTouchMove(L)}function N(L){k.current.onTouchEnd(L)}function $(L){k.current.onWheel(L)}return document.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("touchend",N,{passive:!1}),t.current.addEventListener("touchstart",I,{passive:!1}),t.current.addEventListener("wheel",$),function(){document.removeEventListener("touchmove",A),document.removeEventListener("touchend",N)}},[])}function yct(){var t=T.exports.useRef(new Map);function e(r){return t.current.has(r)||t.current.set(r,T.exports.createRef()),t.current.get(r)}function n(r){t.current.delete(r)}return[e,n]}function aZ(t,e){var n=T.exports.useRef(t),r=T.exports.useState({}),i=Ke(r,2),o=i[1];function s(a){var l=typeof a=="function"?a(n.current):a;l!==n.current&&e(l,n.current),n.current=l,o({})}return[n.current,s]}var lZ=function(e){var n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var o,s={};return i&&Ar(i)==="object"&&!T.exports.isValidElement(i)?s=i:s.right=i,n==="right"&&(o=s.right),n==="left"&&(o=s.left),o?D("div",{className:"".concat(r,"-extra-content"),children:o}):null};function bct(t,e){var n,r=T.exports.useContext(n7),i=r.prefixCls,o=r.tabs,s=t.className,a=t.style,l=t.id,c=t.animated,u=t.activeKey,f=t.rtl,d=t.extra,h=t.editable,p=t.locale,g=t.tabPosition,m=t.tabBarGutter,y=t.children,b=t.onTabClick,C=t.onTabScroll,E=T.exports.useRef(),_=T.exports.useRef(),w=T.exports.useRef(),M=T.exports.useRef(),k=yct(),I=Ke(k,2),A=I[0],N=I[1],$=g==="top"||g==="bottom",L=aZ(0,function(Xr,Fr){$&&C&&C({direction:Xr>Fr?"left":"right"})}),B=Ke(L,2),j=B[0],H=B[1],te=aZ(0,function(Xr,Fr){!$&&C&&C({direction:Xr>Fr?"top":"bottom"})}),Y=Ke(te,2),ue=Y[0],ce=Y[1],se=T.exports.useState(0),fe=Ke(se,2),me=fe[0],K=fe[1],le=T.exports.useState(0),Ne=Ke(le,2),Re=Ne[0],Je=Ne[1],$e=T.exports.useState(null),tt=Ke($e,2),Pt=tt[0],bt=tt[1],X=T.exports.useState(null),ve=Ke(X,2),ne=ve[0],ke=ve[1],je=T.exports.useState(0),Ve=Ke(je,2),$t=Ve[0],Ct=Ve[1],ln=T.exports.useState(0),bn=Ke(ln,2),Z=bn[0],J=bn[1],xe=tct(new Map),Se=Ke(xe,2),ze=Se[0],ot=Se[1],yn=ict(o,ze,me),xt="".concat(i,"-nav-operations-hidden"),It=0,qe=0;$?f?(It=0,qe=Math.max(0,me-Pt)):(It=Math.min(0,Pt-me),qe=0):(It=Math.min(0,ne-Re),qe=0);function Tt(Xr){return Xr<It?It:Xr>qe?qe:Xr}var Dt=T.exports.useRef(),_n=T.exports.useState(),lr=Ke(_n,2),Qn=lr[0],Wn=lr[1];function In(){Wn(Date.now())}function en(){window.clearTimeout(Dt.current)}mct(E,function(Xr,Fr){function fr(er,oo){er(function(ws){var Ia=Tt(ws+oo);return Ia})}if($){if(Pt>=me)return!1;fr(H,Xr)}else{if(ne>=Re)return!1;fr(ce,Fr)}return en(),In(),!0}),T.exports.useEffect(function(){return en(),Qn&&(Dt.current=window.setTimeout(function(){Wn(0)},100)),en},[Qn]);function Pn(){var Xr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,Fr=yn.get(Xr)||{width:0,height:0,left:0,right:0,top:0};if($){var fr=j;f?Fr.right<j?fr=Fr.right:Fr.right+Fr.width>j+Pt&&(fr=Fr.right+Fr.width-Pt):Fr.left<-j?fr=-Fr.left:Fr.left+Fr.width>-j+Pt&&(fr=-(Fr.left+Fr.width-Pt)),ce(0),H(Tt(fr))}else{var er=ue;Fr.top<-ue?er=-Fr.top:Fr.top+Fr.height>-ue+ne&&(er=-(Fr.top+Fr.height-ne)),H(0),ce(Tt(er))}}var Sr=oct(yn,{width:Pt,height:ne,left:j,top:ue},{width:me,height:Re},{width:$t,height:Z},be(be({},t),{},{tabs:o})),Fn=Ke(Sr,2),ro=Fn[0],wo=Fn[1],Tr={};g==="top"||g==="bottom"?Tr[f?"marginRight":"marginLeft"]=m:Tr.marginTop=m;var Yt=o.map(function(Xr,Fr){var fr=Xr.key;return D(rct,{id:l,prefixCls:i,tab:Xr,style:Fr===0?void 0:Tr,closable:Xr.closable,editable:h,active:fr===u,renderWrapper:y,removeAriaLabel:p==null?void 0:p.removeAriaLabel,ref:A(fr),onClick:function(oo){b(fr,oo)},onRemove:function(){N(fr)},onFocus:function(){Pn(fr),In(),E.current&&(f||(E.current.scrollLeft=0),E.current.scrollTop=0)}},fr)}),gn=dfe(function(){var Xr,Fr,fr,er,oo,ws,Ia=((Xr=E.current)===null||Xr===void 0?void 0:Xr.offsetWidth)||0,xl=((Fr=E.current)===null||Fr===void 0?void 0:Fr.offsetHeight)||0,wl=((fr=M.current)===null||fr===void 0?void 0:fr.offsetWidth)||0,el=((er=M.current)===null||er===void 0?void 0:er.offsetHeight)||0;bt(Ia),ke(xl),Ct(wl),J(el);var Cl=(((oo=_.current)===null||oo===void 0?void 0:oo.offsetWidth)||0)-wl,ho=(((ws=_.current)===null||ws===void 0?void 0:ws.offsetHeight)||0)-el;K(Cl),Je(ho),ot(function(){var ti=new Map;return o.forEach(function(Br){var Di=Br.key,tr=A(Di).current;tr&&ti.set(Di,{width:tr.offsetWidth,height:tr.offsetHeight,left:tr.offsetLeft,top:tr.offsetTop})}),ti})}),dn=o.slice(0,ro),zt=o.slice(wo+1),On=[].concat(un(dn),un(zt)),Gr=T.exports.useState(),qo=Ke(Gr,2),Hr=qo[0],Qi=qo[1],Vi=yn.get(u),ys=T.exports.useRef();function qr(){oi.cancel(ys.current)}T.exports.useEffect(function(){var Xr={};return Vi&&($?(f?Xr.right=Vi.right:Xr.left=Vi.left,Xr.width=Vi.width):(Xr.top=Vi.top,Xr.height=Vi.height)),qr(),ys.current=oi(function(){Qi(Xr)}),qr},[Vi,$,f]),T.exports.useEffect(function(){Pn()},[u,Vi,yn,$]),T.exports.useEffect(function(){gn()},[f,m,u,o.map(function(Xr){return Xr.key}).join("_")]);var bs=!!On.length,io="".concat(i,"-nav-wrap"),Fo,xs,ua,Sa;return $?f?(xs=j>0,Fo=j+Pt<me):(Fo=j<0,xs=-j+Pt<me):(ua=ue<0,Sa=-ue+ne<Re),_t("div",{ref:e,role:"tablist",className:at("".concat(i,"-nav"),s),style:a,onKeyDown:function(){In()},children:[D(lZ,{position:"left",extra:d,prefixCls:i}),D(B0,{onResize:gn,children:D("div",{className:at(io,(n={},V(n,"".concat(io,"-ping-left"),Fo),V(n,"".concat(io,"-ping-right"),xs),V(n,"".concat(io,"-ping-top"),ua),V(n,"".concat(io,"-ping-bottom"),Sa),n)),ref:E,children:D(B0,{onResize:gn,children:_t("div",{ref:_,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(j,"px, ").concat(ue,"px)"),transition:Qn?"none":void 0},children:[Yt,D(hfe,{ref:M,prefixCls:i,locale:p,editable:h,style:be(be({},Yt.length===0?void 0:Tr),{},{visibility:bs?"hidden":null})}),D("div",{className:at("".concat(i,"-ink-bar"),V({},"".concat(i,"-ink-bar-animated"),c.inkBar)),style:Hr})]})})})}),D(gct,{...t,removeAriaLabel:p==null?void 0:p.removeAriaLabel,ref:w,prefixCls:i,tabs:On,className:!bs&&xt,tabMoving:!!Qn}),D(lZ,{position:"right",extra:d,prefixCls:i})]})}const cZ=T.exports.forwardRef(bct);function xct(t){var e=t.id,n=t.activeKey,r=t.animated,i=t.tabPosition,o=t.rtl,s=t.destroyInactiveTabPane,a=T.exports.useContext(n7),l=a.prefixCls,c=a.tabs,u=r.tabPane,f=c.findIndex(function(d){return d.key===n});return D("div",{className:at("".concat(l,"-content-holder")),children:D("div",{className:at("".concat(l,"-content"),"".concat(l,"-content-").concat(i),V({},"".concat(l,"-content-animated"),u)),style:f&&u?V({},o?"marginRight":"marginLeft","-".concat(f,"00%")):null,children:c.map(function(d){return T.exports.cloneElement(d.node,{key:d.key,prefixCls:l,tabKey:d.key,id:e,animated:u,active:d.key===n,destroyInactiveTabPane:s})})})})}function pfe(t){var e=t.prefixCls,n=t.forceRender,r=t.className,i=t.style,o=t.id,s=t.active,a=t.animated,l=t.destroyInactiveTabPane,c=t.tabKey,u=t.children,f=T.exports.useState(n),d=Ke(f,2),h=d[0],p=d[1];T.exports.useEffect(function(){s?p(!0):l&&p(!1)},[s,l]);var g={};return s||(a?(g.visibility="hidden",g.height=0,g.overflowY="hidden"):g.display="none"),D("div",{id:o&&"".concat(o,"-panel-").concat(c),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(c),"aria-hidden":!s,style:be(be({},g),i),className:at("".concat(e,"-tabpane"),s&&"".concat(e,"-tabpane-active"),r),children:(s||h||n)&&u})}var wct=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],uZ=0;function Cct(t){return G0(t).map(function(e){if(T.exports.isValidElement(e)){var n=e.key!==void 0?String(e.key):void 0;return be(be({key:n},e.props),{},{node:e})}return null}).filter(function(e){return e})}function Sct(t,e){var n,r=t.id,i=t.prefixCls,o=i===void 0?"rc-tabs":i,s=t.className,a=t.children,l=t.direction,c=t.activeKey,u=t.defaultActiveKey,f=t.editable,d=t.animated,h=d===void 0?{inkBar:!0,tabPane:!1}:d,p=t.tabPosition,g=p===void 0?"top":p,m=t.tabBarGutter,y=t.tabBarStyle,b=t.tabBarExtraContent,C=t.locale,E=t.moreIcon,_=t.moreTransitionName,w=t.destroyInactiveTabPane,M=t.renderTabBar,k=t.onChange,I=t.onTabClick,A=t.onTabScroll,N=t.getPopupContainer,$=t.popupClassName,L=_i(t,wct),B=Cct(a),j=l==="rtl",H;h===!1?H={inkBar:!1,tabPane:!1}:h===!0?H={inkBar:!0,tabPane:!0}:H=be({inkBar:!0,tabPane:!1},Ar(h)==="object"?h:{});var te=T.exports.useState(!1),Y=Ke(te,2),ue=Y[0],ce=Y[1];T.exports.useEffect(function(){ce(TD())},[]);var se=Gs(function(){var Ve;return(Ve=B[0])===null||Ve===void 0?void 0:Ve.key},{value:c,defaultValue:u}),fe=Ke(se,2),me=fe[0],K=fe[1],le=T.exports.useState(function(){return B.findIndex(function(Ve){return Ve.key===me})}),Ne=Ke(le,2),Re=Ne[0],Je=Ne[1];T.exports.useEffect(function(){var Ve=B.findIndex(function(Ct){return Ct.key===me});if(Ve===-1){var $t;Ve=Math.max(0,Math.min(Re,B.length-1)),K(($t=B[Ve])===null||$t===void 0?void 0:$t.key)}Je(Ve)},[B.map(function(Ve){return Ve.key}).join("_"),me,Re]);var $e=Gs(null,{value:r}),tt=Ke($e,2),Pt=tt[0],bt=tt[1],X=g;ue&&!["left","right"].includes(g)&&(X="top"),T.exports.useEffect(function(){r||(bt("rc-tabs-".concat(uZ)),uZ+=1)},[]);function ve(Ve,$t){I==null||I(Ve,$t);var Ct=Ve!==me;K(Ve),Ct&&(k==null||k(Ve))}var ne={id:Pt,activeKey:me,animated:H,tabPosition:X,rtl:j,mobile:ue},ke,je=be(be({},ne),{},{editable:f,locale:C,moreIcon:E,moreTransitionName:_,tabBarGutter:m,onTabClick:ve,onTabScroll:A,extra:b,style:y,panes:a,getPopupContainer:N,popupClassName:$});return M?ke=M(je,cZ):ke=D(cZ,{...je}),D(n7.Provider,{value:{tabs:B,prefixCls:o},children:_t("div",{ref:e,id:r,className:at(o,"".concat(o,"-").concat(X),(n={},V(n,"".concat(o,"-mobile"),ue),V(n,"".concat(o,"-editable"),f),V(n,"".concat(o,"-rtl"),j),n),s),...L,children:[ke,D(xct,{destroyInactiveTabPane:w,...ne,animated:H})]})})}var gfe=T.exports.forwardRef(Sct);gfe.TabPane=pfe;var Ect=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function iE(t){var e=t.type,n=t.className,r=t.size,i=t.onEdit,o=t.hideAdd,s=t.centered,a=t.addIcon,l=Ect(t,["type","className","size","onEdit","hideAdd","centered","addIcon"]),c=l.prefixCls,u=l.moreIcon,f=u===void 0?D(nNe,{}):u,d=T.exports.useContext(ui),h=d.getPrefixCls,p=d.direction,g=h("tabs",c),m;e==="editable-card"&&(m={onEdit:function(C,E){var _=E.key,w=E.event;i==null||i(C==="add"?w:_,C)},removeIcon:D(TE,{}),addIcon:a||D(jNe,{}),showAdd:o!==!0});var y=h();return D(mf.Consumer,{children:function(b){var C,E=r!==void 0?r:b;return D(gfe,{direction:p,moreTransitionName:"".concat(y,"-slide-up"),...l,className:at((C={},V(C,"".concat(g,"-").concat(E),E),V(C,"".concat(g,"-card"),["card","editable-card"].includes(e)),V(C,"".concat(g,"-editable-card"),e==="editable-card"),V(C,"".concat(g,"-centered"),s),C),n),editable:m,moreIcon:f,prefixCls:g})}})}iE.TabPane=pfe;var _ct=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Tct=function(e){var n=e.prefixCls,r=e.className,i=e.hoverable,o=i===void 0?!0:i,s=_ct(e,["prefixCls","className","hoverable"]);return D(rg,{children:function(a){var l=a.getPrefixCls,c=l("card",n),u=at("".concat(c,"-grid"),r,V({},"".concat(c,"-grid-hoverable"),o));return D("div",{...s,className:u})}})};const vfe=Tct;var Pct=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Oct(t){var e=t.map(function(n,r){return D("li",{style:{width:"".concat(100/t.length,"%")},children:D("span",{children:n})},"action-".concat(r))});return e}var Mct=T.exports.forwardRef(function(t,e){var n,r,i=T.exports.useContext(ui),o=i.getPrefixCls,s=i.direction,a=T.exports.useContext(mf),l=function(Pt){var bt;(bt=t.onTabChange)===null||bt===void 0||bt.call(t,Pt)},c=function(){var Pt;return T.exports.Children.forEach(t.children,function(bt){bt&&bt.type&&bt.type===vfe&&(Pt=!0)}),Pt},u=t.prefixCls,f=t.className,d=t.extra,h=t.headStyle,p=h===void 0?{}:h,g=t.bodyStyle,m=g===void 0?{}:g,y=t.title,b=t.loading,C=t.bordered,E=C===void 0?!0:C,_=t.size,w=t.type,M=t.cover,k=t.actions,I=t.tabList,A=t.children,N=t.activeTabKey,$=t.defaultActiveTabKey,L=t.tabBarExtraContent,B=t.hoverable,j=t.tabProps,H=j===void 0?{}:j,te=Pct(t,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),Y=o("card",u),ue=D(ect,{loading:!0,active:!0,paragraph:{rows:4},title:!1,children:A}),ce=N!==void 0,se=Lt(Lt({},H),(n={},V(n,ce?"activeKey":"defaultActiveKey",ce?N:$),V(n,"tabBarExtraContent",L),n)),fe,me=I&&I.length?D(iE,{size:"large",...se,className:"".concat(Y,"-head-tabs"),onChange:l,children:I.map(function(tt){return D(iE.TabPane,{tab:tt.tab,disabled:tt.disabled},tt.key)})}):null;(y||d||me)&&(fe=_t("div",{className:"".concat(Y,"-head"),style:p,children:[_t("div",{className:"".concat(Y,"-head-wrapper"),children:[y&&D("div",{className:"".concat(Y,"-head-title"),children:y}),d&&D("div",{className:"".concat(Y,"-extra"),children:d})]}),me]}));var K=M?D("div",{className:"".concat(Y,"-cover"),children:M}):null,le=D("div",{className:"".concat(Y,"-body"),style:m,children:b?ue:A}),Ne=k&&k.length?D("ul",{className:"".concat(Y,"-actions"),children:Oct(k)}):null,Re=Ja(te,["onTabChange"]),Je=_||a,$e=at(Y,(r={},V(r,"".concat(Y,"-loading"),b),V(r,"".concat(Y,"-bordered"),E),V(r,"".concat(Y,"-hoverable"),B),V(r,"".concat(Y,"-contain-grid"),c()),V(r,"".concat(Y,"-contain-tabs"),I&&I.length),V(r,"".concat(Y,"-").concat(Je),Je),V(r,"".concat(Y,"-type-").concat(w),!!w),V(r,"".concat(Y,"-rtl"),s==="rtl"),r),f);return _t("div",{ref:e,...Re,className:$e,children:[fe,K,le,Ne]})});const Act=Mct;var kct=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Dct=function(e){return D(rg,{children:function(n){var r=n.getPrefixCls,i=e.prefixCls,o=e.className,s=e.avatar,a=e.title,l=e.description,c=kct(e,["prefixCls","className","avatar","title","description"]),u=r("card",i),f=at("".concat(u,"-meta"),o),d=s?D("div",{className:"".concat(u,"-meta-avatar"),children:s}):null,h=a?D("div",{className:"".concat(u,"-meta-title"),children:a}):null,p=l?D("div",{className:"".concat(u,"-meta-description"),children:l}):null,g=h||p?_t("div",{className:"".concat(u,"-meta-detail"),children:[h,p]}):null;return _t("div",{...c,className:f,children:[d,g]})}})};const Nct=Dct;var r7=Act;r7.Grid=vfe;r7.Meta=Nct;const Rct=r7;var Ict=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},mfe=T.exports.createContext(null),$ct=function(e,n){var r=e.defaultValue,i=e.children,o=e.options,s=o===void 0?[]:o,a=e.prefixCls,l=e.className,c=e.style,u=e.onChange,f=Ict(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),d=T.exports.useContext(ui),h=d.getPrefixCls,p=d.direction,g=T.exports.useState(f.value||r||[]),m=Ke(g,2),y=m[0],b=m[1],C=T.exports.useState([]),E=Ke(C,2),_=E[0],w=E[1];T.exports.useEffect(function(){"value"in f&&b(f.value||[])},[f.value]);var M=function(){return s.map(function(te){return typeof te=="string"||typeof te=="number"?{label:te,value:te}:te})},k=function(te){w(function(Y){return Y.filter(function(ue){return ue!==te})})},I=function(te){w(function(Y){return[].concat(un(Y),[te])})},A=function(te){var Y=y.indexOf(te.value),ue=un(y);Y===-1?ue.push(te.value):ue.splice(Y,1),"value"in f||b(ue);var ce=M();u==null||u(ue.filter(function(se){return _.indexOf(se)!==-1}).sort(function(se,fe){var me=ce.findIndex(function(le){return le.value===se}),K=ce.findIndex(function(le){return le.value===fe});return me-K}))},N=h("checkbox",a),$="".concat(N,"-group"),L=Ja(f,["value","disabled"]);s&&s.length>0&&(i=M().map(function(H){return D(yfe,{prefixCls:N,disabled:"disabled"in H?H.disabled:f.disabled,value:H.value,checked:y.indexOf(H.value)!==-1,onChange:H.onChange,className:"".concat($,"-item"),style:H.style,children:H.label},H.value.toString())}));var B={toggleOption:A,value:y,disabled:f.disabled,name:f.name,registerValue:I,cancelValue:k},j=at($,V({},"".concat($,"-rtl"),p==="rtl"),l);return D("div",{className:j,style:c,...L,ref:n,children:D(mfe.Provider,{value:B,children:i})})},Lct=T.exports.forwardRef($ct);const Fct=T.exports.memo(Lct);var zct=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Gct=function(e,n){var r,i=e.prefixCls,o=e.className,s=e.children,a=e.indeterminate,l=a===void 0?!1:a,c=e.style,u=e.onMouseEnter,f=e.onMouseLeave,d=e.skipGroup,h=d===void 0?!1:d,p=e.disabled,g=zct(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),m=T.exports.useContext(ui),y=m.getPrefixCls,b=m.direction,C=T.exports.useContext(mfe),E=T.exports.useContext(Nc),_=E.isFormItemInput,w=T.exports.useContext(ig),M=p||(C==null?void 0:C.disabled)||w,k=T.exports.useRef(g.value);T.exports.useEffect(function(){C==null||C.registerValue(g.value)},[]),T.exports.useEffect(function(){if(!h)return g.value!==k.current&&(C==null||C.cancelValue(k.current),C==null||C.registerValue(g.value),k.current=g.value),function(){return C==null?void 0:C.cancelValue(g.value)}},[g.value]);var I=y("checkbox",i),A=Lt({},g);C&&!h&&(A.onChange=function(){g.onChange&&g.onChange.apply(g,arguments),C.toggleOption&&C.toggleOption({label:s,value:g.value})},A.name=C.name,A.checked=C.value.indexOf(g.value)!==-1);var N=at((r={},V(r,"".concat(I,"-wrapper"),!0),V(r,"".concat(I,"-rtl"),b==="rtl"),V(r,"".concat(I,"-wrapper-checked"),A.checked),V(r,"".concat(I,"-wrapper-disabled"),M),V(r,"".concat(I,"-wrapper-in-form-item"),_),r),o),$=at(V({},"".concat(I,"-indeterminate"),l)),L=l?"mixed":void 0;return _t("label",{className:N,style:c,onMouseEnter:u,onMouseLeave:f,children:[D(lfe,{"aria-checked":L,...A,prefixCls:I,className:$,disabled:M,ref:n}),s!==void 0&&D("span",{children:s})]})},Bct=T.exports.forwardRef(Gct);const yfe=Bct;var i7=yfe;i7.Group=Fct;i7.__ANT_CHECKBOX=!0;const jct=i7;var Vct=T.exports.createContext({});const bfe=Vct;var Uct=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hct(t){return typeof t=="number"?"".concat(t," ").concat(t," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 ".concat(t):t}var Wct=["xs","sm","md","lg","xl","xxl"],Yct=T.exports.forwardRef(function(t,e){var n,r=T.exports.useContext(ui),i=r.getPrefixCls,o=r.direction,s=T.exports.useContext(bfe),a=s.gutter,l=s.wrap,c=s.supportFlexGap,u=t.prefixCls,f=t.span,d=t.order,h=t.offset,p=t.push,g=t.pull,m=t.className,y=t.children,b=t.flex,C=t.style,E=Uct(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),_=i("col",u),w={};Wct.forEach(function(N){var $,L={},B=t[N];typeof B=="number"?L.span=B:Ar(B)==="object"&&(L=B||{}),delete E[N],w=Lt(Lt({},w),($={},V($,"".concat(_,"-").concat(N,"-").concat(L.span),L.span!==void 0),V($,"".concat(_,"-").concat(N,"-order-").concat(L.order),L.order||L.order===0),V($,"".concat(_,"-").concat(N,"-offset-").concat(L.offset),L.offset||L.offset===0),V($,"".concat(_,"-").concat(N,"-push-").concat(L.push),L.push||L.push===0),V($,"".concat(_,"-").concat(N,"-pull-").concat(L.pull),L.pull||L.pull===0),V($,"".concat(_,"-rtl"),o==="rtl"),$))});var M=at(_,(n={},V(n,"".concat(_,"-").concat(f),f!==void 0),V(n,"".concat(_,"-order-").concat(d),d),V(n,"".concat(_,"-offset-").concat(h),h),V(n,"".concat(_,"-push-").concat(p),p),V(n,"".concat(_,"-pull-").concat(g),g),n),m,w),k={};if(a&&a[0]>0){var I=a[0]/2;k.paddingLeft=I,k.paddingRight=I}if(a&&a[1]>0&&!c){var A=a[1]/2;k.paddingTop=A,k.paddingBottom=A}return b&&(k.flex=Hct(b),l===!1&&!k.minWidth&&(k.minWidth=0)),D("div",{...E,style:Lt(Lt({},k),C),className:M,ref:e,children:y})});const xfe=Yct;var wfe=function(){return bh()&&window.document.documentElement},tO,qct=function(){if(!wfe())return!1;if(tO!==void 0)return tO;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),tO=e.scrollHeight===1,document.body.removeChild(e),tO};const Xct=function(){var t=T.exports.useState(!1),e=Ke(t,2),n=e[0],r=e[1];return T.exports.useEffect(function(){r(qct())},[]),n};var Kct=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Su("top","middle","bottom","stretch");Su("start","end","center","space-around","space-between","space-evenly");var Zct=T.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.justify,o=t.align,s=t.className,a=t.style,l=t.children,c=t.gutter,u=c===void 0?0:c,f=t.wrap,d=Kct(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),h=T.exports.useContext(ui),p=h.getPrefixCls,g=h.direction,m=T.exports.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),y=Ke(m,2),b=y[0],C=y[1],E=Xct(),_=T.exports.useRef(u);T.exports.useEffect(function(){var Y=NK.subscribe(function(ue){var ce=_.current||0;(!Array.isArray(ce)&&Ar(ce)==="object"||Array.isArray(ce)&&(Ar(ce[0])==="object"||Ar(ce[1])==="object"))&&C(ue)});return function(){return NK.unsubscribe(Y)}},[]);var w=function(){var ue=[void 0,void 0],ce=Array.isArray(u)?u:[u,void 0];return ce.forEach(function(se,fe){if(Ar(se)==="object")for(var me=0;me<DK.length;me++){var K=DK[me];if(b[K]&&se[K]!==void 0){ue[fe]=se[K];break}}else ue[fe]=se}),ue},M=p("row",r),k=w(),I=at(M,(n={},V(n,"".concat(M,"-no-wrap"),f===!1),V(n,"".concat(M,"-").concat(i),i),V(n,"".concat(M,"-").concat(o),o),V(n,"".concat(M,"-rtl"),g==="rtl"),n),s),A={},N=k[0]!=null&&k[0]>0?k[0]/-2:void 0,$=k[1]!=null&&k[1]>0?k[1]/-2:void 0;if(N&&(A.marginLeft=N,A.marginRight=N),E){var L=Ke(k,2);A.rowGap=L[1]}else $&&(A.marginTop=$,A.marginBottom=$);var B=Ke(k,2),j=B[0],H=B[1],te=T.exports.useMemo(function(){return{gutter:[j,H],wrap:f,supportFlexGap:E}},[j,H,f,E]);return D(bfe.Provider,{value:te,children:D("div",{...d,className:I,style:Lt(Lt({},A),a),ref:e,children:l})})});const Qct=Zct;function Jct(t){return D(Hv,{size:"small",type:"primary",...t})}var eut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},tut=function(e){var n,r=e.prefixCls,i=e.className,o=e.checked,s=e.onChange,a=e.onClick,l=eut(e,["prefixCls","className","checked","onChange","onClick"]),c=T.exports.useContext(ui),u=c.getPrefixCls,f=function(g){s==null||s(!o),a==null||a(g)},d=u("tag",r),h=at(d,(n={},V(n,"".concat(d,"-checkable"),!0),V(n,"".concat(d,"-checkable-checked"),o),n),i);return D("span",{...l,className:h,onClick:f})};const nut=tut;var rut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},iut=new RegExp("^(".concat(kce.join("|"),")(-inverse)?$")),out=new RegExp("^(".concat(Ant.join("|"),")$")),sut=function(e,n){var r,i=e.prefixCls,o=e.className,s=e.style,a=e.children,l=e.icon,c=e.color,u=e.onClose,f=e.closeIcon,d=e.closable,h=d===void 0?!1:d,p=rut(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),g=T.exports.useContext(ui),m=g.getPrefixCls,y=g.direction,b=T.exports.useState(!0),C=Ke(b,2),E=C[0],_=C[1];T.exports.useEffect(function(){"visible"in p&&_(p.visible)},[p.visible]);var w=function(){return c?iut.test(c)||out.test(c):!1},M=Lt({backgroundColor:c&&!w()?c:void 0},s),k=w(),I=m("tag",i),A=at(I,(r={},V(r,"".concat(I,"-").concat(c),k),V(r,"".concat(I,"-has-color"),c&&!k),V(r,"".concat(I,"-hidden"),!E),V(r,"".concat(I,"-rtl"),y==="rtl"),r),o),N=function(ue){ue.stopPropagation(),u==null||u(ue),!ue.defaultPrevented&&("visible"in p||_(!1))},$=function(){return h?f?D("span",{className:"".concat(I,"-close-icon"),onClick:N,children:f}):D(TE,{className:"".concat(I,"-close-icon"),onClick:N}):null},L="onClick"in p||a&&a.type==="a",B=Ja(p,["visible"]),j=l||null,H=j?_t(Xi,{children:[j,D("span",{children:a})]}):a,te=_t("span",{...B,ref:n,className:A,style:M,children:[H,$()]});return L?D(Kce,{children:te}):te},Cfe=T.exports.forwardRef(sut);Cfe.CheckableTag=nut;const aut=Cfe;function lut(t){return D(aut,{color:"blue",...t})}function cut(t,e,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function uut(t,e,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function Sfe(t,e){var n={adjustX:1,adjustY:1};switch(e){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return t==="rtl"?{points:["tr","br"],offset:[0,4],overflow:n}:{points:["tl","bl"],offset:[0,4],overflow:n}}}var fut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dut(t){var e=T.exports.forwardRef(function(n,r){var i=n.prefixCls,o=n.getPopupContainer,s=n.className,a=n.placement,l=n.size,c=n.disabled,u=n.bordered,f=u===void 0?!0:u,d=n.placeholder,h=n.status,p=fut(n,["prefixCls","getPopupContainer","className","placement","size","disabled","bordered","placeholder","status"]),g=T.exports.useRef(null),m=T.exports.useContext(ui),y=m.getPrefixCls,b=m.direction,C=m.getPopupContainer,E=y("picker",i),_=n.format,w=n.showTime,M=n.picker,k=y(),I={};I=Lt(Lt(Lt({},I),w?VA(Lt({format:_,picker:M},w)):{}),M==="time"?VA(Lt(Lt({format:_},n),{picker:M})):{});var A=T.exports.useContext(mf),N=l||A,$=T.exports.useContext(ig),L=c||$,B=T.exports.useContext(Nc),j=B.hasFeedback,H=B.status,te=B.feedbackIcon,Y=_t(Xi,{children:[M==="time"?D(bie,{}):D(fie,{}),j&&te]});return T.exports.useImperativeHandle(r,function(){return{focus:function(){var ce;return(ce=g.current)===null||ce===void 0?void 0:ce.focus()},blur:function(){var ce;return(ce=g.current)===null||ce===void 0?void 0:ce.blur()}}}),D(tg,{componentName:"DatePicker",defaultLocale:TA,children:function(ue){var ce,se=Lt(Lt({},ue),n.locale);return D(Llt,{separator:D("span",{"aria-label":"to",className:"".concat(E,"-separator"),children:D(iRe,{})}),disabled:L,ref:g,dropdownAlign:Sfe(b,a),placeholder:uut(M,se,d),suffixIcon:Y,clearIcon:D(Q0,{}),prevIcon:D("span",{className:"".concat(E,"-prev-icon")}),nextIcon:D("span",{className:"".concat(E,"-next-icon")}),superPrevIcon:D("span",{className:"".concat(E,"-super-prev-icon")}),superNextIcon:D("span",{className:"".concat(E,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(k,"-slide-up"),...p,...I,className:at((ce={},V(ce,"".concat(E,"-").concat(N),N),V(ce,"".concat(E,"-borderless"),!f),ce),cf(E,ly(H,h),j),s),locale:se.lang,prefixCls:E,getPopupContainer:o||C,generateConfig:t,components:Efe,direction:b})}})});return e}var hut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function put(t){function e(l,c){var u=T.exports.forwardRef(function(f,d){var h=f.prefixCls,p=f.getPopupContainer,g=f.className,m=f.size,y=f.bordered,b=y===void 0?!0:y,C=f.placement,E=f.placeholder,_=f.disabled,w=f.status,M=hut(f,["prefixCls","getPopupContainer","className","size","bordered","placement","placeholder","disabled","status"]),k=T.exports.useContext(ui),I=k.getPrefixCls,A=k.direction,N=k.getPopupContainer,$=I("picker",h),L=T.exports.useRef(null),B=f.format,j=f.showTime;T.exports.useImperativeHandle(d,function(){return{focus:function(){var tt;return(tt=L.current)===null||tt===void 0?void 0:tt.focus()},blur:function(){var tt;return(tt=L.current)===null||tt===void 0?void 0:tt.blur()}}});var H={showToday:!0},te={};l&&(te.picker=l);var Y=l||f.picker;te=Lt(Lt(Lt({},te),j?VA(Lt({format:B,picker:Y},j)):{}),Y==="time"?VA(Lt(Lt({format:B},f),{picker:Y})):{});var ue=I(),ce=T.exports.useContext(mf),se=m||ce,fe=T.exports.useContext(ig),me=_||fe,K=T.exports.useContext(Nc),le=K.hasFeedback,Ne=K.status,Re=K.feedbackIcon,Je=_t(Xi,{children:[Y==="time"?D(bie,{}):D(fie,{}),le&&Re]});return D(tg,{componentName:"DatePicker",defaultLocale:TA,children:function($e){var tt,Pt=Lt(Lt({},$e),f.locale);return D(klt,{ref:L,placeholder:cut(Y,Pt,E),suffixIcon:Je,dropdownAlign:Sfe(A,C),clearIcon:D(Q0,{}),prevIcon:D("span",{className:"".concat($,"-prev-icon")}),nextIcon:D("span",{className:"".concat($,"-next-icon")}),superPrevIcon:D("span",{className:"".concat($,"-super-prev-icon")}),superNextIcon:D("span",{className:"".concat($,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(ue,"-slide-up"),...H,...M,...te,locale:Pt.lang,className:at((tt={},V(tt,"".concat($,"-").concat(se),se),V(tt,"".concat($,"-borderless"),!b),tt),cf($,ly(Ne,w),le),g),prefixCls:$,getPopupContainer:p||N,generateConfig:t,components:Efe,direction:A,disabled:me})}})});return c&&(u.displayName=c),u}var n=e(),r=e("week","WeekPicker"),i=e("month","MonthPicker"),o=e("year","YearPicker"),s=e("time","TimePicker"),a=e("quarter","QuarterPicker");return{DatePicker:n,WeekPicker:r,MonthPicker:i,YearPicker:o,TimePicker:s,QuarterPicker:a}}var Efe={button:Jct,rangeItem:lut};function gut(t){return t?Array.isArray(t)?t:[t]:[]}function VA(t){var e=t.format,n=t.picker,r=t.showHour,i=t.showMinute,o=t.showSecond,s=t.use12Hours,a=gut(e)[0],l=Lt({},t);return a&&typeof a=="string"&&(!a.includes("s")&&o===void 0&&(l.showSecond=!1),!a.includes("m")&&i===void 0&&(l.showMinute=!1),!a.includes("H")&&!a.includes("h")&&r===void 0&&(l.showHour=!1),(a.includes("a")||a.includes("A"))&&s===void 0&&(l.use12Hours=!0)),n==="time"?l:(typeof a=="function"&&delete l.format,{showTime:l})}Su("bottomLeft","bottomRight","topLeft","topRight");function vut(t){var e=put(t),n=e.DatePicker,r=e.WeekPicker,i=e.MonthPicker,o=e.YearPicker,s=e.TimePicker,a=e.QuarterPicker,l=dut(t),c=n;return c.WeekPicker=r,c.MonthPicker=i,c.YearPicker=o,c.RangePicker=l,c.TimePicker=s,c.QuarterPicker=a,c}var mut=vut(Nat);const yut=mut;var t4;function _fe(t){if(typeof document>"u")return 0;if(t||t4===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),t4=i-o}return t4}function f2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t)return{};var n=e.element,r=n===void 0?document.body:n,i={},o=Object.keys(t);return o.forEach(function(s){i[s]=r.style[s]}),o.forEach(function(s){r.style[s]=t[s]}),i}function but(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var n4={};const fZ=function(t){if(!(!but()&&!t)){var e="ant-scrolling-effect",n=new RegExp("".concat(e),"g"),r=document.body.className;if(t){if(!n.test(r))return;f2(n4),n4={},document.body.className=r.replace(n,"").trim();return}var i=_fe();if(i&&(n4=f2({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(e);document.body.className=o.trim()}}};var Wu=[],Tfe="ant-scrolling-effect",r4=new RegExp("".concat(Tfe),"g"),xut=0,i4=new Map,wut=Rn(function t(e){var n=this;Cn(this,t),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var r;return(r=n.options)===null||r===void 0?void 0:r.container},this.reLock=function(r){var i=Wu.find(function(o){var s=o.target;return s===n.lockTarget});i&&n.unLock(),n.options=r,i&&(i.options=r,n.lock())},this.lock=function(){var r;if(!Wu.some(function(l){var c=l.target;return c===n.lockTarget})){if(Wu.some(function(l){var c,u=l.options;return(u==null?void 0:u.container)===((c=n.options)===null||c===void 0?void 0:c.container)})){Wu=[].concat(un(Wu),[{target:n.lockTarget,options:n.options}]);return}var i=0,o=((r=n.options)===null||r===void 0?void 0:r.container)||document.body;(o===document.body&&window.innerWidth-document.documentElement.clientWidth>0||o.scrollHeight>o.clientHeight)&&(i=_fe());var s=o.className;if(Wu.filter(function(l){var c,u=l.options;return(u==null?void 0:u.container)===((c=n.options)===null||c===void 0?void 0:c.container)}).length===0&&i4.set(o,f2({width:i!==0?"calc(100% - ".concat(i,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:o})),!r4.test(s)){var a="".concat(s," ").concat(Tfe);o.className=a.trim()}Wu=[].concat(un(Wu),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var r,i=Wu.find(function(a){var l=a.target;return l===n.lockTarget});if(Wu=Wu.filter(function(a){var l=a.target;return l!==n.lockTarget}),!(!i||Wu.some(function(a){var l,c=a.options;return(c==null?void 0:c.container)===((l=i.options)===null||l===void 0?void 0:l.container)}))){var o=((r=n.options)===null||r===void 0?void 0:r.container)||document.body,s=o.className;!r4.test(s)||(f2(i4.get(o),{element:o}),i4.delete(o),o.className=o.className.replace(r4,"").trim())}},this.lockTarget=xut++,this.options=e}),cp=0,Nw=bh(),nO={},pb=function(e){if(!Nw)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Ar(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body},Cut=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.container=void 0,i.componentRef=T.exports.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(o){var s=o||{},a=s.visible,l=i.props,c=l.getContainer,u=l.visible;u&&u!==a&&Nw&&pb(c)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:pb(c)})},i.updateOpenCount=function(o){var s=o||{},a=s.visible,l=s.getContainer,c=i.props,u=c.visible,f=c.getContainer;u!==a&&Nw&&pb(f)===document.body&&(u&&!a?cp+=1:o&&(cp-=1));var d=typeof f=="function"&&typeof l=="function";(d?f.toString()!==l.toString():f!==l)&&i.removeCurrentContainer()},i.attachToParent=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(o||i.container&&!i.container.parentNode){var s=pb(i.props.getContainer);return s?(s.appendChild(i.container),!0):!1}return!0},i.getContainer=function(){return Nw?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var o=i.props.wrapperClassName;i.container&&o&&o!==i.container.className&&(i.container.className=o)},i.removeCurrentContainer=function(){var o,s;(o=i.container)===null||o===void 0||(s=o.parentNode)===null||s===void 0||s.removeChild(i.container)},i.switchScrollingEffect=function(){cp===1&&!Object.keys(nO).length?(fZ(),nO=f2({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):cp||(f2(nO),nO={},fZ(!0))},i.scrollLocker=new wut({container:pb(r.getContainer)}),i}return Rn(n,[{key:"componentDidMount",value:function(){var i=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=oi(function(){i.forceUpdate()}))}},{key:"componentDidUpdate",value:function(i){this.updateOpenCount(i),this.updateScrollLocker(i),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var i=this.props,o=i.visible,s=i.getContainer;Nw&&pb(s)===document.body&&(cp=o&&cp?cp-1:cp),this.removeCurrentContainer(),oi.cancel(this.rafId)}},{key:"render",value:function(){var i=this.props,o=i.children,s=i.forceRender,a=i.visible,l=null,c={getOpenCount:function(){return cp},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(s||a||this.componentRef.current)&&(l=D(Yle,{getContainer:this.getContainer,ref:this.componentRef,children:o(c)})),l}}]),n}(T.exports.Component);function UA(t){var e=T.exports.useState(t),n=Ke(e,2),r=n[0],i=n[1];return T.exports.useEffect(function(){var o=setTimeout(function(){i(t)},t.length?0:10);return function(){clearTimeout(o)}},[t]),r}var dZ=[];function o4(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof t=="string"?t:"".concat(n,"-").concat(r),error:t,errorStatus:e}}function Pfe(t){var e=t.help,n=t.helpStatus,r=t.errors,i=r===void 0?dZ:r,o=t.warnings,s=o===void 0?dZ:o,a=t.className,l=t.onVisibleChanged,c=T.exports.useContext(_z),u=c.prefixCls,f=T.exports.useContext(ui),d=f.getPrefixCls,h="".concat(u,"-item-explain"),p=d(),g=UA(i),m=UA(s),y=T.exports.useMemo(function(){return e!=null?[o4(e,n,"help")]:[].concat(un(g.map(function(b,C){return o4(b,"error","error",C)})),un(m.map(function(b,C){return o4(b,"warning","warning",C)})))},[e,n,g,m]);return D(ng,{motionDeadline:AK.motionDeadline,motionName:"".concat(p,"-show-help"),visible:!!y.length,onVisibleChanged:l,children:function(b){var C=b.className,E=b.style;return D("div",{className:at(h,C,a),style:E,children:D(ble,{keys:y,...AK,motionName:"".concat(p,"-show-help-item"),component:!1,children:function(_){var w=_.key,M=_.error,k=_.errorStatus,I=_.className,A=_.style;return D("div",{role:"alert",className:at(I,V({},"".concat(h,"-").concat(k),k)),style:A,children:M},w)}})})}})}function hZ(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function pZ(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function s4(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return pZ(n.overflowY,e)||pZ(n.overflowX,e)||function(r){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)}(t)}return!1}function rO(t,e,n,r,i,o,s,a){return o<t&&s>e||o>t&&s<e?0:o<=t&&a<=n||s>=e&&a>=n?o-t-r:s>e&&a<n||o<t&&a>n?s-e+i:0}function gZ(t,e){var n=window,r=e.scrollMode,i=e.block,o=e.inline,s=e.boundary,a=e.skipOverflowHiddenElements,l=typeof s=="function"?s:function(tt){return tt!==s};if(!hZ(t))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,u=[],f=t;hZ(f)&&l(f);){if((f=f.parentElement)===c){u.push(f);break}f!=null&&f===document.body&&s4(f)&&!s4(document.documentElement)||f!=null&&s4(f,a)&&u.push(f)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,m=t.getBoundingClientRect(),y=m.height,b=m.width,C=m.top,E=m.right,_=m.bottom,w=m.left,M=i==="start"||i==="nearest"?C:i==="end"?_:C+y/2,k=o==="center"?w+b/2:o==="end"?E:w,I=[],A=0;A<u.length;A++){var N=u[A],$=N.getBoundingClientRect(),L=$.height,B=$.width,j=$.top,H=$.right,te=$.bottom,Y=$.left;if(r==="if-needed"&&C>=0&&w>=0&&_<=h&&E<=d&&C>=j&&_<=te&&w>=Y&&E<=H)return I;var ue=getComputedStyle(N),ce=parseInt(ue.borderLeftWidth,10),se=parseInt(ue.borderTopWidth,10),fe=parseInt(ue.borderRightWidth,10),me=parseInt(ue.borderBottomWidth,10),K=0,le=0,Ne="offsetWidth"in N?N.offsetWidth-N.clientWidth-ce-fe:0,Re="offsetHeight"in N?N.offsetHeight-N.clientHeight-se-me:0;if(c===N)K=i==="start"?M:i==="end"?M-h:i==="nearest"?rO(g,g+h,h,se,me,g+M,g+M+y,y):M-h/2,le=o==="start"?k:o==="center"?k-d/2:o==="end"?k-d:rO(p,p+d,d,ce,fe,p+k,p+k+b,b),K=Math.max(0,K+g),le=Math.max(0,le+p);else{K=i==="start"?M-j-se:i==="end"?M-te+me+Re:i==="nearest"?rO(j,te,L,se,me+Re,M,M+y,y):M-(j+L/2)+Re/2,le=o==="start"?k-Y-ce:o==="center"?k-(Y+B/2)+Ne/2:o==="end"?k-H+fe+Ne:rO(Y,H,B,ce,fe+Ne,k,k+b,b);var Je=N.scrollLeft,$e=N.scrollTop;M+=$e-(K=Math.max(0,Math.min($e+K,N.scrollHeight-L+Re))),k+=Je-(le=Math.max(0,Math.min(Je+le,N.scrollWidth-B+Ne)))}I.push({el:N,top:K,left:le})}return I}function Ofe(t){return t===Object(t)&&Object.keys(t).length!==0}function Sut(t,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach(function(r){var i=r.el,o=r.top,s=r.left;i.scroll&&n?i.scroll({top:o,left:s,behavior:e}):(i.scrollTop=o,i.scrollLeft=s)})}function Eut(t){return t===!1?{block:"end",inline:"nearest"}:Ofe(t)?t:{block:"start",inline:"nearest"}}function _ut(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(Ofe(e)&&typeof e.behavior=="function")return e.behavior(n?gZ(t,e):[]);if(!!n){var r=Eut(e);return Sut(gZ(t,r),r.behavior)}}var Tut=["parentNode"],Put="form_item";function mC(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function Mfe(t,e){if(!!t.length){var n=t.join("_");if(e)return"".concat(e,"_").concat(n);var r=Tut.indexOf(n)>=0;return r?"".concat(Put,"_").concat(n):n}}function vZ(t){var e=mC(t);return e.join("_")}function Afe(t){var e=oz(),n=Ke(e,1),r=n[0],i=T.exports.useRef({}),o=T.exports.useMemo(function(){return t!=null?t:Lt(Lt({},r),{__INTERNAL__:{itemRef:function(a){return function(l){var c=vZ(a);l?i.current[c]=l:delete i.current[c]}}},scrollToField:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=mC(a),u=Mfe(c,o.__INTERNAL__.name),f=u?document.getElementById(u):null;f&&_ut(f,Lt({scrollMode:"if-needed",block:"nearest"},l))},getFieldInstance:function(a){var l=vZ(a);return i.current[l]}})},[t,r]);return[o]}var Out=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Mut=function(e,n){var r,i=T.exports.useContext(mf),o=T.exports.useContext(ig),s=T.exports.useContext(ui),a=s.getPrefixCls,l=s.direction,c=s.form,u=e.prefixCls,f=e.className,d=f===void 0?"":f,h=e.size,p=h===void 0?i:h,g=e.disabled,m=g===void 0?o:g,y=e.form,b=e.colon,C=e.labelAlign,E=e.labelWrap,_=e.labelCol,w=e.wrapperCol,M=e.hideRequiredMark,k=e.layout,I=k===void 0?"horizontal":k,A=e.scrollToFirstError,N=e.requiredMark,$=e.onFinishFailed,L=e.name,B=Out(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),j=T.exports.useMemo(function(){return N!==void 0?N:c&&c.requiredMark!==void 0?c.requiredMark:!M},[M,N,c]),H=b!=null?b:c==null?void 0:c.colon,te=a("form",u),Y=at(te,(r={},V(r,"".concat(te,"-").concat(I),!0),V(r,"".concat(te,"-hide-required-mark"),j===!1),V(r,"".concat(te,"-rtl"),l==="rtl"),V(r,"".concat(te,"-").concat(p),p),r),d),ue=Afe(y),ce=Ke(ue,1),se=ce[0],fe=se.__INTERNAL__;fe.name=L;var me=T.exports.useMemo(function(){return{name:L,labelAlign:C,labelCol:_,labelWrap:E,wrapperCol:w,vertical:I==="vertical",colon:H,requiredMark:j,itemRef:fe.itemRef,form:se}},[L,C,_,w,I,H,j,se]);T.exports.useImperativeHandle(n,function(){return se});var K=function(Ne){$==null||$(Ne);var Re={block:"nearest"};A&&Ne.errorFields.length&&(Ar(A)==="object"&&(Re=A),se.scrollToField(Ne.errorFields[0].name,Re))};return D(Vle,{disabled:m,children:D(Ule,{size:p,children:D(Uv.Provider,{value:me,children:D(N2,{id:L,...B,name:L,onFinishFailed:K,form:se,className:Y})})})})},Aut=T.exports.forwardRef(Mut);const kut=Aut;var Dut=function(){var e=T.exports.useContext(Nc),n=e.status;return{status:n}};const Nut=Dut;function Rut(t){var e=T.exports.useState(t),n=Ke(e,2),r=n[0],i=n[1],o=T.exports.useRef(null),s=T.exports.useRef([]),a=T.exports.useRef(!1);T.exports.useEffect(function(){return a.current=!1,function(){a.current=!0,oi.cancel(o.current),o.current=null}},[]);function l(c){a.current||(o.current===null&&(s.current=[],o.current=oi(function(){o.current=null,i(function(u){var f=u;return s.current.forEach(function(d){f=d(f)}),f})})),s.current.push(c))}return[r,l]}function Iut(){var t=T.exports.useContext(Uv),e=t.itemRef,n=T.exports.useRef({});function r(i,o){var s=o&&Ar(o)==="object"&&o.ref,a=i.join("_");return(n.current.name!==a||n.current.originRef!==s)&&(n.current.name=a,n.current.originRef=s,n.current.ref=gd(e(i),s)),n.current.ref}return r}var $ut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Lut(t){return t?Ar(t)==="object"&&!T.exports.isValidElement(t)?t:{title:t}:null}var Fut=function(e){var n=e.prefixCls,r=e.label,i=e.htmlFor,o=e.labelCol,s=e.labelAlign,a=e.colon,l=e.required,c=e.requiredMark,u=e.tooltip,f=FZe("Form"),d=Ke(f,1),h=d[0];return r?D(Uv.Consumer,{children:function(p){var g,m=p.vertical,y=p.labelAlign,b=p.labelCol,C=p.labelWrap,E=p.colon,_,w=o||b||{},M=s||y,k="".concat(n,"-item-label"),I=at(k,M==="left"&&"".concat(k,"-left"),w.className,V({},"".concat(k,"-wrap"),!!C)),A=r,N=a===!0||E!==!1&&a!==!1,$=N&&!m;$&&typeof r=="string"&&r.trim()!==""&&(A=r.replace(/[:|]\s*$/,""));var L=Lut(u);if(L){var B=L.icon,j=B===void 0?D(Cw,{}):B,H=$ut(L,["icon"]),te=D(GE,{...H,children:T.exports.cloneElement(j,{className:"".concat(n,"-item-tooltip"),title:""})});A=_t(Xi,{children:[A,te]})}c==="optional"&&!l&&(A=_t(Xi,{children:[A,D("span",{className:"".concat(n,"-item-optional"),title:"",children:(h==null?void 0:h.optional)||((_=Up.Form)===null||_===void 0?void 0:_.optional)})]}));var Y=at((g={},V(g,"".concat(n,"-item-required"),l),V(g,"".concat(n,"-item-required-mark-optional"),c==="optional"),V(g,"".concat(n,"-item-no-colon"),!N),g));return D(xfe,{...w,className:I,children:D("label",{htmlFor:i,className:Y,title:typeof r=="string"?r:"",children:A})})}},"label"):null};const zut=Fut;var Gut=function(e){var n=e.prefixCls,r=e.status,i=e.wrapperCol,o=e.children,s=e.errors,a=e.warnings,l=e._internalItemRender,c=e.extra,u=e.help,f=e.marginBottom,d=e.onErrorVisibleChanged,h="".concat(n,"-item"),p=T.exports.useContext(Uv),g=i||p.wrapperCol||{},m=at("".concat(h,"-control"),g.className),y=T.exports.useMemo(function(){return Lt({},p)},[p]);delete y.labelCol,delete y.wrapperCol;var b=D("div",{className:"".concat(h,"-control-input"),children:D("div",{className:"".concat(h,"-control-input-content"),children:o})}),C=T.exports.useMemo(function(){return{prefixCls:n,status:r}},[n,r]),E=f!==null||s.length||a.length?_t("div",{style:{display:"flex",flexWrap:"nowrap"},children:[D(_z.Provider,{value:C,children:D(Pfe,{errors:s,warnings:a,help:u,helpStatus:r,className:"".concat(h,"-explain-connected"),onVisibleChanged:d})}),!!f&&D("div",{style:{width:0,height:f}})]}):null,_=c?D("div",{className:"".concat(h,"-extra"),children:c}):null,w=l&&l.mark==="pro_table_render"&&l.render?l.render(e,{input:b,errorList:E,extra:_}):_t(Xi,{children:[b,E,_]});return D(Uv.Provider,{value:y,children:D(xfe,{...g,className:m,children:w})})};const But=Gut;var jut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Vut={success:gie,warning:u8,error:Q0,validating:sS};function Uut(t){var e,n=t.prefixCls,r=t.className,i=t.style,o=t.help,s=t.errors,a=t.warnings,l=t.validateStatus,c=t.meta,u=t.hasFeedback,f=t.hidden,d=t.children,h=t.fieldId,p=t.isRequired,g=t.onSubItemMetaChange,m=jut(t,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),y="".concat(n,"-item"),b=T.exports.useContext(Uv),C=b.requiredMark,E=T.exports.useRef(null),_=UA(s),w=UA(a),M=o!=null,k=!!(M||s.length||a.length),I=T.exports.useState(null),A=Ke(I,2),N=A[0],$=A[1];ad(function(){if(k&&E.current){var te=getComputedStyle(E.current);$(parseInt(te.marginBottom,10))}},[k]);var L=function(Y){Y||$(null)},B="";l!==void 0?B=l:c.validating?B="validating":_.length?B="error":w.length?B="warning":c.touched&&(B="success");var j=T.exports.useMemo(function(){var te;if(u){var Y=B&&Vut[B];te=Y?D("span",{className:at("".concat(y,"-feedback-icon"),"".concat(y,"-feedback-icon-").concat(B)),children:D(Y,{})}):null}return{status:B,hasFeedback:u,feedbackIcon:te,isFormItemInput:!0}},[B,u]),H=(e={},V(e,y,!0),V(e,"".concat(y,"-with-help"),M||_.length||w.length),V(e,"".concat(r),!!r),V(e,"".concat(y,"-has-feedback"),B&&u),V(e,"".concat(y,"-has-success"),B==="success"),V(e,"".concat(y,"-has-warning"),B==="warning"),V(e,"".concat(y,"-has-error"),B==="error"),V(e,"".concat(y,"-is-validating"),B==="validating"),V(e,"".concat(y,"-hidden"),f),e);return _t("div",{className:at(H),style:i,ref:E,children:[_t(Qct,{className:"".concat(y,"-row"),...Ja(m,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"]),children:[D(zut,{htmlFor:h,required:p,requiredMark:C,...t,prefixCls:n}),D(But,{...t,...c,errors:_,warnings:w,prefixCls:n,status:B,help:o,marginBottom:N,onErrorVisibleChanged:L,children:D(Oce.Provider,{value:g,children:D(Nc.Provider,{value:j,children:d})})})]}),!!N&&D("div",{className:"".concat(y,"-margin-offset"),style:{marginBottom:-N}})]})}var Hut="__SPLIT__";Su("success","warning","error","validating","");var Wut=T.exports.memo(function(t){var e=t.children;return e},function(t,e){return t.value===e.value&&t.update===e.update});function Yut(t){return t!=null}function mZ(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}}function qut(t){var e=t.name,n=t.noStyle,r=t.dependencies,i=t.prefixCls,o=t.shouldUpdate,s=t.rules,a=t.children,l=t.required,c=t.label,u=t.messageVariables,f=t.trigger,d=f===void 0?"onChange":f,h=t.validateTrigger,p=t.hidden,g=T.exports.useContext(ui),m=g.getPrefixCls,y=T.exports.useContext(Uv),b=y.name,C=typeof a=="function",E=T.exports.useContext(Oce),_=T.exports.useContext(j0),w=_.validateTrigger,M=h!==void 0?h:w,k=Yut(e),I=m("form",i),A=T.exports.useContext(Jae),N=T.exports.useRef(),$=Rut({}),L=Ke($,2),B=L[0],j=L[1],H=Rp(function(){return mZ()}),te=Ke(H,2),Y=te[0],ue=te[1],ce=function(tt){var Pt=A==null?void 0:A.getKey(tt.name);if(ue(tt.destroy?mZ():tt,!0),n&&E){var bt=tt.name;if(tt.destroy)bt=N.current||bt;else if(Pt!==void 0){var X=Ke(Pt,2),ve=X[0],ne=X[1];bt=[ve].concat(un(ne)),N.current=bt}E(tt,bt)}},se=function(tt,Pt){j(function(bt){var X=Lt({},bt),ve=[].concat(un(tt.name.slice(0,-1)),un(Pt)),ne=ve.join(Hut);return tt.destroy?delete X[ne]:X[ne]=tt,X})},fe=T.exports.useMemo(function(){var $e=un(Y.errors),tt=un(Y.warnings);return Object.values(B).forEach(function(Pt){$e.push.apply($e,un(Pt.errors||[])),tt.push.apply(tt,un(Pt.warnings||[]))}),[$e,tt]},[B,Y.errors,Y.warnings]),me=Ke(fe,2),K=me[0],le=me[1],Ne=Iut();function Re($e,tt,Pt){return n&&!p?$e:D(Uut,{...t,prefixCls:I,fieldId:tt,isRequired:Pt,errors:K,warnings:le,meta:Y,onSubItemMetaChange:se,children:$e},"row")}if(!k&&!C&&!r)return Re(a);var Je={};return typeof c=="string"?Je.label=c:e&&(Je.label=String(e)),u&&(Je=Lt(Lt({},Je),u)),D(iz,{...t,messageVariables:Je,trigger:d,validateTrigger:M,onMetaChange:ce,children:function($e,tt,Pt){var bt=mC(e).length&&tt?tt.name:[],X=Mfe(bt,b),ve=l!==void 0?l:!!(s&&s.some(function($t){if($t&&Ar($t)==="object"&&$t.required&&!$t.warningOnly)return!0;if(typeof $t=="function"){var Ct=$t(Pt);return Ct&&Ct.required&&!Ct.warningOnly}return!1})),ne=Lt({},$e),ke=null;if(Array.isArray(a)&&k)ke=a;else if(!(C&&(!(o||r)||k))){if(!(r&&!C&&!k))if(XS(a)){var je=Lt(Lt({},a.props),ne);je.id||(je.id=X),D2(a)&&(je.ref=Ne(bt,a));var Ve=new Set([].concat(un(mC(d)),un(mC(M))));Ve.forEach(function($t){je[$t]=function(){for(var Ct,ln,bn,Z,J,xe=arguments.length,Se=new Array(xe),ze=0;ze<xe;ze++)Se[ze]=arguments[ze];(bn=ne[$t])===null||bn===void 0||(Ct=bn).call.apply(Ct,[ne].concat(Se)),(J=(Z=a.props)[$t])===null||J===void 0||(ln=J).call.apply(ln,[Z].concat(Se))}}),ke=D(Wut,{value:ne[t.valuePropName||"value"],update:a,children:Dc(a,je)})}else C&&(o||r)&&!k?ke=a(Pt):ke=a}return Re(ke,X,ve)}})}var kfe=qut;kfe.useStatus=Nut;const Xut=kfe;var Kut=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Zut=function(e){var n=e.prefixCls,r=e.children,i=Kut(e,["prefixCls","children"]),o=T.exports.useContext(ui),s=o.getPrefixCls,a=s("form",n),l=T.exports.useMemo(function(){return{prefixCls:a,status:"error"}},[a]);return D(ele,{...i,children:function(c,u,f){return D(_z.Provider,{value:l,children:r(c.map(function(d){return Lt(Lt({},d),{fieldKey:d.key})}),u,{errors:f.errors,warnings:f.warnings})})}})};const Qut=Zut;function Jut(){var t=T.exports.useContext(Uv),e=t.form;return e}var ag=kut;ag.Item=Xut;ag.List=Qut;ag.ErrorList=Pfe;ag.useForm=Afe;ag.useFormInstance=Jut;ag.useWatch=nle;ag.Provider=bnt;ag.create=function(){};const du=ag;function eft(){var t=be({},Tme);return t.useId}var yZ=0;function tft(t){var e=T.exports.useState("ssr-id"),n=Ke(e,2),r=n[0],i=n[1],o=eft(),s=o==null?void 0:o();return T.exports.useEffect(function(){if(!o){var a=yZ;yZ+=1,i("rc_unique_".concat(a))}},[]),t||s||r}function nft(t){var e=t.prefixCls,n=t.style,r=t.visible,i=t.maskProps,o=t.motionName;return D(ng,{visible:r,motionName:o,leavedClassName:"".concat(e,"-mask-hidden"),children:function(s){var a=s.className,l=s.style;return D("div",{style:be(be({},l),n),className:at("".concat(e,"-mask"),a),...i})}},"mask")}function bZ(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function xZ(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function rft(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=xZ(i),n.top+=xZ(i,!0),n}const ift=T.exports.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var wZ={width:0,height:0,overflow:"hidden",outline:"none"},oft=dt.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,s=t.ariaId,a=t.footer,l=t.closable,c=t.closeIcon,u=t.onClose,f=t.children,d=t.bodyStyle,h=t.bodyProps,p=t.modalRender,g=t.onMouseDown,m=t.onMouseUp,y=t.holderRef,b=t.visible,C=t.forceRender,E=t.width,_=t.height,w=T.exports.useRef(),M=T.exports.useRef();dt.useImperativeHandle(e,function(){return{focus:function(){var B;(B=w.current)===null||B===void 0||B.focus()},changeActive:function(B){var j=document,H=j.activeElement;B&&H===M.current?w.current.focus():!B&&H===w.current&&M.current.focus()}}});var k={};E!==void 0&&(k.width=E),_!==void 0&&(k.height=_);var I;a&&(I=D("div",{className:"".concat(n,"-footer"),children:a}));var A;o&&(A=D("div",{className:"".concat(n,"-header"),children:D("div",{className:"".concat(n,"-title"),id:s,children:o})}));var N;l&&(N=D("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(n,"-close"),children:c||D("span",{className:"".concat(n,"-close-x")})}));var $=_t("div",{className:"".concat(n,"-content"),children:[N,A,D("div",{className:"".concat(n,"-body"),style:d,...h,children:f}),I]});return _t("div",{role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:y,style:be(be({},i),k),className:at(n,r),onMouseDown:g,onMouseUp:m,children:[D("div",{tabIndex:0,ref:w,style:wZ,"aria-hidden":"true"}),D(ift,{shouldUpdate:b||C,children:p?p($):$}),D("div",{tabIndex:0,ref:M,style:wZ,"aria-hidden":"true"})]},"dialog-element")}),Dfe=T.exports.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,s=t.visible,a=t.forceRender,l=t.destroyOnClose,c=t.motionName,u=t.ariaId,f=t.onVisibleChanged,d=t.mousePosition,h=T.exports.useRef(),p=T.exports.useState(),g=Ke(p,2),m=g[0],y=g[1],b={};m&&(b.transformOrigin=m);function C(){var E=rft(h.current);y(d?"".concat(d.x-E.left,"px ").concat(d.y-E.top,"px"):"")}return D(ng,{visible:s,onVisibleChanged:f,onAppearPrepare:C,onEnterPrepare:C,forceRender:a,motionName:c,removeOnLeave:l,ref:h,children:function(E,_){var w=E.className,M=E.style;return D(oft,{...t,ref:e,title:r,ariaId:u,prefixCls:n,holderRef:_,style:be(be(be({},M),i),b),className:at(o,w)})}})});Dfe.displayName="Content";function CZ(t){var e=t.prefixCls,n=e===void 0?"rc-dialog":e,r=t.zIndex,i=t.visible,o=i===void 0?!1:i,s=t.keyboard,a=s===void 0?!0:s,l=t.focusTriggerAfterClose,c=l===void 0?!0:l,u=t.scrollLocker,f=t.wrapStyle,d=t.wrapClassName,h=t.wrapProps,p=t.onClose,g=t.afterClose,m=t.transitionName,y=t.animation,b=t.closable,C=b===void 0?!0:b,E=t.mask,_=E===void 0?!0:E,w=t.maskTransitionName,M=t.maskAnimation,k=t.maskClosable,I=k===void 0?!0:k,A=t.maskStyle,N=t.maskProps,$=t.rootClassName,L=T.exports.useRef(),B=T.exports.useRef(),j=T.exports.useRef(),H=T.exports.useState(o),te=Ke(H,2),Y=te[0],ue=te[1],ce=tft();function se($e){if($e){if(!dC(B.current,document.activeElement)){var tt;L.current=document.activeElement,(tt=j.current)===null||tt===void 0||tt.focus()}}else{if(ue(!1),_&&L.current&&c){try{L.current.focus({preventScroll:!0})}catch{}L.current=null}Y&&(g==null||g())}}function fe($e){p==null||p($e)}var me=T.exports.useRef(!1),K=T.exports.useRef(),le=function(){clearTimeout(K.current),me.current=!0},Ne=function(){K.current=setTimeout(function(){me.current=!1})},Re=null;I&&(Re=function(tt){me.current?me.current=!1:B.current===tt.target&&fe(tt)});function Je($e){if(a&&$e.keyCode===St.ESC){$e.stopPropagation(),fe($e);return}o&&$e.keyCode===St.TAB&&j.current.changeActive(!$e.shiftKey)}return T.exports.useEffect(function(){return o&&ue(!0),function(){}},[o]),T.exports.useEffect(function(){return function(){clearTimeout(K.current)}},[]),T.exports.useEffect(function(){return Y?(u==null||u.lock(),u==null?void 0:u.unLock):function(){}},[Y,u]),_t("div",{className:at("".concat(n,"-root"),$),...ZS(t,{data:!0}),children:[D(nft,{prefixCls:n,visible:_&&o,motionName:bZ(n,w,M),style:be({zIndex:r},A),maskProps:N}),D("div",{tabIndex:-1,onKeyDown:Je,className:at("".concat(n,"-wrap"),d),ref:B,onClick:Re,style:be(be({zIndex:r},f),{},{display:Y?null:"none"}),...h,children:D(Dfe,{...t,onMouseDown:le,onMouseUp:Ne,ref:j,closable:C,ariaId:ce,prefixCls:n,visible:o,onClose:fe,onVisibleChanged:se,motionName:bZ(n,m,y)})})]})}var Nfe=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,s=o===void 0?!1:o,a=e.afterClose,l=T.exports.useState(n),c=Ke(l,2),u=c[0],f=c[1];return T.exports.useEffect(function(){n&&f(!0)},[n]),r===!1?D(CZ,{...e,getOpenCount:function(){return 2}}):!i&&s&&!u?null:D(Cut,{visible:n,forceRender:i,getContainer:r,children:function(d){return D(CZ,{...e,destroyOnClose:s,afterClose:function(){a==null||a(),f(!1)},...d})}})};Nfe.displayName="Dialog";var sft=function(e){var n,r=T.exports.useContext(ui),i=r.getPrefixCls,o=r.direction,s=e.prefixCls,a=e.className,l=a===void 0?"":a,c=i("input-group",s),u=at(c,(n={},V(n,"".concat(c,"-lg"),e.size==="large"),V(n,"".concat(c,"-sm"),e.size==="small"),V(n,"".concat(c,"-compact"),e.compact),V(n,"".concat(c,"-rtl"),o==="rtl"),n),l),f=T.exports.useContext(Nc),d=T.exports.useMemo(function(){return Lt(Lt({},f),{isFormItemInput:!1})},[f]);return D("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur,children:D(Nc.Provider,{value:d,children:e.children})})};const aft=sft;function KO(t){return!!(t.addonBefore||t.addonAfter)}function Rfe(t){return!!(t.prefix||t.suffix||t.allowClear)}function SZ(t,e,n,r){if(!!n){var i=e;if(e.type==="click"){var o=t.cloneNode(!0);i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,n(i);return}n(i)}}function lft(t,e){if(!!t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}function EZ(t){return typeof t>"u"||t===null?"":String(t)}var cft=function(e){var n=e.inputElement,r=e.prefixCls,i=e.prefix,o=e.suffix,s=e.addonBefore,a=e.addonAfter,l=e.className,c=e.style,u=e.affixWrapperClassName,f=e.groupClassName,d=e.wrapperClassName,h=e.disabled,p=e.readOnly,g=e.focused,m=e.triggerFocus,y=e.allowClear,b=e.value,C=e.handleReset,E=e.hidden,_=T.exports.useRef(null),w=function(Y){var ue;!((ue=_.current)===null||ue===void 0)&&ue.contains(Y.target)&&(m==null||m())},M=function(){var Y;if(!y)return null;var ue=!h&&!p&&b,ce="".concat(r,"-clear-icon"),se=Ar(y)==="object"&&(y==null?void 0:y.clearIcon)?y.clearIcon:"\u2716";return D("span",{onClick:C,onMouseDown:function(me){return me.preventDefault()},className:at(ce,(Y={},V(Y,"".concat(ce,"-hidden"),!ue),V(Y,"".concat(ce,"-has-suffix"),!!o),Y)),role:"button",tabIndex:-1,children:se})},k=T.exports.cloneElement(n,{value:b,hidden:E});if(Rfe(e)){var I,A="".concat(r,"-affix-wrapper"),N=at(A,(I={},V(I,"".concat(A,"-disabled"),h),V(I,"".concat(A,"-focused"),g),V(I,"".concat(A,"-readonly"),p),V(I,"".concat(A,"-input-with-clear-btn"),o&&y&&b),I),!KO(e)&&l,u),$=(o||y)&&_t("span",{className:"".concat(r,"-suffix"),children:[M(),o]});k=_t("span",{className:N,style:c,hidden:!KO(e)&&E,onMouseDown:w,ref:_,children:[i&&D("span",{className:"".concat(r,"-prefix"),children:i}),T.exports.cloneElement(n,{style:null,value:b,hidden:null}),$]})}if(KO(e)){var L="".concat(r,"-group"),B="".concat(L,"-addon"),j=at("".concat(r,"-wrapper"),L,d),H=at("".concat(r,"-group-wrapper"),l,f);return D("span",{className:H,style:c,hidden:E,children:_t("span",{className:j,children:[s&&D("span",{className:B,children:s}),T.exports.cloneElement(k,{style:null,hidden:null}),a&&D("span",{className:B,children:a})]})})}return k},uft=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],fft=T.exports.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,l=t.prefixCls,c=l===void 0?"rc-input":l,u=t.disabled,f=t.htmlSize,d=t.className,h=t.maxLength,p=t.suffix,g=t.showCount,m=t.type,y=m===void 0?"text":m,b=t.inputClassName,C=_i(t,uft),E=Gs(t.defaultValue,{value:t.value}),_=Ke(E,2),w=_[0],M=_[1],k=T.exports.useState(!1),I=Ke(k,2),A=I[0],N=I[1],$=T.exports.useRef(null),L=function(fe){$.current&&lft($.current,fe)};T.exports.useImperativeHandle(e,function(){return{focus:L,blur:function(){var fe;(fe=$.current)===null||fe===void 0||fe.blur()},setSelectionRange:function(fe,me,K){var le;(le=$.current)===null||le===void 0||le.setSelectionRange(fe,me,K)},select:function(){var fe;(fe=$.current)===null||fe===void 0||fe.select()},input:$.current}}),T.exports.useEffect(function(){N(function(se){return se&&u?!1:se})},[u]);var B=function(fe){t.value===void 0&&M(fe.target.value),$.current&&SZ($.current,fe,r)},j=function(fe){s&&fe.key==="Enter"&&s(fe),a==null||a(fe)},H=function(fe){N(!0),i==null||i(fe)},te=function(fe){N(!1),o==null||o(fe)},Y=function(fe){M(""),L(),$.current&&SZ($.current,fe,r)},ue=function(){var fe=Ja(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return D("input",{...be(be({autoComplete:n},fe),{},{onChange:B,onFocus:H,onBlur:te,onKeyDown:j,className:at(c,V({},"".concat(c,"-disabled"),u),b,!KO(t)&&!Rfe(t)&&d),ref:$,size:f,type:y})})},ce=function(){var fe=Number(h)>0;if(p||g){var me=un(EZ(w)).length,K=Ar(g)==="object"?g.formatter({count:me,maxLength:h}):"".concat(me).concat(fe?" / ".concat(h):"");return _t(Xi,{children:[!!g&&D("span",{className:at("".concat(c,"-show-count-suffix"),V({},"".concat(c,"-show-count-has-suffix"),!!p)),children:K}),p]})}return null};return D(cft,{...be(be({},C),{},{prefixCls:c,className:d,inputElement:ue(),handleReset:Y,value:EZ(w),focused:A,triggerFocus:L,suffix:ce(),disabled:u})})});function dft(t){return!!(t.prefix||t.suffix||t.allowClear)}var hft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pft(t){return typeof t>"u"||t===null?"":String(t)}function a4(t,e,n,r){if(!!n){var i=e;if(e.type==="click"){var o=t.cloneNode(!0);i=Object.create(e,{target:{value:o},currentTarget:{value:o}}),o.value="",n(i);return}if(r!==void 0){i=Object.create(e,{target:{value:t},currentTarget:{value:t}}),t.value=r,n(i);return}n(i)}}function gft(t,e){if(!!t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var vft=T.exports.forwardRef(function(t,e){var n,r,i,o=t.prefixCls,s=t.bordered,a=s===void 0?!0:s,l=t.status,c=t.size,u=t.disabled,f=t.onBlur,d=t.onFocus,h=t.suffix,p=t.allowClear,g=t.addonAfter,m=t.addonBefore,y=hft(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),b=dt.useContext(ui),C=b.getPrefixCls,E=b.direction,_=b.input,w=C("input",o),M=T.exports.useRef(null),k=dt.useContext(mf),I=c||k,A=dt.useContext(ig),N=u||A,$=T.exports.useContext(Nc),L=$.status,B=$.hasFeedback,j=$.feedbackIcon,H=ly(L,l),te=dft(t)||!!B,Y=T.exports.useRef(te);T.exports.useEffect(function(){te&&Y.current,Y.current=te},[te]);var ue=T.exports.useRef([]),ce=function(){ue.current.push(window.setTimeout(function(){var Ne,Re,Je,$e;((Ne=M.current)===null||Ne===void 0?void 0:Ne.input)&&((Re=M.current)===null||Re===void 0?void 0:Re.input.getAttribute("type"))==="password"&&((Je=M.current)===null||Je===void 0?void 0:Je.input.hasAttribute("value"))&&(($e=M.current)===null||$e===void 0||$e.input.removeAttribute("value"))}))};T.exports.useEffect(function(){return ce(),function(){return ue.current.forEach(function(le){return window.clearTimeout(le)})}},[]);var se=function(Ne){ce(),f==null||f(Ne)},fe=function(Ne){ce(),d==null||d(Ne)},me=(B||h)&&_t(Xi,{children:[h,B&&j]}),K;return Ar(p)==="object"&&(p==null?void 0:p.clearIcon)?K=p:p&&(K={clearIcon:D(Q0,{})}),D(fft,{ref:gd(e,M),prefixCls:w,autoComplete:_==null?void 0:_.autoComplete,...y,disabled:N||void 0,onBlur:se,onFocus:fe,suffix:me,allowClear:K,addonAfter:g&&D(QS,{override:!0,status:!0,children:g}),addonBefore:m&&D(QS,{override:!0,status:!0,children:m}),inputClassName:at((n={},V(n,"".concat(w,"-sm"),I==="small"),V(n,"".concat(w,"-lg"),I==="large"),V(n,"".concat(w,"-rtl"),E==="rtl"),V(n,"".concat(w,"-borderless"),!a),n),!te&&cf(w,H)),affixWrapperClassName:at((r={},V(r,"".concat(w,"-affix-wrapper-sm"),I==="small"),V(r,"".concat(w,"-affix-wrapper-lg"),I==="large"),V(r,"".concat(w,"-affix-wrapper-rtl"),E==="rtl"),V(r,"".concat(w,"-affix-wrapper-borderless"),!a),r),cf("".concat(w,"-affix-wrapper"),H,B)),wrapperClassName:at(V({},"".concat(w,"-group-rtl"),E==="rtl")),groupClassName:at((i={},V(i,"".concat(w,"-group-wrapper-sm"),I==="small"),V(i,"".concat(w,"-group-wrapper-lg"),I==="large"),V(i,"".concat(w,"-group-wrapper-rtl"),E==="rtl"),i),cf("".concat(w,"-group-wrapper"),H,B))})});const o7=vft;var mft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},yft={click:"onClick",hover:"onMouseOver"},Ife=T.exports.forwardRef(function(t,e){var n=T.exports.useState(!1),r=Ke(n,2),i=r[0],o=r[1],s=function(){var u=t.disabled;u||o(!i)},a=function(u){var f,d=t.action,h=t.iconRender,p=h===void 0?function(){return null}:h,g=yft[d]||"",m=p(i),y=(f={},V(f,g,s),V(f,"className","".concat(u,"-icon")),V(f,"key","passwordIcon"),V(f,"onMouseDown",function(C){C.preventDefault()}),V(f,"onMouseUp",function(C){C.preventDefault()}),f);return T.exports.cloneElement(T.exports.isValidElement(m)?m:D("span",{children:m}),y)},l=function(u){var f=u.getPrefixCls,d=t.className,h=t.prefixCls,p=t.inputPrefixCls,g=t.size,m=t.visibilityToggle,y=mft(t,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),b=f("input",p),C=f("input-password",h),E=m&&a(C),_=at(C,d,V({},"".concat(C,"-").concat(g),!!g)),w=Lt(Lt({},Ja(y,["suffix","iconRender"])),{type:i?"text":"password",className:_,prefixCls:b,suffix:E});return g&&(w.size=g),D(o7,{ref:e,...w})};return D(rg,{children:l})});Ife.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?D(dNe,{}):D(cNe,{})}};const bft=Ife;var xft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},wft=T.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.inputPrefixCls,o=t.className,s=t.size,a=t.suffix,l=t.enterButton,c=l===void 0?!1:l,u=t.addonAfter,f=t.loading,d=t.disabled,h=t.onSearch,p=t.onChange,g=t.onCompositionStart,m=t.onCompositionEnd,y=xft(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),b=T.exports.useContext(ui),C=b.getPrefixCls,E=b.direction,_=T.exports.useContext(mf),w=T.exports.useRef(!1),M=s||_,k=T.exports.useRef(null),I=function(K){K&&K.target&&K.type==="click"&&h&&h(K.target.value,K),p&&p(K)},A=function(K){var le;document.activeElement===((le=k.current)===null||le===void 0?void 0:le.input)&&K.preventDefault()},N=function(K){var le,Ne;h&&h((Ne=(le=k.current)===null||le===void 0?void 0:le.input)===null||Ne===void 0?void 0:Ne.value,K)},$=function(K){w.current||N(K)},L=C("input-search",r),B=C("input",i),j=typeof c=="boolean"?D(noe,{}):null,H="".concat(L,"-button"),te,Y=c||{},ue=Y.type&&Y.type.__ANT_BUTTON===!0;ue||Y.type==="button"?te=Dc(Y,Lt({onMouseDown:A,onClick:function(K){var le,Ne;(Ne=(le=Y==null?void 0:Y.props)===null||le===void 0?void 0:le.onClick)===null||Ne===void 0||Ne.call(le,K),N(K)},key:"enterButton"},ue?{className:H,size:M}:{})):te=D(Hv,{className:H,type:c?"primary":void 0,size:M,disabled:d,onMouseDown:A,onClick:N,loading:f,icon:j,children:c},"enterButton"),u&&(te=[te,Dc(u,{key:"addonAfter"})]);var ce=at(L,(n={},V(n,"".concat(L,"-rtl"),E==="rtl"),V(n,"".concat(L,"-").concat(M),!!M),V(n,"".concat(L,"-with-button"),!!c),n),o),se=function(K){w.current=!0,g==null||g(K)},fe=function(K){w.current=!1,m==null||m(K)};return D(o7,{ref:gd(k,e),onPressEnter:$,...y,size:M,onCompositionStart:se,onCompositionEnd:fe,prefixCls:B,addonAfter:te,suffix:a,onChange:I,className:ce,disabled:d})});const Cft=wft;var Sft=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,Eft=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],l4={},Yu;function _ft(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&l4[n])return l4[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=Eft.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return e&&n&&(l4[n]=l),l}function Tft(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Yu||(Yu=document.createElement("textarea"),Yu.setAttribute("tab-index","-1"),Yu.setAttribute("aria-hidden","true"),document.body.appendChild(Yu)),t.getAttribute("wrap")?Yu.setAttribute("wrap",t.getAttribute("wrap")):Yu.removeAttribute("wrap");var i=_ft(t,e),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,l=i.sizingStyle;Yu.setAttribute("style","".concat(l,";").concat(Sft)),Yu.value=t.value||t.placeholder||"";var c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,f=Yu.scrollHeight,d;if(a==="border-box"?f+=s:a==="content-box"&&(f-=o),n!==null||r!==null){Yu.value=" ";var h=Yu.scrollHeight-o;n!==null&&(c=h*n,a==="border-box"&&(c=c+o+s),f=Math.max(c,f)),r!==null&&(u=h*r,a==="border-box"&&(u=u+o+s),d=f>u?"":"hidden",f=Math.min(u,f))}return{height:f,minHeight:c,maxHeight:u,overflowY:d,resize:"none"}}var qg;(function(t){t[t.NONE=0]="NONE",t[t.RESIZING=1]="RESIZING",t[t.RESIZED=2]="RESIZED"})(qg||(qg={}));var Pft=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;return Cn(this,n),i=e.call(this,r),i.nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(o){i.textArea=o},i.handleResize=function(o){var s=i.state.resizeStatus,a=i.props,l=a.autoSize,c=a.onResize;s===qg.NONE&&(typeof c=="function"&&c(o),l&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var o=i.props.autoSize;if(!(!o||!i.textArea)){var s=o.minRows,a=o.maxRows,l=Tft(i.textArea,!1,s,a);i.setState({textareaStyles:l,resizeStatus:qg.RESIZING},function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame(function(){i.setState({resizeStatus:qg.RESIZED},function(){i.resizeFrameId=requestAnimationFrame(function(){i.setState({resizeStatus:qg.NONE}),i.fixFirefoxAutoScroll()})})})})}},i.renderTextArea=function(){var o=i.props,s=o.prefixCls,a=s===void 0?"rc-textarea":s,l=o.autoSize,c=o.onResize,u=o.className,f=o.disabled,d=i.state,h=d.textareaStyles,p=d.resizeStatus,g=Ja(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),m=at(a,u,V({},"".concat(a,"-disabled"),f));"value"in g&&(g.value=g.value||"");var y=be(be(be({},i.props.style),h),p===qg.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return D(B0,{onResize:i.handleResize,disabled:!(l||c),children:D("textarea",{...g,className:m,style:y,ref:i.saveTextArea})})},i.state={textareaStyles:{},resizeStatus:qg.NONE},i}return Rn(n,[{key:"componentDidUpdate",value:function(i){(i.value!==this.props.value||!MD(i.autoSize,this.props.autoSize))&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var i=this.textArea.selectionStart,o=this.textArea.selectionEnd;this.textArea.setSelectionRange(i,o)}}catch{}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(T.exports.Component),Oft=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;Cn(this,n),i=e.call(this,r),i.resizableTextArea=void 0,i.focus=function(){i.resizableTextArea.textArea.focus()},i.saveTextArea=function(s){i.resizableTextArea=s},i.handleChange=function(s){var a=i.props.onChange;i.setValue(s.target.value,function(){i.resizableTextArea.resizeTextarea()}),a&&a(s)},i.handleKeyDown=function(s){var a=i.props,l=a.onPressEnter,c=a.onKeyDown;s.keyCode===13&&l&&l(s),c&&c(s)};var o=typeof r.value>"u"||r.value===null?r.defaultValue:r.value;return i.state={value:o},i}return Rn(n,[{key:"setValue",value:function(i,o){"value"in this.props||this.setState({value:i},o)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return D(Pft,{...this.props,value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea})}}],[{key:"getDerivedStateFromProps",value:function(i){return"value"in i?{value:i.value}:null}}]),n}(T.exports.Component),Mft=Su("text","input");function Aft(t){return!!(t.addonBefore||t.addonAfter)}var kft=function(t){Zi(n,t);var e=Ra(n);function n(){return Cn(this,n),e.apply(this,arguments)}return Rn(n,[{key:"renderClearIcon",value:function(i){var o,s=this.props,a=s.value,l=s.disabled,c=s.readOnly,u=s.handleReset,f=s.suffix,d=!l&&!c&&a,h="".concat(i,"-clear-icon");return D(Q0,{onClick:u,onMouseDown:function(g){return g.preventDefault()},className:at((o={},V(o,"".concat(h,"-hidden"),!d),V(o,"".concat(h,"-has-suffix"),!!f),o),h),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(i,o,s){var a,l=this.props,c=l.value,u=l.allowClear,f=l.className,d=l.style,h=l.direction,p=l.bordered,g=l.hidden,m=l.status,y=s.status,b=s.hasFeedback;if(!u)return Dc(o,{value:c});var C=at("".concat(i,"-affix-wrapper"),"".concat(i,"-affix-wrapper-textarea-with-clear-btn"),cf("".concat(i,"-affix-wrapper"),ly(y,m),b),(a={},V(a,"".concat(i,"-affix-wrapper-rtl"),h==="rtl"),V(a,"".concat(i,"-affix-wrapper-borderless"),!p),V(a,"".concat(f),!Aft(this.props)&&f),a));return _t("span",{className:C,style:d,hidden:g,children:[Dc(o,{style:null,value:c}),this.renderClearIcon(i)]})}},{key:"render",value:function(){var i=this;return D(Nc.Consumer,{children:function(o){var s=i.props,a=s.prefixCls,l=s.inputType,c=s.element;if(l===Mft[0])return i.renderTextAreaWithClearIcon(a,c,o)}})}}]),n}(T.exports.Component);const Dft=kft;var Nft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function $fe(t,e){return un(t||"").slice(0,e).join("")}function _Z(t,e,n,r){var i=n;return t?i=$fe(n,r):un(e||"").length<n.length&&un(n||"").length>r&&(i=e),i}var Rft=T.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.bordered,o=i===void 0?!0:i,s=t.showCount,a=s===void 0?!1:s,l=t.maxLength,c=t.className,u=t.style,f=t.size,d=t.disabled,h=t.onCompositionStart,p=t.onCompositionEnd,g=t.onChange,m=t.status,y=Nft(t,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),b=T.exports.useContext(ui),C=b.getPrefixCls,E=b.direction,_=T.exports.useContext(mf),w=T.exports.useContext(ig),M=d||w,k=T.exports.useContext(Nc),I=k.status,A=k.hasFeedback,N=k.isFormItemInput,$=k.feedbackIcon,L=ly(I,m),B=T.exports.useRef(null),j=T.exports.useRef(null),H=T.exports.useState(!1),te=Ke(H,2),Y=te[0],ue=te[1],ce=T.exports.useRef(),se=T.exports.useRef(0),fe=Gs(y.defaultValue,{value:y.value}),me=Ke(fe,2),K=me[0],le=me[1],Ne=y.hidden,Re=function(ln,bn){y.value===void 0&&(le(ln),bn==null||bn())},Je=Number(l)>0,$e=function(ln){ue(!0),ce.current=K,se.current=ln.currentTarget.selectionStart,h==null||h(ln)},tt=function(ln){var bn;ue(!1);var Z=ln.currentTarget.value;if(Je){var J=se.current>=l+1||se.current===((bn=ce.current)===null||bn===void 0?void 0:bn.length);Z=_Z(J,ce.current,Z,l)}Z!==K&&(Re(Z),a4(ln.currentTarget,ln,g,Z)),p==null||p(ln)},Pt=function(ln){var bn=ln.target.value;if(!Y&&Je){var Z=ln.target.selectionStart>=l+1||ln.target.selectionStart===bn.length||!ln.target.selectionStart;bn=_Z(Z,K,bn,l)}Re(bn),a4(ln.currentTarget,ln,g,bn)},bt=function(ln){var bn,Z,J;Re(""),(bn=B.current)===null||bn===void 0||bn.focus(),a4((J=(Z=B.current)===null||Z===void 0?void 0:Z.resizableTextArea)===null||J===void 0?void 0:J.textArea,ln,g)},X=C("input",r);T.exports.useImperativeHandle(e,function(){var Ct;return{resizableTextArea:(Ct=B.current)===null||Ct===void 0?void 0:Ct.resizableTextArea,focus:function(bn){var Z,J;gft((J=(Z=B.current)===null||Z===void 0?void 0:Z.resizableTextArea)===null||J===void 0?void 0:J.textArea,bn)},blur:function(){var bn;return(bn=B.current)===null||bn===void 0?void 0:bn.blur()}}});var ve=D(Oft,{...Ja(y,["allowClear"]),disabled:M,className:at((n={},V(n,"".concat(X,"-borderless"),!o),V(n,c,c&&!a),V(n,"".concat(X,"-sm"),_==="small"||f==="small"),V(n,"".concat(X,"-lg"),_==="large"||f==="large"),n),cf(X,L)),style:a?void 0:u,prefixCls:X,onCompositionStart:$e,onChange:Pt,onCompositionEnd:tt,ref:B}),ne=pft(K);!Y&&Je&&(y.value===null||y.value===void 0)&&(ne=$fe(ne,l));var ke=D(Dft,{disabled:M,...y,prefixCls:X,direction:E,inputType:"text",value:ne,element:ve,handleReset:bt,ref:j,bordered:o,status:m,style:a?void 0:u});if(a||A){var je,Ve=un(ne).length,$t="";return Ar(a)==="object"?$t=a.formatter({count:Ve,maxLength:l}):$t="".concat(Ve).concat(Je?" / ".concat(l):""),_t("div",{hidden:Ne,className:at("".concat(X,"-textarea"),(je={},V(je,"".concat(X,"-textarea-rtl"),E==="rtl"),V(je,"".concat(X,"-textarea-show-count"),a),V(je,"".concat(X,"-textarea-in-form-item"),N),je),cf("".concat(X,"-textarea"),L,A),c),style:u,"data-count":$t,children:[ke,A&&D("span",{className:"".concat(X,"-textarea-suffix"),children:$})]})}return ke});const Ift=Rft;var qE=o7;qE.Group=aft;qE.Search=Cft;qE.TextArea=Ift;qE.Password=bft;const XE=qE;function qL(){return typeof BigInt=="function"}function w0(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",i=r.split("."),o=i[0]||"0",s=i[1]||"0";o==="0"&&s==="0"&&(n=!1);var a=n?"-":"";return{negative:n,negativeStr:a,trimStr:r,integerStr:o,decimalStr:s,fullStr:"".concat(a).concat(r)}}function s7(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function oE(t){var e=String(t);if(s7(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&a7(e)?e.length-e.indexOf(".")-1:0}function YD(t){var e=String(t);if(s7(t)){if(t>Number.MAX_SAFE_INTEGER)return String(qL()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(qL()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(oE(e))}return w0(e).fullStr}function a7(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}function TZ(t){var e=typeof t=="number"?YD(t):w0(t).fullStr,n=e.includes(".");return n?w0(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:t+"0"}var $ft=function(){function t(e){if(Cn(this,t),this.origin="",this.number=void 0,this.empty=void 0,!e&&e!==0||!String(e).trim()){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Rn(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var o=Math.max(oE(this.number),oE(r));return new t(i.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":YD(this.number):this.origin}}]),t}(),Lft=function(){function t(e){if(Cn(this,t),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!e&&e!==0||!String(e).trim()){this.empty=!0;return}if(this.origin=String(e),e==="-"){this.nan=!0;return}var n=e;if(s7(n)&&(n=Number(n)),n=typeof n=="string"?n:YD(n),a7(n)){var r=w0(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return Rn(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);if(r.isInvalidate())return this;var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),s=r.alignDecimal(i),a=(o+s).toString(),l=w0(a),c=l.negativeStr,u=l.trimStr,f="".concat(c).concat(u.padStart(i+1,"0"));return new t("".concat(f.slice(0,-i),".").concat(f.slice(-i)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":w0("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}();function Gf(t){return qL()?new Lft(t):new $ft(t)}function ZO(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var i=w0(t),o=i.negativeStr,s=i.integerStr,a=i.decimalStr,l="".concat(e).concat(a),c="".concat(o).concat(s);if(n>=0){var u=Number(a[n]);if(u>=5&&!r){var f=Gf(t).add("".concat(o,"0.").concat("0".repeat(n)).concat(10-u));return ZO(f.toString(),e,n,r)}return n===0?c:"".concat(c).concat(e).concat(a.padEnd(n,"0").slice(0,n))}return l===".0"?c:"".concat(c).concat(l)}var Fft=200,zft=600;function Gft(t){var e=t.prefixCls,n=t.upNode,r=t.downNode,i=t.upDisabled,o=t.downDisabled,s=t.onStep,a=T.exports.useRef(),l=T.exports.useRef();l.current=s;var c=function(m,y){m.preventDefault(),l.current(y);function b(){l.current(y),a.current=setTimeout(b,Fft)}a.current=setTimeout(b,zft)},u=function(){clearTimeout(a.current)};if(T.exports.useEffect(function(){return u},[]),TD())return null;var f="".concat(e,"-handler"),d=at(f,"".concat(f,"-up"),V({},"".concat(f,"-up-disabled"),i)),h=at(f,"".concat(f,"-down"),V({},"".concat(f,"-down-disabled"),o)),p={unselectable:"on",role:"button",onMouseUp:u,onMouseLeave:u};return _t("div",{className:"".concat(f,"-wrap"),children:[D("span",{...p,onMouseDown:function(m){c(m,!0)},"aria-label":"Increase Value","aria-disabled":i,className:d,children:n||D("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})}),D("span",{...p,onMouseDown:function(m){c(m,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:h,children:r||D("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})})]})}function Bft(t,e){var n=T.exports.useRef(null);function r(){try{var o=t.selectionStart,s=t.selectionEnd,a=t.value,l=a.substring(0,o),c=a.substring(s);n.current={start:o,end:s,value:a,beforeTxt:l,afterTxt:c}}catch{}}function i(){if(t&&n.current&&e)try{var o=t.value,s=n.current,a=s.beforeTxt,l=s.afterTxt,c=s.start,u=o.length;if(o.endsWith(l))u=o.length-n.current.afterTxt.length;else if(o.startsWith(a))u=a.length;else{var f=a[c-1],d=o.indexOf(f,c-1);d!==-1&&(u=d+1)}t.setSelectionRange(u,u)}catch(h){Nl(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(h.message))}}return[r,i]}const jft=function(){var t=T.exports.useRef(0),e=function(){oi.cancel(t.current)};return T.exports.useEffect(function(){return e},[]),function(n){e(),t.current=oi(function(){n()})}};var Vft=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],PZ=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},OZ=function(e){var n=Gf(e);return n.isInvalidate()?null:n},Lfe=T.exports.forwardRef(function(t,e){var n,r=t.prefixCls,i=r===void 0?"rc-input-number":r,o=t.className,s=t.style,a=t.min,l=t.max,c=t.step,u=c===void 0?1:c,f=t.defaultValue,d=t.value,h=t.disabled,p=t.readOnly,g=t.upHandler,m=t.downHandler,y=t.keyboard,b=t.controls,C=b===void 0?!0:b,E=t.stringMode,_=t.parser,w=t.formatter,M=t.precision,k=t.decimalSeparator,I=t.onChange,A=t.onInput,N=t.onPressEnter,$=t.onStep,L=_i(t,Vft),B="".concat(i,"-input"),j=T.exports.useRef(null),H=T.exports.useState(!1),te=Ke(H,2),Y=te[0],ue=te[1],ce=T.exports.useRef(!1),se=T.exports.useRef(!1),fe=T.exports.useRef(!1),me=T.exports.useState(function(){return Gf(d!=null?d:f)}),K=Ke(me,2),le=K[0],Ne=K[1];function Re(Wn){d===void 0&&Ne(Wn)}var Je=T.exports.useCallback(function(Wn,In){if(!In)return M>=0?M:Math.max(oE(Wn),oE(u))},[M,u]),$e=T.exports.useCallback(function(Wn){var In=String(Wn);if(_)return _(In);var en=In;return k&&(en=en.replace(k,".")),en.replace(/[^\w.-]+/g,"")},[_,k]),tt=T.exports.useRef(""),Pt=T.exports.useCallback(function(Wn,In){if(w)return w(Wn,{userTyping:In,input:String(tt.current)});var en=typeof Wn=="number"?YD(Wn):Wn;if(!In){var Pn=Je(en,In);if(a7(en)&&(k||Pn>=0)){var Sr=k||".";en=ZO(en,Sr,Pn)}}return en},[w,Je,k]),bt=T.exports.useState(function(){var Wn=f!=null?f:d;return le.isInvalidate()&&["string","number"].includes(Ar(Wn))?Number.isNaN(Wn)?"":Wn:Pt(le.toString(),!1)}),X=Ke(bt,2),ve=X[0],ne=X[1];tt.current=ve;function ke(Wn,In){ne(Pt(Wn.isInvalidate()?Wn.toString(!1):Wn.toString(!In),In))}var je=T.exports.useMemo(function(){return OZ(l)},[l,M]),Ve=T.exports.useMemo(function(){return OZ(a)},[a,M]),$t=T.exports.useMemo(function(){return!je||!le||le.isInvalidate()?!1:je.lessEquals(le)},[je,le]),Ct=T.exports.useMemo(function(){return!Ve||!le||le.isInvalidate()?!1:le.lessEquals(Ve)},[Ve,le]),ln=Bft(j.current,Y),bn=Ke(ln,2),Z=bn[0],J=bn[1],xe=function(In){return je&&!In.lessEquals(je)?je:Ve&&!Ve.lessEquals(In)?Ve:null},Se=function(In){return!xe(In)},ze=function(In,en){var Pn=In,Sr=Se(Pn)||Pn.isEmpty();if(!Pn.isEmpty()&&!en&&(Pn=xe(Pn)||Pn,Sr=!0),!p&&!h&&Sr){var Fn=Pn.toString(),ro=Je(Fn,en);return ro>=0&&(Pn=Gf(ZO(Fn,".",ro)),Se(Pn)||(Pn=Gf(ZO(Fn,".",ro,!0)))),Pn.equals(le)||(Re(Pn),I==null||I(Pn.isEmpty()?null:PZ(E,Pn)),d===void 0&&ke(Pn,en)),Pn}return le},ot=jft(),yn=function Wn(In){if(Z(),ne(In),!se.current){var en=$e(In),Pn=Gf(en);Pn.isNaN()||ze(Pn,!0)}A==null||A(In),ot(function(){var Sr=In;_||(Sr=In.replace(//g,".")),Sr!==In&&Wn(Sr)})},xt=function(){se.current=!0},It=function(){se.current=!1,yn(j.current.value)},qe=function(In){yn(In.target.value)},Tt=function(In){var en;if(!(In&&$t||!In&&Ct)){ce.current=!1;var Pn=Gf(fe.current?TZ(u):u);In||(Pn=Pn.negate());var Sr=(le||Gf(0)).add(Pn.toString()),Fn=ze(Sr,!1);$==null||$(PZ(E,Fn),{offset:fe.current?TZ(u):u,type:In?"up":"down"}),(en=j.current)===null||en===void 0||en.focus()}},Dt=function(In){var en=Gf($e(ve)),Pn=en;en.isNaN()?Pn=le:Pn=ze(en,In),d!==void 0?ke(le,!1):Pn.isNaN()||ke(Pn,!1)},_n=function(In){var en=In.which,Pn=In.shiftKey;ce.current=!0,Pn?fe.current=!0:fe.current=!1,en===St.ENTER&&(se.current||(ce.current=!1),Dt(!1),N==null||N(In)),y!==!1&&!se.current&&[St.UP,St.DOWN].includes(en)&&(Tt(St.UP===en),In.preventDefault())},lr=function(){ce.current=!1,fe.current=!1},Qn=function(){Dt(!1),ue(!1),ce.current=!1};return BO(function(){le.isInvalidate()||ke(le,!1)},[M]),BO(function(){var Wn=Gf(d);Ne(Wn);var In=Gf($e(ve));(!Wn.equals(In)||!ce.current||w)&&ke(Wn,ce.current)},[d]),BO(function(){w&&J()},[ve]),_t("div",{className:at(i,o,(n={},V(n,"".concat(i,"-focused"),Y),V(n,"".concat(i,"-disabled"),h),V(n,"".concat(i,"-readonly"),p),V(n,"".concat(i,"-not-a-number"),le.isNaN()),V(n,"".concat(i,"-out-of-range"),!le.isInvalidate()&&!Se(le)),n)),style:s,onFocus:function(){ue(!0)},onBlur:Qn,onKeyDown:_n,onKeyUp:lr,onCompositionStart:xt,onCompositionEnd:It,children:[C&&D(Gft,{prefixCls:i,upNode:g,downNode:m,upDisabled:$t,downDisabled:Ct,onStep:Tt}),D("div",{className:"".concat(B,"-wrap"),children:D("input",{autoComplete:"off",role:"spinbutton","aria-valuemin":a,"aria-valuemax":l,"aria-valuenow":le.isInvalidate()?null:le.toString(),step:u,...L,ref:gd(j,e),className:B,value:ve,onChange:qe,disabled:h,readOnly:p})})]})});Lfe.displayName="InputNumber";var Uft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Hft=T.exports.forwardRef(function(t,e){var n,r=T.exports.useContext(ui),i=r.getPrefixCls,o=r.direction,s=T.exports.useContext(mf),a=T.exports.useState(!1),l=Ke(a,2),c=l[0],u=l[1],f=T.exports.useRef(null);T.exports.useImperativeHandle(e,function(){return f.current});var d=t.className,h=t.size,p=t.disabled,g=t.prefixCls,m=t.addonBefore,y=t.addonAfter,b=t.prefix,C=t.bordered,E=C===void 0?!0:C,_=t.readOnly,w=t.status,M=t.controls,k=Uft(t,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),I=i("input-number",g),A=D(uRe,{className:"".concat(I,"-handler-up-inner")}),N=D(Aie,{className:"".concat(I,"-handler-down-inner")}),$=typeof M=="boolean"?M:void 0;Ar(M)==="object"&&(A=typeof M.upIcon>"u"?A:D("span",{className:"".concat(I,"-handler-up-inner"),children:M.upIcon}),N=typeof M.downIcon>"u"?N:D("span",{className:"".concat(I,"-handler-down-inner"),children:M.downIcon}));var L=T.exports.useContext(Nc),B=L.hasFeedback,j=L.status,H=L.isFormItemInput,te=L.feedbackIcon,Y=ly(j,w),ue=h||s,ce=T.exports.useContext(ig),se=p||ce,fe=at((n={},V(n,"".concat(I,"-lg"),ue==="large"),V(n,"".concat(I,"-sm"),ue==="small"),V(n,"".concat(I,"-rtl"),o==="rtl"),V(n,"".concat(I,"-borderless"),!E),V(n,"".concat(I,"-in-form-item"),H),n),cf(I,Y),d),me=D(Lfe,{ref:f,disabled:se,className:fe,upHandler:A,downHandler:N,prefixCls:I,readOnly:_,controls:$,...k});if(b!=null||B){var K,le=at("".concat(I,"-affix-wrapper"),cf("".concat(I,"-affix-wrapper"),Y,B),(K={},V(K,"".concat(I,"-affix-wrapper-focused"),c),V(K,"".concat(I,"-affix-wrapper-disabled"),t.disabled),V(K,"".concat(I,"-affix-wrapper-sm"),s==="small"),V(K,"".concat(I,"-affix-wrapper-lg"),s==="large"),V(K,"".concat(I,"-affix-wrapper-rtl"),o==="rtl"),V(K,"".concat(I,"-affix-wrapper-readonly"),_),V(K,"".concat(I,"-affix-wrapper-borderless"),!E),V(K,"".concat(d),!(m||y)&&d),K));me=_t("div",{className:le,style:t.style,onMouseUp:function(){return f.current.focus()},children:[b&&D("span",{className:"".concat(I,"-prefix"),children:b}),Dc(me,{style:null,value:t.value,onFocus:function(ve){var ne;u(!0),(ne=t.onFocus)===null||ne===void 0||ne.call(t,ve)},onBlur:function(ve){var ne;u(!1),(ne=t.onBlur)===null||ne===void 0||ne.call(t,ve)}}),B&&D("span",{className:"".concat(I,"-suffix"),children:te})]})}if(m!=null||y!=null){var Ne,Re="".concat(I,"-group"),Je="".concat(Re,"-addon"),$e=m?D("div",{className:Je,children:m}):null,tt=y?D("div",{className:Je,children:y}):null,Pt=at("".concat(I,"-wrapper"),Re,V({},"".concat(Re,"-rtl"),o==="rtl")),bt=at("".concat(I,"-group-wrapper"),(Ne={},V(Ne,"".concat(I,"-group-wrapper-sm"),s==="small"),V(Ne,"".concat(I,"-group-wrapper-lg"),s==="large"),V(Ne,"".concat(I,"-group-wrapper-rtl"),o==="rtl"),Ne),cf("".concat(I,"-group-wrapper"),Y,B),d);me=D("div",{className:bt,style:t.style,children:_t("div",{className:Pt,children:[$e&&D(QS,{status:!0,override:!0,children:$e}),Dc(me,{style:null,disabled:se}),tt&&D(QS,{status:!0,override:!0,children:tt})]})})}return me});const Wft=Hft;var Yft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Su("small","default","large");var QO=null;function qft(t,e){var n=e.indicator,r="".concat(t,"-dot");return n===null?null:XS(n)?Dc(n,{className:at(n.props.className,r)}):XS(QO)?Dc(QO,{className:at(QO.props.className,r)}):_t("span",{className:at(r,"".concat(t,"-dot-spin")),children:[D("i",{className:"".concat(t,"-dot-item")}),D("i",{className:"".concat(t,"-dot-item")}),D("i",{className:"".concat(t,"-dot-item")}),D("i",{className:"".concat(t,"-dot-item")})]})}function Xft(t,e){return!!t&&!!e&&!isNaN(Number(e))}var Ffe=function(t){Zi(n,t);var e=Ra(n);function n(r){var i;Cn(this,n),i=e.call(this,r),i.debouncifyUpdateSpinning=function(l){var c=l||i.props,u=c.delay;u&&(i.cancelExistingSpin(),i.updateSpinning=oD(i.originalUpdateSpinning,u))},i.updateSpinning=function(){var l=i.props.spinning,c=i.state.spinning;c!==l&&i.setState({spinning:l})},i.renderSpin=function(l){var c,u=l.direction,f=i.props,d=f.spinPrefixCls,h=f.className,p=f.size,g=f.tip,m=f.wrapperClassName,y=f.style,b=Yft(f,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),C=i.state.spinning,E=at(d,(c={},V(c,"".concat(d,"-sm"),p==="small"),V(c,"".concat(d,"-lg"),p==="large"),V(c,"".concat(d,"-spinning"),C),V(c,"".concat(d,"-show-text"),!!g),V(c,"".concat(d,"-rtl"),u==="rtl"),c),h),_=Ja(b,["spinning","delay","indicator","prefixCls"]),w=_t("div",{..._,style:y,className:E,"aria-live":"polite","aria-busy":C,children:[qft(d,i.props),g?D("div",{className:"".concat(d,"-text"),children:g}):null]});if(i.isNestedPattern()){var M=at("".concat(d,"-container"),V({},"".concat(d,"-blur"),C));return _t("div",{..._,className:at("".concat(d,"-nested-loading"),m),children:[C&&D("div",{children:w},"loading"),D("div",{className:M,children:i.props.children},"container")]})}return w};var o=r.spinning,s=r.delay,a=Xft(o,s);return i.state={spinning:o&&!a},i.originalUpdateSpinning=i.updateSpinning,i.debouncifyUpdateSpinning(r),i}return Rn(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var i=this.updateSpinning;i&&i.cancel&&i.cancel()}},{key:"isNestedPattern",value:function(){return!!(this.props&&typeof this.props.children<"u")}},{key:"render",value:function(){return D(rg,{children:this.renderSpin})}}]),n}(T.exports.Component);Ffe.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var zfe=function(e){var n=e.prefixCls,r=T.exports.useContext(ui),i=r.getPrefixCls,o=i("spin",n),s=Lt(Lt({},e),{spinPrefixCls:o});return D(Ffe,{...s})};zfe.setDefaultIndicator=function(t){QO=t};const Gfe=zfe;function MZ(t){return!!(t&&!!t.then)}var Kft=function(e){var n=T.exports.useRef(!1),r=T.exports.useRef(),i=Rp(!1),o=Ke(i,2),s=o[0],a=o[1],l=e.close,c=function(){l==null||l.apply(void 0,arguments)};T.exports.useEffect(function(){var m;if(e.autoFocus){var y=r.current;m=setTimeout(function(){return y.focus()})}return function(){m&&clearTimeout(m)}},[]);var u=function(y){!MZ(y)||(a(!0),y.then(function(){a(!1,!0),c.apply(void 0,arguments),n.current=!1},function(b){console.error(b),a(!1,!0),n.current=!1}))},f=function(y){var b=e.actionFn;if(!n.current){if(n.current=!0,!b){c();return}var C;if(e.emitEvent){if(C=b(y),e.quitOnNullishReturnValue&&!MZ(C)){n.current=!1,c(y);return}}else if(b.length)C=b(l),n.current=!1;else if(C=b(),!C){c();return}u(C)}},d=e.type,h=e.children,p=e.prefixCls,g=e.buttonProps;return D(Hv,{...Dz(d),onClick:f,loading:s,prefixCls:p,...g,ref:r,children:h})};const XL=Kft;var Zft=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},KL,Qft=function(e){KL={x:e.pageX,y:e.pageY},setTimeout(function(){KL=null},100)};wfe()&&document.documentElement.addEventListener("click",Qft,!0);var Bfe=function(e){var n,r=T.exports.useContext(ui),i=r.getPopupContainer,o=r.getPrefixCls,s=r.direction,a=function(A){var N=e.onCancel;N==null||N(A)},l=function(A){var N=e.onOk;N==null||N(A)},c=function(A){var N=e.okText,$=e.okType,L=e.cancelText,B=e.confirmLoading;return _t(Xi,{children:[D(Hv,{onClick:a,...e.cancelButtonProps,children:L||A.cancelText}),D(Hv,{...Dz($),loading:B,onClick:l,...e.okButtonProps,children:N||A.okText})]})},u=e.prefixCls,f=e.footer,d=e.visible,h=e.wrapClassName,p=e.centered,g=e.getContainer,m=e.closeIcon,y=e.focusTriggerAfterClose,b=y===void 0?!0:y,C=Zft(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),E=o("modal",u),_=o(),w=D(tg,{componentName:"Modal",defaultLocale:ile(),children:c}),M=D("span",{className:"".concat(E,"-close-x"),children:m||D(TE,{className:"".concat(E,"-close-icon")})}),k=at(h,(n={},V(n,"".concat(E,"-centered"),!!p),V(n,"".concat(E,"-wrap-rtl"),s==="rtl"),n));return D(QS,{status:!0,override:!0,children:D(Nfe,{...C,getContainer:g===void 0?i:g,prefixCls:E,wrapClassName:k,footer:f===void 0?w:f,visible:d,mousePosition:KL,onClose:a,closeIcon:M,focusTriggerAfterClose:b,transitionName:V0(_,"zoom",e.transitionName),maskTransitionName:V0(_,"fade",e.maskTransitionName)})})};Bfe.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};const jfe=Bfe;var Jft=function(e){var n=e.icon,r=e.onCancel,i=e.onOk,o=e.close,s=e.zIndex,a=e.afterClose,l=e.visible,c=e.keyboard,u=e.centered,f=e.getContainer,d=e.maskStyle,h=e.okText,p=e.okButtonProps,g=e.cancelText,m=e.cancelButtonProps,y=e.direction,b=e.prefixCls,C=e.wrapClassName,E=e.rootPrefixCls,_=e.iconPrefixCls,w=e.bodyStyle,M=e.closable,k=M===void 0?!1:M,I=e.closeIcon,A=e.modalRender,N=e.focusTriggerAfterClose,$=e.okType||"primary",L="".concat(b,"-confirm"),B="okCancel"in e?e.okCancel:!0,j=e.width||416,H=e.style||{},te=e.mask===void 0?!0:e.mask,Y=e.maskClosable===void 0?!1:e.maskClosable,ue=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",ce=at(L,"".concat(L,"-").concat(e.type),V({},"".concat(L,"-rtl"),y==="rtl"),e.className),se=B&&D(XL,{actionFn:r,close:o,autoFocus:ue==="cancel",buttonProps:m,prefixCls:"".concat(E,"-btn"),children:g});return D(ay,{prefixCls:E,iconPrefixCls:_,direction:y,children:D(jfe,{prefixCls:b,className:ce,wrapClassName:at(V({},"".concat(L,"-centered"),!!e.centered),C),onCancel:function(){return o({triggerCancel:!0})},visible:l,title:"",footer:"",transitionName:V0(E,"zoom",e.transitionName),maskTransitionName:V0(E,"fade",e.maskTransitionName),mask:te,maskClosable:Y,maskStyle:d,style:H,bodyStyle:w,width:j,zIndex:s,afterClose:a,keyboard:c,centered:u,getContainer:f,closable:k,closeIcon:I,modalRender:A,focusTriggerAfterClose:N,children:_t("div",{className:"".concat(L,"-body-wrapper"),children:[_t("div",{className:"".concat(L,"-body"),children:[n,e.title===void 0?null:D("span",{className:"".concat(L,"-title"),children:e.title}),D("div",{className:"".concat(L,"-content"),children:e.content})]}),_t("div",{className:"".concat(L,"-btns"),children:[se,D(XL,{type:$,actionFn:i,close:o,autoFocus:ue==="ok",buttonProps:p,prefixCls:"".concat(E,"-btn"),children:h})]})]})})})};const Vfe=Jft;var edt=[];const n1=edt;var tdt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Ufe="";function ndt(){return Ufe}function KE(t){var e=document.createDocumentFragment(),n=Lt(Lt({},t),{close:o,visible:!0});function r(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=l.some(function(h){return h&&h.triggerCancel});t.onCancel&&u&&t.onCancel.apply(t,[function(){}].concat(un(l.slice(1))));for(var f=0;f<n1.length;f++){var d=n1[f];if(d===o){n1.splice(f,1);break}}ale(e)}function i(a){var l=a.okText,c=a.cancelText,u=a.prefixCls,f=tdt(a,["okText","cancelText","prefixCls"]);setTimeout(function(){var d=ile(),h=dz(),p=h.getPrefixCls,g=h.getIconPrefixCls,m=p(void 0,ndt()),y=u||"".concat(m,"-modal"),b=g();sle(D(Vfe,{...f,prefixCls:y,rootPrefixCls:m,iconPrefixCls:b,okText:l||(f.okCancel?d.okText:d.justOkText),cancelText:c||d.cancelText}),e)})}function o(){for(var a=this,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];n=Lt(Lt({},n),{visible:!1,afterClose:function(){typeof t.afterClose=="function"&&t.afterClose(),r.apply(a,c)}}),i(n)}function s(a){typeof a=="function"?n=a(n):n=Lt(Lt({},n),a),i(n)}return i(n),n1.push(o),{destroy:o,update:s}}function Hfe(t){return Lt(Lt({icon:D(PE,{}),okCancel:!1},t),{type:"warning"})}function Wfe(t){return Lt(Lt({icon:D(Zk,{}),okCancel:!1},t),{type:"info"})}function Yfe(t){return Lt(Lt({icon:D(Xk,{}),okCancel:!1},t),{type:"success"})}function qfe(t){return Lt(Lt({icon:D(Kk,{}),okCancel:!1},t),{type:"error"})}function Xfe(t){return Lt(Lt({icon:D(PE,{}),okCancel:!0},t),{type:"confirm"})}function rdt(t){var e=t.rootPrefixCls;Ufe=e}function idt(){var t=T.exports.useState([]),e=Ke(t,2),n=e[0],r=e[1],i=T.exports.useCallback(function(o){return r(function(s){return[].concat(un(s),[o])}),function(){r(function(s){return s.filter(function(a){return a!==o})})}},[]);return[n,i]}var odt=function(e,n){var r=e.afterClose,i=e.config,o=T.exports.useState(!0),s=Ke(o,2),a=s[0],l=s[1],c=T.exports.useState(i),u=Ke(c,2),f=u[0],d=u[1],h=T.exports.useContext(ui),p=h.direction,g=h.getPrefixCls,m=g("modal"),y=g(),b=function(){l(!1);for(var E=arguments.length,_=new Array(E),w=0;w<E;w++)_[w]=arguments[w];var M=_.some(function(k){return k&&k.triggerCancel});f.onCancel&&M&&f.onCancel.apply(f,[function(){}].concat(un(_.slice(1))))};return T.exports.useImperativeHandle(n,function(){return{destroy:b,update:function(E){d(function(_){return Lt(Lt({},_),E)})}}}),D(tg,{componentName:"Modal",defaultLocale:Up.Modal,children:function(C){return D(Vfe,{prefixCls:m,rootPrefixCls:y,...f,close:b,visible:a,afterClose:r,okText:f.okText||(f.okCancel?C.okText:C.justOkText),direction:p,cancelText:f.cancelText||C.cancelText})}})};const sdt=T.exports.forwardRef(odt);var AZ=0,adt=T.exports.memo(T.exports.forwardRef(function(t,e){var n=idt(),r=Ke(n,2),i=r[0],o=r[1];return T.exports.useImperativeHandle(e,function(){return{patchElement:o}},[]),D(Xi,{children:i})}));function ldt(){var t=T.exports.useRef(null),e=T.exports.useState([]),n=Ke(e,2),r=n[0],i=n[1];T.exports.useEffect(function(){if(r.length){var a=un(r);a.forEach(function(l){l()}),i([])}},[r]);var o=T.exports.useCallback(function(a){return function(c){var u;AZ+=1;var f=T.exports.createRef(),d,h=D(sdt,{config:a(c),ref:f,afterClose:function(){d()}},"modal-".concat(AZ));return d=(u=t.current)===null||u===void 0?void 0:u.patchElement(h),{destroy:function(){function g(){var m;(m=f.current)===null||m===void 0||m.destroy()}f.current?g():i(function(m){return[].concat(un(m),[g])})},update:function(g){function m(){var y;(y=f.current)===null||y===void 0||y.update(g)}f.current?m():i(function(y){return[].concat(un(y),[m])})}}}},[]),s=T.exports.useMemo(function(){return{info:o(Wfe),success:o(Yfe),error:o(qfe),warning:o(Hfe),confirm:o(Xfe)}},[]);return[s,D(adt,{ref:t})]}function Kfe(t){return KE(Hfe(t))}var Sh=jfe;Sh.useModal=ldt;Sh.info=function(e){return KE(Wfe(e))};Sh.success=function(e){return KE(Yfe(e))};Sh.error=function(e){return KE(qfe(e))};Sh.warning=Kfe;Sh.warn=Kfe;Sh.confirm=function(e){return KE(Xfe(e))};Sh.destroyAll=function(){for(;n1.length;){var e=n1.pop();e&&e()}};Sh.config=rdt;const cdt=Sh;function udt(t){var e=t.prefixCls,n=t.okButtonProps,r=t.cancelButtonProps,i=t.title,o=t.cancelText,s=t.okText,a=t.okType,l=t.icon,c=t.showCancel,u=c===void 0?!0:c,f=t.close,d=t.onConfirm,h=t.onCancel,p=T.exports.useContext(ui),g=p.getPrefixCls;return D(tg,{componentName:"Popconfirm",defaultLocale:Up.Popconfirm,children:function(m){return _t("div",{className:"".concat(e,"-inner-content"),children:[_t("div",{className:"".concat(e,"-message"),children:[l,D("div",{className:"".concat(e,"-message-title"),children:TL(i)})]}),_t("div",{className:"".concat(e,"-buttons"),children:[u&&D(Hv,{onClick:h,size:"small",...r,children:o||m.cancelText}),D(XL,{buttonProps:Lt(Lt({size:"small"},Dz(a)),n),actionFn:d,close:f,prefixCls:g("btn"),quitOnNullishReturnValue:!0,emitEvent:!0,children:s||m.okText})]})]})}})}var kZ=globalThis,fdt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Zfe=T.exports.forwardRef(function(t,e){var n=T.exports.useContext(ui),r=n.getPrefixCls,i=Gs(!1,{value:t.visible,defaultValue:t.defaultVisible}),o=Ke(i,2),s=o[0],a=o[1],l=function(M,k){var I;a(M,!0),(I=t.onVisibleChange)===null||I===void 0||I.call(t,M,k)},c=function(M){l(!1,M)},u=function(M){var k;return(k=t.onConfirm)===null||k===void 0?void 0:k.call(kZ,M)},f=function(M){var k;l(!1,M),(k=t.onCancel)===null||k===void 0||k.call(kZ,M)},d=function(M){M.keyCode===St.ESC&&s&&l(!1,M)},h=function(M){var k=t.disabled;k||l(M)},p=t.prefixCls,g=t.placement,m=t.children,y=t.overlayClassName,b=fdt(t,["prefixCls","placement","children","overlayClassName"]),C=r("popover",p),E=r("popconfirm",p),_=at(E,y);return D(Rce,{...b,prefixCls:C,placement:g,onVisibleChange:h,visible:s,_overlay:D(udt,{...t,prefixCls:C,close:c,onConfirm:u,onCancel:f}),overlayClassName:_,ref:e,children:Dc(m,{onKeyDown:function(M){var k,I;T.exports.isValidElement(m)&&((I=m==null?void 0:(k=m.props).onKeyDown)===null||I===void 0||I.call(k,M)),d(M)}})})});Zfe.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:D(u8,{}),disabled:!1};const ddt=Zfe;var Xg;(function(t){t.MOUSE_ENTER="node-port:mouseenter",t.MOUSE_LEAVE="node-port:mouseleave"})(Xg||(Xg={}));var HA;(function(t){t.id="ACTIVE_NODE_PORT",t.useModel=e=>ie(this,void 0,void 0,function*(){const n=yield e.awaitModel(t.id);return{data:yield n.getValidValue(),model:n}})})(HA||(HA={}));let WA=class{constructor(){this.toDispose=new Ei,this.getGraphInstance=()=>ie(this,void 0,void 0,function*(){const e=yield this.graphProvider.getGraphInstance(),n=yield this.graphProvider.getGraphOptions();return{graph:e,config:n}}),this.getPortRenderConfig=()=>({onPortRendered(n){const r=this,{port:i,node:o}=n,{contentSelectors:s}=n,a=s&&s["xflow-port-group"];a instanceof Element&&(a.setAttribute("class",at("xflow-port-group",{connected:i.connected&&i.group!=="out",groupPort:(o==null?void 0:o.isGroup)&&(o==null?void 0:o.isGroup())})),a.addEventListener("mouseenter",l=>{const c={e:l,portId:i.id,nodeId:o.id,portData:i,nodeData:o.getData(),tooltip:i.tooltip,placement:i.group};r.trigger(Xg.MOUSE_ENTER,c)}),a.addEventListener("mouseleave",l=>{const c={e:l,portId:i.id,nodeId:o.id,portData:i,nodeData:o.getData(),tooltip:i.tooltip,placement:i.group};r.trigger(Xg.MOUSE_LEAVE,c)}))}}),this.registerHookHub=()=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{})}),this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.graphOptions.registerHook({name:"add onPortRendered options ",handler:i=>ie(this,void 0,void 0,function*(){Object.assign(i,this.getPortRenderConfig())})})];return n.pushAll(r),Zn.create(()=>{})})}registerModel(e){e.registerModel({id:HA.id,watchChange:n=>ie(this,void 0,void 0,function*(){const{graph:r,config:i}=yield this.getGraphInstance(),o=l=>{const{x:c,y:u,width:f,height:d}=l.target.getBoundingClientRect(),h=i.rootContainer.getBoundingClientRect();return{x:c-((h==null?void 0:h.x)||0)+f/2,y:u-((h==null?void 0:h.y)||0)+d/2}},s=l=>{n.setValue(Object.assign(Object.assign({},l),{position:o(l.e)}))},a=()=>{n.setValue(null)};return r.on(Xg.MOUSE_ENTER,s),r.on(Xg.MOUSE_LEAVE,a),r.on("cell:mouseleave",a),Zn.create(()=>{r.off(Xg.MOUSE_ENTER,s),r.off(Xg.MOUSE_LEAVE,a)})})})}};lt([jn(ny),ht("design:type",Object)],WA.prototype,"graphProvider",void 0);WA=lt([Ca({contrib:[pf,ty]})],WA);const hdt=()=>oc(t=>{t(WA)}),pdt="CanvasNodePortTooltip",gdt=t=>{const e=Za(),[n,,r]=dD(null);dt.useEffect(()=>{if(!e)return;const a=(()=>ie(void 0,void 0,void 0,function*(){const{model:l}=yield HA.useModel(e.modelService);return l.watch(c=>{r.setValue(c)})}))();return()=>{a.then(l=>{l.dispose()})}},[r,e]);const i=!!(n&&n.position&&n.position.x);if(!i)return null;const o=t.getTooltip?t.getTooltip(n):n.tooltip;return D(GE,{visible:i,title:o,placement:n.placement||"top",children:D("span",{className:"canvas-node-port-tooltip",style:{position:"absolute",left:n.position.x,top:n.position.y}})})},vdt=t=>{const e=dt.useCallback(()=>ie(void 0,void 0,void 0,function*(){return null}),[]);return D(eD,{createModule:hdt,config:{CONFIG_TYPE:pdt,getConfig:e},children:D(gdt,{...Object.assign({},t)})})};var ZL;(function(t){t.CONFIG_TYPE="ContextMenuConfig"})(ZL||(ZL={}));class sE{constructor(e){this.CONFIG_TYPE=ZL.CONFIG_TYPE,this.setMenuModelService=n=>{this.menuModelService=n},this.setCustomMenuRender=n=>{this.menuCustomRender=n},this.getConfig=()=>ie(this,void 0,void 0,function*(){return{CONFIG_TYPE:this.CONFIG_TYPE,menuCustomRender:this.menuCustomRender,menuModelService:this.menuModelService}}),this.moduleId=e||nu()}dispose(){}}var YA;(function(t){t.id="CONTEXT_MENU_MODEL",t.useValue=Hs(t.id),t.getModel=Us(t.id)})(YA||(YA={}));const{inject:Qfe,singleton:mdt}=ote;let aE=class{constructor(){this.toDispose=new Ei,this.getMenuModelValue=e=>ie(this,void 0,void 0,function*(){const n=yield this.menuConfig.getConfig(),{anchor:r,type:i,cell:o}=e,s=new Ei;this.toDispose.push(s);const a=o?o.getData():null,l=new R0({id:"menuroot",type:dv.Root,submenu:[]});s.push(Zn.create(()=>{l.dispose()}));const c={toDispose:s,anchor:r,target:{data:a,type:i},customRender:null,menuModel:l};return n.menuCustomRender&&(c.customRender=yield n.menuCustomRender(e,this.modelService)),n.menuModelService&&(yield n.menuModelService(e,c.menuModel,this.modelService,s)),c})}registerModel(e){const n=[e.registerModel({id:YA.id,getInitialValue:()=>null,watchChange:(r,i)=>ie(this,void 0,void 0,function*(){return(yield c3.getModel(i)).watch(s=>ie(this,void 0,void 0,function*(){const a=yield this.getMenuModelValue(s);r.setValue(a)}))})})];this.toDispose.pushAll(n)}};lt([Qfe(sE),ht("design:type",sE)],aE.prototype,"menuConfig",void 0);lt([Qfe(ey),ht("design:type",Object)],aE.prototype,"modelService",void 0);aE=lt([mdt({contrib:[ty]})],aE);const ydt=t=>oc(e=>{e(aE),e(sE,{useValue:t})}),qD=dt.createContext({});class Wv extends dt.PureComponent{constructor(){super(...arguments),this.onHotkey=()=>{this.triggerHandler()},this.onClick=e=>{this.triggerHandler(e)}}componentDidMount(){const{hotkey:e}=this.props;e&&this.props.context.registerHotkey(e,this.onHotkey)}componentWillUnmount(){const{hotkey:e}=this.props;e&&this.props.context.unregisterHotkey(e,this.onHotkey)}triggerHandler(e){!this.props.disabled&&!this.props.hidden&&(this.props.name&&this.props.context.onClick(this.props.name,e),this.props.onClick&&this.props.onClick())}render(){return D("div",{...Object.assign({},Wv.getProps(this.props)),children:Wv.getContent(this.props,this.onClick)})}}(function(t){function e(r,i){const{className:o,disabled:s,active:a,hidden:l}=r,{prefixCls:c}=r.context,u=`${c}-item`;return{className:at(u,i,{[`${u}-active`]:a,[`${u}-hidden`]:l,[`${u}-disabled`]:s},o)}}t.getProps=e;function n(r,i,o,s){const{icon:a,text:l,hotkey:c,children:u}=r,{prefixCls:f}=r.context,d=`${f}-item`;return _t(Xi,{children:[_t("button",{type:"button",className:`${d}-button`,onClick:i,children:[a&&dt.isValidElement(a)&&D("span",{className:`${d}-icon`,children:a}),D("span",{className:`${d}-text`,children:l||u}),c&&D("span",{className:`${d}-hotkey`,children:c}),o]}),s]})}t.getContent=n})(Wv||(Wv={}));const bdt=t=>D(qD.Consumer,{children:e=>D(Wv,{...Object.assign({context:e},t)})}),xdt=()=>D(qD.Consumer,{children:({prefixCls:t})=>D("div",{className:`${t}-item ${t}-item-divider`})});var wdt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Cdt=t=>{const{hotkey:e,children:n}=t,r=wdt(t,["hotkey","children"]);return D(qD.Consumer,{children:i=>{const{prefixCls:o}=i,s=Wv.getProps(Object.assign({context:i},t),`${o}-submenu`);return D("div",{...Object.assign({},s),children:Wv.getContent(Object.assign({context:i},r),null,D("span",{className:`${o}-submenu-arrow`}),D("div",{className:`${o}-submenu-menu`,children:n}))})}})};class nv extends dt.PureComponent{constructor(){super(...arguments),this.onClick=(e,n)=>{this.props.stopPropagation&&n!=null&&n.stopPropagation(),this.props.onClick&&this.props.onClick(e)},this.registerHotkey=(e,n)=>{this.props.registerHotkey&&this.props.registerHotkey(e,n)},this.unregisterHotkey=(e,n)=>{this.props.unregisterHotkey&&this.props.unregisterHotkey(e,n)}}render(){const{prefixCls:e,className:n,children:r,hasIcon:i}=this.props,o=`${e}-menu`,s=qD.Provider,a={prefixCls:o,onClick:this.onClick,registerHotkey:this.registerHotkey,unregisterHotkey:this.unregisterHotkey};return D("div",{className:at(o,{[`${o}-has-icon`]:i},n),children:D(s,{value:a,children:r})})}}(function(t){t.Item=bdt,t.Divider=xdt,t.SubMenu=Cdt,t.defaultProps={prefixCls:"x6",stopPropagation:!1}})(nv||(nv={}));var gb={adjustX:1,adjustY:1},vb=[0,0],Sdt={topLeft:{points:["bl","tl"],overflow:gb,offset:[0,-4],targetOffset:vb},topCenter:{points:["bc","tc"],overflow:gb,offset:[0,-4],targetOffset:vb},topRight:{points:["br","tr"],overflow:gb,offset:[0,-4],targetOffset:vb},bottomLeft:{points:["tl","bl"],overflow:gb,offset:[0,4],targetOffset:vb},bottomCenter:{points:["tc","bc"],overflow:gb,offset:[0,4],targetOffset:vb},bottomRight:{points:["tr","br"],overflow:gb,offset:[0,4],targetOffset:vb}},Edt=St.ESC,_dt=St.TAB;function Tdt(t){var e=t.visible,n=t.setTriggerVisible,r=t.triggerRef,i=t.menuRef,o=t.onVisibleChange,s=t.autoFocus,a=T.exports.useRef(!1),l=function(){if(e&&r.current){var d,h,p,g;(d=r.current)===null||d===void 0||(h=d.triggerRef)===null||h===void 0||(p=h.current)===null||p===void 0||(g=p.focus)===null||g===void 0||g.call(p),n(!1),typeof o=="function"&&o(!1)}},c=function(){var d,h;(d=i.current)===null||d===void 0||(h=d.focus)===null||h===void 0||h.call(d),a.current=!0},u=function(d){var h;switch(d.keyCode){case Edt:l();break;case _dt:!a.current&&((h=i.current)===null||h===void 0?void 0:h.focus)?(d.preventDefault(),c()):l();break}};T.exports.useEffect(function(){return e?(window.addEventListener("keydown",u),s&&oi(c,3),function(){window.removeEventListener("keydown",u),a.current=!1}):function(){a.current=!1}},[e])}var Pdt=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Odt(t,e){var n=t.arrow,r=n===void 0?!1:n,i=t.prefixCls,o=i===void 0?"rc-dropdown":i,s=t.transitionName,a=t.animation,l=t.align,c=t.placement,u=c===void 0?"bottomLeft":c,f=t.placements,d=f===void 0?Sdt:f,h=t.getPopupContainer,p=t.showAction,g=t.hideAction,m=t.overlayClassName,y=t.overlayStyle,b=t.visible,C=t.trigger,E=C===void 0?["hover"]:C,_=t.autoFocus,w=_i(t,Pdt),M=T.exports.useState(),k=Ke(M,2),I=k[0],A=k[1],N="visible"in t?b:I,$=T.exports.useRef(null);T.exports.useImperativeHandle(e,function(){return $.current});var L=T.exports.useRef(null),B="".concat(o,"-menu");Tdt({visible:N,setTriggerVisible:A,triggerRef:$,menuRef:L,onVisibleChange:t.onVisibleChange,autoFocus:_});var j=function(){var le=t.overlay,Ne;return typeof le=="function"?Ne=le():Ne=le,Ne},H=function(le){var Ne=t.onOverlayClick,Re=j().props;A(!1),Ne&&Ne(le),Re.onClick&&Re.onClick(le)},te=function(le){var Ne=t.onVisibleChange;A(le),typeof Ne=="function"&&Ne(le)},Y=function(){var le,Ne=j(),Re=gd(L,Ne.ref),Je=(le={prefixCls:B},V(le,"data-dropdown-inject",!0),V(le,"onClick",H),V(le,"ref",D2(Ne)?Re:void 0),le);return typeof Ne.type=="string"&&(delete Je.prefixCls,delete Je["data-dropdown-inject"]),_t(Xi,{children:[r&&D("div",{className:"".concat(o,"-arrow")}),T.exports.cloneElement(Ne,Je)]})},ue=function(){var le=t.overlay;return typeof le=="function"?Y:Y()},ce=function(){var le=t.minOverlayWidthMatchTrigger,Ne=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?le:!Ne},se=function(){var le=t.openClassName;return le!==void 0?le:"".concat(o,"-open")},fe=function(){var le=t.children,Ne=le.props?le.props:{},Re=at(Ne.className,se());return N&&le?T.exports.cloneElement(le,{className:Re}):le},me=g;return!me&&E.indexOf("contextMenu")!==-1&&(me=["click"]),D(R2,{...be(be({builtinPlacements:d},w),{},{prefixCls:o,ref:$,popupClassName:at(m,V({},"".concat(o,"-show-arrow"),r)),popupStyle:y,action:E,showAction:p,hideAction:me||[],popupPlacement:u,popupAlign:l,popupTransitionName:s,popupAnimation:a,popupVisible:N,stretch:ce()?"minWidth":"",popup:ue(),onPopupVisibleChange:te,getPopupContainer:h}),children:fe()})}const Mdt=T.exports.forwardRef(Odt);class qA extends dt.Component{render(){const{children:e,trigger:n,disabled:r}=this.props,i=`${this.props.prefixCls}-dropdown`,o=dt.Children.only(e),s=dt.cloneElement(o,{className:at(e.props.className,`${i}-trigger`),disabled:r}),a=r?[]:Array.isArray(n)?n:[n];let l=!1;a&&a.indexOf("contextMenu")!==-1&&(l=!0);const c=dt.Children.only(this.props.overlay),u=D("div",{className:`${i}-overlay`,children:c});return D(Mdt,{...Object.assign({},this.props,{prefixCls:i,overlay:u,alignPoint:l,trigger:a}),children:s})}}(function(t){t.defaultProps={trigger:"hover",prefixCls:"x6",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"}})(qA||(qA={}));const l7=dt.createContext({});class Adt extends dt.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.processClick()},this.handleDropdownItemClick=e=>{this.processClick(e,!1)}}processClick(e=this.props.name,n=this.props.dropdown){!this.props.disabled&&!n&&(e&&this.props.context.onClick(e),this.props.onClick&&this.props.onClick(e))}renderButton(){const{className:e,hidden:n,disabled:r,active:i,icon:o,text:s,dropdown:a,dropdownArrow:l,tooltip:c,tooltipProps:u,tooltipAsTitle:f,children:d}=this.props,{prefixCls:h}=this.props.context,p=`${h}-item`,g={onClick:this.handleClick,className:at(p,{[`${p}-hidden`]:n,[`${p}-active`]:i,[`${p}-disabled`]:r,[`${p}-dropdown`]:a},e)};c&&f&&(g.title=c);const m=_t("button",{...Object.assign({type:"button"},g),children:[o&&dt.isValidElement(o)&&D("span",{className:`${p}-icon`,children:o}),(s||d)&&D("span",{className:`${p}-text`,children:s||d}),a&&l&&D("span",{className:`${p}-dropdown-arrow`})]});return c&&!f&&!r?D(GE,{...Object.assign({title:c,placement:"bottom",mouseEnterDelay:0,mouseLeaveDelay:0},u),children:m}):m}render(){const{dropdown:e,dropdownProps:n,disabled:r}=this.props,i=this.renderButton();if(e!=null&&!r){const o=D("div",{children:e.type===nv?dt.cloneElement(e,{onClick:this.handleDropdownItemClick}):e}),s=Object.assign(Object.assign({trigger:["click"]},n),{disabled:r,overlay:o});return D(qA,{...Object.assign({},s),children:i})}return i}}const Jfe=t=>D(l7.Consumer,{children:e=>D(Adt,{...Object.assign({context:e},t)})});Jfe.defaultProps={dropdownArrow:!0};const kdt=({children:t,className:e})=>D(l7.Consumer,{children:({prefixCls:n})=>D("div",{className:at(`${n}-group`,e),children:t})});class d2 extends dt.PureComponent{constructor(){super(...arguments),this.onClick=(e,n)=>{this.props.onClick&&this.props.onClick(e,n)}}render(){const{prefixCls:e,className:n,children:r,extra:i,size:o,align:s,hoverEffect:a}=this.props,l=`${e}-toolbar`;return D("div",{className:at(l,n,{[`${l}-${o}`]:o,[`${l}-align-right`]:s==="right",[`${l}-hover-effect`]:a}),children:_t("div",{className:`${l}-content`,children:[D("div",{className:`${l}-content-inner`,children:D(l7.Provider,{value:{prefixCls:l,onClick:this.onClick},children:r})}),i&&D("div",{className:`${l}-content-extras`,children:i})]})})}}(function(t){t.Item=Jfe,t.Group=kdt,t.defaultProps={prefixCls:"x6",hoverEffect:!1}})(d2||(d2={}));var Or={},ZE={},Ddt=rm,Ndt=wu,Rdt=pd,Idt="[object String]";function $dt(t){return typeof t=="string"||!Ndt(t)&&Rdt(t)&&Ddt(t)==Idt}var Ldt=$dt;function Fdt(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var zdt=Fdt,Gdt=zdt,Bdt=Gdt(),ede=Bdt,jdt=ede,Vdt=IE;function Udt(t,e){return t&&jdt(t,e,Vdt)}var tde=Udt;function Hdt(t){return t}var XD=Hdt,Wdt=XD;function Ydt(t){return typeof t=="function"?t:Wdt}var nde=Ydt,qdt=tde,Xdt=nde;function Kdt(t,e){return t&&qdt(t,Xdt(e))}var c7=Kdt,Zdt=rm,Qdt=Z8,Jdt=pd,eht="[object Object]",tht=Function.prototype,nht=Object.prototype,rde=tht.toString,rht=nht.hasOwnProperty,iht=rde.call(Object);function oht(t){if(!Jdt(t)||Zdt(t)!=eht)return!1;var e=Qdt(t);if(e===null)return!0;var n=rht.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rde.call(n)==iht}var ide=oht,sht=uD,aht=bz,lht=1,cht=2;function uht(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new sht;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?aht(u,c,lht|cht,r,f):d))return!1}}return!0}var fht=uht,dht=kc;function hht(t){return t===t&&!dht(t)}var ode=hht,pht=ode,ght=IE;function vht(t){for(var e=ght(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,pht(i)]}return e}var mht=vht;function yht(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var sde=yht,bht=fht,xht=mht,wht=sde;function Cht(t){var e=xht(t);return e.length==1&&e[0][2]?wht(e[0][0],e[0][1]):function(n){return n===t||bht(n,t,e)}}var Sht=Cht,Eht=wu,_ht=iD,Tht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pht=/^\w*$/;function Oht(t,e){if(Eht(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_ht(t)?!0:Pht.test(t)||!Tht.test(t)||e!=null&&t in Object(e)}var u7=Oht,ade=j8,Mht="Expected a function";function f7(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Mht);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(f7.Cache||ade),n}f7.Cache=ade;var Aht=f7,kht=Aht,Dht=500;function Nht(t){var e=kht(t,function(r){return n.size===Dht&&n.clear(),r}),n=e.cache;return e}var Rht=Nht,Iht=Rht,$ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lht=/\\(\\)?/g,Fht=Iht(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($ht,function(n,r,i,o){e.push(i?o.replace(Lht,"$1"):r||n)}),e}),zht=Fht,Ght=wu,Bht=u7,jht=zht,Vht=Uat;function Uht(t,e){return Ght(t)?t:Bht(t,e)?[t]:jht(Vht(t))}var lde=Uht,Hht=iD,Wht=1/0;function Yht(t){if(typeof t=="string"||Hht(t))return t;var e=t+"";return e=="0"&&1/t==-Wht?"-0":e}var KD=Yht,qht=lde,Xht=KD;function Kht(t,e){e=qht(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Xht(e[n++])];return n&&n==r?t:void 0}var cde=Kht,Zht=cde;function Qht(t,e,n){var r=t==null?void 0:Zht(t,e);return r===void 0?n:r}var QL=Qht;function Jht(t,e){return t!=null&&e in Object(t)}var ept=Jht,tpt=lde,npt=U8,rpt=wu,ipt=H8,opt=W8,spt=KD;function apt(t,e,n){e=tpt(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=spt(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&opt(i)&&ipt(s,i)&&(rpt(t)||npt(t)))}var lpt=apt,cpt=ept,upt=lpt;function fpt(t,e){return t!=null&&upt(t,e,cpt)}var dpt=fpt,hpt=bz,ppt=QL,gpt=dpt,vpt=u7,mpt=ode,ypt=sde,bpt=KD,xpt=1,wpt=2;function Cpt(t,e){return vpt(t)&&mpt(e)?ypt(bpt(t),e):function(n){var r=ppt(n,t);return r===void 0&&r===e?gpt(n,t):hpt(e,r,xpt|wpt)}}var Spt=Cpt,Ept=cde;function _pt(t){return function(e){return Ept(e,t)}}var Tpt=_pt,Ppt=Bat,Opt=Tpt,Mpt=u7,Apt=KD;function kpt(t){return Mpt(t)?Ppt(Apt(t)):Opt(t)}var Dpt=kpt,Npt=Sht,Rpt=Spt,Ipt=XD,$pt=wu,Lpt=Dpt;function Fpt(t){return typeof t=="function"?t:t==null?Ipt:typeof t=="object"?$pt(t)?Rpt(t[0],t[1]):Npt(t):Lpt(t)}var zpt=Fpt,Gpt=M2;function Bpt(t,e){return function(n,r){if(n==null)return n;if(!Gpt(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var jpt=Bpt,Vpt=tde,Upt=jpt,Hpt=Upt(Vpt),ude=Hpt,Wpt=ude,Ypt=M2;function qpt(t,e){var n=-1,r=Ypt(t)?Array(t.length):[];return Wpt(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Xpt=qpt,Kpt=Vue,Zpt=zpt,Qpt=Xpt,Jpt=wu;function egt(t,e){var n=Jpt(t)?Kpt:Qpt;return n(t,Zpt(e))}var im=egt;Object.defineProperty(ZE,"__esModule",{value:!0});ZE.flattenNames=void 0;var tgt=Ldt,ngt=ZD(tgt),rgt=c7,igt=ZD(rgt),ogt=ide,sgt=ZD(ogt),agt=im,lgt=ZD(agt);function ZD(t){return t&&t.__esModule?t:{default:t}}var cgt=ZE.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,lgt.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,sgt.default)(r)?(0,igt.default)(r,function(i,o){i===!0&&n.push(o),n.push(o+"-"+i)}):(0,ngt.default)(r)&&n.push(r)}),n};ZE.default=cgt;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.mergeClasses=void 0;var ugt=c7,fgt=fde(ugt),dgt=Pae,hgt=fde(dgt),pgt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function fde(t){return t&&t.__esModule?t:{default:t}}var ggt=QE.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,hgt.default)(e.default)||{};return n.map(function(i){var o=e[i];return o&&(0,fgt.default)(o,function(s,a){r[a]||(r[a]={}),r[a]=pgt({},r[a],o[a])}),i}),r};QE.default=ggt;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.autoprefix=void 0;var vgt=c7,DZ=ygt(vgt),mgt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ygt(t){return t&&t.__esModule?t:{default:t}}var bgt={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},xgt=JE.autoprefix=function(e){var n={};return(0,DZ.default)(e,function(r,i){var o={};(0,DZ.default)(r,function(s,a){var l=bgt[a];l?o=mgt({},o,l(s)):o[a]=s}),n[i]=o}),n};JE.default=xgt;var e_={};Object.defineProperty(e_,"__esModule",{value:!0});e_.hover=void 0;var wgt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cgt=T.exports,c4=Sgt(Cgt);function Sgt(t){return t&&t.__esModule?t:{default:t}}function Egt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NZ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tgt=e_.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){_gt(i,r);function i(){var o,s,a,l;Egt(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=NZ(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return c4.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},c4.default.createElement(e,wgt({},a.props,a.state)))},s),NZ(a,l)}return i}(c4.default.Component)};e_.default=Tgt;var t_={};Object.defineProperty(t_,"__esModule",{value:!0});t_.active=void 0;var Pgt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ogt=T.exports,u4=Mgt(Ogt);function Mgt(t){return t&&t.__esModule?t:{default:t}}function Agt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RZ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dgt=t_.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){kgt(i,r);function i(){var o,s,a,l;Agt(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=RZ(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return u4.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},u4.default.createElement(e,Pgt({},a.props,a.state)))},s),RZ(a,l)}return i}(u4.default.Component)};t_.default=Dgt;var d7={};Object.defineProperty(d7,"__esModule",{value:!0});var Ngt=function(e,n){var r={},i=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[s]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};d7.default=Ngt;Object.defineProperty(Or,"__esModule",{value:!0});Or.ReactCSS=Or.loop=Or.handleActive=Or.handleHover=Or.hover=void 0;var Rgt=ZE,Igt=G2(Rgt),$gt=QE,Lgt=G2($gt),Fgt=JE,zgt=G2(Fgt),Ggt=e_,dde=G2(Ggt),Bgt=t_,jgt=G2(Bgt),Vgt=d7,Ugt=G2(Vgt);function G2(t){return t&&t.__esModule?t:{default:t}}Or.hover=dde.default;Or.handleHover=dde.default;Or.handleActive=jgt.default;Or.loop=Ugt.default;var Hgt=Or.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(0,Igt.default)(r),s=(0,Lgt.default)(e,o);return(0,zgt.default)(s)};Or.default=Hgt;var Rc={exports:{}},Wgt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ygt=Wgt,qgt=Ygt;function hde(){}function pde(){}pde.resetWarningCache=hde;var Xgt=function(){function t(r,i,o,s,a,l){if(l!==qgt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pde,resetWarningCache:hde};return n.PropTypes=n,n};Rc.exports=Xgt();var gde={exports:{}};(function(t){(function(e){var n=/^\s+/,r=/\s+$/,i=0,o=e.round,s=e.min,a=e.max,l=e.random;function c(X,ve){if(X=X||"",ve=ve||{},X instanceof c)return X;if(!(this instanceof c))return new c(X,ve);var ne=u(X);this._originalInput=X,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=o(100*this._a)/100,this._format=ve.format||ne.format,this._gradientType=ve.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=ne.ok,this._tc_id=i++}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(X.r*299+X.g*587+X.b*114)/1e3},getLuminance:function(){var X=this.toRgb(),ve,ne,ke,je,Ve,$t;return ve=X.r/255,ne=X.g/255,ke=X.b/255,ve<=.03928?je=ve/12.92:je=e.pow((ve+.055)/1.055,2.4),ne<=.03928?Ve=ne/12.92:Ve=e.pow((ne+.055)/1.055,2.4),ke<=.03928?$t=ke/12.92:$t=e.pow((ke+.055)/1.055,2.4),.2126*je+.7152*Ve+.0722*$t},setAlpha:function(X){return this._a=ue(X),this._roundA=o(100*this._a)/100,this},toHsv:function(){var X=p(this._r,this._g,this._b);return{h:X.h*360,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=p(this._r,this._g,this._b),ve=o(X.h*360),ne=o(X.s*100),ke=o(X.v*100);return this._a==1?"hsv("+ve+", "+ne+"%, "+ke+"%)":"hsva("+ve+", "+ne+"%, "+ke+"%, "+this._roundA+")"},toHsl:function(){var X=d(this._r,this._g,this._b);return{h:X.h*360,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=d(this._r,this._g,this._b),ve=o(X.h*360),ne=o(X.s*100),ke=o(X.l*100);return this._a==1?"hsl("+ve+", "+ne+"%, "+ke+"%)":"hsla("+ve+", "+ne+"%, "+ke+"%, "+this._roundA+")"},toHex:function(X){return m(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return y(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(ce(this._r,255)*100)+"%",g:o(ce(this._g,255)*100)+"%",b:o(ce(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(ce(this._r,255)*100)+"%, "+o(ce(this._g,255)*100)+"%, "+o(ce(this._b,255)*100)+"%)":"rgba("+o(ce(this._r,255)*100)+"%, "+o(ce(this._g,255)*100)+"%, "+o(ce(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:te[m(this._r,this._g,this._b,!0)]||!1},toFilter:function(X){var ve="#"+b(this._r,this._g,this._b,this._a),ne=ve,ke=this._gradientType?"GradientType = 1, ":"";if(X){var je=c(X);ne="#"+b(je._r,je._g,je._b,je._a)}return"progid:DXImageTransform.Microsoft.gradient("+ke+"startColorstr="+ve+",endColorstr="+ne+")"},toString:function(X){var ve=!!X;X=X||this._format;var ne=!1,ke=this._a<1&&this._a>=0,je=!ve&&ke&&(X==="hex"||X==="hex6"||X==="hex3"||X==="hex4"||X==="hex8"||X==="name");return je?X==="name"&&this._a===0?this.toName():this.toRgbString():(X==="rgb"&&(ne=this.toRgbString()),X==="prgb"&&(ne=this.toPercentageRgbString()),(X==="hex"||X==="hex6")&&(ne=this.toHexString()),X==="hex3"&&(ne=this.toHexString(!0)),X==="hex4"&&(ne=this.toHex8String(!0)),X==="hex8"&&(ne=this.toHex8String()),X==="name"&&(ne=this.toName()),X==="hsl"&&(ne=this.toHslString()),X==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function(X,ve){var ne=X.apply(null,[this].concat([].slice.call(ve)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(C,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(I,arguments)},_applyCombination:function(X,ve){return X.apply(null,[this].concat([].slice.call(ve)))},analogous:function(){return this._applyCombination(B,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(L,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination($,arguments)}},c.fromRatio=function(X,ve){if(typeof X=="object"){var ne={};for(var ke in X)X.hasOwnProperty(ke)&&(ke==="a"?ne[ke]=X[ke]:ne[ke]=Ne(X[ke]));X=ne}return c(X,ve)};function u(X){var ve={r:0,g:0,b:0},ne=1,ke=null,je=null,Ve=null,$t=!1,Ct=!1;return typeof X=="string"&&(X=Pt(X)),typeof X=="object"&&(tt(X.r)&&tt(X.g)&&tt(X.b)?(ve=f(X.r,X.g,X.b),$t=!0,Ct=String(X.r).substr(-1)==="%"?"prgb":"rgb"):tt(X.h)&&tt(X.s)&&tt(X.v)?(ke=Ne(X.s),je=Ne(X.v),ve=g(X.h,ke,je),$t=!0,Ct="hsv"):tt(X.h)&&tt(X.s)&&tt(X.l)&&(ke=Ne(X.s),Ve=Ne(X.l),ve=h(X.h,ke,Ve),$t=!0,Ct="hsl"),X.hasOwnProperty("a")&&(ne=X.a)),ne=ue(ne),{ok:$t,format:X.format||Ct,r:s(255,a(ve.r,0)),g:s(255,a(ve.g,0)),b:s(255,a(ve.b,0)),a:ne}}function f(X,ve,ne){return{r:ce(X,255)*255,g:ce(ve,255)*255,b:ce(ne,255)*255}}function d(X,ve,ne){X=ce(X,255),ve=ce(ve,255),ne=ce(ne,255);var ke=a(X,ve,ne),je=s(X,ve,ne),Ve,$t,Ct=(ke+je)/2;if(ke==je)Ve=$t=0;else{var ln=ke-je;switch($t=Ct>.5?ln/(2-ke-je):ln/(ke+je),ke){case X:Ve=(ve-ne)/ln+(ve<ne?6:0);break;case ve:Ve=(ne-X)/ln+2;break;case ne:Ve=(X-ve)/ln+4;break}Ve/=6}return{h:Ve,s:$t,l:Ct}}function h(X,ve,ne){var ke,je,Ve;X=ce(X,360),ve=ce(ve,100),ne=ce(ne,100);function $t(bn,Z,J){return J<0&&(J+=1),J>1&&(J-=1),J<1/6?bn+(Z-bn)*6*J:J<1/2?Z:J<2/3?bn+(Z-bn)*(2/3-J)*6:bn}if(ve===0)ke=je=Ve=ne;else{var Ct=ne<.5?ne*(1+ve):ne+ve-ne*ve,ln=2*ne-Ct;ke=$t(ln,Ct,X+1/3),je=$t(ln,Ct,X),Ve=$t(ln,Ct,X-1/3)}return{r:ke*255,g:je*255,b:Ve*255}}function p(X,ve,ne){X=ce(X,255),ve=ce(ve,255),ne=ce(ne,255);var ke=a(X,ve,ne),je=s(X,ve,ne),Ve,$t,Ct=ke,ln=ke-je;if($t=ke===0?0:ln/ke,ke==je)Ve=0;else{switch(ke){case X:Ve=(ve-ne)/ln+(ve<ne?6:0);break;case ve:Ve=(ne-X)/ln+2;break;case ne:Ve=(X-ve)/ln+4;break}Ve/=6}return{h:Ve,s:$t,v:Ct}}function g(X,ve,ne){X=ce(X,360)*6,ve=ce(ve,100),ne=ce(ne,100);var ke=e.floor(X),je=X-ke,Ve=ne*(1-ve),$t=ne*(1-je*ve),Ct=ne*(1-(1-je)*ve),ln=ke%6,bn=[ne,$t,Ve,Ve,Ct,ne][ln],Z=[Ct,ne,ne,$t,Ve,Ve][ln],J=[Ve,Ve,Ct,ne,ne,$t][ln];return{r:bn*255,g:Z*255,b:J*255}}function m(X,ve,ne,ke){var je=[le(o(X).toString(16)),le(o(ve).toString(16)),le(o(ne).toString(16))];return ke&&je[0].charAt(0)==je[0].charAt(1)&&je[1].charAt(0)==je[1].charAt(1)&&je[2].charAt(0)==je[2].charAt(1)?je[0].charAt(0)+je[1].charAt(0)+je[2].charAt(0):je.join("")}function y(X,ve,ne,ke,je){var Ve=[le(o(X).toString(16)),le(o(ve).toString(16)),le(o(ne).toString(16)),le(Re(ke))];return je&&Ve[0].charAt(0)==Ve[0].charAt(1)&&Ve[1].charAt(0)==Ve[1].charAt(1)&&Ve[2].charAt(0)==Ve[2].charAt(1)&&Ve[3].charAt(0)==Ve[3].charAt(1)?Ve[0].charAt(0)+Ve[1].charAt(0)+Ve[2].charAt(0)+Ve[3].charAt(0):Ve.join("")}function b(X,ve,ne,ke){var je=[le(Re(ke)),le(o(X).toString(16)),le(o(ve).toString(16)),le(o(ne).toString(16))];return je.join("")}c.equals=function(X,ve){return!X||!ve?!1:c(X).toRgbString()==c(ve).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})};function C(X,ve){ve=ve===0?0:ve||10;var ne=c(X).toHsl();return ne.s-=ve/100,ne.s=se(ne.s),c(ne)}function E(X,ve){ve=ve===0?0:ve||10;var ne=c(X).toHsl();return ne.s+=ve/100,ne.s=se(ne.s),c(ne)}function _(X){return c(X).desaturate(100)}function w(X,ve){ve=ve===0?0:ve||10;var ne=c(X).toHsl();return ne.l+=ve/100,ne.l=se(ne.l),c(ne)}function M(X,ve){ve=ve===0?0:ve||10;var ne=c(X).toRgb();return ne.r=a(0,s(255,ne.r-o(255*-(ve/100)))),ne.g=a(0,s(255,ne.g-o(255*-(ve/100)))),ne.b=a(0,s(255,ne.b-o(255*-(ve/100)))),c(ne)}function k(X,ve){ve=ve===0?0:ve||10;var ne=c(X).toHsl();return ne.l-=ve/100,ne.l=se(ne.l),c(ne)}function I(X,ve){var ne=c(X).toHsl(),ke=(ne.h+ve)%360;return ne.h=ke<0?360+ke:ke,c(ne)}function A(X){var ve=c(X).toHsl();return ve.h=(ve.h+180)%360,c(ve)}function N(X){var ve=c(X).toHsl(),ne=ve.h;return[c(X),c({h:(ne+120)%360,s:ve.s,l:ve.l}),c({h:(ne+240)%360,s:ve.s,l:ve.l})]}function $(X){var ve=c(X).toHsl(),ne=ve.h;return[c(X),c({h:(ne+90)%360,s:ve.s,l:ve.l}),c({h:(ne+180)%360,s:ve.s,l:ve.l}),c({h:(ne+270)%360,s:ve.s,l:ve.l})]}function L(X){var ve=c(X).toHsl(),ne=ve.h;return[c(X),c({h:(ne+72)%360,s:ve.s,l:ve.l}),c({h:(ne+216)%360,s:ve.s,l:ve.l})]}function B(X,ve,ne){ve=ve||6,ne=ne||30;var ke=c(X).toHsl(),je=360/ne,Ve=[c(X)];for(ke.h=(ke.h-(je*ve>>1)+720)%360;--ve;)ke.h=(ke.h+je)%360,Ve.push(c(ke));return Ve}function j(X,ve){ve=ve||6;for(var ne=c(X).toHsv(),ke=ne.h,je=ne.s,Ve=ne.v,$t=[],Ct=1/ve;ve--;)$t.push(c({h:ke,s:je,v:Ve})),Ve=(Ve+Ct)%1;return $t}c.mix=function(X,ve,ne){ne=ne===0?0:ne||50;var ke=c(X).toRgb(),je=c(ve).toRgb(),Ve=ne/100,$t={r:(je.r-ke.r)*Ve+ke.r,g:(je.g-ke.g)*Ve+ke.g,b:(je.b-ke.b)*Ve+ke.b,a:(je.a-ke.a)*Ve+ke.a};return c($t)},c.readability=function(X,ve){var ne=c(X),ke=c(ve);return(e.max(ne.getLuminance(),ke.getLuminance())+.05)/(e.min(ne.getLuminance(),ke.getLuminance())+.05)},c.isReadable=function(X,ve,ne){var ke=c.readability(X,ve),je,Ve;switch(Ve=!1,je=bt(ne),je.level+je.size){case"AAsmall":case"AAAlarge":Ve=ke>=4.5;break;case"AAlarge":Ve=ke>=3;break;case"AAAsmall":Ve=ke>=7;break}return Ve},c.mostReadable=function(X,ve,ne){var ke=null,je=0,Ve,$t,Ct,ln;ne=ne||{},$t=ne.includeFallbackColors,Ct=ne.level,ln=ne.size;for(var bn=0;bn<ve.length;bn++)Ve=c.readability(X,ve[bn]),Ve>je&&(je=Ve,ke=c(ve[bn]));return c.isReadable(X,ke,{level:Ct,size:ln})||!$t?ke:(ne.includeFallbackColors=!1,c.mostReadable(X,["#fff","#000"],ne))};var H=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},te=c.hexNames=Y(H);function Y(X){var ve={};for(var ne in X)X.hasOwnProperty(ne)&&(ve[X[ne]]=ne);return ve}function ue(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function ce(X,ve){me(X)&&(X="100%");var ne=K(X);return X=s(ve,a(0,parseFloat(X))),ne&&(X=parseInt(X*ve,10)/100),e.abs(X-ve)<1e-6?1:X%ve/parseFloat(ve)}function se(X){return s(1,a(0,X))}function fe(X){return parseInt(X,16)}function me(X){return typeof X=="string"&&X.indexOf(".")!=-1&&parseFloat(X)===1}function K(X){return typeof X=="string"&&X.indexOf("%")!=-1}function le(X){return X.length==1?"0"+X:""+X}function Ne(X){return X<=1&&(X=X*100+"%"),X}function Re(X){return e.round(parseFloat(X)*255).toString(16)}function Je(X){return fe(X)/255}var $e=function(){var X="[-\\+]?\\d+%?",ve="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+ve+")|(?:"+X+")",ke="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",je="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+ke),rgba:new RegExp("rgba"+je),hsl:new RegExp("hsl"+ke),hsla:new RegExp("hsla"+je),hsv:new RegExp("hsv"+ke),hsva:new RegExp("hsva"+je),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function tt(X){return!!$e.CSS_UNIT.exec(X)}function Pt(X){X=X.replace(n,"").replace(r,"").toLowerCase();var ve=!1;if(H[X])X=H[X],ve=!0;else if(X=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=$e.rgb.exec(X))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=$e.rgba.exec(X))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=$e.hsl.exec(X))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=$e.hsla.exec(X))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=$e.hsv.exec(X))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=$e.hsva.exec(X))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=$e.hex8.exec(X))?{r:fe(ne[1]),g:fe(ne[2]),b:fe(ne[3]),a:Je(ne[4]),format:ve?"name":"hex8"}:(ne=$e.hex6.exec(X))?{r:fe(ne[1]),g:fe(ne[2]),b:fe(ne[3]),format:ve?"name":"hex"}:(ne=$e.hex4.exec(X))?{r:fe(ne[1]+""+ne[1]),g:fe(ne[2]+""+ne[2]),b:fe(ne[3]+""+ne[3]),a:Je(ne[4]+""+ne[4]),format:ve?"name":"hex8"}:(ne=$e.hex3.exec(X))?{r:fe(ne[1]+""+ne[1]),g:fe(ne[2]+""+ne[2]),b:fe(ne[3]+""+ne[3]),format:ve?"name":"hex"}:!1}function bt(X){var ve,ne;return X=X||{level:"AA",size:"small"},ve=(X.level||"AA").toUpperCase(),ne=(X.size||"small").toLowerCase(),ve!=="AA"&&ve!=="AAA"&&(ve="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:ve,size:ne}}t.exports?t.exports=c:window.tinycolor=c})(Math)})(gde);var vde={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},mde={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},yde={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},bde={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},xde={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},wde={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Cde={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Sde={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Ede={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},_de={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Tde={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Pde={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Ode={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Mde={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Ade={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},kde={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Dde={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Nde={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},Rde={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},Ide={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},$de={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},Lde={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},Fde={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},zde="#ffffff",Gde="#000000";const Kgt={red:vde,pink:mde,purple:yde,deepPurple:bde,indigo:xde,blue:wde,lightBlue:Cde,cyan:Sde,teal:Ede,green:_de,lightGreen:Tde,lime:Pde,yellow:Ode,amber:Mde,orange:Ade,deepOrange:kde,brown:Dde,grey:Nde,blueGrey:Rde,darkText:Ide,lightText:$de,darkIcons:Lde,lightIcons:Fde,white:zde,black:Gde},Zgt=Object.freeze(Object.defineProperty({__proto__:null,red:vde,pink:mde,purple:yde,deepPurple:bde,indigo:xde,blue:wde,lightBlue:Cde,cyan:Sde,teal:Ede,green:_de,lightGreen:Tde,lime:Pde,yellow:Ode,amber:Mde,orange:Ade,deepOrange:kde,brown:Dde,grey:Nde,blueGrey:Rde,darkText:Ide,lightText:$de,darkIcons:Lde,lightIcons:Fde,white:zde,black:Gde,default:Kgt},Symbol.toStringTag,{value:"Module"}));var h7={};Object.defineProperty(h7,"__esModule",{value:!0});var IZ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qgt=T.exports,$Z=Jgt(Qgt);function Jgt(t){return t&&t.__esModule?t:{default:t}}function evt(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var iO=24;h7.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?iO:r,o=t.height,s=o===void 0?iO:o,a=t.style,l=a===void 0?{}:a,c=evt(t,["fill","width","height","style"]);return $Z.default.createElement("svg",IZ({viewBox:"0 0 "+iO+" "+iO,style:IZ({fill:n,width:i,height:s},l)},c),$Z.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))};var p7={};Object.defineProperty(p7,"__esModule",{value:!0});var LZ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tvt=T.exports,FZ=nvt(tvt);function nvt(t){return t&&t.__esModule?t:{default:t}}function rvt(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var oO=24;p7.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?oO:r,o=t.height,s=o===void 0?oO:o,a=t.style,l=a===void 0?{}:a,c=rvt(t,["fill","width","height","style"]);return FZ.default.createElement("svg",LZ({viewBox:"0 0 "+oO+" "+oO,style:LZ({fill:n,width:i,height:s},l)},c),FZ.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))};const JL=t=>{const{idx:e,menuOptions:n,target:r,modelService:i,commandService:o,onHide:s}=t,{id:a,label:l,isEnabled:c=!0,isVisible:u=!0,iconName:f,submenu:d=[],active:h,hotkey:p,render:g,onClick:m}=n;if(!u)return null;if(n.type==="separator")return D(nv.Divider,{},String(n.id)+e);if(n.type==="root")return D(nv,{hasIcon:!0,children:d.map((b,C)=>JL({idx:C,target:r,commandService:o,modelService:i,menuOptions:b,onHide:s}))});if(n.submenu&&Array.isArray(n.submenu)){const b=Aa.get(f),C=!c;return D(nv.SubMenu,{text:l,disabled:C||d.length===0,icon:b?D(b,{}):null,active:h,hotkey:p,children:d.map((E,_)=>JL({idx:_,target:r,commandService:o,modelService:i,menuOptions:E,onHide:s}))},String(a))}const y=Aa.get(f);return g?dt.createElement(g,{menuItem:n,target:r,commandService:o,modelService:i,onHide:s},[D(nv.Item,{text:l,disabled:!c,icon:y?D(y,{}):null,active:h,hotkey:p},String(a))]):D(nv.Item,{text:l,disabled:!c,icon:y?D(y,{}):null,active:h,hotkey:p,onClick:()=>ie(void 0,void 0,void 0,function*(){yield m({menuItem:n,target:r,commandService:o,modelService:i}),s&&s()})},String(a))},ivt=t=>{const{menuModel:e,target:n,onHide:r}=t,{modelService:i,commandService:o}=Za(),[s]=Nae(e);return JL({idx:-1,target:n,commandService:o,modelService:i,menuOptions:s,onHide:r})},ovt=({toDispose:t})=>(dt.useEffect(()=>()=>{t.dispose()},[t]),null),svt=()=>{const t=dt.useRef(),e=Za(),[n,,r]=UXe({getModel:()=>ie(void 0,void 0,void 0,function*(){return yield YA.getModel(e.modelService)}),initialState:{anchor:null,menuModel:null,target:null,customRender:null,toDispose:null}}),{target:i,anchor:o,menuModel:s,customRender:a,toDispose:l}=n;if(!i||!o||!s)return null;const c=()=>{r.setValue({anchor:null,menuModel:null,target:null,customRender:null,toDispose:null})},u=a?dt.createElement(a,{target:i,modelService:e.modelService,onHide:c}):D(ivt,{target:i,menuModel:s,onHide:c});return _t("div",{className:"xflow-menu-mask",ref:t,onClick:c,onContextMenu:f=>{f.preventDefault(),f.stopPropagation()},children:[D(ovt,{toDispose:l}),D(qA,{visible:!0,getPopupContainer:()=>t.current,overlay:u,children:D("div",{className:"xflow-context-menu-anchor",style:{top:o.y,left:o.x}})})]})},avt=t=>{const n=!!Za(),r=dt.useMemo(()=>t.config?t.config:new sE,[t.config]);return D(eD,{createModule:ydt,config:r,children:n&&D(svt,{config:r})})},lvt=t=>e=>{const n=dt.useMemo(()=>({getValue:()=>({})}),[]);return n.getValue=()=>e,dt.useMemo(()=>{const i=new sE;return t(i,n),i},[n])},f4="CanvasToolbar";class Bde{constructor(){this.CONFIG_TYPE=f4,this.setToolbarName=e=>{this.moduleId=f4+"__"+e},this.setToolbarModelService=e=>{this.toolbarModelService=e},this.setCustomToolbarRender=e=>{this.customRenderService=e},this.getConfig=()=>({CONFIG_TYPE:this.CONFIG_TYPE,toolbarCustomRender:this.customRenderService,toolbarModelService:this.toolbarModelService}),this.moduleId=f4+"__"+nu()}dispose(){}}const cvt=t=>{const e=Za(),{item:n,layout:r}=t,i=at({["xflow-toolbar-item"]:!0}),o=r==="vertical"?"":n.text;let s;if(n.icon)s=n.icon;else if(n.iconName){const d=Aa.get(n.iconName);s=D(d,{})}const a=n.render,{isEnabled:l=!0}=n,{commandService:c,modelService:u}=e,f=()=>{n.onClick&&n.onClick({toolbarItem:n,commandService:c,modelService:u})};return a?D(a,{...Object.assign({},n,{onClick:f}),children:D(d2.Item,{...Object.assign({},n,{icon:s,text:o,className:i,disabled:!l,tooltip:n.tooltip||n.text,tooltipProps:Object.assign({placement:r==="vertical"?"left":"bottom"},n.tooltipProps),onClick:()=>{}})})}):D(d2.Item,{...Object.assign({},n,{icon:s,text:o,className:i,hidden:!n,disabled:!l,tooltip:n.tooltip||n.text,onClick:f,tooltipProps:Object.assign(Object.assign({},n.tooltipProps),{placement:r==="vertical"?"left":"bottom"})})})},uvt=t=>{const{group:e,layout:n}=t,r=dt.useMemo(()=>e.name||nu(),[e.name]),{items:i=[]}=e;if(i.length===0)return null;const o=at({["xflow-toolbar-group"]:!0});return D(d2.Group,{className:o,children:i.map(s=>D(cvt,{item:s,layout:n},s.id))},r)},fvt=t=>{const{config:e}=t,n=e.moduleId,r=Za(),[i,o,s,a]=dD({name:n,layout:t.layout,mainGroups:[],extraGroups:[],customRender:null});return dt.useEffect(()=>{const l=new Ei;if(!r.modelService.findDeferredModel(n)){const{toolbarCustomRender:u,toolbarModelService:f}=e.getConfig(),d=r.modelService.registerModel({id:n,modelFactory:()=>s,watchChange:h=>ie(void 0,void 0,void 0,function*(){if(f&&(yield f(h,r.modelService,l)),u){const p=g=>{h.setValue(m=>m.customRender=g)};yield u(r.modelService,p)}return l})});l.push(d)}return()=>{l.dispose()}},[]),{isModelReady:a,state:i,setState:o,toolbarModel:s}},zZ=t=>{const{idx:e,groups:n,layout:r,toolbarOptions:i}=t,{hoverEffect:o=!0}=i;return D(d2,{hoverEffect:o,children:n.map((s,a)=>{const l=e+a;return D(uvt,{group:s,layout:r},l)})})},dvt=t=>{const{isModelReady:e,state:n}=fvt(t),r=Np(t.position),{mainGroups:i=[],extraGroups:o=[],layout:s,customRender:a}=n,l=at(t.className,s,"xflow-toolbar"),c=at({[s]:!0,["xflow-toolbar-root"]:!0});return e?a?dt.createElement("div",{className:l,style:Object.assign(Object.assign({},r),t.style)},dt.createElement(a,{config:n})):D("div",{className:l,style:Object.assign(Object.assign({},r),t.style),children:_t("div",{className:c,children:[i.length>0&&D(zZ,{idx:"mainGroups",groups:i,layout:s,toolbarOptions:n}),o.length>0&&D(zZ,{idx:"extraGroups",groups:o,layout:s,toolbarOptions:n})]})}):D("div",{className:l,style:Object.assign(Object.assign({},r),t.style),children:D(Gfe,{spinning:!0,size:"small"})})},hvt=dt.memo(dvt),jde=t=>{const n=!!Za(),r=dt.useMemo(()=>t.config?t.config:new Bde,[t.config]);return n?D(hvt,{...Object.assign({},t,{config:r})}):null},Vde=t=>e=>{const n=dt.useMemo(()=>({getValue:()=>({})}),[]);return n.getValue=()=>e,dt.useMemo(()=>{const i=new Bde;return t(i,n),i},[n])};var yC;(function(t){Aa.set("ZoomInOutlined",hRe),Aa.set("ZoomOutOutlined",vRe),Aa.set("OneToOneOutlined",$Ne),Aa.set("CompressOutlined",GDe),Aa.set("FullscreenOutlined",yNe),Aa.set("FullscreenExitOutlined",gNe),t.ZOOM_IN=Pr.GRAPH_ZOOM.id+"-zoom-in",t.ZOOM_OUT=Pr.GRAPH_ZOOM.id+"-zoom-out",t.SCALE_TO_ONE=Pr.GRAPH_ZOOM.id+"-scale-to-one",t.SCALE_TO_FIT=Pr.GRAPH_ZOOM.id+"-scale-to-fit",t.FULLSCREEN=Pr.GRAPH_ZOOM.id+"-fullscreen",t.MAX_SCALE=1.5,t.MIN_SCALE=.05,t.zoomOptions={maxScale:t.MAX_SCALE,minScale:t.MIN_SCALE},t.getToolbarConfig=({zoomFactor:e,fullscreen:n})=>[{name:"main",items:[{id:t.ZOOM_IN,tooltip:"\u653E\u5927",iconName:"ZoomInOutlined",onClick:({commandService:r})=>{r.executeCommand(Pr.GRAPH_ZOOM.id,{factor:.1,zoomOptions:t.zoomOptions})}},{id:t.ZOOM_OUT,tooltip:"\u7F29\u5C0F",iconName:"ZoomOutOutlined",onClick:({commandService:r})=>{r.executeCommand(Pr.GRAPH_ZOOM.id,{factor:-.1,zoomOptions:t.zoomOptions})}},{id:t.SCALE_TO_ONE,iconName:"OneToOneOutlined",tooltip:"\u7F29\u653E\u52301:1",isEnabled:e!==1,onClick:({commandService:r})=>{r.executeCommand(Pr.GRAPH_ZOOM.id,{factor:"real",zoomOptions:t.zoomOptions})}},{id:t.SCALE_TO_FIT,tooltip:"\u7F29\u653E\u5230\u9002\u5E94\u5C4F\u5E55",iconName:"CompressOutlined",onClick:({commandService:r})=>{r.executeCommand(Pr.GRAPH_ZOOM.id,{factor:"fit",zoomOptions:t.zoomOptions})}},{id:t.FULLSCREEN,tooltip:n?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",iconName:n?"FullscreenExitOutlined":"FullscreenOutlined",onClick:({commandService:r})=>{r.executeCommand(Pr.GRAPH_FULLSCREEN.id,{})}}]}]})(yC||(yC={}));const pvt=Vde(t=>{t.setToolbarModelService((e,n)=>ie(void 0,void 0,void 0,function*(){const r=yield fS.useValue(n);e.setValue(s=>{s.mainGroups=yC.getToolbarConfig({zoomFactor:r.zoomFactor,fullscreen:!1})});const i=yield e2.getModel(n);i.setValue(!1),i.watch(s=>{e.setValue(a=>{a.mainGroups=yC.getToolbarConfig({zoomFactor:r.zoomFactor,fullscreen:s})})}),(yield fS.getModel(n)).watch(({zoomFactor:s})=>ie(void 0,void 0,void 0,function*(){const a=yield e2.useValue(n);e.setValue(l=>{l.mainGroups=yC.getToolbarConfig({zoomFactor:s,fullscreen:a})})}))}))}),gvt=t=>{const e=pvt(t);return D(jde,{...Object.assign({layout:"vertical"},t,{config:e,position:t.position||{top:12,right:12}})})},vvt=Symbol("IMinimapConfigProvider");let eF=class{constructor(){this.toDispose=new Ei,this.registerHookHub=()=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{})}),this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.graphOptions.registerHook({name:"add minimap options",handler:i=>ie(this,void 0,void 0,function*(){const o=yield this.minimapConfig.getConfig();i.minimap=Object.assign({},o)})})];return n.pushAll(r),Zn.create(()=>{})})}};lt([jn(vvt),ht("design:type",Object)],eF.prototype,"minimapConfig",void 0);eF=lt([Ca({contrib:pf})],eF);class lE extends la{renderMarkup(){return this.renderJSONMarkup({tagName:"rect",selector:"body"})}update(){super.update({body:{refWidth:"100%",refHeight:"100%",fill:lE.nodeFillColor}})}}lE.nodeFillColor="#31d0c6";lE.setNodeFillColor=t=>{lE.nodeFillColor=t};class mvt{constructor(){this.getValue=()=>({})}dispose(){this.getValue=()=>null}}const Ude=dt.createContext({propsProxy:null,commandService:null,modelService:null}),QD=()=>dt.useContext(Ude),Hde=t=>{const{className:e,position:n,style:r,children:i}=t,o=Za(),s=Np(n),a=dt.useMemo(()=>new mvt,[]);if(dt.useEffect(()=>()=>{a.dispose()},[a]),!o||!o.modelService)return null;a.getValue=()=>t;const l=at({[e]:!!e,"xflow-workspace-panel":!0}),{commandService:c,modelService:u}=o;return D(Ude.Provider,{value:{propsProxy:a,commandService:c,modelService:u},children:D("div",{className:l,style:Object.assign(Object.assign({},s),r),children:i})})},h2={HORIRONTAL_NODE:"xflow-node-horizontal-edge",VERTICAL_NODE:"xflow-node-vertical-edge",VERTICAL_GROUP:"xflow-group-vertical-edge"},JO={EDGE:"xflow-edge"},d4="XFLOW_NODE_SHAPE",GZ="processing",yvt=160,bvt=32;var p2;(function(t){t.id="GRAPH_STATUS_INFO",function(e){e.SUCCESS="success",e.PROCESSING="processing",e.ERROR="error",e.DEFAULT="default",e.WARNING="warning"}(t.StatusEnum||(t.StatusEnum={})),t.getModel=Us(t.id),t.useValue=Hs(t.id)})(p2||(p2={}));var p0;(function(t){t.QUERY_GRAPH_STATUS={id:"xflow:query-graph-status",label:"\u67E5\u8BE2\u753B\u5E03\u8282\u70B9\u72B6\u6001"}})(p0||(p0={}));let XA;const{AnchorGroup:sO}=co;fo.registry.exist(d4)?XA=fo.registry.get(d4):XA=dS.define({width:yvt,height:bvt,shape:d4,view:Kre,ports:{groups:{top:{zIndex:2,position:{name:sO.TOP}},bottom:{zIndex:2,position:{name:sO.BOTTOM}},right:{zIndex:2,position:{name:sO.RIGHT}},left:{zIndex:2,position:{name:sO.LEFT}}}},attrs:{body:{magnet:!1,fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%",zIndex:1}},portMarkup:[{tagName:"g",selector:"xflow-port-group",className:"xflow-port-group",attrs:{width:8,height:8,x:-4,y:-4,zIndex:10,magnet:"true"},children:[{tagName:"circle",selector:"xflow-port",className:"xflow-port",attrs:{r:4,fill:"#fff",stroke:"#d9d9d9",zIndex:12}},{tagName:"polygon",selector:"xflow-port-arrow",className:"xflow-port-arrow",attrs:{points:"0,0 8,0 4,4 ",fill:"#d9d9d9",stroke:"#d9d9d9",zIndex:13,transform:"translate(-4,0)"}}]}]});function xvt(){}var wvt=xvt,h4=bae,Cvt=wvt,Svt=ice,Evt=1/0;h4&&1/Svt(new h4([,-0]))[1]==Evt;var BZ;(function(t){t.id="TREE_PANEL_MODEL",t.useModel=e=>ie(this,void 0,void 0,function*(){return e.awaitModel(t.id)})})(BZ||(BZ={}));var jZ;(function(t){t.id="TREE_PANEL_DATA"})(jZ||(jZ={}));const _vt=t=>new XA(t),Tvt=t=>{const{x6NodeFactory:e,dndOptions:n,onNodeDrop:r}=t,{graphProvider:i,modelService:o,commandService:s}=Za(),[a,l]=dt.useState(),[c,u]=dt.useState(),[f,d]=dt.useState();dt.useEffect(()=>{i.getGraphInstance().then(p=>{d(p)}),i.getGraphOptions().then(p=>{l(p)})},[i,d,l]),dt.useEffect(()=>{if(!f)return;const p=new Bp(Object.assign(Object.assign({scaled:!1,animation:!1},n),{target:f,validateNode:g=>ie(void 0,void 0,void 0,function*(){const m=Object.assign(Object.assign({},g.getData()),g.getPosition());return r?yield r(m,s,o):console.error("onNodeDrop method is required in NodeTree Panel"),!1})}));return u(p),()=>{p.dispose()}},[s,o,n,f,r]);const h=dt.useCallback(p=>g=>{if(!f||!c||!a||p.isDisabled)return;const m=a.nodeTypeParser(p),y=p.renderComponent?p.renderComponent:a.nodeRender.get(m),b=woe(y,s,o),C={data:p,width:p.width||180,height:p.height||40,view:a.graphId,component:b},E=e?e(C):_vt(C);c.start(E,g.nativeEvent)},[s,c,f,a,o,e]);return{graphConfig:a,onMouseDown:h,modelService:o,commandService:s}},VZ=t=>{const{nodeConfig:e,onMouseDown:n,graphConfig:r,modelService:i,commandService:o}=t;if(!r)return D("div",{});if(e.renderComponent)return dt.createElement("div",{onMouseDown:n},dt.createElement(e.renderComponent,{data:e,isNodePanel:!0}));const s=r.nodeTypeParser(e)||Uk,a=r.nodeRender.get(s);return dt.createElement("div",{onMouseDown:n},dt.createElement(a,{commandService:o,modelService:i,data:e,isNodeTreePanel:!0}))},Wde=t=>{const[e,n]=dt.useState(!1),{prefixClz:r,graphConfig:i,commandService:o,modelService:s,popoverContent:a,onMouseDown:l,item:c}=t;return D(Xi,{children:a?D(Rce,{placement:"right",destroyTooltipOnHide:!0,content:a,visible:e,onVisibleChange:u=>{n(u)},children:D("div",{className:`${r}-node-wrapper`,onMouseEnter:()=>{n(!0)},children:VZ({graphConfig:i,commandService:o,onMouseDown:l,modelService:s,nodeConfig:c})})}):D("div",{className:`${r}-node-wrapper`,children:VZ({graphConfig:i,commandService:o,onMouseDown:l,modelService:s,nodeConfig:c})})})},Pvt=t=>{const{searchResult:e,prefixClz:n,onMouseDown:r,modelService:i,commandService:o,graphConfig:s}=t;return e.length===0?D(Kd,{style:{marginTop:"24px"}}):D("ul",{className:"xflow-collapse-search-list",children:e.map(a=>D("li",{className:`xflow-collapse-search-list-item ${a.isDisabled?"disabled":""}`,children:D(Wde,{item:a,onMouseDown:r(a),popoverContent:a.popoverContent,prefixClz:n,modelService:i,commandService:o,graphConfig:s})},a.id))})},Ovt=t=>{const{onActiveKeyChange:e,collapseData:n,prefixClz:r,onMouseDown:i,modelService:o,commandService:s,graphConfig:a}=t,l=u=>{const{header:f,extra:d,icon:h,isCollapsed:p}=u;return _t("div",{className:"xflow-collapse-header",onClick:m=>{m.preventDefault(),e(u.id)},children:[D("div",{className:"xflow-collapse-header-icon",children:uP(h)?dt.createElement(h,{isCollapsed:p}):D(bDe,{rotate:p?0:90,style:{fontSize:"12px"}})}),D("div",{className:"xflow-collapse-header-label",children:uP(f)?dt.createElement(f,u):f}),D("div",{className:"xflow-collapse-header-extra",children:uP(d)?dt.createElement(d,u):d})]})},c=u=>D("div",{className:"xflow-collapse-content",children:u.map(f=>D("div",{className:`xflow-collapse-content-item ${f.isDisabled?"disabled":""}`,children:D(Wde,{item:f,onMouseDown:i(f),popoverContent:f.popoverContent,prefixClz:r,modelService:o,commandService:s,graphConfig:a})},f.id))});return _t("ul",{className:"xflow-collapse-list",children:[n.length===0&&D(Kd,{style:{marginTop:"24px"}}),n.map(u=>{const{children:f=[],isCollapsed:d,render:h}=u;return _t("li",{className:`xflow-collapse-list-item ${d?"close":"open"}`,children:[l(u),uP(h)?dt.createElement(h,u):c(f)]},u.id)})]})},Mvt=t=>{const{state:e,prefixClz:n,onActiveKeyChange:r}=t,{graphConfig:i,onMouseDown:o,modelService:s,commandService:a}=Tvt(t),{searchResult:l,collapseData:c,keyword:u}=e;return _t("div",{className:`${n}-body`,style:t.style,children:[u.length===0&&D(Ovt,{onActiveKeyChange:r,collapseData:c,onMouseDown:o,modelService:s,commandService:a,graphConfig:i,prefixClz:n}),u.length>0&&D(Pvt,{searchResult:l,onMouseDown:o,modelService:s,commandService:a,graphConfig:i,prefixClz:n})]})},Avt=t=>{const{prefixClz:e,onKeywordChange:n,state:r}=t,{propsProxy:i}=QD(),o=i.getValue(),s=a=>{const l=r.collapseData.reduce((c,u)=>(u.children&&c.push(...u.children),c),[]);n(a.target.value,l)};return D(Xi,{children:_t("div",{className:`${e}-header`,style:t.style,children:[o.header&&dt.isValidElement(o.header)&&o.header,o.searchService&&D("div",{className:`${e}-header-search`,children:D(XE,{placeholder:"\u641C\u7D22\u7EC4\u4EF6",allowClear:!0,onChange:a=>s(a),style:{width:"100%",border:0}})})]})})},kvt=t=>{const{prefixClz:e}=t,{propsProxy:n}=QD(),r=n.getValue();return D(Xi,{children:D("div",{className:`${e}-footer`,style:t.style,children:r.footer&&dt.isValidElement(r.footer)&&r.footer})})},Dvt=t=>{const{prefixClz:e,onCollapseBtnClick:n,isCollapsed:r,collapseButtonStyle:i,style:o}=t;return D(Xi,{children:D("div",{className:`${e}-header`,style:Object.assign(Object.assign({},o),i),onClick:n,children:D(vDe,{rotate:r?180:0})})})},Nvt=40,Rvt=40,Ivt=t=>{const e=t&&t.headerPosition&&t.headerPosition.height||Nvt,n=t.footerPosition&&t.footerPosition.height||Rvt;return{headerStyle:Np(Object.assign({height:e,lineHeight:e,top:0,left:0,right:0},t.headerPosition)),bodyStyle:Np(Object.assign({left:0,right:0,top:e,bottom:n},t.bodyPosition)),footerStyle:Np(Object.assign({left:0,right:0,lineHeight:n,height:n,bottom:0},t.footerPosition))}};var KA;(function(t){t.id="COLLAPSE_PANEL_DATA",t.useModel=e=>ie(this,void 0,void 0,function*(){return e.awaitModel(t.id)})})(KA||(KA={}));const $vt=t=>{const{collapsible:e,nodeDataService:n,searchService:r,onCollapseChange:i}=t,{modelService:o}=Za(),[s,a,l]=dD({keyword:"",collapseData:[],searchResult:[]});dt.useEffect(()=>{o.findDeferredModel(KA.id)||o.registerModel({id:KA.id,modelFactory:()=>l,watchChange:f=>ie(void 0,void 0,void 0,function*(){const d=yield I0.getModel(o),h=g=>ie(void 0,void 0,void 0,function*(){return{collapseData:yield n(g,o)}}),p=d.watch(g=>ie(void 0,void 0,void 0,function*(){const{collapseData:m}=yield h(g);f.setValue(y=>{y.keyword="",y.collapseData=m,y.searchResult=[]})}));return Zn.create(()=>{p.dispose()})})})},[]);const c=dt.useCallback(f=>{a(d=>{d.collapseData.forEach(h=>{h.id===f&&h.collapsible!==!1&&(h.isCollapsed=!h.isCollapsed)})})},[a]),u=dt.useCallback((f,d)=>ie(void 0,void 0,void 0,function*(){if(!r)return console.warn("searchService is not defined");if(f){const h=yield r(d,f);a(p=>{p.keyword=f,p.searchResult=h})}else a(h=>{h.keyword="",h.searchResult=[]})}),[r]);return{state:s,collapsible:e,setState:a,onKeywordChange:u,onActiveKeyChange:c,onCollapseChange:i}},Lvt=t=>{const{headerStyle:e,bodyStyle:n,footerStyle:r}=Ivt(t),{state:i,onActiveKeyChange:o,onKeywordChange:s}=$vt(t);return _t(Xi,{children:[D(Avt,{...Object.assign({},t,{state:i,style:e,onKeywordChange:s})}),D(Mvt,{...Object.assign({},t,{state:i,style:n,onActiveKeyChange:o})}),D(kvt,{...Object.assign({},t,{state:i,style:r})})]})},Fvt=t=>{const{position:e,collapsible:n,onCollapseChange:r}=t,{width:i=200,left:o}=e,s=d3("collapse-panel"),[a,l]=T.exports.useState(!1),c=T.exports.useCallback(()=>{l(!a),r(!a)},[a,r]);return _t(Hde,{...Object.assign({},t,{className:s,position:Object.assign(Object.assign({},e),{left:a?-i:o}),style:{transition:"left 0.5s"}}),children:[D(Lvt,{...Object.assign({},t,{prefixClz:s})}),n&&D(Dvt,{...Object.assign({},t,{prefixClz:s,isCollapsed:a,onCollapseBtnClick:c,style:{position:"absolute",zIndex:1,width:13,right:-13,bottom:20,padding:"12px 0px",textAlign:"center",borderWidth:"1px 1px 1px 0",borderStyle:"solid solid solid",borderColor:"rgb(232, 232, 232) rgb(232, 232, 232) rgb(232, 232, 232)",cursor:"pointer"}})})]})},zvt=t=>{const{state:e}=t,{propsProxy:n}=QD(),r=n.getValue(),i=Za(),o=r.footer&&typeof r.footer=="function";return D(Xi,{children:_t("div",{className:`${t.prefixClz}-footer`,style:t.style,children:[o&&dt.createElement(r.footer,Object.assign(Object.assign({},t),{headerStyle:{},bodyStyle:{},footerStyle:t.style,targetData:e.targetData,targetType:e.targetType,modelService:i.modelService,commandService:i.commandService})),!r.footer&&D("div",{className:`${t.prefixClz}-footer-title`,children:r.footerText})]})})},Gvt=t=>{const{prefixClz:e,hasSchema:n,state:r}=t,{propsProxy:i}=QD(),o=i.getValue(),s=Za();if(n)return null;const a=o.header&&typeof o.header=="function";return D(Xi,{children:_t("div",{className:`${e}-header`,style:t.style,children:[a&&dt.createElement(o.header,Object.assign(Object.assign({},t),{headerStyle:t.style,bodyStyle:{},footerStyle:{},targetData:r.targetData,targetType:r.targetType,modelService:s.modelService,commandService:s.commandService})),!o.header&&D("div",{className:`${e}-header-title`,children:o.headerText||"Panel"})]})})},Bvt=t=>{const{text:e}=t,n=TM(t,["text"]);return e?D(GE,{...Object.assign({placement:"left",title:e},n),children:D("div",{className:"text-truncate",children:e})}):null};function B2(t){if(!!t)return D(Bvt,{text:t})}function jvt(t,e){return(n,r)=>t.some(o=>typeof(o==null?void 0:o.condition)=="function")?(typeof e=="function"&&e(void 0),!0):t.some(o=>{const{name:s}=o;return s?QL(n,s)!==QL(r,s)?(typeof e=="function"&&e(s),!0):!1:(console.error("[Schema form]: A dependent name must be provided in the updater when the dependency condition is not a function."),!1)})}function Vvt(t){return t===""||t===void 0}function Uvt(t,e,n){const{getFieldValue:r,getFieldsValue:i}=t,{dependencies:o,hidden:s,disabled:a}=e;let l=s,c=a;return o==null||o.forEach(u=>{const{name:f,condition:d,hidden:h,disabled:p}=u;if(typeof d!="function"&&n&&f!==n)return;let g=!1;if(typeof d=="function"){const m=i();g=!!d(m)}else{if(!f){console.error("[Schema form]: A dependent name must be provided in the props genarator when the dependency condition is not a function.");return}g=r(f)===d}g&&(h!==void 0&&(l=h),p!==void 0&&(c=p))}),{hidden:l,disabled:c}}const dy=t=>{const{schema:e,children:n}=t,[r,i]=T.exports.useState(),{dependencies:o,value:s,defaultValue:a,hidden:l,disabled:c}=e,u=T.exports.useMemo(()=>o!=null&&o.length?jvt(o,i):void 0,[o]);if(typeof n!="function")throw new Error("[Schema Form]: chilren of FormItemWrapper should be a render prop.");const f=Vvt(s)?a:s;return u?D(du.Item,{noStyle:!0,shouldUpdate:u,children:d=>{const{hidden:h,disabled:p}=Uvt(d,e,r);return n({hidden:h,disabled:p,initialValue:f})}}):n({hidden:l,disabled:c,initialValue:f})},Yde=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,placeholder:a,rules:l}=e;return D(dy,{schema:e,children:({disabled:c,hidden:u,initialValue:f})=>D(du.Item,{name:o,label:s,initialValue:f,tooltip:r,extra:B2(i),required:n,hidden:u,rules:l,children:D(XE,{className:"xflow-form-input",allowClear:!0,placeholder:a,disabled:c})})})},Hvt=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,rules:a}=e;return D(dy,{schema:e,children:({hidden:l,disabled:c,initialValue:u})=>D(du.Item,{className:"xflow-form-checkbox",name:o,rules:a,initialValue:u,tooltip:r,extra:B2(i),required:n,hidden:l,valuePropName:"checked",getValueProps:f=>({checked:!!{true:!0,false:!1}[f]}),children:D(jct,{disabled:c,children:s})})})},Wvt=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,placeholder:a,rules:l}=e;return D(dy,{schema:e,children:({hidden:c,disabled:u,initialValue:f})=>D(du.Item,{name:o,label:s,initialValue:f,tooltip:r,extra:B2(i),required:n,hidden:c,rules:l,children:D(XE.TextArea,{allowClear:!0,placeholder:a,rows:3,disabled:u})})})},Yvt=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,placeholder:a,options:l=[],rules:c}=e;return D(dy,{schema:e,children:({hidden:u,disabled:f,initialValue:d})=>D(du.Item,{name:o,label:s,initialValue:d,tooltip:r,extra:B2(i),required:n,hidden:u,rules:c,children:D(kK,{disabled:f,placeholder:a,children:l.map(h=>{const{title:p,value:g}=h;return D(kK.Option,{value:g,children:p},g.toString())})})})})},qvt=t=>{const{className:e,style:n,disabled:r,value:i,onChange:o}=t,[s,a]=T.exports.useState(i?Nn(i):void 0),l=T.exports.useRef(!1);T.exports.useEffect(()=>{if(!l.current){l.current=!0;return}const u=Nn(i);u.isValid()&&a(u)},[i]);const c=T.exports.useCallback((u,f)=>{const d=Nn(f);a(d.isValid()?d:void 0),typeof o=="function"&&o(d.isValid()?d.format("YYYY-MM-DD HH:mm:ss"):"")},[o]);return D(yut,{showTime:!0,allowClear:!0,className:e,style:n,disabled:r,value:s,onChange:c})},Xvt=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,rules:a}=e;return D(dy,{schema:e,children:({disabled:l,hidden:c,initialValue:u})=>D(du.Item,{name:o,label:s,initialValue:u,tooltip:r,extra:B2(i),required:n,hidden:c,rules:a,children:D(qvt,{style:{width:"100%"},disabled:l})})})};function aO(t){const e=Number(t);return Number.isNaN(e)?void 0:e}const Kvt=t=>{const{disabled:e,placeholder:n,value:r,onChange:i}=t,[o,s]=T.exports.useState(aO(r)),a=T.exports.useRef(!1);T.exports.useEffect(()=>{a.current||(a.current=!0),s(aO(r))},[r]);const l=T.exports.useCallback(c=>{s(c),typeof i=="function"&&(c===void 0?i(""):typeof aO(c)=="number"&&i(aO(c)))},[i]);return D(Wft,{style:{width:"100%"},size:"small",placeholder:n,value:o,onChange:l,disabled:e})},Zvt=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,placeholder:a,rules:l}=e;return D(dy,{schema:e,children:({disabled:c,hidden:u,initialValue:f})=>D(du.Item,{name:o,label:s,initialValue:f,tooltip:r,extra:B2(i),required:n,hidden:u,rules:l,children:D(Kvt,{placeholder:a,disabled:c})})})};var Kg;(function(t){t.INPUT="input",t.CHECKBOX="checkbox",t.TEXTAREA="textArea",t.SELECT="select",t.DATETIME="datetime",t.FLOAT="float"})(Kg||(Kg={}));const qde=[[Kg.INPUT,Yde],[Kg.CHECKBOX,Hvt],[Kg.TEXTAREA,Wvt],[Kg.DATETIME,Xvt],[Kg.SELECT,Yvt],[Kg.FLOAT,Zvt]],Xde=t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n,o=r.toLowerCase();e.has(o)&&console.error(`${r} is duplicated in controlMap:`,e),e.set(o,i)}),e},Qvt=(t,e,n=Yde)=>{if(e.has(t))return e.get(t);const r=t.toLowerCase();return e.has(r)?e.get(r):(console.warn(`${t} is not exist in controlmap, fallback to defaultControl`),n)},{TabPane:Jvt}=iE,emt=t=>{var e;const{schema:n,form:r,className:i,triggerUpdate:o,defaultControlRender:s,afterUpdatingCb:a,controlMap:l}=t,c=TM(t,["schema","form","className","triggerUpdate","defaultControlRender","afterUpdatingCb","controlMap"]),{tabs:u}=n,[f]=du.useForm(r),d=dt.useMemo(()=>t.controlMap?t.controlMap:Xde(qde),[t.controlMap]),h=T.exports.useCallback(g=>{typeof o=="function"&&o(f,g)},[f,o]);T.exports.useEffect(()=>{f.setFieldsValue({})},[f]);const p=T.exports.useCallback(()=>{requestAnimationFrame(()=>{f.setFieldsValue({})})},[f]);return D(du,{...Object.assign({size:"small",form:f,layout:"vertical",className:at("xflow-json-form",i)},c),children:D(iE,{type:"card",defaultActiveKey:(e=u[0])===null||e===void 0?void 0:e.name,className:at({tabs:!0,xTab:!0,singleTab:(u==null?void 0:u.length)===1,coupleTab:(u==null?void 0:u.length)===2,ternateTab:(u==null?void 0:u.length)===3}),onTabClick:p,children:u.map(g=>{const{name:m,groups:y}=g;return _t(Jvt,{tab:m,children:[y.length===0&&D(Kd,{style:{padding:"24px 0"}}),y.length>0&&y.map(b=>{const{controls:C=[]}=b;return C.length===0?D(Kd,{style:{padding:"24px 0"}}):C.map(E=>{const{shape:_,name:w}=E,M=Qvt(_,d,s);return M?D(M,{form:f,controlSchema:E,triggerUpdate:h,afterUpdatingCb:a},w):(console.error("\u672A\u627E\u5230\u5BF9\u5E94\u7684\u63A7\u4EF6:",_),null)})})]},m)})})})},tmt=t=>{const{schema:e={tabs:[]},triggerUpdate:n,onFieldsChange:r,afterUpdatingCb:i,defaultControlRender:o,loading:s,controlMapService:a,defaultControls:l=[]}=t,c=dt.useMemo(()=>{const u=Xde([...qde,...l]);return a&&a(u),u},[a,l]);return s?D("div",{className:`${t.prefixClz}-body`,style:Object.assign(Object.assign({},t.style),{display:"flex",justifyContent:"center",alignItems:"center"}),children:D(Gfe,{spinning:!0})}):_t("div",{className:`${t.prefixClz}-body`,style:t.style,children:[e.tabs.length>0&&D(emt,{schema:e,onFieldsChange:r,controlMap:c,defaultControlRender:o,afterUpdatingCb:i,triggerUpdate:n}),e.tabs.length===0&&D(Kd,{style:{paddingTop:"64px"}})]})},nmt=40,rmt=40,imt=(t,e)=>{const n=t&&t.headerPosition&&t.headerPosition.height||nmt,r=t.footerPosition&&t.footerPosition.height||rmt;return{headerStyle:Np(Object.assign(Object.assign({height:0,top:0,left:0,right:0},e?{height:n,lineHeight:n}:{}),t.headerPosition)),bodyStyle:Np(Object.assign(Object.assign({left:0,right:0,top:0},e?{top:n,bottom:r}:{bottom:r}),t.bodyPosition)),footerStyle:Np(Object.assign(Object.assign({left:0,right:0,lineHeight:r,height:r,bottom:0},e?{lineHeight:r,height:r}:{bottom:0}),t.footerPosition))}};var ZA;(function(t){t.id="XFLOW_JSON_SCHEMA_FORM",t.useModel=e=>ie(this,void 0,void 0,function*(){return e.awaitModel(t.id)})})(ZA||(ZA={}));const omt=t=>{const e=Za(),{commandService:n,modelService:r,getGraphInstance:i}=e,{formSchemaService:o}=t,[s,a,l,c]=dD({schema:{tabs:[]},targetType:null,targetData:null,targetCell:null,loading:!1});return dt.useEffect(()=>{if(!e||!e.modelService)return;const u=new Ei;if(!e.modelService.findDeferredModel(ZA.id)){const d=e.modelService.registerModel({id:ZA.id,modelFactory:()=>l,watchChange:(h,p)=>ie(void 0,void 0,void 0,function*(){const m=(yield a3.getModel(p)).watch(y=>ie(void 0,void 0,void 0,function*(){const b=(_,w)=>ie(void 0,void 0,void 0,function*(){h.setValue(A=>{A.loading=!0,A.schema={tabs:[]},A.targetType=null,A.targetData=null,A.targetCell=null});const M=_?_.getData():null;if(!o)return;const k=yield i(),I=yield o({commandService:n,modelService:r,targetData:M,cell:_,targetType:w,graph:k});h.setValue({loading:!1,schema:I,targetType:w,targetCell:_,targetData:M})}),E=(_=>_?_.isNode&&_.isNode()&&_.getProp("isGroup")?"group":_.isNode&&_.isNode()?"node":_.isEdge&&_.isEdge()?"edge":"canvas":"canvas")(y);(t.targetType||["node","canvas"]).includes(E)&&(yield b(y,E))}));return Zn.create(()=>{m.dispose(),u.push(m)})})});u.push(d)}return()=>{u.dispose()}},[]),{commandService:n,modelService:r,state:s,setState:a,model:l,isModelReady:c}},smt=t=>{const{prefixClz:e}=t,{getCustomRenderComponent:n,afterUpdatingCb:r,formValueUpdateService:i=()=>{}}=t,{state:o,commandService:s,modelService:a}=omt(t),l=dt.useCallback((p,g={})=>ie(void 0,void 0,void 0,function*(){p.setFieldsValue(g);const m=Object.entries(g).map(([C,E])=>({name:C,value:E})),y=Object.entries(o.targetData).map(([C,E])=>({name:C,value:E})),b=yield i({allFields:y,values:m,modelService:a,commandService:s,targetData:o.targetData,targetType:o.targetType});r&&r(b)}),[r,s,i,a,o.targetData,o.targetType]),c=dt.useCallback((p,g)=>ie(void 0,void 0,void 0,function*(){const m=yield i({values:p,allFields:g,modelService:a,commandService:s,targetData:o.targetData,targetType:o.targetType});r&&r(m)}),[r,s,i,a,o.targetData,o.targetType]),u=dt.useMemo(()=>{try{return o.schema.tabs.length===0||!o.schema}catch{return!0}},[o.schema]),{headerStyle:f,bodyStyle:d,footerStyle:h}=imt(t,u);if(n){const p=n(o.targetType,o.targetData,a,s);if(p)return D(p,{...Object.assign(Object.assign({},t),{headerStyle:f,bodyStyle:d,footerStyle:h,targetData:o.targetData,targetType:o.targetType,modelService:a,commandService:s})})}return _t("div",{className:e,children:[D(Gvt,{...Object.assign({hasSchema:!u},t,{state:o,style:f,prefixClz:t.prefixClz})}),D(tmt,{...Object.assign({},t,{key:o.targetData&&o.targetData.id,style:d,prefixClz:t.prefixClz,loading:o.loading,schema:o.schema,triggerUpdate:l,onFieldsChange:c})}),D(zvt,{...Object.assign({},t,{state:o,style:h})})]})},amt=t=>{const e=d3("json-schema-form");return D(Hde,{...Object.assign({},t,{className:e}),children:D(smt,{...Object.assign({},t,{prefixClz:e})})})};ih.registry.exist(h2.VERTICAL_NODE)||gi.registerConnector(h2.VERTICAL_NODE,(t,e)=>{const r=Math.abs(e.y-t.y),i=Math.floor(r/3*2),o={x:t.x,y:t.y+16+i},s={x:e.x,y:e.y-16-i};return dr.normalize(`M ${t.x} ${t.y}
         L ${t.x} ${t.y+16}
         C ${o.x} ${o.y} ${s.x} ${s.y} ${e.x} ${e.y-16}
         L ${e.x} ${e.y}
        `)},!0);ih.registry.exist(h2.VERTICAL_GROUP)||gi.registerConnector(h2.VERTICAL_GROUP,(t,e)=>{const r=Math.abs(e.y-t.y),i={x:t.x,y:t.y+4+r},o={x:e.x,y:e.y-4-r};return dr.normalize(`M ${t.x} ${t.y}
       L ${t.x} ${t.y+4}
       C ${i.x} ${i.y} ${o.x} ${o.y} ${e.x} ${e.y-4}
       L ${e.x} ${e.y}
      `)},!0);ih.registry.exist(h2.HORIRONTAL_NODE)||gi.registerConnector(h2.HORIRONTAL_NODE,(t,e)=>{const r=Math.abs(e.y-t.y),i=Math.floor(r/3*2),o={x:t.x,y:t.y+4+i},s={x:e.x,y:e.y-4-i};return dr.normalize(`M ${t.x} ${t.y}
         L ${t.x} ${t.y+4}
         C ${o.x} ${o.y} ${s.x} ${s.y} ${e.x} ${e.y-4}
         L ${e.x} ${e.y}
        `)},!0);let g7=oh.registry.get(JO.EDGE);oh.registry.exist(JO.EDGE)||(g7=oh.registry.register(JO.EDGE,oh.define({zIndex:1,highlight:!1,shape:JO.EDGE}),!0));var jo;(function(t){t.MODEL=p2,t.command=p0.QUERY_GRAPH_STATUS,t.hookKey="queryGraphStatus";let e;(function(n){n.SUCCESS="success",n.PROCESSING="processing",n.ERROR="error",n.DEFAULT="default",n.WARNING="warning"})(e=t.StatusEnum||(t.StatusEnum={})),t.initStatusMap=()=>({[t.StatusEnum.DEFAULT]:[],[t.StatusEnum.PROCESSING]:[],[t.StatusEnum.ERROR]:[],[t.StatusEnum.WARNING]:[],[t.StatusEnum.SUCCESS]:[]}),t.groupByStatus=n=>{const r=t.initStatusMap();return Object.entries(n).reduce((i,[o,s])=>(i[s.status].push(o),i),r)},t.statusDiff=(n,r)=>{const i=new Set([...n,...r]),o={current:[],add:[],remove:[]};return i.forEach(s=>{r.includes(s)&&!n.includes(s)&&o.add.push(s),!r.includes(s)&&n.includes(s)&&o.remove.push(s)}),o},t.shouldStop=n=>ie(this,void 0,void 0,function*(){return[e.ERROR,e.SUCCESS].includes(n.graphStatus)})})(jo||(jo={}));let QA=class{constructor(){this.statusInfo=jo.initStatusMap(),this.getStatusModel=()=>ie(this,void 0,void 0,function*(){const n=this.contextProvider().getModelService();return yield p2.getModel(n)}),this.updateModelValue=e=>ie(this,void 0,void 0,function*(){(yield this.getStatusModel()).setValue(e)}),this.stopCurrentStatusLooping=()=>ie(this,void 0,void 0,function*(){const e=yield this.getStatusModel(),{subscription:n}=yield e.getValidValue();n.dispose()}),this.addStopDispose=()=>ie(this,void 0,void 0,function*(){const e=yield this.getStatusModel(),{subscription:n}=yield e.getValidValue();n.push({dispose:()=>{this.updateEdges(this.statusInfo,jo.initStatusMap()),this.isLooping=!1}})}),this.updateGraph=(e,n,r)=>{this.updateNodes(e,n,r),this.updateEdges(e,n)},this.updateNodeData=(e,n)=>{const r=this.x6Graph.getCellById(e);!r||r.setData(Object.assign(Object.assign(Object.assign(Object.assign({},r.getData()),r.getSize()),r.getPosition()),n))},this.updateNodes=(e,n,r)=>{Object.keys(e).forEach(i=>{const o=jo.statusDiff(e[i],n[i]);o.add.forEach(s=>{this.updateNodeData(s,r[s])}),o.remove.forEach(s=>{this.updateNodeData(s,r[s])})})},this.updateEdges=(e,n)=>{const r=jo.statusDiff(e.processing,n.processing);this.x6Graph.getEdges().forEach(o=>{var s;const a=(s=this.x6Graph)===null||s===void 0?void 0:s.findViewByCell(o.id),l=o.getTargetCellId();if(!l)return;const c=l.toString();if(!!a){if(r.add.includes(c))return a.addClass(GZ);if(r.remove.includes(c))return a.removeClass(GZ)}})},this.execute=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),i=e.getHooks();this.x6Graph=yield e.getX6Graph();const o=yield i.queryGraphStatus.call(n,s=>ie(this,void 0,void 0,function*(){const{graphStatusService:a,shouldStop:l=jo.shouldStop,doOnce:c}=s;yield this.stopCurrentStatusLooping();const u=(f,d=1e4)=>ie(this,void 0,void 0,function*(){const h=yield f(s);this.updateModelValue(g=>{Object.entries(h.statusMap).forEach(([m,y])=>{g.statusMap.set(m,y)}),g.graphStatus=h.graphStatus});const p=jo.groupByStatus(h.statusMap);this.updateGraph(this.statusInfo,p,h.statusMap),this.statusInfo=p,yield KXe(d),this.isLooping&&(l&&(yield l(h,s))||(yield u(f,d)))});return this.isLooping=s.loop===void 0?!0:s.loop,yield this.addStopDispose(),c&&(yield c(s)),u(a,s.loopInterval),{}}),r);return e.setResult(o),this}),this.undo=()=>ie(this,void 0,void 0,function*(){const e=this.contextProvider();return this.isUndoable()&&e.undo(),this}),this.redo=()=>ie(this,void 0,void 0,function*(){return this.isUndoable()||(yield this.execute()),this})}isUndoable(){return this.contextProvider().isUndoable()}};lt([jn(Zr),ht("design:type",Object)],QA.prototype,"contextProvider",void 0);QA=lt([Ur({token:{token:si,named:jo.command.id}})],QA);var Mv;(function(t){t.TOP_BOTTOM="TB",t.LEFT_RIGHT="LR"})(Mv||(Mv={}));const Kde=yo.defineToken("DAG_EXTENSION_CONFIG");var JA;(function(t){t.EVENT_NAME="ADD_EDGE_CMD_EVENT"})(JA||(JA={}));var ek;(function(t){t.router={name:"manhattan"},t.connector={name:"rounded",args:{radius:15}}})(ek||(ek={}));const lmt=t=>{const{layout:e,router:n=ek.router,connector:r=ek.connector}=t;return{grid:!1,keyboard:{enabled:!0},selecting:{enabled:!0,multiple:!0,selectCellOnMoved:!0,showNodeSelectionBox:!1,rubberEdge:!0,rubberNode:!0,movable:!0},connecting:{sourceAnchor:e?e===Mv.TOP_BOTTOM?"bottom":"right":"center",targetAnchor:e?e===Mv.TOP_BOTTOM?"center":"left":"center",connectionPoint:"anchor",snap:{radius:20},router:n,connector:r,highlight:!0,dangling:!1,createEdge(){const o=this,s=new g7({attrs:{line:{strokeDasharray:"5 5",stroke:"#888",strokeWidth:1,targetMarker:{name:"block",args:{size:"6"}}}}}),a=l=>{const{isNew:c}=l,u=l.edge;if(c&&u.isEdge()&&u===s){const f=u.getTargetPortId(),d=u.getTargetCell();if(d&&d.isNode()){d.setPortProp(f,"connected",!1),u.attr({line:{strokeDasharray:"",targetMarker:"",stroke:"#d5d5d5"}});const h=u.getTargetPortId(),p=u.getSourcePortId(),g=u.getSourceCellId(),m=u.getTargetCellId();o.trigger(JA.EVENT_NAME,{targetPortId:h,sourcePortId:p,source:g,target:m,edge:s})}}};return o.once("edge:connected",a),s},validateEdge:o=>{var s;const{edge:a}=o;return!!(!((s=a==null?void 0:a.target)===null||s===void 0)&&s.port)},validateMagnet({magnet:o,cell:s}){const a=s.getData().ports.filter(l=>l.type===co.AnchorType.INPUT);return a.length>0?o.getAttribute("port-group")!==a[0].group:!1},validateConnection({sourceView:o,targetView:s,sourceMagnet:a,targetMagnet:l}){if(o===s||!a||!l)return!1;if(e){const g=e===Mv.TOP_BOTTOM?co.AnchorGroup.TOP:co.AnchorGroup.LEFT;if(a.getAttribute("port-group")===g||l.getAttribute("port-group")!==g)return!1}const c=o.cell,u=a.getAttribute("port");if(!u||c.getPort(u).type!==co.AnchorType.OUTPUT)return!1;const d=s.cell,h=l.getAttribute("port");if(!h)return!1;const p=d.getPort(h);return p.type!==co.AnchorType.INPUT?!1:!(p&&p.connected)}},highlighting:{nodeAvailable:{name:"className",args:{className:"available"}},magnetAvailable:{name:"className",args:{className:"available"}},magnetAdsorbed:{name:"className",args:{className:"adsorbed"}}},scaling:{max:1.05,min:.01}}};let cE=class{constructor(){this.registerGraphCommands=e=>{e.registerCommand(jo.command,{createCommand:this.commandFactory})},this.toDispose=new Ei,this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.addNode.registerHook({name:"dag-add-node",handler:i=>ie(this,void 0,void 0,function*(){const o=s=>ie(this,void 0,void 0,function*(){return new XA(Object.assign({},s))});i.cellFactory=o})}),e.addEdge.registerHook({name:"dag-add-edge",handler:i=>ie(this,void 0,void 0,function*(){const{layout:o=Mv.TOP_BOTTOM}=yield this.propConfig.getConfig(),s=a=>ie(this,void 0,void 0,function*(){return new g7(Object.assign(Object.assign({},a),{id:a.id,source:{cell:a.source,port:a.sourcePortId,anchor:{name:o===Mv.TOP_BOTTOM?"bottom":"right"}},target:{cell:a.target,port:a.targetPortId,anchor:{name:o===Mv.TOP_BOTTOM?"center":"right"}},attrs:{line:{strokeDasharray:"",targetMarker:"",stroke:"#d5d5d5",strokeWidth:1}},data:Object.assign({},a)}))});i.cellFactory=s})}),e.addEdge.registerHook({name:"after add edge, set target port props",handler:(i,o)=>ie(this,void 0,void 0,function*(){return a=>ie(this,void 0,void 0,function*(){const l=yield o(a);if(l&&l.edgeCell){const c=l.edgeCell.getTargetCell(),u=l.edgeCell.getTargetPortId();c.setPortProp(u,"connected",!0)}return l})})}),e.delEdge.registerHook({name:"afetr del edge, reset target node port props",handler:(i,o)=>ie(this,void 0,void 0,function*(){return a=>ie(this,void 0,void 0,function*(){const l=yield o(a),{targetCell:c,targetPortId:u}=l;return c&&c.isNode()&&u&&c.setPortProp(u,"connected",!1),l})})}),e.afterGraphInit.registerHook({name:"call add edge to replace temp edge",handler:i=>ie(this,void 0,void 0,function*(){const{commandService:o,graph:s}=i;s.on(JA.EVENT_NAME,a=>{o.executeCommand(gs.ADD_EDGE.id,{edgeConfig:a}),a.edge.remove()})})}),e.graphOptions.registerHook({name:"dag-extension-x6-options",handler:i=>ie(this,void 0,void 0,function*(){const o=yield this.propConfig.getConfig(),s=lmt(o);Object.assign(i,s)})})];return n.pushAll(r),Zn.create(()=>{})}),this.registerHookHub=e=>ie(this,void 0,void 0,function*(){return e.registerHookHub(jo.hookKey,new Yf)})}registerModel(e){e.registerModel({id:p2.id,getInitialValue:()=>({statusMap:new Map,subscription:new Ei,graphStatus:p2.StatusEnum.DEFAULT}),watchChange:n=>ie(this,void 0,void 0,function*(){const{subscription:r}=yield n.getValidValue();return r})})}};lt([jn(y8),ht("design:type",Function)],cE.prototype,"commandFactory",void 0);lt([jn(Kde),ht("design:type",Object)],cE.prototype,"propConfig",void 0);cE=lt([Ca({contrib:[pf,ty,Jk]})],cE);const cmt=t=>oc(e=>{e(cE),e(QA),e(Kde,{useValue:t})}),umt=t=>{const e=xh();dt.useEffect(()=>{e.addContainerClassNames("dag-extension-container");const r=t.layout||"TB";e.addContainerClassNames(r==="TB"?"layout-top-bottom":"layout-left-right")},[e,t.layout]);const n=dt.useMemo(()=>({CONFIG_TYPE:"DAG_EXTENSION",getConfig:()=>ie(void 0,void 0,void 0,function*(){return t})}),[t]);return D(eD,{config:n,createModule:cmt})},p4="XFLOW_FLOW_NODE_SHAPE",fmt=150,dmt=60;let tF;const{AnchorGroup:lO}=co,cO={circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}};fo.registry.exist(p4)?tF=fo.registry.get(p4):tF=dS.define({width:fmt,height:dmt,shape:p4,view:Kre,ports:{groups:{top:{position:lO.TOP,attrs:cO},bottom:{position:lO.BOTTOM,attrs:cO},right:{position:lO.RIGHT,attrs:cO},left:{position:lO.LEFT,attrs:cO}}},attrs:{body:{magnet:!1,fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"}}});const hmt={grid:!0,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){return new oh({attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection({targetMagnet:t}){return!!t}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}},resizing:!0,rotating:!0,selecting:{enabled:!0,rubberband:!0,showNodeSelectionBox:!0,modifiers:"shift"},snapline:!0,keyboard:!0,clipboard:!0};let UZ=class{constructor(){this.toDispose=new Ei,this.registerHookHub=()=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{})}),this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.addNode.registerHook({name:"flow-add-node",handler:i=>ie(this,void 0,void 0,function*(){const o=s=>ie(this,void 0,void 0,function*(){return new tF(Object.assign({},s))});i.cellFactory=o})}),e.addEdge.registerHook({name:"flow-add-edge",handler:i=>ie(this,void 0,void 0,function*(){const o=s=>ie(this,void 0,void 0,function*(){return delete s.id,new oh({source:{cell:s.source,port:s.sourcePortId},target:{cell:s.target,port:s.targetPortId},attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:-1,data:Object.assign({},s)})});i.cellFactory=o})}),e.graphOptions.registerHook({name:"assign options ",handler:i=>ie(this,void 0,void 0,function*(){Object.assign(i,hmt)})})];return n.pushAll(r),Zn.create(()=>{})})}};UZ=lt([Ca({contrib:pf})],UZ);var pmt=V8,gmt=NE;function vmt(t,e,n){(n!==void 0&&!gmt(t[e],n)||n===void 0&&!(e in t))&&pmt(t,e,n)}var Zde=vmt,mmt=M2,ymt=pd;function bmt(t){return ymt(t)&&mmt(t)}var xmt=bmt;function wmt(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Qde=wmt,Cmt=RE,Smt=$E;function Emt(t){return Cmt(t,Smt(t))}var _mt=Emt,HZ=Zde,Tmt=CA.exports,Pmt=Cae,Omt=hae,Mmt=Sae,WZ=U8,YZ=wu,Amt=xmt,kmt=s2.exports,Dmt=G8,Nmt=kc,Rmt=ide,Imt=q8,qZ=Qde,$mt=_mt;function Lmt(t,e,n,r,i,o,s){var a=qZ(t,n),l=qZ(e,n),c=s.get(l);if(c){HZ(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var d=YZ(l),h=!d&&kmt(l),p=!d&&!h&&Imt(l);u=l,d||h||p?YZ(a)?u=a:Amt(a)?u=Omt(a):h?(f=!1,u=Tmt(l,!0)):p?(f=!1,u=Pmt(l,!0)):u=[]:Rmt(l)||WZ(l)?(u=a,WZ(a)?u=$mt(a):(!Nmt(a)||Dmt(a))&&(u=Mmt(l))):f=!1}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),HZ(t,n,u)}var Fmt=Lmt,zmt=uD,Gmt=Zde,Bmt=ede,jmt=Fmt,Vmt=kc,Umt=$E,Hmt=Qde;function Jde(t,e,n,r,i){t!==e&&Bmt(e,function(o,s){if(i||(i=new zmt),Vmt(o))jmt(t,e,s,n,Jde,r,i);else{var a=r?r(Hmt(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Gmt(t,s,a)}},Umt)}var Wmt=Jde;function Ymt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var qmt=Ymt,Xmt=qmt,XZ=Math.max;function Kmt(t,e,n){return e=XZ(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=XZ(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Xmt(t,this,a)}}var Zmt=Kmt;function Qmt(t){return function(){return t}}var Jmt=Qmt,e0t=Jmt,KZ=lae,t0t=XD,n0t=KZ?function(t,e){return KZ(t,"toString",{configurable:!0,enumerable:!1,value:e0t(e),writable:!0})}:t0t,r0t=n0t,i0t=800,o0t=16,s0t=Date.now;function a0t(t){var e=0,n=0;return function(){var r=s0t(),i=o0t-(r-n);if(n=r,i>0){if(++e>=i0t)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var l0t=a0t,c0t=r0t,u0t=l0t,f0t=u0t(c0t),d0t=f0t,h0t=XD,p0t=Zmt,g0t=d0t;function v0t(t,e){return g0t(p0t(t,e,h0t),t+"")}var m0t=v0t,y0t=NE,b0t=M2,x0t=H8,w0t=kc;function C0t(t,e,n){if(!w0t(n))return!1;var r=typeof e;return(r=="number"?b0t(n)&&x0t(e,n.length):r=="string"&&e in n)?y0t(n[e],t):!1}var S0t=C0t,E0t=m0t,_0t=S0t;function T0t(t){return E0t(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&_0t(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var P0t=T0t,O0t=Wmt,M0t=P0t,A0t=M0t(function(t,e,n){O0t(t,e,n)}),_u=A0t;const k0t={config:{}},ehe=t=>{var e;return(e=k0t.config)===null||e===void 0?void 0:e[t]},D0t=new Map,N0t=()=>D0t.get("app"),R0t=()=>ie(void 0,void 0,void 0,function*(){return N0t().getGraphData()});Fv.exports.debounce(t=>{const e=ehe("onConfigChange");if(!(!e||typeof e!="function"))return e(Object.assign({data:R0t()},t))},300,{trailing:!0});var ZZ;(function(t){t.id="NODE_PANEL_DATA"})(ZZ||(ZZ={}));var QZ;(function(t){t.id="FLOWCHART_PANEL_DATA"})(QZ||(QZ={}));const I0t="flowchart-connecting-edge";var nF;(function(t){t.EVENT_NAME="ADD_FLOWCHART_EDGE_CMD_EVENT"})(nF||(nF={}));oh.registry.register("xflow",oh.define({zIndex:1,highlight:!0,name:I0t,label:"",anchor:{name:"midSide",args:{dx:10}},attrs:{line:{stroke:"#A2B1C3",targetMarker:{name:"block",width:12,height:8},strokeDasharray:"5 5",strokeWidth:1}},data:{label:""}}),!0);let JZ=class{constructor(){this.toDispose=new Ei,this.registerHookHub=()=>ie(this,void 0,void 0,function*(){return Zn.create(()=>{})}),this.registerHook=e=>ie(this,void 0,void 0,function*(){const n=new Ei,r=[e.afterGraphInit.registerHook({name:"call add edge to replace temp edge",handler:i=>ie(this,void 0,void 0,function*(){const{commandService:o,graph:s}=i;s.on(nF.EVENT_NAME,a=>ie(this,void 0,void 0,function*(){const l=TM(a,["edge"]),{tempEdgeId:c}=l,u=TM(l,["tempEdgeId"]),f={edgeConfig:Object.assign(Object.assign({},u),{source:{cell:l.source,port:l.sourcePortId},target:{cell:l.target,port:l.targetPortId},zIndex:1,attrs:{line:{stroke:"#A2B1C3",targetMarker:{name:"block",width:12,height:8},strokeDasharray:"5 5",strokeWidth:1}},data:Object.assign({},u)})};yield o.executeCommand(gs.ADD_EDGE.id,f),yield o.executeCommand(gs.DEL_EDGE.id,{edgeConfig:{id:c}});const d=s.getCellById(l.source),h=s.getCellById(l.target);yield o.executeCommand(Oo.UPDATE_NODE.id,{nodeConfig:Object.assign(Object.assign({},d.data),{incomingEdges:s.getIncomingEdges(d),outgoingEdges:s.getOutgoingEdges(d)})}),yield o.executeCommand(Oo.UPDATE_NODE.id,{nodeConfig:Object.assign(Object.assign({},h.data),{incomingEdges:s.getIncomingEdges(h),outgoingEdges:s.getOutgoingEdges(h)})});const p=ehe("onAddEdge");typeof p=="function"&&p(f.edgeConfig),a.edge.remove()}))})})];return n.pushAll(r),Zn.create(()=>{})})}};JZ=lt([Ca({contrib:pf})],JZ);const sw="flowchart-editor";var the={},n_={},Os={},r_={},v7={};Object.defineProperty(v7,"__esModule",{value:!0});v7.calculateChange=function(e,n,r,i,o){e.preventDefault();var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),f=c-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var d=void 0;if(f<0?d=0:f>a?d=1:d=Math.round(f*100/a)/100,n.a!==d)return{h:n.h,s:n.s,l:n.l,a:d,source:"rgb"}}else{var h=void 0;if(u<0?h=0:u>s?h=1:h=Math.round(u*100/s)/100,i!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}return null};var hy={},JD={};Object.defineProperty(JD,"__esModule",{value:!0});var g4={},$0t=JD.render=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null};JD.get=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(g4[o])return g4[o];var s=$0t(e,n,r,i);return g4[o]=s,s};Object.defineProperty(hy,"__esModule",{value:!0});hy.Checkboard=void 0;var L0t=T.exports,F0t=nhe(L0t),z0t=Or,G0t=nhe(z0t),B0t=JD,j0t=V0t(B0t);function V0t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function nhe(t){return t&&t.__esModule?t:{default:t}}var rhe=hy.Checkboard=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=(0,G0t.default)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+j0t.get(n,r,i,o.canvas)+") center left"}}});return F0t.default.createElement("div",{style:l.grid})};rhe.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};hy.default=rhe;Object.defineProperty(r_,"__esModule",{value:!0});r_.Alpha=void 0;var U0t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0t=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),rF=T.exports,Gg=m7(rF),W0t=Or,Y0t=m7(W0t),q0t=v7,X0t=Q0t(q0t),K0t=hy,Z0t=m7(K0t);function Q0t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m7(t){return t&&t.__esModule?t:{default:t}}function J0t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eQ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tyt=r_.Alpha=function(t){eyt(e,t);function e(){var n,r,i,o;J0t(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=eQ(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=X0t.calculateChange(c,i.props.hsl,i.props.direction,i.props.a,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),eQ(i,o)}return H0t(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=(0,Y0t.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:U0t({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Gg.default.createElement("div",{style:o.alpha},Gg.default.createElement("div",{style:o.checkboard},Gg.default.createElement(Z0t.default,{renderers:this.props.renderers})),Gg.default.createElement("div",{style:o.gradient}),Gg.default.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Gg.default.createElement("div",{style:o.pointer},this.props.pointer?Gg.default.createElement(this.props.pointer,this.props):Gg.default.createElement("div",{style:o.slider}))))}}]),e}(rF.PureComponent||rF.Component);r_.default=tyt;var i_={};Object.defineProperty(i_,"__esModule",{value:!0});i_.EditableInput=void 0;var nyt=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iF=T.exports,v4=ihe(iF),ryt=Or,iyt=ihe(ryt);function ihe(t){return t&&t.__esModule?t:{default:t}}function oyt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function syt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ayt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cyt=1,ohe=38,uyt=40,fyt=[ohe,uyt],dyt=function(e){return fyt.indexOf(e)>-1},hyt=function(e){return e+"%"},pyt=function(e){return Number(String(e).replace(/%/g,""))},gyt=function(e){return String(e).indexOf("%")>-1},vyt=i_.EditableInput=function(t){lyt(e,t);function e(n){syt(this,e);var r=ayt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=pyt(i.target.value);if(!isNaN(o)&&dyt(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===ohe?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r}return nyt(e,[{key:"componentWillReceiveProps",value:function(r){var i=this.input;r.value!==this.state.value&&(i===document.activeElement?this.setState({blurValue:String(r.value).toUpperCase()}):this.setState({value:String(r.value).toUpperCase(),blurValue:!this.state.blurValue&&String(r.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return oyt({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||cyt}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label!==null?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i);var s=gyt(i.target.value);this.setState({value:s?hyt(r):r})}},{key:"render",value:function(){var r=this,i=(0,iyt.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return v4.default.createElement("div",{style:i.wrap},v4.default.createElement("input",{style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?v4.default.createElement("span",{style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(iF.PureComponent||iF.Component);i_.default=vyt;var o_={},y7={};Object.defineProperty(y7,"__esModule",{value:!0});y7.calculateChange=function(e,n,r,i){e.preventDefault();var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(u<0)f=359;else if(u>s)f=0;else{var d=-(u*100/s)+100;f=360*d/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"rgb"}}else{var h=void 0;if(c<0)h=0;else if(c>o)h=359;else{var p=c*100/o;h=360*p/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"rgb"}}return null};Object.defineProperty(o_,"__esModule",{value:!0});o_.Hue=void 0;var myt=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oF=T.exports,mb=she(oF),yyt=Or,byt=she(yyt),xyt=y7,wyt=Cyt(xyt);function Cyt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function she(t){return t&&t.__esModule?t:{default:t}}function Syt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tQ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Eyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _yt=o_.Hue=function(t){Eyt(e,t);function e(){var n,r,i,o;Syt(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=tQ(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(c){var u=wyt.calculateChange(c,i.props.direction,i.props.hsl,i.container);u&&typeof i.props.onChange=="function"&&i.props.onChange(u,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),tQ(i,o)}return myt(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=(0,byt.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return mb.default.createElement("div",{style:s.hue},mb.default.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},mb.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),mb.default.createElement("div",{style:s.pointer},this.props.pointer?mb.default.createElement(this.props.pointer,this.props):mb.default.createElement("div",{style:s.slider}))))}}]),e}(oF.PureComponent||oF.Component);o_.default=_yt;var s_={};Object.defineProperty(s_,"__esModule",{value:!0});s_.Raised=void 0;var Tyt=T.exports,m4=eN(Tyt),Pyt=Rc.exports,uO=eN(Pyt),Oyt=Or,Myt=eN(Oyt),Ayt=_u,kyt=eN(Ayt);function eN(t){return t&&t.__esModule?t:{default:t}}var b7=s_.Raised=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=(0,Myt.default)((0,kyt.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return m4.default.createElement("div",{style:l.wrap},m4.default.createElement("div",{style:l.bg}),m4.default.createElement("div",{style:l.content},o))};b7.propTypes={background:uO.default.string,zDepth:uO.default.oneOf([0,1,2,3,4,5]),radius:uO.default.number,styles:uO.default.object};b7.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};s_.default=b7;var a_={},Dyt=oD,Nyt=kc,Ryt="Expected a function";function Iyt(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ryt);return Nyt(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Dyt(t,e,{leading:r,maxWait:e,trailing:i})}var $yt=Iyt,x7={};Object.defineProperty(x7,"__esModule",{value:!0});x7.calculateChange=function(e,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o?c=o:u<0?u=0:u>s&&(u=s);var f=c*100/o,d=-(u*100/s)+100;return{h:n.h,s:f,v:d,a:n.a,source:"rgb"}};Object.defineProperty(a_,"__esModule",{value:!0});a_.Saturation=void 0;var Lyt=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),sF=T.exports,Bm=w7(sF),Fyt=Or,zyt=w7(Fyt),Gyt=$yt,Byt=w7(Gyt),jyt=x7,Vyt=Uyt(jyt);function Uyt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function w7(t){return t&&t.__esModule?t:{default:t}}function Hyt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wyt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qyt=a_.Saturation=function(t){Yyt(e,t);function e(n){Hyt(this,e);var r=Wyt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Vyt.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,Byt.default)(function(i,o,s){i(o,s)},50),r}return Lyt(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,c=i.circle,u=(0,zyt.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:c}},{custom:!!this.props.style});return Bm.default.createElement("div",{style:u.color,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Bm.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Bm.default.createElement("div",{style:u.white,className:"saturation-white"},Bm.default.createElement("div",{style:u.black,className:"saturation-black"}),Bm.default.createElement("div",{style:u.pointer},this.props.pointer?Bm.default.createElement(this.props.pointer,this.props):Bm.default.createElement("div",{style:u.circle}))))}}]),e}(sF.PureComponent||sF.Component);a_.default=qyt;var j2={},lc={},ahe={exports:{}},Xyt=aae,Kyt=ude,Zyt=nde,Qyt=wu;function Jyt(t,e){var n=Qyt(t)?Xyt:Kyt;return n(t,Zyt(e))}var ebt=Jyt;(function(t){t.exports=ebt})(ahe);Object.defineProperty(lc,"__esModule",{value:!0});lc.red=void 0;var tbt=ahe.exports,nbt=lhe(tbt),rbt=gde.exports,y4=lhe(rbt);function lhe(t){return t&&t.__esModule?t:{default:t}}lc.default={simpleCheckForValidColor:function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,nbt.default)(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},toState:function(e,n){var r=e.hex?(0,y4.default)(e.hex):(0,y4.default)(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},isValidHex:function(e){var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&(0,y4.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var n=this.toState(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"}};lc.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};Object.defineProperty(j2,"__esModule",{value:!0});j2.ColorWrap=void 0;var aw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ibt=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),aF=T.exports,obt=C7(aF),sbt=oD,abt=C7(sbt),lbt=lc,yb=C7(lbt);function C7(t){return t&&t.__esModule?t:{default:t}}function cbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ubt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fbt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dbt=j2.ColorWrap=function(e){var n=function(r){fbt(i,r);function i(o){cbt(this,i);var s=ubt(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var c=yb.default.simpleCheckForValidColor(a);if(c){var u=yb.default.toState(a,a.h||s.state.oldHue);s.setState(u),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,u,l),s.props.onChange&&s.props.onChange(u,l)}},s.handleSwatchHover=function(a,l){var c=yb.default.simpleCheckForValidColor(a);if(c){var u=yb.default.toState(a,a.h||s.state.oldHue);s.setState(u),s.props.onSwatchHover&&s.props.onSwatchHover(u,l)}},s.state=aw({},yb.default.toState(o.color,0)),s.debounce=(0,abt.default)(function(a,l,c){a(l,c)},100),s}return ibt(i,[{key:"componentWillReceiveProps",value:function(s){this.setState(aw({},yb.default.toState(s.color,this.state.oldHue)))}},{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),obt.default.createElement(e,aw({},this.props,this.state,{onChange:this.handleChange},s))}}]),i}(aF.PureComponent||aF.Component);return n.propTypes=aw({},e.propTypes),n.defaultProps=aw({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};j2.default=dbt;var l_={},tN={};Object.defineProperty(tN,"__esModule",{value:!0});tN.handleFocus=void 0;var hbt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pbt=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gbt=T.exports,b4=vbt(gbt);function vbt(t){return t&&t.__esModule?t:{default:t}}function mbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nQ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ybt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}tN.handleFocus=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ybt(i,r);function i(){var o,s,a,l;mbt(this,i);for(var c=arguments.length,u=Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=(s=(a=nQ(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(u))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),nQ(a,l)}return pbt(i,[{key:"render",value:function(){return b4.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},b4.default.createElement(e,hbt({},this.props,this.state)))}}]),i}(b4.default.Component)};Object.defineProperty(l_,"__esModule",{value:!0});l_.Swatch=void 0;var rQ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bbt=T.exports,iQ=S7(bbt),xbt=Or,wbt=S7(xbt),Cbt=tN,Sbt=hy,Ebt=S7(Sbt);function S7(t){return t&&t.__esModule?t:{default:t}}var _bt=13,Tbt=l_.Swatch=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,c=e.children,u=e.focus,f=e.focusStyle,d=f===void 0?{}:f,h=n==="transparent",p=(0,wbt.default)({default:{swatch:rQ({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?d:{})}}),g=function(E){return o(n,E)},m=function(E){return E.keyCode===_bt&&o(n,E)},y=function(E){return s(n,E)},b={};return s&&(b.onMouseOver=y),iQ.default.createElement("div",rQ({style:p.swatch,onClick:g,title:l,tabIndex:0,onKeyDown:m},b),c,h&&iQ.default.createElement(Ebt.default,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};l_.default=(0,Cbt.handleFocus)(Tbt);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=r_;Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return c(e).default}});var n=hy;Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return c(n).default}});var r=i_;Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return c(r).default}});var i=o_;Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return c(i).default}});var o=s_;Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return c(o).default}});var s=a_;Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return c(s).default}});var a=j2;Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return c(a).default}});var l=l_;Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return c(l).default}});function c(u){return u&&u.__esModule?u:{default:u}}})(Os);var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.AlphaPointer=void 0;var Pbt=T.exports,Obt=che(Pbt),Mbt=Or,Abt=che(Mbt);function che(t){return t&&t.__esModule?t:{default:t}}var kbt=c_.AlphaPointer=function(e){var n=e.direction,r=(0,Abt.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Obt.default.createElement("div",{style:r.picker})};c_.default=kbt;Object.defineProperty(n_,"__esModule",{value:!0});n_.AlphaPicker=void 0;var Dbt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nbt=T.exports,oQ=E7(Nbt),Rbt=Or,Ibt=E7(Rbt),uhe=Os,$bt=c_,Lbt=E7($bt);function E7(t){return t&&t.__esModule?t:{default:t}}var fhe=n_.AlphaPicker=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,c=e.renderers,u=e.pointer,f=e.className,d=f===void 0?"":f,h=(0,Ibt.default)({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return oQ.default.createElement("div",{style:h.picker,className:"alpha-picker "+d},oQ.default.createElement(uhe.Alpha,Dbt({},h.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};fhe.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Lbt.default};n_.default=(0,uhe.ColorWrap)(fhe);var u_={},f_={};Object.defineProperty(f_,"__esModule",{value:!0});f_.BlockSwatches=void 0;var Fbt=T.exports,x4=_7(Fbt),zbt=Or,Gbt=_7(zbt),Bbt=im,jbt=_7(Bbt),Vbt=Os;function _7(t){return t&&t.__esModule?t:{default:t}}var Ubt=f_.BlockSwatches=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=(0,Gbt.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return x4.default.createElement("div",{style:o.swatches},(0,jbt.default)(n,function(s){return x4.default.createElement(Vbt.Swatch,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),x4.default.createElement("div",{style:o.clear}))};f_.default=Ubt;Object.defineProperty(u_,"__esModule",{value:!0});u_.Block=void 0;var Hbt=T.exports,Bg=V2(Hbt),Wbt=Rc.exports,jm=V2(Wbt),Ybt=Or,qbt=V2(Ybt),Xbt=_u,Kbt=V2(Xbt),Zbt=lc,sQ=V2(Zbt),lF=Os,Qbt=f_,Jbt=V2(Qbt);function V2(t){return t&&t.__esModule?t:{default:t}}var T7=u_.Block=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,d=i==="transparent",h=function(m,y){sQ.default.isValidHex(m)&&n({hex:m,source:"hex"},y)},p=(0,qbt.default)((0,Kbt.default)({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:sQ.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":a==="hide"});return Bg.default.createElement("div",{style:p.card,className:"block-picker "+f},Bg.default.createElement("div",{style:p.triangle}),Bg.default.createElement("div",{style:p.head},d&&Bg.default.createElement(lF.Checkboard,{borderRadius:"6px 6px 0 0"}),Bg.default.createElement("div",{style:p.label},i)),Bg.default.createElement("div",{style:p.body},Bg.default.createElement(Jbt.default,{colors:o,onClick:h,onSwatchHover:r}),Bg.default.createElement(lF.EditableInput,{style:{input:p.input},value:i,onChange:h})))};T7.propTypes={width:jm.default.oneOfType([jm.default.string,jm.default.number]),colors:jm.default.arrayOf(jm.default.string),triangle:jm.default.oneOf(["top","hide"]),styles:jm.default.object};T7.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};u_.default=(0,lF.ColorWrap)(T7);var d_={};const dhe=ume(Zgt);var h_={};Object.defineProperty(h_,"__esModule",{value:!0});h_.CircleSwatch=void 0;var e1t=T.exports,aQ=phe(e1t),hhe=Or,t1t=phe(hhe),n1t=Os;function phe(t){return t&&t.__esModule?t:{default:t}}var ghe=h_.CircleSwatch=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,c=(0,t1t.default)({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+a/2+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return aQ.default.createElement("div",{style:c.swatch},aQ.default.createElement(n1t.Swatch,{style:c.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};ghe.defaultProps={circleSize:28,circleSpacing:14};h_.default=(0,hhe.handleHover)(ghe);Object.defineProperty(d_,"__esModule",{value:!0});d_.Circle=void 0;var r1t=T.exports,lQ=U2(r1t),i1t=Rc.exports,bb=U2(i1t),o1t=Or,s1t=U2(o1t),a1t=im,l1t=U2(a1t),c1t=_u,u1t=U2(c1t),f1t=dhe,ja=g1t(f1t),d1t=Os,h1t=h_,p1t=U2(h1t);function g1t(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function U2(t){return t&&t.__esModule?t:{default:t}}var P7=d_.Circle=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,c=l===void 0?{}:l,u=e.circleSpacing,f=e.className,d=f===void 0?"":f,h=(0,s1t.default)((0,u1t.default)({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),p=function(m,y){return r({hex:m,source:"hex"},y)};return lQ.default.createElement("div",{style:h.card,className:"circle-picker "+d},(0,l1t.default)(o,function(g){return lQ.default.createElement(p1t.default,{key:g,color:g,onClick:p,onSwatchHover:i,active:s===g.toLowerCase(),circleSize:a,circleSpacing:u})}))};P7.propTypes={width:bb.default.oneOfType([bb.default.string,bb.default.number]),circleSize:bb.default.number,circleSpacing:bb.default.number,styles:bb.default.object};P7.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ja.red[500],ja.pink[500],ja.purple[500],ja.deepPurple[500],ja.indigo[500],ja.blue[500],ja.lightBlue[500],ja.cyan[500],ja.teal[500],ja.green[500],ja.lightGreen[500],ja.lime[500],ja.yellow[500],ja.amber[500],ja.orange[500],ja.deepOrange[500],ja.brown[500],ja.blueGrey[500]],styles:{}};d_.default=(0,d1t.ColorWrap)(P7);var p_={},g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.ChromeFields=void 0;var v1t=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m1t=T.exports,Qo=nN(m1t),y1t=Or,b1t=nN(y1t),x1t=lc,w1t=nN(x1t),up=Os,C1t=h7,S1t=nN(C1t);function nN(t){return t&&t.__esModule?t:{default:t}}function E1t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cQ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _1t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var T1t=g_.ChromeFields=function(t){_1t(e,t);function e(){var n,r,i,o;E1t(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=cQ(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.state={view:""},i.toggleViews=function(){i.state.view==="hex"?i.setState({view:"rgb"}):i.state.view==="rgb"?i.setState({view:"hsl"}):i.state.view==="hsl"&&(i.props.hsl.a===1?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(c,u){c.hex?w1t.default.isValidHex(c.hex)&&i.props.onChange({hex:c.hex,source:"hex"},u):c.r||c.g||c.b?i.props.onChange({r:c.r||i.props.rgb.r,g:c.g||i.props.rgb.g,b:c.b||i.props.rgb.b,source:"rgb"},u):c.a?(c.a<0?c.a=0:c.a>1&&(c.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(c.a*100)/100,source:"rgb"},u)):(c.h||c.s||c.l)&&(typeof c.s=="string"&&c.s.includes("%")&&(c.s=c.s.replace("%","")),typeof c.l=="string"&&c.l.includes("%")&&(c.l=c.l.replace("%","")),i.props.onChange({h:c.h||i.props.hsl.h,s:Number(c.s&&c.s||i.props.hsl.s),l:Number(c.l&&c.l||i.props.hsl.l),source:"hsl"},u))},i.showHighlight=function(c){c.currentTarget.style.background="#eee"},i.hideHighlight=function(c){c.currentTarget.style.background="transparent"},r),cQ(i,o)}return v1t(e,[{key:"componentDidMount",value:function(){this.props.hsl.a===1&&this.state.view!=="hex"?this.setState({view:"hex"}):this.state.view!=="rgb"&&this.state.view!=="hsl"&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(r){r.hsl.a!==1&&this.state.view==="hex"&&this.setState({view:"rgb"})}},{key:"render",value:function(){var r=this,i=(0,b1t.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=Qo.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=Qo.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Qo.default.createElement("div",{style:i.alpha},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=Qo.default.createElement("div",{style:i.fields,className:"flexbox-fix"},Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Qo.default.createElement("div",{style:i.field},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Qo.default.createElement("div",{style:i.alpha},Qo.default.createElement(up.EditableInput,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Qo.default.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,Qo.default.createElement("div",{style:i.toggle},Qo.default.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},Qo.default.createElement(S1t.default,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),e}(Qo.default.Component);g_.default=T1t;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.ChromePointer=void 0;var P1t=T.exports,O1t=vhe(P1t),M1t=Or,A1t=vhe(M1t);function vhe(t){return t&&t.__esModule?t:{default:t}}var k1t=v_.ChromePointer=function(){var e=(0,A1t.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O1t.default.createElement("div",{style:e.picker})};v_.default=k1t;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.ChromePointerCircle=void 0;var D1t=T.exports,N1t=mhe(D1t),R1t=Or,I1t=mhe(R1t);function mhe(t){return t&&t.__esModule?t:{default:t}}var $1t=m_.ChromePointerCircle=function(){var e=(0,I1t.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return N1t.default.createElement("div",{style:e.picker})};m_.default=$1t;Object.defineProperty(p_,"__esModule",{value:!0});p_.Chrome=void 0;var L1t=T.exports,Hl=py(L1t),F1t=Rc.exports,lw=py(F1t),z1t=Or,G1t=py(z1t),B1t=_u,j1t=py(B1t),Rw=Os,V1t=g_,U1t=py(V1t),H1t=v_,uQ=py(H1t),W1t=m_,Y1t=py(W1t);function py(t){return t&&t.__esModule?t:{default:t}}var O7=p_.Chrome=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,c=e.renderers,u=e.styles,f=u===void 0?{}:u,d=e.className,h=d===void 0?"":d,p=(0,G1t.default)((0,j1t.default)({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return Hl.default.createElement("div",{style:p.picker,className:"chrome-picker "+h},Hl.default.createElement("div",{style:p.saturation},Hl.default.createElement(Rw.Saturation,{style:p.Saturation,hsl:s,hsv:a,pointer:Y1t.default,onChange:r})),Hl.default.createElement("div",{style:p.body},Hl.default.createElement("div",{style:p.controls,className:"flexbox-fix"},Hl.default.createElement("div",{style:p.color},Hl.default.createElement("div",{style:p.swatch},Hl.default.createElement("div",{style:p.active}),Hl.default.createElement(Rw.Checkboard,{renderers:c}))),Hl.default.createElement("div",{style:p.toggles},Hl.default.createElement("div",{style:p.hue},Hl.default.createElement(Rw.Hue,{style:p.Hue,hsl:s,pointer:uQ.default,onChange:r})),Hl.default.createElement("div",{style:p.alpha},Hl.default.createElement(Rw.Alpha,{style:p.Alpha,rgb:o,hsl:s,pointer:uQ.default,renderers:c,onChange:r})))),Hl.default.createElement(U1t.default,{rgb:o,hsl:s,hex:l,onChange:r,disableAlpha:i})))};O7.propTypes={width:lw.default.oneOfType([lw.default.string,lw.default.number]),disableAlpha:lw.default.bool,styles:lw.default.object};O7.defaultProps={width:225,disableAlpha:!1,styles:{}};p_.default=(0,Rw.ColorWrap)(O7);var y_={},b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.CompactColor=void 0;var q1t=T.exports,fQ=M7(q1t),X1t=Or,K1t=M7(X1t),Z1t=lc,Q1t=M7(Z1t),J1t=Os;function M7(t){return t&&t.__esModule?t:{default:t}}var e2t=b_.CompactColor=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=(0,K1t.default)({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Q1t.default.getContrastingColor(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return fQ.default.createElement(J1t.Swatch,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},fQ.default.createElement("div",{style:a.dot}))};b_.default=e2t;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});x_.CompactFields=void 0;var t2t=T.exports,xb=yhe(t2t),n2t=Or,r2t=yhe(n2t),fO=Os;function yhe(t){return t&&t.__esModule?t:{default:t}}var i2t=x_.CompactFields=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=(0,r2t.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,c){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return xb.default.createElement("div",{style:o.fields,className:"flexbox-fix"},xb.default.createElement("div",{style:o.active}),xb.default.createElement(fO.EditableInput,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),xb.default.createElement(fO.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),xb.default.createElement(fO.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),xb.default.createElement(fO.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))};x_.default=i2t;Object.defineProperty(y_,"__esModule",{value:!0});y_.Compact=void 0;var o2t=T.exports,wb=om(o2t),s2t=Rc.exports,w4=om(s2t),a2t=Or,l2t=om(a2t),c2t=im,u2t=om(c2t),f2t=_u,d2t=om(f2t),h2t=lc,p2t=om(h2t),bhe=Os,g2t=b_,v2t=om(g2t),m2t=x_,y2t=om(m2t);function om(t){return t&&t.__esModule?t:{default:t}}var A7=y_.Compact=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=(0,l2t.default)((0,d2t.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(p,g){p.hex?p2t.default.isValidHex(p.hex)&&n({hex:p.hex,source:"hex"},g):n(p,g)};return wb.default.createElement(bhe.Raised,{style:f.Compact,styles:l},wb.default.createElement("div",{style:f.compact,className:"compact-picker "+u},wb.default.createElement("div",null,(0,u2t.default)(i,function(h){return wb.default.createElement(v2t.default,{key:h,color:h,active:h.toLowerCase()===o,onClick:d,onSwatchHover:r})}),wb.default.createElement("div",{style:f.clear})),wb.default.createElement(y2t.default,{hex:o,rgb:s,onChange:d})))};A7.propTypes={colors:w4.default.arrayOf(w4.default.string),styles:w4.default.object};A7.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};y_.default=(0,bhe.ColorWrap)(A7);var w_={},C_={};Object.defineProperty(C_,"__esModule",{value:!0});C_.GithubSwatch=void 0;var b2t=T.exports,dQ=whe(b2t),xhe=Or,x2t=whe(xhe),w2t=Os;function whe(t){return t&&t.__esModule?t:{default:t}}var C2t=C_.GithubSwatch=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=(0,x2t.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return dQ.default.createElement("div",{style:a.swatch},dQ.default.createElement(w2t.Swatch,{color:r,onClick:i,onHover:o,focusStyle:s}))};C_.default=(0,xhe.handleHover)(C2t);Object.defineProperty(w_,"__esModule",{value:!0});w_.Github=void 0;var S2t=T.exports,dO=H2(S2t),E2t=Rc.exports,Vm=H2(E2t),_2t=Or,T2t=H2(_2t),P2t=im,O2t=H2(P2t),M2t=_u,A2t=H2(M2t),k2t=Os,D2t=C_,N2t=H2(D2t);function H2(t){return t&&t.__esModule?t:{default:t}}var k7=w_.Github=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,c=e.className,u=c===void 0?"":c,f=(0,T2t.default)((0,A2t.default)({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),d=function(p,g){return i({hex:p,source:"hex"},g)};return dO.default.createElement("div",{style:f.card,className:"github-picker "+u},dO.default.createElement("div",{style:f.triangleShadow}),dO.default.createElement("div",{style:f.triangle}),(0,O2t.default)(r,function(h){return dO.default.createElement(N2t.default,{color:h,key:h,onClick:d,onSwatchHover:o})}))};k7.propTypes={width:Vm.default.oneOfType([Vm.default.string,Vm.default.number]),colors:Vm.default.arrayOf(Vm.default.string),triangle:Vm.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Vm.default.object};k7.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};w_.default=(0,k2t.ColorWrap)(k7);var S_={},E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.SliderPointer=void 0;var R2t=T.exports,I2t=Che(R2t),$2t=Or,L2t=Che($2t);function Che(t){return t&&t.__esModule?t:{default:t}}var F2t=E_.SliderPointer=function(e){var n=e.direction,r=(0,L2t.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return I2t.default.createElement("div",{style:r.picker})};E_.default=F2t;Object.defineProperty(S_,"__esModule",{value:!0});S_.HuePicker=void 0;var z2t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G2t=T.exports,hQ=__(G2t),B2t=Rc.exports,j2t=__(B2t),V2t=Or,U2t=__(V2t),H2t=_u,W2t=__(H2t),She=Os,Y2t=E_,q2t=__(Y2t);function __(t){return t&&t.__esModule?t:{default:t}}var D7=S_.HuePicker=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,d=(0,U2t.default)((0,W2t.default)({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c)),h=function(g){return i({a:1,h:g.h,l:.5,s:1})};return hQ.default.createElement("div",{style:d.picker,className:"hue-picker "+f},hQ.default.createElement(She.Hue,z2t({},d.hue,{hsl:o,pointer:a,onChange:h,direction:s})))};D7.propTypes={styles:j2t.default.object};D7.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:q2t.default,styles:{}};S_.default=(0,She.ColorWrap)(D7);var T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.Material=void 0;var X2t=T.exports,Vd=rN(X2t),K2t=Or,Z2t=rN(K2t),Q2t=_u,J2t=rN(Q2t),ext=lc,txt=rN(ext),Rb=Os;function rN(t){return t&&t.__esModule?t:{default:t}}var nxt=T_.Material=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=(0,Z2t.default)((0,J2t.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(d,h){d.hex?txt.default.isValidHex(d.hex)&&n({hex:d.hex,source:"hex"},h):(d.r||d.g||d.b)&&n({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},h)};return Vd.default.createElement(Rb.Raised,{styles:s},Vd.default.createElement("div",{style:c.material,className:"material-picker "+l},Vd.default.createElement(Rb.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),Vd.default.createElement("div",{style:c.split,className:"flexbox-fix"},Vd.default.createElement("div",{style:c.third},Vd.default.createElement(Rb.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:u})),Vd.default.createElement("div",{style:c.third},Vd.default.createElement(Rb.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:u})),Vd.default.createElement("div",{style:c.third},Vd.default.createElement(Rb.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:u})))))};T_.default=(0,Rb.ColorWrap)(nxt);var P_={},O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.PhotoshopPicker=void 0;var rxt=T.exports,mc=N7(rxt),ixt=Or,oxt=N7(ixt),sxt=lc,axt=N7(sxt),Um=Os;function N7(t){return t&&t.__esModule?t:{default:t}}var lxt=O_.PhotoshopPicker=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=(0,oxt.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(c,u){c["#"]?axt.default.isValidHex(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},u)};return mc.default.createElement("div",{style:s.fields},mc.default.createElement(Um.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),mc.default.createElement(Um.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),mc.default.createElement(Um.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),mc.default.createElement("div",{style:s.divider}),mc.default.createElement(Um.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),mc.default.createElement(Um.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),mc.default.createElement(Um.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),mc.default.createElement("div",{style:s.divider}),mc.default.createElement(Um.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),mc.default.createElement("div",{style:s.fieldSymbols},mc.default.createElement("div",{style:s.symbol},"\xB0"),mc.default.createElement("div",{style:s.symbol},"%"),mc.default.createElement("div",{style:s.symbol},"%")))};O_.default=lxt;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.PhotoshopPointerCircle=void 0;var cxt=T.exports,uxt=Ehe(cxt),fxt=Or,dxt=Ehe(fxt);function Ehe(t){return t&&t.__esModule?t:{default:t}}var hxt=M_.PhotoshopPointerCircle=function(e){var n=e.hsl,r=(0,dxt.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return uxt.default.createElement("div",{style:r.picker})};M_.default=hxt;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.PhotoshopPointerCircle=void 0;var pxt=T.exports,cw=_he(pxt),gxt=Or,vxt=_he(gxt);function _he(t){return t&&t.__esModule?t:{default:t}}var mxt=A_.PhotoshopPointerCircle=function(){var e=(0,vxt.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return cw.default.createElement("div",{style:e.pointer},cw.default.createElement("div",{style:e.left},cw.default.createElement("div",{style:e.leftInside})),cw.default.createElement("div",{style:e.right},cw.default.createElement("div",{style:e.rightInside})))};A_.default=mxt;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});k_.PhotoshopButton=void 0;var yxt=T.exports,bxt=The(yxt),xxt=Or,wxt=The(xxt);function The(t){return t&&t.__esModule?t:{default:t}}var Cxt=k_.PhotoshopButton=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=(0,wxt.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return bxt.default.createElement("div",{style:s.button,onClick:n},r||i)};k_.default=Cxt;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.PhotoshopPreviews=void 0;var Sxt=T.exports,Cb=Phe(Sxt),Ext=Or,_xt=Phe(Ext);function Phe(t){return t&&t.__esModule?t:{default:t}}var Txt=D_.PhotoshopPreviews=function(e){var n=e.rgb,r=e.currentColor,i=(0,_xt.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Cb.default.createElement("div",null,Cb.default.createElement("div",{style:i.label},"new"),Cb.default.createElement("div",{style:i.swatches},Cb.default.createElement("div",{style:i.new}),Cb.default.createElement("div",{style:i.current})),Cb.default.createElement("div",{style:i.label},"current"))};D_.default=Txt;Object.defineProperty(P_,"__esModule",{value:!0});P_.Photoshop=void 0;var Pxt=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Oxt=T.exports,Ml=lg(Oxt),Mxt=Rc.exports,pQ=lg(Mxt),Axt=Or,kxt=lg(Axt),Dxt=_u,Nxt=lg(Dxt),cF=Os,Rxt=O_,Ixt=lg(Rxt),$xt=M_,Lxt=lg($xt),Fxt=A_,zxt=lg(Fxt),Gxt=k_,gQ=lg(Gxt),Bxt=D_,jxt=lg(Bxt);function lg(t){return t&&t.__esModule?t:{default:t}}function Vxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uxt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hxt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var R7=P_.Photoshop=function(t){Hxt(e,t);function e(n){Vxt(this,e);var r=Uxt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return Pxt(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=(0,kxt.default)((0,Nxt.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return Ml.default.createElement("div",{style:l.picker,className:"photoshop-picker "+a},Ml.default.createElement("div",{style:l.head},this.props.header),Ml.default.createElement("div",{style:l.body,className:"flexbox-fix"},Ml.default.createElement("div",{style:l.saturation},Ml.default.createElement(cF.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Lxt.default,onChange:this.props.onChange})),Ml.default.createElement("div",{style:l.hue},Ml.default.createElement(cF.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:zxt.default,onChange:this.props.onChange})),Ml.default.createElement("div",{style:l.controls},Ml.default.createElement("div",{style:l.top,className:"flexbox-fix"},Ml.default.createElement("div",{style:l.previews},Ml.default.createElement(jxt.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Ml.default.createElement("div",{style:l.actions},Ml.default.createElement(gQ.default,{label:"OK",onClick:this.props.onAccept,active:!0}),Ml.default.createElement(gQ.default,{label:"Cancel",onClick:this.props.onCancel}),Ml.default.createElement(Ixt.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(Ml.default.Component);R7.propTypes={header:pQ.default.string,styles:pQ.default.object};R7.defaultProps={header:"Color Picker",styles:{}};P_.default=(0,cF.ColorWrap)(R7);var N_={},R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.SketchFields=void 0;var Wxt=T.exports,$f=I7(Wxt),Yxt=Or,qxt=I7(Yxt),Xxt=lc,Kxt=I7(Xxt),uw=Os;function I7(t){return t&&t.__esModule?t:{default:t}}var Zxt=R_.SketchFields=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=(0,qxt.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(u,f){u.hex?Kxt.default.isValidHex(u.hex)&&n({hex:u.hex,source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,a:r.a,source:"rgb"},f):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:i.h,s:i.s,l:i.l,a:u.a,source:"rgb"},f))};return $f.default.createElement("div",{style:a.fields,className:"flexbox-fix"},$f.default.createElement("div",{style:a.double},$f.default.createElement(uw.EditableInput,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),$f.default.createElement("div",{style:a.single},$f.default.createElement(uw.EditableInput,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),$f.default.createElement("div",{style:a.single},$f.default.createElement(uw.EditableInput,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),$f.default.createElement("div",{style:a.single},$f.default.createElement(uw.EditableInput,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),$f.default.createElement("div",{style:a.alpha},$f.default.createElement(uw.EditableInput,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))};R_.default=Zxt;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.SketchPresetColors=void 0;var Qxt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jxt=T.exports,C4=$7(Jxt),ewt=Rc.exports,Sb=$7(ewt),twt=Or,nwt=$7(twt),rwt=Os;function $7(t){return t&&t.__esModule?t:{default:t}}var Ohe=I_.SketchPresetColors=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=(0,nwt.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(c,u){i({hex:c,source:"hex"},u)};return C4.default.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var c=typeof l=="string"?{color:l}:l,u=""+c.color+(c.title||"");return C4.default.createElement("div",{key:u,style:s.swatchWrap},C4.default.createElement(rwt.Swatch,Qxt({},c,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};Ohe.propTypes={colors:Sb.default.arrayOf(Sb.default.oneOfType([Sb.default.string,Sb.default.shape({color:Sb.default.string,title:Sb.default.string})])).isRequired};I_.default=Ohe;Object.defineProperty(N_,"__esModule",{value:!0});N_.Sketch=void 0;var iwt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},owt=T.exports,yc=W2(owt),swt=Rc.exports,fw=W2(swt),awt=Or,lwt=W2(awt),cwt=_u,uwt=W2(cwt),Iw=Os,fwt=R_,dwt=W2(fwt),hwt=I_,pwt=W2(hwt);function W2(t){return t&&t.__esModule?t:{default:t}}var L7=N_.Sketch=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,f=e.renderers,d=e.styles,h=d===void 0?{}:d,p=e.className,g=p===void 0?"":p,m=(0,lwt.default)((0,uwt.default)({default:iwt({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:c});return yc.default.createElement("div",{style:m.picker,className:"sketch-picker "+g},yc.default.createElement("div",{style:m.saturation},yc.default.createElement(Iw.Saturation,{style:m.Saturation,hsl:s,hsv:o,onChange:a})),yc.default.createElement("div",{style:m.controls,className:"flexbox-fix"},yc.default.createElement("div",{style:m.sliders},yc.default.createElement("div",{style:m.hue},yc.default.createElement(Iw.Hue,{style:m.Hue,hsl:s,onChange:a})),yc.default.createElement("div",{style:m.alpha},yc.default.createElement(Iw.Alpha,{style:m.Alpha,rgb:r,hsl:s,renderers:f,onChange:a}))),yc.default.createElement("div",{style:m.color},yc.default.createElement(Iw.Checkboard,null),yc.default.createElement("div",{style:m.activeColor}))),yc.default.createElement(dwt.default,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:c}),yc.default.createElement(pwt.default,{colors:u,onClick:a,onSwatchHover:l}))};L7.propTypes={disableAlpha:fw.default.bool,width:fw.default.oneOfType([fw.default.string,fw.default.number]),styles:fw.default.object};L7.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};N_.default=(0,Iw.ColorWrap)(L7);var $_={},L_={},F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.SliderSwatch=void 0;var gwt=T.exports,vwt=Mhe(gwt),mwt=Or,ywt=Mhe(mwt);function Mhe(t){return t&&t.__esModule?t:{default:t}}var bwt=F_.SliderSwatch=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,c=(0,ywt.default)({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),u=function(d){return o({h:n.h,s:.5,l:r,source:"hsl"},d)};return vwt.default.createElement("div",{style:c.swatch,onClick:u})};F_.default=bwt;Object.defineProperty(L_,"__esModule",{value:!0});L_.SliderSwatches=void 0;var xwt=T.exports,qu=F7(xwt),wwt=Or,Cwt=F7(wwt),Swt=F_,dw=F7(Swt);function F7(t){return t&&t.__esModule?t:{default:t}}var Ewt=L_.SliderSwatches=function(e){var n=e.onClick,r=e.hsl,i=(0,Cwt.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return qu.default.createElement("div",{style:i.swatches},qu.default.createElement("div",{style:i.swatch},qu.default.createElement(dw.default,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),qu.default.createElement("div",{style:i.swatch},qu.default.createElement(dw.default,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),qu.default.createElement("div",{style:i.swatch},qu.default.createElement(dw.default,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),qu.default.createElement("div",{style:i.swatch},qu.default.createElement(dw.default,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),qu.default.createElement("div",{style:i.swatch},qu.default.createElement(dw.default,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),qu.default.createElement("div",{style:i.clear}))};L_.default=Ewt;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.SliderPointer=void 0;var _wt=T.exports,Twt=Ahe(_wt),Pwt=Or,Owt=Ahe(Pwt);function Ahe(t){return t&&t.__esModule?t:{default:t}}var Mwt=z_.SliderPointer=function(){var e=(0,Owt.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Twt.default.createElement("div",{style:e.picker})};z_.default=Mwt;Object.defineProperty($_,"__esModule",{value:!0});$_.Slider=void 0;var Awt=T.exports,hw=Y2(Awt),kwt=Rc.exports,Dwt=Y2(kwt),Nwt=Or,Rwt=Y2(Nwt),Iwt=_u,$wt=Y2(Iwt),khe=Os,Lwt=L_,Fwt=Y2(Lwt),zwt=z_,Gwt=Y2(zwt);function Y2(t){return t&&t.__esModule?t:{default:t}}var z7=$_.Slider=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,c=(0,Rwt.default)((0,$wt.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return hw.default.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},hw.default.createElement("div",{style:c.hue},hw.default.createElement(khe.Hue,{style:c.Hue,hsl:n,pointer:i,onChange:r})),hw.default.createElement("div",{style:c.swatches},hw.default.createElement(Fwt.default,{hsl:n,onClick:r})))};z7.propTypes={styles:Dwt.default.object};z7.defaultProps={pointer:Gwt.default,styles:{}};$_.default=(0,khe.ColorWrap)(z7);var G_={},B_={},j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.SwatchesColor=void 0;var Bwt=T.exports,S4=iN(Bwt),jwt=Or,Vwt=iN(jwt),Uwt=lc,Hwt=iN(Uwt),Wwt=Os,Ywt=p7,qwt=iN(Ywt);function iN(t){return t&&t.__esModule?t:{default:t}}var Xwt=j_.SwatchesColor=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,c=(0,Vwt.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Hwt.default.getContrastingColor(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return S4.default.createElement(Wwt.Swatch,{color:n,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},S4.default.createElement("div",{style:c.check},S4.default.createElement(qwt.default,null)))};j_.default=Xwt;Object.defineProperty(B_,"__esModule",{value:!0});B_.SwatchesGroup=void 0;var Kwt=T.exports,vQ=oN(Kwt),Zwt=Or,Qwt=oN(Zwt),Jwt=im,eCt=oN(Jwt),tCt=j_,nCt=oN(tCt);function oN(t){return t&&t.__esModule?t:{default:t}}var rCt=B_.SwatchesGroup=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=(0,Qwt.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return vQ.default.createElement("div",{style:s.group},(0,eCt.default)(i,function(a,l){return vQ.default.createElement(nCt.default,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))};B_.default=rCt;Object.defineProperty(G_,"__esModule",{value:!0});G_.Swatches=void 0;var iCt=T.exports,Eb=gy(iCt),oCt=Rc.exports,Ud=gy(oCt),sCt=Or,aCt=gy(sCt),lCt=im,cCt=gy(lCt),uCt=_u,fCt=gy(uCt),dCt=lc,hCt=gy(dCt),pCt=dhe,En=mCt(pCt),Dhe=Os,gCt=B_,vCt=gy(gCt);function mCt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function gy(t){return t&&t.__esModule?t:{default:t}}var G7=G_.Swatches=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,d=(0,aCt.default)((0,fCt.default)({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),h=function(g,m){hCt.default.isValidHex(g)&&i({hex:g,source:"hex"},m)};return Eb.default.createElement("div",{style:d.picker,className:"swatches-picker "+f},Eb.default.createElement(Dhe.Raised,null,Eb.default.createElement("div",{style:d.overflow},Eb.default.createElement("div",{style:d.body},(0,cCt.default)(s,function(p){return Eb.default.createElement(vCt.default,{key:p.toString(),group:p,active:a,onClick:h,onSwatchHover:o})}),Eb.default.createElement("div",{style:d.clear})))))};G7.propTypes={width:Ud.default.oneOfType([Ud.default.string,Ud.default.number]),height:Ud.default.oneOfType([Ud.default.string,Ud.default.number]),colors:Ud.default.arrayOf(Ud.default.arrayOf(Ud.default.string)),styles:Ud.default.object};G7.defaultProps={width:320,height:240,colors:[[En.red[900],En.red[700],En.red[500],En.red[300],En.red[100]],[En.pink[900],En.pink[700],En.pink[500],En.pink[300],En.pink[100]],[En.purple[900],En.purple[700],En.purple[500],En.purple[300],En.purple[100]],[En.deepPurple[900],En.deepPurple[700],En.deepPurple[500],En.deepPurple[300],En.deepPurple[100]],[En.indigo[900],En.indigo[700],En.indigo[500],En.indigo[300],En.indigo[100]],[En.blue[900],En.blue[700],En.blue[500],En.blue[300],En.blue[100]],[En.lightBlue[900],En.lightBlue[700],En.lightBlue[500],En.lightBlue[300],En.lightBlue[100]],[En.cyan[900],En.cyan[700],En.cyan[500],En.cyan[300],En.cyan[100]],[En.teal[900],En.teal[700],En.teal[500],En.teal[300],En.teal[100]],["#194D33",En.green[700],En.green[500],En.green[300],En.green[100]],[En.lightGreen[900],En.lightGreen[700],En.lightGreen[500],En.lightGreen[300],En.lightGreen[100]],[En.lime[900],En.lime[700],En.lime[500],En.lime[300],En.lime[100]],[En.yellow[900],En.yellow[700],En.yellow[500],En.yellow[300],En.yellow[100]],[En.amber[900],En.amber[700],En.amber[500],En.amber[300],En.amber[100]],[En.orange[900],En.orange[700],En.orange[500],En.orange[300],En.orange[100]],[En.deepOrange[900],En.deepOrange[700],En.deepOrange[500],En.deepOrange[300],En.deepOrange[100]],[En.brown[900],En.brown[700],En.brown[500],En.brown[300],En.brown[100]],[En.blueGrey[900],En.blueGrey[700],En.blueGrey[500],En.blueGrey[300],En.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};G_.default=(0,Dhe.ColorWrap)(G7);var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.Twitter=void 0;var yCt=T.exports,jg=q2(yCt),bCt=Rc.exports,Hm=q2(bCt),xCt=Or,wCt=q2(xCt),CCt=im,SCt=q2(CCt),ECt=_u,_Ct=q2(ECt),TCt=lc,PCt=q2(TCt),uF=Os;function q2(t){return t&&t.__esModule?t:{default:t}}var B7=V_.Twitter=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,c=l===void 0?{}:l,u=e.className,f=u===void 0?"":u,d=(0,wCt.default)((0,_Ct.default)({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),h=function(g,m){PCt.default.isValidHex(g)&&n({hex:g,source:"hex"},m)};return jg.default.createElement("div",{style:d.card,className:"twitter-picker "+f},jg.default.createElement("div",{style:d.triangleShadow}),jg.default.createElement("div",{style:d.triangle}),jg.default.createElement("div",{style:d.body},(0,SCt.default)(o,function(p,g){return jg.default.createElement(uF.Swatch,{key:g,color:p,hex:p,style:d.swatch,onClick:h,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),jg.default.createElement("div",{style:d.hash},"#"),jg.default.createElement(uF.EditableInput,{style:{input:d.input},value:i.replace("#",""),onChange:h}),jg.default.createElement("div",{style:d.clear})))};B7.propTypes={width:Hm.default.oneOfType([Hm.default.string,Hm.default.number]),triangle:Hm.default.oneOf(["hide","top-left","top-right"]),colors:Hm.default.arrayOf(Hm.default.string),styles:Hm.default.object};B7.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};V_.default=(0,uF.ColorWrap)(B7);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var e=n_;Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return m(e).default}});var n=u_;Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return m(n).default}});var r=d_;Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return m(r).default}});var i=p_;Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return m(i).default}});var o=y_;Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return m(o).default}});var s=w_;Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return m(s).default}});var a=S_;Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return m(a).default}});var l=T_;Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return m(l).default}});var c=P_;Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return m(c).default}});var u=N_;Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return m(u).default}});var f=$_;Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return m(f).default}});var d=G_;Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return m(d).default}});var h=V_;Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return m(h).default}});var p=j2;Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return m(p).default}});var g=m(i);function m(y){return y&&y.__esModule?y:{default:y}}t.default=g.default})(the);const OCt=t=>{const{label:e,value:n="",onChange:r}=t,[i,o]=T.exports.useState(!1),s=T.exports.useRef(n),a=T.exports.useRef(),{graphProvider:l}=Za(),c=T.exports.useRef();l.getGraphOptions().then(h=>{c.current=h});const u=()=>D("div",{className:`${sw}-pick-color-container`,children:_t("div",{className:`${sw}-popover`,children:[D(the.SketchPicker,{onChange:h=>{s.current=h.hex}}),_t("div",{className:"foolter",children:[D(Hv,{onClick:()=>{o(!1)},children:"\u53D6\u6D88"}),D(Hv,{type:"primary",onClick:()=>{r==null||r(s.current),o(!1)},children:"\u786E\u8BA4"})]})]})}),f=(h,p)=>{const g=document.getElementsByClassName(p);if(g.length===1)return g[0];let m=null,y=h.parentElement;for(;!m;){const b=y.getElementsByClassName(p);(b==null?void 0:b.length)>0&&(m=b[0]),y=y.parentElement}return m},d=h=>{const p=document.getElementsByClassName(`${sw}-pick-color-container`);if(p.length&&Array.from(p).forEach(m=>{var y;(y=m.parentNode)===null||y===void 0||y.removeChild(m)}),!h)return;const g=document.createElement("div");y1.exports.render(y1.exports.createPortal(D(u,{}),f(a.current,"flowchart-editor-panel-body")),g)};return _t("div",{className:"group",ref:a,children:[e&&D("label",{children:e}),D("div",{className:`${sw}-color-container`,onClick:()=>{o(!0)},children:D("div",{className:`${sw}-color`,style:{backgroundColor:n,height:"100%"}})}),d(i)]})};T.exports.memo(OCt,(t,e)=>t.label===e.label&&t.value===e.value);const Bf="DND_NDOE",Nhe="GROUP_NODE_RENDER_ID",MCt=180,ACt=36,kCt={fontSize:"16px",color:"#3057e3"},DCt=t=>{if(t.hide)return null;switch(t.status){case jo.StatusEnum.PROCESSING:return D(Jie,{spin:!0,style:{color:"#c1cdf7",fontSize:"16px"}});case jo.StatusEnum.ERROR:return D(Kk,{style:{color:"#ff4d4f",fontSize:"16px"}});case jo.StatusEnum.SUCCESS:return D(Xk,{style:{color:"#39ca74cc",fontSize:"16px"}});case jo.StatusEnum.WARNING:return D(PE,{style:{color:"#faad14",fontSize:"16px"}});case jo.StatusEnum.DEFAULT:return D(Zk,{style:{color:"#d9d9d9",fontSize:"16px"}});default:return null}},NCt=t=>_t("div",{className:`xflow-algo-node ${t.isNodeTreePanel?"panel-node":""}`,children:[D("span",{className:"icon",children:D(Tie,{style:kCt})}),D("span",{className:"label",children:t.data.label}),D("span",{className:"status",children:D(DCt,{status:t.data&&t.data.status,hide:t.isNodeTreePanel})})]}),RCt=t=>{const{cell:e}=t,n=Za(),r=t.data.isCollapsed||!1,i=()=>{n.executeCommand(Qs.COLLAPSE_GROUP.id,{nodeId:e.id,isCollapsed:!1,collapsedSize:{width:200,height:40}})},o=()=>{n.executeCommand(Qs.COLLAPSE_GROUP.id,{nodeId:e.id,isCollapsed:!0,collapsedSize:{width:200,height:40},gap:3})};return D("div",{className:"xflow-group-node",children:_t("div",{className:"xflow-group-header",children:[D("div",{className:"header-left",children:t.data.label}),_t("div",{className:"header-right",children:[r&&D(Kie,{onClick:i}),!r&&D(Hie,{onClick:o})]})]})})},ICt=PIe((t,e)=>{const n=e.getValue();console.log("get main props",n),t.setRegisterHook(r=>{const i=[r.reactNodeRender.registerHook({name:"add react node",handler:async s=>{s.set(Bf,NCt),s.set(Nhe,RCt)}}),r.graphOptions.registerHook({name:"custom-x6-options",after:"dag-extension-x6-options",handler:async s=>{s.grid=!1,s.keyboard={enabled:!0}}}),r.x6Events.registerHook({name:"add",handler:async s=>{s.push({eventName:"node:moved",callback:(a,l)=>{const{node:c}=a;l.executeCommand(Oo.MOVE_NODE.id,{id:c.id,position:c.getPosition()})}})}})],o=new Ei;return o.pushAll(i),o})});var _c;(t=>{t.NODE_COMMON_PROPS={renderKey:Bf,width:MCt,height:ACt},t.queryGraphMeta=async i=>(console.log("queryMeta",i),{...i,flowId:i.meta.flowId}),t.loadGraphData=async i=>{const o=[{...t.NODE_COMMON_PROPS,id:"node1",label:"\u7B97\u6CD5\u8282\u70B9-1",ports:[{id:"node1-input-1",type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u6869"},{id:"node1-output-1",type:co.AnchorType.OUTPUT,group:co.AnchorGroup.BOTTOM,tooltip:"\u8F93\u51FA\u6869"}]},{...t.NODE_COMMON_PROPS,id:"node2",label:"\u7B97\u6CD5\u8282\u70B9-2",ports:[{id:"node2-input-1",type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u6869",connected:!0},{id:"node2-output-1",type:co.AnchorType.OUTPUT,group:co.AnchorGroup.BOTTOM,tooltip:"\u8F93\u51FA\u6869"}]},{...t.NODE_COMMON_PROPS,id:"node3",label:"\u7B97\u6CD5\u8282\u70B9-3",ports:[{id:"node3-input-1",type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u6869",connected:!0},{id:"node3-output-1",type:co.AnchorType.OUTPUT,group:co.AnchorGroup.BOTTOM,tooltip:"\u8F93\u51FA\u6869"}]},{...t.NODE_COMMON_PROPS,id:"node4",label:"\u7B97\u6CD5\u8282\u70B9-4",ports:[{id:"node4-input-1",type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u6869",connected:!0},{id:"node4-output-1",type:co.AnchorType.OUTPUT,group:co.AnchorGroup.BOTTOM,tooltip:"\u8F93\u51FA\u6869"}]}],s=[{id:nu(),source:"node1",target:"node2",sourcePortId:"node1-output-1",targetPortId:"node2-input-1"},{id:nu(),source:"node1",target:"node3",sourcePortId:"node1-output-1",targetPortId:"node3-input-1"},{id:nu(),source:"node1",target:"node4",sourcePortId:"node1-output-1",targetPortId:"node4-input-1"}];return{nodes:o,edges:s}},t.saveGraphData=async(i,o)=>(console.log("saveGraphData api",i,o),{success:!0,data:o}),t.deployDagService=async(i,o)=>(console.log("deployService api",i,o),{success:!0,data:o}),t.addNode=async i=>{console.info("addNode service running, add node:",i);const o=[{type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u68691"},{type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u68692"},{type:co.AnchorType.INPUT,group:co.AnchorGroup.TOP,tooltip:"\u8F93\u5165\u68693"},{type:co.AnchorType.OUTPUT,group:co.AnchorGroup.BOTTOM,tooltip:"\u8F93\u51FA\u6869"}],{id:s,ports:a=o,groupChildren:l}=i.nodeConfig,c=s||nu(),u={...t.NODE_COMMON_PROPS,...i.nodeConfig,id:c,ports:a.map(f=>({...f,id:nu()}))};return l&&l.length&&(u.ports=[]),u},t.renameNode=async(i,o,s)=>(console.log("rename node",o,i,s),{err:null,nodeName:i}),t.delNode=async i=>(console.info("delNode service running, del node:",i.nodeConfig.id),!0),t.addEdge=async i=>{console.info("addEdge service running, add edge:",i);const{edgeConfig:o}=i;return{...o,id:nu()}},t.delEdge=async i=>(console.info("delEdge service running, del edge:",i),!0);let e=0;const n={};let r=jo.StatusEnum.DEFAULT;t.graphStatusService=async()=>(e<4?(n[`node${e}`]={status:jo.StatusEnum.SUCCESS},n[`node${e+1}`]={status:jo.StatusEnum.PROCESSING},e+=1,r=jo.StatusEnum.PROCESSING):(e=0,n.node4={status:jo.StatusEnum.SUCCESS},r=jo.StatusEnum.SUCCESS),{graphStatus:r,statusMap:n}),t.stopGraphStatusService=async()=>(Object.entries(n).forEach(([,i])=>{const{status:o}=i;o===jo.StatusEnum.PROCESSING&&(i.status=jo.StatusEnum.ERROR)}),{graphStatus:jo.StatusEnum.ERROR,statusMap:n})})(_c||(_c={}));var Wp;(t=>{const e="\u8282\u70B9\u64CD\u4F5C";t.TEST_ASYNC_CMD={id:"xflow:async-cmd",label:"\u5F02\u6B65\u8BF7\u6C42",category:e},t.SHOW_RENAME_MODAL={id:"xflow:rename-node-modal",label:"\u6253\u5F00\u91CD\u547D\u540D\u5F39\u7A97",category:e},t.DEPLOY_SERVICE={id:"xflow:deploy-service",label:"\u90E8\u7F72\u670D\u52A1",category:e}})(Wp||(Wp={}));var mQ,yQ,bQ,E4,xQ;function $Ct(t,e,n,r){!n||Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function LCt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(s){o[s]=r[s]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(s,a){return a(t,e,s)||s},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}const{inject:FCt,injectable:zCt}=ote;var fF;(t=>{t.command=Wp.TEST_ASYNC_CMD,t.hookKey="testCmd"})(fF||(fF={}));let GCt=(mQ=zCt(),yQ=FCt(Zr),mQ(bQ=(E4=class{constructor(){$Ct(this,"contextProvider",xQ,this),this.execute=async()=>{const e=this.contextProvider(),n=e.getHooks(),{args:r,hooks:i}=e.getArgs(),o=await e.getX6Graph(),s=await n.testCmd.call(r,async a=>{const{commandService:l,modelService:c,graphMeta:u,test:f}=a;return console.log(o,l,c,u,f),{test:!0}},i);return e.setResult(s),this},this.undo=async()=>(this.isUndoable()&&this.contextProvider().undo(),this),this.redo=async()=>(this.isUndoable()||await this.execute(),this)}isUndoable(){return this.contextProvider().isUndoable()}},xQ=LCt(E4.prototype,"contextProvider",[yQ],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E4))||bQ);var wQ,CQ,SQ,_4,EQ;function BCt(t,e,n,r){!n||Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jCt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(s){o[s]=r[s]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(s,a){return a(t,e,s)||s},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var dF;(t=>{t.command=Wp.DEPLOY_SERVICE,t.hookKey="deployDag"})(dF||(dF={}));let VCt=(wQ=Ur(),CQ=jn(Zr),wQ(SQ=(_4=class{constructor(){BCt(this,"contextProvider",EQ,this),this.execute=async()=>{const e=this.contextProvider(),{args:n}=e.getArgs(),i=await e.getHooks().deployDag.call(n,async o=>{const{commandService:s,deployDagService:a}=o;return await s.executeCommand(Pr.SAVE_GRAPH_DATA.id,{saveGraphDataService:async(l,c)=>{await a(l,c)}}),{success:!0}});return e.setResult(i),this},this.undo=async()=>(this.isUndoable()&&this.contextProvider().undo(),this),this.redo=async()=>(this.isUndoable()||await this.execute(),this)}isUndoable(){return this.contextProvider().isUndoable()}},EQ=jCt(_4.prototype,"contextProvider",[CQ],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_4))||SQ);var _Q,TQ,PQ,T4,OQ;function UCt(t,e,n,r){!n||Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function HCt(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(s){o[s]=r[s]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(s,a){return a(t,e,s)||s},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var hF;(t=>{t.command=Wp.SHOW_RENAME_MODAL,t.hookKey="renameNode"})(hF||(hF={}));let WCt=(_Q=Ur(),TQ=jn(Zr),_Q(PQ=(T4=class{constructor(){UCt(this,"contextProvider",OQ,this),this.execute=async()=>{const e=this.contextProvider(),{args:n,hooks:r}=e.getArgs(),o=await e.getHooks().renameNode.call(n,async s=>{const{nodeConfig:a,graphMeta:l,commandService:c,modelService:u,updateNodeNameService:f}=s,d=a.label,h=()=>({graphMeta:l,commandService:c,modelService:u,updateNodeNameService:f}),g=(await e.getX6Graph()).getCellById(a.id);if(!g||!g.isNode())throw new Error(`${a.id} is not a valid node`);const m=await qCt(a,h);if(m){const y=g.getData();return g.setData({...y,label:m}),{err:null,preNodeName:d,currentNodeName:m}}return{err:null,preNodeName:d,currentNodeName:""}});return e.setResult(o),this},this.undo=async()=>(this.isUndoable()&&this.contextProvider().undo(),this),this.redo=async()=>(this.isUndoable()||await this.execute(),this)}isUndoable(){return this.contextProvider().isUndoable()}},OQ=HCt(T4.prototype,"contextProvider",[TQ],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T4))||PQ);const YCt={labelCol:{span:5},wrapperCol:{span:19}};function qCt(t,e){const n=new Ec;class r{}r.modal=void 0,r.form=void 0;const i=async()=>{const{form:c,modal:u}=r,f=e(),{updateNodeNameService:d,graphMeta:h}=f;try{u.update({okButtonProps:{loading:!0}}),await c.validateFields();const g=(await c.getFieldsValue()).newNodeName;if(d){const{err:m,nodeName:y}=await d(g,t,h);if(m)throw new Error(m);n.resolve(y)}o()}catch(p){console.error(p),u.update({okButtonProps:{loading:!1}})}},o=()=>{l.destroy(),r.form=null,r.modal=null,a.destroy()},s=()=>{const[c]=du.useForm();return r.form=c,D("div",{children:D(ay,{children:D(du,{form:c,...YCt,initialValues:{newNodeName:t.label},children:D(du.Item,{name:"newNodeName",label:"\u8282\u70B9\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u8282\u70B9\u540D"},{min:3,message:"\u8282\u70B9\u540D\u4E0D\u80FD\u5C11\u4E8E3\u4E2A\u5B57\u7B26"}],children:D(XE,{})})})})})},a=XCt(),l=cdt.confirm({title:"\u91CD\u547D\u540D",content:D(s,{}),getContainer:()=>a.element,okButtonProps:{onClick:c=>{c.stopPropagation(),i()}},onCancel:()=>{o()},afterClose:()=>{o()}});return r.modal=l,n.promise}const XCt=()=>{const t=document.createElement("div");return t.classList.add("xflow-modal-container"),window.document.body.append(t),{element:t,destroy:()=>{window.document.body.removeChild(t)}}},KCt=[{...fF,CommandHandler:GCt},{...dF,CommandHandler:VCt},{...hF,CommandHandler:WCt}],ZCt=mje(t=>{t.setCommandContributions(()=>KCt),t.setRegisterHookFn(e=>{const n=[e.graphMeta.registerHook({name:"get graph meta from backend",handler:async i=>{i.graphMetaService=_c.queryGraphMeta}}),e.saveGraphData.registerHook({name:"save graph data",handler:async i=>{i.saveGraphDataService||(i.saveGraphDataService=_c.saveGraphData)}}),e.addNode.registerHook({name:"get node config from backend api",handler:async i=>{i.createNodeService=_c.addNode}}),e.delNode.registerHook({name:"get edge config from backend api",handler:async i=>{i.deleteNodeService=_c.delNode}}),e.addEdge.registerHook({name:"get edge config from backend api",handler:async i=>{i.createEdgeService=_c.addEdge,i.edgeConfig={...i.edgeConfig,connector:{name:"rounded"},router:{name:"manhattan"}}}}),e.delEdge.registerHook({name:"get edge config from backend api",handler:async i=>{i.deleteEdgeService=_c.delEdge}})],r=new Ei;return r.pushAll(n),r})}),MQ=t=>{t.executeCommandPipeline([{commandId:Pr.LOAD_DATA.id,getCommandOption:async()=>({args:{loadDataService:_c.loadGraphData}})},{commandId:Pr.GRAPH_LAYOUT.id,getCommandOption:async e=>{const{graphData:n}=e.getResult();return{args:{layoutType:"dagre",layoutOptions:{type:"dagre",rankdir:"TB",nodesep:60,ranksep:30},graphData:n}}}},{commandId:Pr.GRAPH_RENDER.id,getCommandOption:async e=>{const{graphData:n}=e.getResult();return{args:{graphData:n}}}},{commandId:Pr.GRAPH_ZOOM.id,getCommandOption:async()=>({args:{factor:"fit",zoomOptions:{maxScale:.9}}})}])};var pF;(t=>{t.id="test"})(pF||(pF={}));const QCt=NIe(t=>{t.registerModel(e=>e.registerModel({id:pF.id,getInitialValue:()=>{}}))});var n0;(t=>{Aa.set("DeleteOutlined",HDe),Aa.set("EditOutlined",JDe),Aa.set("StopOutlined",ioe),t.DELETE_EDGE={id:gs.DEL_EDGE.id,label:"\u5220\u9664\u8FB9",iconName:"DeleteOutlined",onClick:async({target:e,commandService:n})=>{n.executeCommand(gs.DEL_EDGE.id,{edgeConfig:e.data})}},t.DELETE_NODE={id:Oo.DEL_NODE.id,label:"\u5220\u9664\u8282\u70B9",iconName:"DeleteOutlined",onClick:async({target:e,commandService:n})=>{n.executeCommand(Oo.DEL_NODE.id,{nodeConfig:{id:e.data.id}})}},t.EMPTY_MENU={id:"EMPTY_MENU_ITEM",label:"\u6682\u65E0\u53EF\u7528",isEnabled:!1,iconName:"DeleteOutlined"},t.RENAME_NODE={id:Wp.SHOW_RENAME_MODAL.id,label:"\u91CD\u547D\u540D",isVisible:!0,iconName:"EditOutlined",onClick:async({target:e,commandService:n})=>{const r=e.data;n.executeCommand(Wp.SHOW_RENAME_MODAL.id,{nodeConfig:r,updateNodeNameService:_c.renameNode})}},t.SEPARATOR={id:"separator",type:dv.Separator}})(n0||(n0={}));const JCt=lvt(t=>{t.setMenuModelService(async(e,n,r,i)=>{const{type:o,cell:s}=e;switch(console.log(o),o){case"node":n.setValue({id:"root",type:dv.Root,submenu:[n0.DELETE_NODE,n0.RENAME_NODE]});break;case"edge":n.setValue({id:"root",type:dv.Root,submenu:[n0.DELETE_EDGE]});break;case"blank":n.setValue({id:"root",type:dv.Root,submenu:[n0.EMPTY_MENU]});break;default:n.setValue({id:"root",type:dv.Root,submenu:[n0.EMPTY_MENU]});break}})});var bC;(t=>{Aa.set("SaveOutlined",ZNe),Aa.set("CloudSyncOutlined",LDe),Aa.set("GatewayOutlined",wNe),Aa.set("GroupOutlined",ENe),Aa.set("UngroupOutlined",aRe),Aa.set("PlaySquareOutlined",zNe),Aa.set("StopOutlined",ioe),t.getDependencies=async e=>[await Xd.getModel(e),await J1.getModel(e),await jo.MODEL.getModel(e)],t.getToolbarState=async e=>{const{isEnable:n}=await J1.useValue(e),r=await o3.useValue(e),i=await s3.useValue(e),o=await jo.MODEL.useValue(e);return{isNodeSelected:i,isGroupSelected:r,isMultiSelectionActive:n,isProcessing:o.graphStatus===jo.StatusEnum.PROCESSING}},t.getToolbarItems=async e=>{const n=[],r=[],i=[];return n.push({id:Pr.SAVE_GRAPH_DATA.id,iconName:"SaveOutlined",tooltip:"\u4FDD\u5B58\u6570\u636E",onClick:async({commandService:o})=>{o.executeCommand(Pr.SAVE_GRAPH_DATA.id,{saveGraphDataService:(s,a)=>_c.saveGraphData(s,a)})}}),n.push({iconName:"CloudSyncOutlined",tooltip:"\u90E8\u7F72\u670D\u52A1",id:Wp.DEPLOY_SERVICE.id,onClick:({commandService:o})=>{o.executeCommand(Wp.DEPLOY_SERVICE.id,{deployDagService:(s,a)=>_c.deployDagService(s,a)})}}),r.push({id:Pr.GRAPH_TOGGLE_MULTI_SELECT.id,tooltip:"\u5F00\u542F\u6846\u9009",iconName:"GatewayOutlined",active:e.isMultiSelectionActive,onClick:async({commandService:o})=>{o.executeCommand(Pr.GRAPH_TOGGLE_MULTI_SELECT.id,{})}}),r.push({id:Qs.ADD_GROUP.id,tooltip:"\u65B0\u5EFA\u7FA4\u7EC4",iconName:"GroupOutlined",isEnabled:e.isNodeSelected,onClick:async({commandService:o,modelService:s})=>{const l=(await Xd.useValue(s)).map(c=>c.id);o.executeCommand(Qs.ADD_GROUP.id,{nodeConfig:{id:nu(),renderKey:Nhe,groupChildren:l,groupCollapsedSize:{width:200,height:40},label:"\u65B0\u5EFA\u7FA4\u7EC4"}})}}),r.push({id:Qs.DEL_GROUP.id,tooltip:"\u89E3\u6563\u7FA4\u7EC4",iconName:"UngroupOutlined",isEnabled:e.isGroupSelected,onClick:async({commandService:o,modelService:s})=>{const l=(await l3.useValue(s)).getData();o.executeCommand(Qs.DEL_GROUP.id,{nodeConfig:l})}}),i.push({id:p0.QUERY_GRAPH_STATUS.id+"play",tooltip:"\u5F00\u59CB\u6267\u884C",iconName:"PlaySquareOutlined",isEnabled:!e.isProcessing,onClick:async({commandService:o})=>{o.executeCommand(p0.QUERY_GRAPH_STATUS.id,{graphStatusService:_c.graphStatusService,loopInterval:3e3})}}),i.push({id:p0.QUERY_GRAPH_STATUS.id+"stop",tooltip:"\u505C\u6B62\u6267\u884C",iconName:"StopOutlined",isEnabled:e.isProcessing,onClick:async({commandService:o})=>{o.executeCommand(p0.QUERY_GRAPH_STATUS.id,{graphStatusService:_c.stopGraphStatusService,loopInterval:5e3})},render:o=>D(ddt,{title:"\u786E\u5B9A\u505C\u6B62\u6267\u884C\uFF1F",onConfirm:()=>{o.onClick()},children:o.children})}),[{name:"graphData",items:n},{name:"groupOperations",items:r},{name:"customCmd",items:i}]}})(bC||(bC={}));const eSt=Vde(t=>{t.setToolbarModelService(async(e,n,r)=>{const i=async()=>{const a=await bC.getToolbarState(n),l=await bC.getToolbarItems(a);e.setValue(c=>{c.mainGroups=l})},s=(await bC.getDependencies(n)).map(a=>a.watch(async()=>{i()}));r.pushAll(s)})}),tSt=XXe(t=>{t.setKeybindingFunc(e=>e.registerKeybinding([{id:"delete node or edge",keybinding:"backspace",callback:async function(n,r,i,o){const s=await Xd.useValue(r);await Promise.all(s.map(a=>{if(a.isEdge())return i.executeCommand(gs.DEL_EDGE.id,{edgeConfig:{...a.getData(),id:a.id}})})),await Promise.all(s.map(a=>{if(a.isNode())return i.executeCommand(Oo.DEL_NODE.id,{nodeConfig:{...a.getData(),id:a.id}})}))}},{id:"copy",keybinding:["command+c","ctrl+c"],callback:async function(n,r,i,o){o.preventDefault(),console.log(n),i.executeCommand(Pr.GRAPH_COPY.id,{})}},{id:"paste",keybinding:["command+v","ctrl+v"],callback:async function(n,r,i,o){o.preventDefault(),i.executeCommand(Pr.GRAPH_PASTE.id,{})}}]))}),nSt=async(t,e,n)=>{const r={nodeConfig:{...t,id:nu()}};e.executeCommand(Oo.ADD_NODE.id,r)},P4=t=>_t(Rct,{size:"small",title:"\u7B97\u6CD5\u7EC4\u4EF6\u4ECB\u7ECD",style:{width:"200px"},bordered:!1,children:["\u6B22\u8FCE\u4F7F\u7528\uFF1A",t.name,"\u8FD9\u91CC\u53EF\u4EE5\u6839\u636E\u670D\u52A1\u7AEF\u8FD4\u56DE\u7684\u6570\u636E\u663E\u793A\u4E0D\u540C\u7684\u5185\u5BB9"]}),rSt=async(t,e)=>(console.log(t,e),[{id:"\u6570\u636E\u8BFB\u5199",header:"\u6570\u636E\u8BFB\u5199",children:[{id:"2",label:"\u7B97\u6CD5\u7EC4\u4EF61",parentId:"1",renderKey:Bf,popoverContent:D(P4,{name:"\u7B97\u6CD5\u7EC4\u4EF61"})},{id:"3",label:"\u7B97\u6CD5\u7EC4\u4EF62",parentId:"1",renderKey:Bf,popoverContent:D(P4,{name:"\u7B97\u6CD5\u7EC4\u4EF62"})},{id:"4",label:"\u7B97\u6CD5\u7EC4\u4EF63",parentId:"1",renderKey:Bf,popoverContent:D(P4,{name:"\u7B97\u6CD5\u7EC4\u4EF63"})}]},{id:"\u6570\u636E\u52A0\u5DE5",header:"\u6570\u636E\u52A0\u5DE5",children:[{id:"6",label:"\u7B97\u6CD5\u7EC4\u4EF64",parentId:"5",renderKey:Bf},{id:"7",label:"\u7B97\u6CD5\u7EC4\u4EF65",parentId:"5",renderKey:Bf},{id:"8",label:"\u7B97\u6CD5\u7EC4\u4EF66",parentId:"5",renderKey:Bf}]},{id:"\u6A21\u578B\u8BAD\u7EC3",header:"\u6A21\u578B\u8BAD\u7EC3",children:[{id:"6",label:"\u7B97\u6CD5\u7EC4\u4EF64",parentId:"5",renderKey:Bf},{id:"7",label:"\u7B97\u6CD5\u7EC4\u4EF65",parentId:"5",renderKey:Bf},{id:"8",label:"\u7B97\u6CD5\u7EC4\u4EF66",parentId:"5",renderKey:Bf}]}]),iSt=async(t=[],e)=>{const n=t.filter(r=>r.label.includes(e));return console.log(n,e,t),n},oSt=t=>{const{controlSchema:e}=t,{required:n,tooltip:r,extra:i,name:o,label:s,placeholder:a}=e;return D(dy,{schema:e,children:({disabled:l,hidden:c,initialValue:u})=>D(du.Item,{name:o,label:s,initialValue:u,tooltip:r,extra:i,required:n,hidden:c,children:D(sSt,{controlSchema:e,placeholder:a,disabled:l})})})},sSt=t=>{const{placeholder:e,disabled:n,onChange:r,value:i}=t,{commandService:o,modelService:s}=Za();return dt.useEffect(()=>{o.executeCommand(Pr.SAVE_GRAPH_DATA.id,{saveGraphDataService:async(a,l)=>(await u0.useValue(s),console.log(l),r(JSON.stringify(l)),{err:null,data:l,meta:a})})}),D(XE.TextArea,{value:i,placeholder:e,disabled:n,rows:10})},aSt=t=>{const{controlSchema:e}=t;return D("div",{style:{padding:"8px 0px",marginBottom:"8px"},children:D("a",{href:e.value,target:"_blank",style:{color:"#3057e3"},children:e.label})})};var eM=(t=>(t.EDITOR="EDITOR",t.LINKSHAPE="LINKSHAPE",t))(eM||{});const lSt=t=>(t.set("EDITOR",oSt),t.set("LINKSHAPE",aSt),t);function cSt(t){return new Promise(e=>setTimeout(()=>e(!0),t))}let O4=0;const uSt=async t=>{const{targetData:e,modelService:n,targetType:r}=t,i=await I0.useValue(n);if(console.log("formSchemaService",i,t),r==="canvas")return{tabs:[{name:"GraphMeta",groups:[{name:"groupName",controls:[{name:"Tab2-1",label:"\u9879\u76EE\u540D",shape:"Input",disabled:!1,required:!0,tooltip:"\u56FE\u7684\u4E1A\u52A1\u9879\u76EE\u540D",extra:"\u548C\u56FE\u7684ID\u5BF9\u5E94",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"\u56FE\u6570\u636E",name:"Tab1-0",shape:eM.EDITOR,disabled:!1,required:!0,tooltip:"JSON \u6570\u636E",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"\u67E5\u770B\u65E5\u5FD7\u94FE\u63A5",name:"Tab1-1",shape:eM.LINKSHAPE,disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}}]}]}]};const o={tabs:[{name:"Tab1",groups:[{name:"groupName",controls:[{label:"GraphEditor",name:"Tab1-0",shape:eM.EDITOR,disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"Tab1-2",name:"Tab1-2",shape:"Input",disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"Tab1-3",name:"Tab1-3",shape:"Input",disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"Tab1-4",name:"Tab1-4",shape:"Input",disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}}]}]},{name:"Tab2",groups:[{name:"groupName",controls:[{name:"Tab2-1",label:"Tab2-1",shape:"Input",disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"Tab2-2",name:"Tab2-2",shape:"Input",disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{label:"Tab2-3",name:"Tab2-3",shape:"Input",disabled:!1,required:!0,tooltip:"hello world",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}}]}]}]};return await cSt(100),e&&O4===0?(O4=1,o):e?(O4=0,{tabs:[{name:"Tab3",groups:[{name:"",controls:[{name:"Tab3-1",label:"\u7B97\u6CD5\u914D\u7F6E1",shape:"Input",disabled:!1,required:!0,tooltip:"\u7B97\u6CD5\u914D\u7F6E1",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}},{name:"Tab3-2",label:"\u7B97\u6CD5\u914D\u7F6E2",shape:"Input",disabled:!1,required:!0,tooltip:"\u7B97\u6CD5\u914D\u7F6E2",placeholder:"please write something",value:"",defaultValue:"",hidden:!1,options:[{title:"",value:""}],originData:{}}]}]}]}):e?o:{tabs:[]}},fSt=async t=>{console.log("formValueUpdateService",t)},Rhe=t=>{const{meta:e}=t,n=ICt(t),r=eSt(),i=JCt(),o=ZCt(),s=QCt(),a=tSt(),l=dt.useMemo(()=>({app:null}),[]),c=async u=>{l.app=u,MQ(l.app)};return dt.useEffect(()=>{l.app&&MQ(l.app)},[l.app,e]),_t(kae,{className:"dag-user-custom-clz",hookConfig:n,modelServiceConfig:s,commandConfig:o,onLoad:c,meta:e,children:[D(umt,{}),D(Fvt,{className:"xflow-node-panel",searchService:iSt,nodeDataService:rSt,onNodeDrop:nSt,position:{width:230,top:0,bottom:0,left:0},footerPosition:{height:0},bodyPosition:{top:40,bottom:0,left:0}}),D(jde,{className:"xflow-workspace-toolbar-top",layout:"horizontal",config:r,position:{top:0,left:230,right:290,bottom:0}}),_t(w8,{position:{top:40,left:230,right:290,bottom:0},children:[D(gvt,{position:{top:12,right:12}}),D(avt,{config:i}),D(tKe,{color:"#faad14"}),D(vdt,{})]}),D(amt,{controlMapService:lSt,formSchemaService:uSt,formValueUpdateService:fSt,bodyPosition:{top:0,bottom:0,right:0},position:{width:290,top:0,bottom:0,right:0},footerPosition:{height:0}}),D(qXe,{config:a})]})};Rhe.defaultProps={meta:{flowId:"test-meta-flow-id"}};function dSt(){return D(Jye,{children:D(Uee,{path:"/",element:D(Rhe,{meta:{flowId:"myXflow"}})})})}M4.createRoot(document.getElementById("root")).render(D(ebe,{children:D(dSt,{})}))});export default hSt();
